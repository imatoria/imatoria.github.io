var G0e=Object.defineProperty;var Uz=t=>{throw TypeError(t)};var K0e=(t,e,r)=>e in t?G0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var dt=(t,e,r)=>K0e(t,typeof e!="symbol"?e+"":e,r),dL=(t,e,r)=>e.has(t)||Uz("Cannot "+r);var b=(t,e,r)=>(dL(t,e,"read from private field"),r?r.call(t):e.get(t)),ee=(t,e,r)=>e.has(t)?Uz("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),G=(t,e,r,n)=>(dL(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),te=(t,e,r)=>(dL(t,e,"access private method"),r);var Ns=(t,e,r,n)=>({set _(i){G(t,e,i,r)},get _(){return b(t,e,n)}});function Y0e(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function X0e(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var TJ={exports:{}},Q4={},PJ={exports:{}},Wr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kj=Symbol.for("react.element"),Q0e=Symbol.for("react.portal"),J0e=Symbol.for("react.fragment"),Z0e=Symbol.for("react.strict_mode"),ege=Symbol.for("react.profiler"),tge=Symbol.for("react.provider"),rge=Symbol.for("react.context"),nge=Symbol.for("react.forward_ref"),ige=Symbol.for("react.suspense"),sge=Symbol.for("react.memo"),age=Symbol.for("react.lazy"),zz=Symbol.iterator;function oge(t){return t===null||typeof t!="object"?null:(t=zz&&t[zz]||t["@@iterator"],typeof t=="function"?t:null)}var kJ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},OJ=Object.assign,MJ={};function Fw(t,e,r){this.props=t,this.context=e,this.refs=MJ,this.updater=r||kJ}Fw.prototype.isReactComponent={};Fw.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fw.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LJ(){}LJ.prototype=Fw.prototype;function R7(t,e,r){this.props=t,this.context=e,this.refs=MJ,this.updater=r||kJ}var D7=R7.prototype=new LJ;D7.constructor=R7;OJ(D7,Fw.prototype);D7.isPureReactComponent=!0;var qz=Array.isArray,IJ=Object.prototype.hasOwnProperty,F7={current:null},RJ={key:!0,ref:!0,__self:!0,__source:!0};function DJ(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)IJ.call(e,n)&&!RJ.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Kj,type:t,key:s,ref:a,props:i,_owner:F7.current}}function lge(t,e){return{$$typeof:Kj,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $7(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kj}function cge(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Wz=/\/+/g;function hL(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cge(""+t.key):e.toString(36)}function tT(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Kj:case Q0e:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+hL(a,0):n,qz(i)?(r="",t!=null&&(r=t.replace(Wz,"$&/")+"/"),tT(i,e,r,"",function(u){return u})):i!=null&&($7(i)&&(i=lge(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Wz,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",qz(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+hL(s,o);a+=tT(s,e,r,l,i)}else if(l=oge(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+hL(s,o++),a+=tT(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function LE(t,e,r){if(t==null)return t;var n=[],i=0;return tT(t,n,"","",function(s){return e.call(r,s,i++)}),n}function uge(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mo={current:null},rT={transition:null},dge={ReactCurrentDispatcher:mo,ReactCurrentBatchConfig:rT,ReactCurrentOwner:F7};function FJ(){throw Error("act(...) is not supported in production builds of React.")}Wr.Children={map:LE,forEach:function(t,e,r){LE(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return LE(t,function(){e++}),e},toArray:function(t){return LE(t,function(e){return e})||[]},only:function(t){if(!$7(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Wr.Component=Fw;Wr.Fragment=J0e;Wr.Profiler=ege;Wr.PureComponent=R7;Wr.StrictMode=Z0e;Wr.Suspense=ige;Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dge;Wr.act=FJ;Wr.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=OJ({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=F7.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)IJ.call(e,l)&&!RJ.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Kj,type:t.type,key:i,ref:s,props:n,_owner:a}};Wr.createContext=function(t){return t={$$typeof:rge,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tge,_context:t},t.Consumer=t};Wr.createElement=DJ;Wr.createFactory=function(t){var e=DJ.bind(null,t);return e.type=t,e};Wr.createRef=function(){return{current:null}};Wr.forwardRef=function(t){return{$$typeof:nge,render:t}};Wr.isValidElement=$7;Wr.lazy=function(t){return{$$typeof:age,_payload:{_status:-1,_result:t},_init:uge}};Wr.memo=function(t,e){return{$$typeof:sge,type:t,compare:e===void 0?null:e}};Wr.startTransition=function(t){var e=rT.transition;rT.transition={};try{t()}finally{rT.transition=e}};Wr.unstable_act=FJ;Wr.useCallback=function(t,e){return mo.current.useCallback(t,e)};Wr.useContext=function(t){return mo.current.useContext(t)};Wr.useDebugValue=function(){};Wr.useDeferredValue=function(t){return mo.current.useDeferredValue(t)};Wr.useEffect=function(t,e){return mo.current.useEffect(t,e)};Wr.useId=function(){return mo.current.useId()};Wr.useImperativeHandle=function(t,e,r){return mo.current.useImperativeHandle(t,e,r)};Wr.useInsertionEffect=function(t,e){return mo.current.useInsertionEffect(t,e)};Wr.useLayoutEffect=function(t,e){return mo.current.useLayoutEffect(t,e)};Wr.useMemo=function(t,e){return mo.current.useMemo(t,e)};Wr.useReducer=function(t,e,r){return mo.current.useReducer(t,e,r)};Wr.useRef=function(t){return mo.current.useRef(t)};Wr.useState=function(t){return mo.current.useState(t)};Wr.useSyncExternalStore=function(t,e,r){return mo.current.useSyncExternalStore(t,e,r)};Wr.useTransition=function(){return mo.current.useTransition()};Wr.version="18.3.1";PJ.exports=Wr;var j=PJ.exports;const ue=dn(j),$J=Y0e({__proto__:null,default:ue},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hge=j,fge=Symbol.for("react.element"),pge=Symbol.for("react.fragment"),mge=Object.prototype.hasOwnProperty,gge=hge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vge={key:!0,ref:!0,__self:!0,__source:!0};function BJ(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)mge.call(e,n)&&!vge.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:fge,type:t,key:s,ref:a,props:i,_owner:gge.current}}Q4.Fragment=pge;Q4.jsx=BJ;Q4.jsxs=BJ;TJ.exports=Q4;var c=TJ.exports,UJ={exports:{}},Jl={},zJ={exports:{}},qJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,X){var ne=B.length;B.push(X);e:for(;0<ne;){var fe=ne-1>>>1,I=B[fe];if(0<i(I,X))B[fe]=X,B[ne]=I,ne=fe;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var X=B[0],ne=B.pop();if(ne!==X){B[0]=ne;e:for(var fe=0,I=B.length,q=I>>>1;fe<q;){var V=2*(fe+1)-1,K=B[V],Y=V+1,ae=B[Y];if(0>i(K,ne))Y<I&&0>i(ae,K)?(B[fe]=ae,B[Y]=ne,fe=Y):(B[fe]=K,B[V]=ne,fe=V);else if(Y<I&&0>i(ae,ne))B[fe]=ae,B[Y]=ne,fe=Y;else break e}}return X}function i(B,X){var ne=B.sortIndex-X.sortIndex;return ne!==0?ne:B.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=B)n(u),X.sortIndex=X.expirationTime,e(l,X);else break;X=r(u)}}function _(B){if(m=!1,w(B),!g)if(r(l)!==null)g=!0,U(A);else{var X=r(u);X!==null&&H(_,X.startTime-B)}}function A(B,X){g=!1,m&&(m=!1,x(E),E=-1),p=!0;var ne=f;try{for(w(X),h=r(l);h!==null&&(!(h.expirationTime>X)||B&&!O());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,f=h.priorityLevel;var I=fe(h.expirationTime<=X);X=t.unstable_now(),typeof I=="function"?h.callback=I:h===r(l)&&n(l),w(X)}else n(l);h=r(l)}if(h!==null)var q=!0;else{var V=r(u);V!==null&&H(_,V.startTime-X),q=!1}return q}finally{h=null,f=ne,p=!1}}var C=!1,N=null,E=-1,P=5,L=-1;function O(){return!(t.unstable_now()-L<P)}function k(){if(N!==null){var B=t.unstable_now();L=B;var X=!0;try{X=N(!0,B)}finally{X?D():(C=!1,N=null)}}else C=!1}var D;if(typeof y=="function")D=function(){y(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=k,D=function(){z.postMessage(null)}}else D=function(){v(k,0)};function U(B){N=B,C||(C=!0,D())}function H(B,X){E=v(function(){B(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,U(A))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var X=3;break;default:X=f}var ne=f;f=X;try{return B()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ne=f;f=B;try{return X()}finally{f=ne}},t.unstable_scheduleCallback=function(B,X,ne){var fe=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?fe+ne:fe):ne=fe,B){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ne+I,B={id:d++,callback:X,priorityLevel:B,startTime:ne,expirationTime:I,sortIndex:-1},ne>fe?(B.sortIndex=ne,e(u,B),r(l)===null&&B===r(u)&&(m?(x(E),E=-1):m=!0,H(_,ne-fe))):(B.sortIndex=I,e(l,B),g||p||(g=!0,U(A))),B},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(B){var X=f;return function(){var ne=f;f=X;try{return B.apply(this,arguments)}finally{f=ne}}}})(qJ);zJ.exports=qJ;var xge=zJ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yge=j,Yl=xge;function gt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WJ=new Set,KS={};function hx(t,e){Wb(t,e),Wb(t+"Capture",e)}function Wb(t,e){for(KS[t]=e,t=0;t<e.length;t++)WJ.add(e[t])}var Rf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),CR=Object.prototype.hasOwnProperty,bge=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hz={},Vz={};function wge(t){return CR.call(Vz,t)?!0:CR.call(Hz,t)?!1:bge.test(t)?Vz[t]=!0:(Hz[t]=!0,!1)}function _ge(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Sge(t,e,r,n){if(e===null||typeof e>"u"||_ge(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function go(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var la={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){la[t]=new go(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];la[e]=new go(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){la[t]=new go(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){la[t]=new go(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){la[t]=new go(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){la[t]=new go(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){la[t]=new go(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){la[t]=new go(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){la[t]=new go(t,5,!1,t.toLowerCase(),null,!1,!1)});var B7=/[\-:]([a-z])/g;function U7(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(B7,U7);la[e]=new go(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(B7,U7);la[e]=new go(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(B7,U7);la[e]=new go(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){la[t]=new go(t,1,!1,t.toLowerCase(),null,!1,!1)});la.xlinkHref=new go("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){la[t]=new go(t,1,!1,t.toLowerCase(),null,!0,!0)});function z7(t,e,r,n){var i=la.hasOwnProperty(e)?la[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Sge(e,r,i,n)&&(r=null),n||i===null?wge(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ep=yge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,IE=Symbol.for("react.element"),ky=Symbol.for("react.portal"),Oy=Symbol.for("react.fragment"),q7=Symbol.for("react.strict_mode"),TR=Symbol.for("react.profiler"),HJ=Symbol.for("react.provider"),VJ=Symbol.for("react.context"),W7=Symbol.for("react.forward_ref"),PR=Symbol.for("react.suspense"),kR=Symbol.for("react.suspense_list"),H7=Symbol.for("react.memo"),Lp=Symbol.for("react.lazy"),GJ=Symbol.for("react.offscreen"),Gz=Symbol.iterator;function Y2(t){return t===null||typeof t!="object"?null:(t=Gz&&t[Gz]||t["@@iterator"],typeof t=="function"?t:null)}var vi=Object.assign,fL;function k_(t){if(fL===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);fL=e&&e[1]||""}return`
`+fL+t}var pL=!1;function mL(t,e){if(!t||pL)return"";pL=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{pL=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?k_(t):""}function Age(t){switch(t.tag){case 5:return k_(t.type);case 16:return k_("Lazy");case 13:return k_("Suspense");case 19:return k_("SuspenseList");case 0:case 2:case 15:return t=mL(t.type,!1),t;case 11:return t=mL(t.type.render,!1),t;case 1:return t=mL(t.type,!0),t;default:return""}}function OR(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oy:return"Fragment";case ky:return"Portal";case TR:return"Profiler";case q7:return"StrictMode";case PR:return"Suspense";case kR:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case VJ:return(t.displayName||"Context")+".Consumer";case HJ:return(t._context.displayName||"Context")+".Provider";case W7:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case H7:return e=t.displayName||null,e!==null?e:OR(t.type)||"Memo";case Lp:e=t._payload,t=t._init;try{return OR(t(e))}catch{}}return null}function jge(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OR(e);case 8:return e===q7?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Km(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function KJ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nge(t){var e=KJ(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function RE(t){t._valueTracker||(t._valueTracker=Nge(t))}function YJ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=KJ(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function lP(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function MR(t,e){var r=e.checked;return vi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Kz(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Km(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XJ(t,e){e=e.checked,e!=null&&z7(t,"checked",e,!1)}function LR(t,e){XJ(t,e);var r=Km(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?IR(t,e.type,r):e.hasOwnProperty("defaultValue")&&IR(t,e.type,Km(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Yz(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function IR(t,e,r){(e!=="number"||lP(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var O_=Array.isArray;function e1(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Km(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function RR(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(gt(91));return vi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xz(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(gt(92));if(O_(r)){if(1<r.length)throw Error(gt(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Km(r)}}function QJ(t,e){var r=Km(e.value),n=Km(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Qz(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JJ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function DR(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JJ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var DE,ZJ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(DE=DE||document.createElement("div"),DE.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=DE.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function YS(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var aS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ege=["Webkit","ms","Moz","O"];Object.keys(aS).forEach(function(t){Ege.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),aS[e]=aS[t]})});function eZ(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||aS.hasOwnProperty(t)&&aS[t]?(""+e).trim():e+"px"}function tZ(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=eZ(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Cge=vi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function FR(t,e){if(e){if(Cge[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(gt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(gt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(gt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(gt(62))}}function $R(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BR=null;function V7(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var UR=null,t1=null,r1=null;function Jz(t){if(t=Qj(t)){if(typeof UR!="function")throw Error(gt(280));var e=t.stateNode;e&&(e=r3(e),UR(t.stateNode,t.type,e))}}function rZ(t){t1?r1?r1.push(t):r1=[t]:t1=t}function nZ(){if(t1){var t=t1,e=r1;if(r1=t1=null,Jz(t),e)for(t=0;t<e.length;t++)Jz(e[t])}}function iZ(t,e){return t(e)}function sZ(){}var gL=!1;function aZ(t,e,r){if(gL)return t(e,r);gL=!0;try{return iZ(t,e,r)}finally{gL=!1,(t1!==null||r1!==null)&&(sZ(),nZ())}}function XS(t,e){var r=t.stateNode;if(r===null)return null;var n=r3(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(gt(231,e,typeof r));return r}var zR=!1;if(Rf)try{var X2={};Object.defineProperty(X2,"passive",{get:function(){zR=!0}}),window.addEventListener("test",X2,X2),window.removeEventListener("test",X2,X2)}catch{zR=!1}function Tge(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var oS=!1,cP=null,uP=!1,qR=null,Pge={onError:function(t){oS=!0,cP=t}};function kge(t,e,r,n,i,s,a,o,l){oS=!1,cP=null,Tge.apply(Pge,arguments)}function Oge(t,e,r,n,i,s,a,o,l){if(kge.apply(this,arguments),oS){if(oS){var u=cP;oS=!1,cP=null}else throw Error(gt(198));uP||(uP=!0,qR=u)}}function fx(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function oZ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zz(t){if(fx(t)!==t)throw Error(gt(188))}function Mge(t){var e=t.alternate;if(!e){if(e=fx(t),e===null)throw Error(gt(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Zz(i),t;if(s===n)return Zz(i),e;s=s.sibling}throw Error(gt(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(gt(189))}}if(r.alternate!==n)throw Error(gt(190))}if(r.tag!==3)throw Error(gt(188));return r.stateNode.current===r?t:e}function lZ(t){return t=Mge(t),t!==null?cZ(t):null}function cZ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cZ(t);if(e!==null)return e;t=t.sibling}return null}var uZ=Yl.unstable_scheduleCallback,eq=Yl.unstable_cancelCallback,Lge=Yl.unstable_shouldYield,Ige=Yl.unstable_requestPaint,Ri=Yl.unstable_now,Rge=Yl.unstable_getCurrentPriorityLevel,G7=Yl.unstable_ImmediatePriority,dZ=Yl.unstable_UserBlockingPriority,dP=Yl.unstable_NormalPriority,Dge=Yl.unstable_LowPriority,hZ=Yl.unstable_IdlePriority,J4=null,Vd=null;function Fge(t){if(Vd&&typeof Vd.onCommitFiberRoot=="function")try{Vd.onCommitFiberRoot(J4,t,void 0,(t.current.flags&128)===128)}catch{}}var Du=Math.clz32?Math.clz32:Uge,$ge=Math.log,Bge=Math.LN2;function Uge(t){return t>>>=0,t===0?32:31-($ge(t)/Bge|0)|0}var FE=64,$E=4194304;function M_(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hP(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=M_(o):(s&=a,s!==0&&(n=M_(s)))}else a=r&~i,a!==0?n=M_(a):s!==0&&(n=M_(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Du(e),i=1<<r,n|=t[r],e&=~i;return n}function zge(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qge(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Du(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=zge(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function WR(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fZ(){var t=FE;return FE<<=1,!(FE&4194240)&&(FE=64),t}function vL(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Yj(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Du(e),t[e]=r}function Wge(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Du(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function K7(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Du(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var _n=0;function pZ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var mZ,Y7,gZ,vZ,xZ,HR=!1,BE=[],Lm=null,Im=null,Rm=null,QS=new Map,JS=new Map,Fp=[],Hge="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tq(t,e){switch(t){case"focusin":case"focusout":Lm=null;break;case"dragenter":case"dragleave":Im=null;break;case"mouseover":case"mouseout":Rm=null;break;case"pointerover":case"pointerout":QS.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":JS.delete(e.pointerId)}}function Q2(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qj(e),e!==null&&Y7(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vge(t,e,r,n,i){switch(e){case"focusin":return Lm=Q2(Lm,t,e,r,n,i),!0;case"dragenter":return Im=Q2(Im,t,e,r,n,i),!0;case"mouseover":return Rm=Q2(Rm,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return QS.set(s,Q2(QS.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,JS.set(s,Q2(JS.get(s)||null,t,e,r,n,i)),!0}return!1}function yZ(t){var e=pg(t.target);if(e!==null){var r=fx(e);if(r!==null){if(e=r.tag,e===13){if(e=oZ(r),e!==null){t.blockedOn=e,xZ(t.priority,function(){gZ(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nT(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=VR(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);BR=n,r.target.dispatchEvent(n),BR=null}else return e=Qj(r),e!==null&&Y7(e),t.blockedOn=r,!1;e.shift()}return!0}function rq(t,e,r){nT(t)&&r.delete(e)}function Gge(){HR=!1,Lm!==null&&nT(Lm)&&(Lm=null),Im!==null&&nT(Im)&&(Im=null),Rm!==null&&nT(Rm)&&(Rm=null),QS.forEach(rq),JS.forEach(rq)}function J2(t,e){t.blockedOn===e&&(t.blockedOn=null,HR||(HR=!0,Yl.unstable_scheduleCallback(Yl.unstable_NormalPriority,Gge)))}function ZS(t){function e(i){return J2(i,t)}if(0<BE.length){J2(BE[0],t);for(var r=1;r<BE.length;r++){var n=BE[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Lm!==null&&J2(Lm,t),Im!==null&&J2(Im,t),Rm!==null&&J2(Rm,t),QS.forEach(e),JS.forEach(e),r=0;r<Fp.length;r++)n=Fp[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Fp.length&&(r=Fp[0],r.blockedOn===null);)yZ(r),r.blockedOn===null&&Fp.shift()}var n1=ep.ReactCurrentBatchConfig,fP=!0;function Kge(t,e,r,n){var i=_n,s=n1.transition;n1.transition=null;try{_n=1,X7(t,e,r,n)}finally{_n=i,n1.transition=s}}function Yge(t,e,r,n){var i=_n,s=n1.transition;n1.transition=null;try{_n=4,X7(t,e,r,n)}finally{_n=i,n1.transition=s}}function X7(t,e,r,n){if(fP){var i=VR(t,e,r,n);if(i===null)EL(t,e,n,pP,r),tq(t,n);else if(Vge(i,t,e,r,n))n.stopPropagation();else if(tq(t,n),e&4&&-1<Hge.indexOf(t)){for(;i!==null;){var s=Qj(i);if(s!==null&&mZ(s),s=VR(t,e,r,n),s===null&&EL(t,e,n,pP,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else EL(t,e,n,null,r)}}var pP=null;function VR(t,e,r,n){if(pP=null,t=V7(n),t=pg(t),t!==null)if(e=fx(t),e===null)t=null;else if(r=e.tag,r===13){if(t=oZ(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pP=t,null}function bZ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rge()){case G7:return 1;case dZ:return 4;case dP:case Dge:return 16;case hZ:return 536870912;default:return 16}default:return 16}}var Am=null,Q7=null,iT=null;function wZ(){if(iT)return iT;var t,e=Q7,r=e.length,n,i="value"in Am?Am.value:Am.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return iT=i.slice(t,1<n?1-n:void 0)}function sT(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function UE(){return!0}function nq(){return!1}function Zl(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?UE:nq,this.isPropagationStopped=nq,this}return vi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=UE)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=UE)},persist:function(){},isPersistent:UE}),e}var $w={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J7=Zl($w),Xj=vi({},$w,{view:0,detail:0}),Xge=Zl(Xj),xL,yL,Z2,Z4=vi({},Xj,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Z7,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Z2&&(Z2&&t.type==="mousemove"?(xL=t.screenX-Z2.screenX,yL=t.screenY-Z2.screenY):yL=xL=0,Z2=t),xL)},movementY:function(t){return"movementY"in t?t.movementY:yL}}),iq=Zl(Z4),Qge=vi({},Z4,{dataTransfer:0}),Jge=Zl(Qge),Zge=vi({},Xj,{relatedTarget:0}),bL=Zl(Zge),eve=vi({},$w,{animationName:0,elapsedTime:0,pseudoElement:0}),tve=Zl(eve),rve=vi({},$w,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nve=Zl(rve),ive=vi({},$w,{data:0}),sq=Zl(ive),sve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ave={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ove={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lve(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ove[t])?!!e[t]:!1}function Z7(){return lve}var cve=vi({},Xj,{key:function(t){if(t.key){var e=sve[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sT(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ave[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Z7,charCode:function(t){return t.type==="keypress"?sT(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sT(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uve=Zl(cve),dve=vi({},Z4,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aq=Zl(dve),hve=vi({},Xj,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Z7}),fve=Zl(hve),pve=vi({},$w,{propertyName:0,elapsedTime:0,pseudoElement:0}),mve=Zl(pve),gve=vi({},Z4,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vve=Zl(gve),xve=[9,13,27,32],e$=Rf&&"CompositionEvent"in window,lS=null;Rf&&"documentMode"in document&&(lS=document.documentMode);var yve=Rf&&"TextEvent"in window&&!lS,_Z=Rf&&(!e$||lS&&8<lS&&11>=lS),oq=" ",lq=!1;function SZ(t,e){switch(t){case"keyup":return xve.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AZ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var My=!1;function bve(t,e){switch(t){case"compositionend":return AZ(e);case"keypress":return e.which!==32?null:(lq=!0,oq);case"textInput":return t=e.data,t===oq&&lq?null:t;default:return null}}function wve(t,e){if(My)return t==="compositionend"||!e$&&SZ(t,e)?(t=wZ(),iT=Q7=Am=null,My=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _Z&&e.locale!=="ko"?null:e.data;default:return null}}var _ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cq(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_ve[t.type]:e==="textarea"}function jZ(t,e,r,n){rZ(n),e=mP(e,"onChange"),0<e.length&&(r=new J7("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var cS=null,eA=null;function Sve(t){RZ(t,0)}function e3(t){var e=Ry(t);if(YJ(e))return t}function Ave(t,e){if(t==="change")return e}var NZ=!1;if(Rf){var wL;if(Rf){var _L="oninput"in document;if(!_L){var uq=document.createElement("div");uq.setAttribute("oninput","return;"),_L=typeof uq.oninput=="function"}wL=_L}else wL=!1;NZ=wL&&(!document.documentMode||9<document.documentMode)}function dq(){cS&&(cS.detachEvent("onpropertychange",EZ),eA=cS=null)}function EZ(t){if(t.propertyName==="value"&&e3(eA)){var e=[];jZ(e,eA,t,V7(t)),aZ(Sve,e)}}function jve(t,e,r){t==="focusin"?(dq(),cS=e,eA=r,cS.attachEvent("onpropertychange",EZ)):t==="focusout"&&dq()}function Nve(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return e3(eA)}function Eve(t,e){if(t==="click")return e3(e)}function Cve(t,e){if(t==="input"||t==="change")return e3(e)}function Tve(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Uu=typeof Object.is=="function"?Object.is:Tve;function tA(t,e){if(Uu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!CR.call(e,i)||!Uu(t[i],e[i]))return!1}return!0}function hq(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fq(t,e){var r=hq(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hq(r)}}function CZ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CZ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function TZ(){for(var t=window,e=lP();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=lP(t.document)}return e}function t$(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Pve(t){var e=TZ(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&CZ(r.ownerDocument.documentElement,r)){if(n!==null&&t$(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=fq(r,s);var a=fq(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kve=Rf&&"documentMode"in document&&11>=document.documentMode,Ly=null,GR=null,uS=null,KR=!1;function pq(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;KR||Ly==null||Ly!==lP(n)||(n=Ly,"selectionStart"in n&&t$(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),uS&&tA(uS,n)||(uS=n,n=mP(GR,"onSelect"),0<n.length&&(e=new J7("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ly)))}function zE(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Iy={animationend:zE("Animation","AnimationEnd"),animationiteration:zE("Animation","AnimationIteration"),animationstart:zE("Animation","AnimationStart"),transitionend:zE("Transition","TransitionEnd")},SL={},PZ={};Rf&&(PZ=document.createElement("div").style,"AnimationEvent"in window||(delete Iy.animationend.animation,delete Iy.animationiteration.animation,delete Iy.animationstart.animation),"TransitionEvent"in window||delete Iy.transitionend.transition);function t3(t){if(SL[t])return SL[t];if(!Iy[t])return t;var e=Iy[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in PZ)return SL[t]=e[r];return t}var kZ=t3("animationend"),OZ=t3("animationiteration"),MZ=t3("animationstart"),LZ=t3("transitionend"),IZ=new Map,mq="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function h0(t,e){IZ.set(t,e),hx(e,[t])}for(var AL=0;AL<mq.length;AL++){var jL=mq[AL],Ove=jL.toLowerCase(),Mve=jL[0].toUpperCase()+jL.slice(1);h0(Ove,"on"+Mve)}h0(kZ,"onAnimationEnd");h0(OZ,"onAnimationIteration");h0(MZ,"onAnimationStart");h0("dblclick","onDoubleClick");h0("focusin","onFocus");h0("focusout","onBlur");h0(LZ,"onTransitionEnd");Wb("onMouseEnter",["mouseout","mouseover"]);Wb("onMouseLeave",["mouseout","mouseover"]);Wb("onPointerEnter",["pointerout","pointerover"]);Wb("onPointerLeave",["pointerout","pointerover"]);hx("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hx("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hx("onBeforeInput",["compositionend","keypress","textInput","paste"]);hx("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hx("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hx("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var L_="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lve=new Set("cancel close invalid load scroll toggle".split(" ").concat(L_));function gq(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Oge(n,e,void 0,t),t.currentTarget=null}function RZ(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;gq(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;gq(i,o,u),s=l}}}if(uP)throw t=qR,uP=!1,qR=null,t}function Xn(t,e){var r=e[ZR];r===void 0&&(r=e[ZR]=new Set);var n=t+"__bubble";r.has(n)||(DZ(e,t,2,!1),r.add(n))}function NL(t,e,r){var n=0;e&&(n|=4),DZ(r,t,n,e)}var qE="_reactListening"+Math.random().toString(36).slice(2);function rA(t){if(!t[qE]){t[qE]=!0,WJ.forEach(function(r){r!=="selectionchange"&&(Lve.has(r)||NL(r,!1,t),NL(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qE]||(e[qE]=!0,NL("selectionchange",!1,e))}}function DZ(t,e,r,n){switch(bZ(e)){case 1:var i=Kge;break;case 4:i=Yge;break;default:i=X7}r=i.bind(null,e,r,t),i=void 0,!zR||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function EL(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=pg(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}aZ(function(){var u=s,d=V7(r),h=[];e:{var f=IZ.get(t);if(f!==void 0){var p=J7,g=t;switch(t){case"keypress":if(sT(r)===0)break e;case"keydown":case"keyup":p=uve;break;case"focusin":g="focus",p=bL;break;case"focusout":g="blur",p=bL;break;case"beforeblur":case"afterblur":p=bL;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=iq;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Jge;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fve;break;case kZ:case OZ:case MZ:p=tve;break;case LZ:p=mve;break;case"scroll":p=Xge;break;case"wheel":p=vve;break;case"copy":case"cut":case"paste":p=nve;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=aq}var m=(e&4)!==0,v=!m&&t==="scroll",x=m?f!==null?f+"Capture":null:f;m=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=XS(y,x),_!=null&&m.push(nA(y,_,w)))),v)break;y=y.return}0<m.length&&(f=new p(f,g,null,r,d),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==BR&&(g=r.relatedTarget||r.fromElement)&&(pg(g)||g[Df]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(g=r.relatedTarget||r.toElement,p=u,g=g?pg(g):null,g!==null&&(v=fx(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(m=iq,_="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=aq,_="onPointerLeave",x="onPointerEnter",y="pointer"),v=p==null?f:Ry(p),w=g==null?f:Ry(g),f=new m(_,y+"leave",p,r,d),f.target=v,f.relatedTarget=w,_=null,pg(d)===u&&(m=new m(x,y+"enter",g,r,d),m.target=w,m.relatedTarget=v,_=m),v=_,p&&g)t:{for(m=p,x=g,y=0,w=m;w;w=Jx(w))y++;for(w=0,_=x;_;_=Jx(_))w++;for(;0<y-w;)m=Jx(m),y--;for(;0<w-y;)x=Jx(x),w--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=Jx(m),x=Jx(x)}m=null}else m=null;p!==null&&vq(h,f,p,m,!1),g!==null&&v!==null&&vq(h,v,g,m,!0)}}e:{if(f=u?Ry(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var A=Ave;else if(cq(f))if(NZ)A=Cve;else{A=Nve;var C=jve}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(A=Eve);if(A&&(A=A(t,u))){jZ(h,A,r,d);break e}C&&C(t,f,u),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&IR(f,"number",f.value)}switch(C=u?Ry(u):window,t){case"focusin":(cq(C)||C.contentEditable==="true")&&(Ly=C,GR=u,uS=null);break;case"focusout":uS=GR=Ly=null;break;case"mousedown":KR=!0;break;case"contextmenu":case"mouseup":case"dragend":KR=!1,pq(h,r,d);break;case"selectionchange":if(kve)break;case"keydown":case"keyup":pq(h,r,d)}var N;if(e$)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else My?SZ(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(_Z&&r.locale!=="ko"&&(My||E!=="onCompositionStart"?E==="onCompositionEnd"&&My&&(N=wZ()):(Am=d,Q7="value"in Am?Am.value:Am.textContent,My=!0)),C=mP(u,E),0<C.length&&(E=new sq(E,t,null,r,d),h.push({event:E,listeners:C}),N?E.data=N:(N=AZ(r),N!==null&&(E.data=N)))),(N=yve?bve(t,r):wve(t,r))&&(u=mP(u,"onBeforeInput"),0<u.length&&(d=new sq("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}RZ(h,e)})}function nA(t,e,r){return{instance:t,listener:e,currentTarget:r}}function mP(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=XS(t,r),s!=null&&n.unshift(nA(t,s,i)),s=XS(t,e),s!=null&&n.push(nA(t,s,i))),t=t.return}return n}function Jx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vq(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=XS(r,s),l!=null&&a.unshift(nA(r,l,o))):i||(l=XS(r,s),l!=null&&a.push(nA(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var Ive=/\r\n?/g,Rve=/\u0000|\uFFFD/g;function xq(t){return(typeof t=="string"?t:""+t).replace(Ive,`
`).replace(Rve,"")}function WE(t,e,r){if(e=xq(e),xq(t)!==e&&r)throw Error(gt(425))}function gP(){}var YR=null,XR=null;function QR(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var JR=typeof setTimeout=="function"?setTimeout:void 0,Dve=typeof clearTimeout=="function"?clearTimeout:void 0,yq=typeof Promise=="function"?Promise:void 0,Fve=typeof queueMicrotask=="function"?queueMicrotask:typeof yq<"u"?function(t){return yq.resolve(null).then(t).catch($ve)}:JR;function $ve(t){setTimeout(function(){throw t})}function CL(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),ZS(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);ZS(e)}function Dm(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bq(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Bw=Math.random().toString(36).slice(2),Bd="__reactFiber$"+Bw,iA="__reactProps$"+Bw,Df="__reactContainer$"+Bw,ZR="__reactEvents$"+Bw,Bve="__reactListeners$"+Bw,Uve="__reactHandles$"+Bw;function pg(t){var e=t[Bd];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Df]||r[Bd]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=bq(t);t!==null;){if(r=t[Bd])return r;t=bq(t)}return e}t=r,r=t.parentNode}return null}function Qj(t){return t=t[Bd]||t[Df],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ry(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(gt(33))}function r3(t){return t[iA]||null}var eD=[],Dy=-1;function f0(t){return{current:t}}function ti(t){0>Dy||(t.current=eD[Dy],eD[Dy]=null,Dy--)}function Wn(t,e){Dy++,eD[Dy]=t.current,t.current=e}var Ym={},Ua=f0(Ym),zo=f0(!1),zv=Ym;function Hb(t,e){var r=t.type.contextTypes;if(!r)return Ym;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function qo(t){return t=t.childContextTypes,t!=null}function vP(){ti(zo),ti(Ua)}function wq(t,e,r){if(Ua.current!==Ym)throw Error(gt(168));Wn(Ua,e),Wn(zo,r)}function FZ(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(gt(108,jge(t)||"Unknown",i));return vi({},r,n)}function xP(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ym,zv=Ua.current,Wn(Ua,t),Wn(zo,zo.current),!0}function _q(t,e,r){var n=t.stateNode;if(!n)throw Error(gt(169));r?(t=FZ(t,e,zv),n.__reactInternalMemoizedMergedChildContext=t,ti(zo),ti(Ua),Wn(Ua,t)):ti(zo),Wn(zo,r)}var Wh=null,n3=!1,TL=!1;function $Z(t){Wh===null?Wh=[t]:Wh.push(t)}function zve(t){n3=!0,$Z(t)}function p0(){if(!TL&&Wh!==null){TL=!0;var t=0,e=_n;try{var r=Wh;for(_n=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Wh=null,n3=!1}catch(i){throw Wh!==null&&(Wh=Wh.slice(t+1)),uZ(G7,p0),i}finally{_n=e,TL=!1}}return null}var Fy=[],$y=0,yP=null,bP=0,jc=[],Nc=0,qv=null,yf=1,bf="";function G0(t,e){Fy[$y++]=bP,Fy[$y++]=yP,yP=t,bP=e}function BZ(t,e,r){jc[Nc++]=yf,jc[Nc++]=bf,jc[Nc++]=qv,qv=t;var n=yf;t=bf;var i=32-Du(n)-1;n&=~(1<<i),r+=1;var s=32-Du(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,yf=1<<32-Du(e)+i|r<<i|n,bf=s+t}else yf=1<<s|r<<i|n,bf=t}function r$(t){t.return!==null&&(G0(t,1),BZ(t,1,0))}function n$(t){for(;t===yP;)yP=Fy[--$y],Fy[$y]=null,bP=Fy[--$y],Fy[$y]=null;for(;t===qv;)qv=jc[--Nc],jc[Nc]=null,bf=jc[--Nc],jc[Nc]=null,yf=jc[--Nc],jc[Nc]=null}var Wl=null,Bl=null,oi=!1,Ou=null;function UZ(t,e){var r=Pc(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Sq(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wl=t,Bl=Dm(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wl=t,Bl=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=qv!==null?{id:yf,overflow:bf}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Pc(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wl=t,Bl=null,!0):!1;default:return!1}}function tD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rD(t){if(oi){var e=Bl;if(e){var r=e;if(!Sq(t,e)){if(tD(t))throw Error(gt(418));e=Dm(r.nextSibling);var n=Wl;e&&Sq(t,e)?UZ(n,r):(t.flags=t.flags&-4097|2,oi=!1,Wl=t)}}else{if(tD(t))throw Error(gt(418));t.flags=t.flags&-4097|2,oi=!1,Wl=t}}}function Aq(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wl=t}function HE(t){if(t!==Wl)return!1;if(!oi)return Aq(t),oi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!QR(t.type,t.memoizedProps)),e&&(e=Bl)){if(tD(t))throw zZ(),Error(gt(418));for(;e;)UZ(t,e),e=Dm(e.nextSibling)}if(Aq(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(gt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Bl=Dm(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Bl=null}}else Bl=Wl?Dm(t.stateNode.nextSibling):null;return!0}function zZ(){for(var t=Bl;t;)t=Dm(t.nextSibling)}function Vb(){Bl=Wl=null,oi=!1}function i$(t){Ou===null?Ou=[t]:Ou.push(t)}var qve=ep.ReactCurrentBatchConfig;function e_(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(gt(309));var n=r.stateNode}if(!n)throw Error(gt(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(gt(284));if(!r._owner)throw Error(gt(290,t))}return t}function VE(t,e){throw t=Object.prototype.toString.call(e),Error(gt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jq(t){var e=t._init;return e(t._payload)}function qZ(t){function e(x,y){if(t){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function r(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function n(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=Um(x,y),x.index=0,x.sibling=null,x}function s(x,y,w){return x.index=w,t?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,y,w,_){return y===null||y.tag!==6?(y=RL(w,x.mode,_),y.return=x,y):(y=i(y,w),y.return=x,y)}function l(x,y,w,_){var A=w.type;return A===Oy?d(x,y,w.props.children,_,w.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Lp&&jq(A)===y.type)?(_=i(y,w.props),_.ref=e_(x,y,w),_.return=x,_):(_=hT(w.type,w.key,w.props,null,x.mode,_),_.ref=e_(x,y,w),_.return=x,_)}function u(x,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=DL(w,x.mode,_),y.return=x,y):(y=i(y,w.children||[]),y.return=x,y)}function d(x,y,w,_,A){return y===null||y.tag!==7?(y=Lv(w,x.mode,_,A),y.return=x,y):(y=i(y,w),y.return=x,y)}function h(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=RL(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case IE:return w=hT(y.type,y.key,y.props,null,x.mode,w),w.ref=e_(x,null,y),w.return=x,w;case ky:return y=DL(y,x.mode,w),y.return=x,y;case Lp:var _=y._init;return h(x,_(y._payload),w)}if(O_(y)||Y2(y))return y=Lv(y,x.mode,w,null),y.return=x,y;VE(x,y)}return null}function f(x,y,w,_){var A=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return A!==null?null:o(x,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case IE:return w.key===A?l(x,y,w,_):null;case ky:return w.key===A?u(x,y,w,_):null;case Lp:return A=w._init,f(x,y,A(w._payload),_)}if(O_(w)||Y2(w))return A!==null?null:d(x,y,w,_,null);VE(x,w)}return null}function p(x,y,w,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,o(y,x,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case IE:return x=x.get(_.key===null?w:_.key)||null,l(y,x,_,A);case ky:return x=x.get(_.key===null?w:_.key)||null,u(y,x,_,A);case Lp:var C=_._init;return p(x,y,w,C(_._payload),A)}if(O_(_)||Y2(_))return x=x.get(w)||null,d(y,x,_,A,null);VE(y,_)}return null}function g(x,y,w,_){for(var A=null,C=null,N=y,E=y=0,P=null;N!==null&&E<w.length;E++){N.index>E?(P=N,N=null):P=N.sibling;var L=f(x,N,w[E],_);if(L===null){N===null&&(N=P);break}t&&N&&L.alternate===null&&e(x,N),y=s(L,y,E),C===null?A=L:C.sibling=L,C=L,N=P}if(E===w.length)return r(x,N),oi&&G0(x,E),A;if(N===null){for(;E<w.length;E++)N=h(x,w[E],_),N!==null&&(y=s(N,y,E),C===null?A=N:C.sibling=N,C=N);return oi&&G0(x,E),A}for(N=n(x,N);E<w.length;E++)P=p(N,x,E,w[E],_),P!==null&&(t&&P.alternate!==null&&N.delete(P.key===null?E:P.key),y=s(P,y,E),C===null?A=P:C.sibling=P,C=P);return t&&N.forEach(function(O){return e(x,O)}),oi&&G0(x,E),A}function m(x,y,w,_){var A=Y2(w);if(typeof A!="function")throw Error(gt(150));if(w=A.call(w),w==null)throw Error(gt(151));for(var C=A=null,N=y,E=y=0,P=null,L=w.next();N!==null&&!L.done;E++,L=w.next()){N.index>E?(P=N,N=null):P=N.sibling;var O=f(x,N,L.value,_);if(O===null){N===null&&(N=P);break}t&&N&&O.alternate===null&&e(x,N),y=s(O,y,E),C===null?A=O:C.sibling=O,C=O,N=P}if(L.done)return r(x,N),oi&&G0(x,E),A;if(N===null){for(;!L.done;E++,L=w.next())L=h(x,L.value,_),L!==null&&(y=s(L,y,E),C===null?A=L:C.sibling=L,C=L);return oi&&G0(x,E),A}for(N=n(x,N);!L.done;E++,L=w.next())L=p(N,x,E,L.value,_),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?E:L.key),y=s(L,y,E),C===null?A=L:C.sibling=L,C=L);return t&&N.forEach(function(k){return e(x,k)}),oi&&G0(x,E),A}function v(x,y,w,_){if(typeof w=="object"&&w!==null&&w.type===Oy&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case IE:e:{for(var A=w.key,C=y;C!==null;){if(C.key===A){if(A=w.type,A===Oy){if(C.tag===7){r(x,C.sibling),y=i(C,w.props.children),y.return=x,x=y;break e}}else if(C.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Lp&&jq(A)===C.type){r(x,C.sibling),y=i(C,w.props),y.ref=e_(x,C,w),y.return=x,x=y;break e}r(x,C);break}else e(x,C);C=C.sibling}w.type===Oy?(y=Lv(w.props.children,x.mode,_,w.key),y.return=x,x=y):(_=hT(w.type,w.key,w.props,null,x.mode,_),_.ref=e_(x,y,w),_.return=x,x=_)}return a(x);case ky:e:{for(C=w.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(x,y.sibling),y=i(y,w.children||[]),y.return=x,x=y;break e}else{r(x,y);break}else e(x,y);y=y.sibling}y=DL(w,x.mode,_),y.return=x,x=y}return a(x);case Lp:return C=w._init,v(x,y,C(w._payload),_)}if(O_(w))return g(x,y,w,_);if(Y2(w))return m(x,y,w,_);VE(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(x,y.sibling),y=i(y,w),y.return=x,x=y):(r(x,y),y=RL(w,x.mode,_),y.return=x,x=y),a(x)):r(x,y)}return v}var Gb=qZ(!0),WZ=qZ(!1),wP=f0(null),_P=null,By=null,s$=null;function a$(){s$=By=_P=null}function o$(t){var e=wP.current;ti(wP),t._currentValue=e}function nD(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function i1(t,e){_P=t,s$=By=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&($o=!0),t.firstContext=null)}function $c(t){var e=t._currentValue;if(s$!==t)if(t={context:t,memoizedValue:e,next:null},By===null){if(_P===null)throw Error(gt(308));By=t,_P.dependencies={lanes:0,firstContext:t}}else By=By.next=t;return e}var mg=null;function l$(t){mg===null?mg=[t]:mg.push(t)}function HZ(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,l$(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ff(t,n)}function Ff(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ip=!1;function c$(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VZ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jf(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fm(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Xr&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ff(t,r)}return i=n.interleaved,i===null?(e.next=e,l$(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ff(t,r)}function aT(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,K7(t,r)}}function Nq(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function SP(t,e,r,n){var i=t.updateQueue;Ip=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=t,m=o;switch(f=e,p=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){h=g.call(p,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,f=typeof g=="function"?g.call(p,h,f):g,f==null)break e;h=vi({},h,f);break e;case 2:Ip=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Hv|=a,t.lanes=a,t.memoizedState=h}}function Eq(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(gt(191,i));i.call(n)}}}var Jj={},Gd=f0(Jj),sA=f0(Jj),aA=f0(Jj);function gg(t){if(t===Jj)throw Error(gt(174));return t}function u$(t,e){switch(Wn(aA,e),Wn(sA,t),Wn(Gd,Jj),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:DR(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=DR(e,t)}ti(Gd),Wn(Gd,e)}function Kb(){ti(Gd),ti(sA),ti(aA)}function GZ(t){gg(aA.current);var e=gg(Gd.current),r=DR(e,t.type);e!==r&&(Wn(sA,t),Wn(Gd,r))}function d$(t){sA.current===t&&(ti(Gd),ti(sA))}var fi=f0(0);function AP(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var PL=[];function h$(){for(var t=0;t<PL.length;t++)PL[t]._workInProgressVersionPrimary=null;PL.length=0}var oT=ep.ReactCurrentDispatcher,kL=ep.ReactCurrentBatchConfig,Wv=0,gi=null,ps=null,Is=null,jP=!1,dS=!1,oA=0,Wve=0;function pa(){throw Error(gt(321))}function f$(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Uu(t[r],e[r]))return!1;return!0}function p$(t,e,r,n,i,s){if(Wv=s,gi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oT.current=t===null||t.memoizedState===null?Kve:Yve,t=r(n,i),dS){s=0;do{if(dS=!1,oA=0,25<=s)throw Error(gt(301));s+=1,Is=ps=null,e.updateQueue=null,oT.current=Xve,t=r(n,i)}while(dS)}if(oT.current=NP,e=ps!==null&&ps.next!==null,Wv=0,Is=ps=gi=null,jP=!1,e)throw Error(gt(300));return t}function m$(){var t=oA!==0;return oA=0,t}function vd(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Is===null?gi.memoizedState=Is=t:Is=Is.next=t,Is}function Bc(){if(ps===null){var t=gi.alternate;t=t!==null?t.memoizedState:null}else t=ps.next;var e=Is===null?gi.memoizedState:Is.next;if(e!==null)Is=e,ps=t;else{if(t===null)throw Error(gt(310));ps=t,t={memoizedState:ps.memoizedState,baseState:ps.baseState,baseQueue:ps.baseQueue,queue:ps.queue,next:null},Is===null?gi.memoizedState=Is=t:Is=Is.next=t}return Is}function lA(t,e){return typeof e=="function"?e(t):e}function OL(t){var e=Bc(),r=e.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=t;var n=ps,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((Wv&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,gi.lanes|=d,Hv|=d}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Uu(n,e.memoizedState)||($o=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,gi.lanes|=s,Hv|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ML(t){var e=Bc(),r=e.queue;if(r===null)throw Error(gt(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Uu(s,e.memoizedState)||($o=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function KZ(){}function YZ(t,e){var r=gi,n=Bc(),i=e(),s=!Uu(n.memoizedState,i);if(s&&(n.memoizedState=i,$o=!0),n=n.queue,g$(JZ.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Is!==null&&Is.memoizedState.tag&1){if(r.flags|=2048,cA(9,QZ.bind(null,r,n,i,e),void 0,null),Us===null)throw Error(gt(349));Wv&30||XZ(r,e,i)}return i}function XZ(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=gi.updateQueue,e===null?(e={lastEffect:null,stores:null},gi.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function QZ(t,e,r,n){e.value=r,e.getSnapshot=n,ZZ(e)&&eee(t)}function JZ(t,e,r){return r(function(){ZZ(e)&&eee(t)})}function ZZ(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Uu(t,r)}catch{return!0}}function eee(t){var e=Ff(t,1);e!==null&&Fu(e,t,1,-1)}function Cq(t){var e=vd();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lA,lastRenderedState:t},e.queue=t,t=t.dispatch=Gve.bind(null,gi,t),[e.memoizedState,t]}function cA(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=gi.updateQueue,e===null?(e={lastEffect:null,stores:null},gi.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function tee(){return Bc().memoizedState}function lT(t,e,r,n){var i=vd();gi.flags|=t,i.memoizedState=cA(1|e,r,void 0,n===void 0?null:n)}function i3(t,e,r,n){var i=Bc();n=n===void 0?null:n;var s=void 0;if(ps!==null){var a=ps.memoizedState;if(s=a.destroy,n!==null&&f$(n,a.deps)){i.memoizedState=cA(e,r,s,n);return}}gi.flags|=t,i.memoizedState=cA(1|e,r,s,n)}function Tq(t,e){return lT(8390656,8,t,e)}function g$(t,e){return i3(2048,8,t,e)}function ree(t,e){return i3(4,2,t,e)}function nee(t,e){return i3(4,4,t,e)}function iee(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function see(t,e,r){return r=r!=null?r.concat([t]):null,i3(4,4,iee.bind(null,e,t),r)}function v$(){}function aee(t,e){var r=Bc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&f$(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function oee(t,e){var r=Bc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&f$(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function lee(t,e,r){return Wv&21?(Uu(r,e)||(r=fZ(),gi.lanes|=r,Hv|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,$o=!0),t.memoizedState=r)}function Hve(t,e){var r=_n;_n=r!==0&&4>r?r:4,t(!0);var n=kL.transition;kL.transition={};try{t(!1),e()}finally{_n=r,kL.transition=n}}function cee(){return Bc().memoizedState}function Vve(t,e,r){var n=Bm(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},uee(t))dee(e,r);else if(r=HZ(t,e,r,n),r!==null){var i=lo();Fu(r,t,n,i),hee(r,e,n)}}function Gve(t,e,r){var n=Bm(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(uee(t))dee(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Uu(o,a)){var l=e.interleaved;l===null?(i.next=i,l$(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=HZ(t,e,i,n),r!==null&&(i=lo(),Fu(r,t,n,i),hee(r,e,n))}}function uee(t){var e=t.alternate;return t===gi||e!==null&&e===gi}function dee(t,e){dS=jP=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function hee(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,K7(t,r)}}var NP={readContext:$c,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Kve={readContext:$c,useCallback:function(t,e){return vd().memoizedState=[t,e===void 0?null:e],t},useContext:$c,useEffect:Tq,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,lT(4194308,4,iee.bind(null,e,t),r)},useLayoutEffect:function(t,e){return lT(4194308,4,t,e)},useInsertionEffect:function(t,e){return lT(4,2,t,e)},useMemo:function(t,e){var r=vd();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=vd();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Vve.bind(null,gi,t),[n.memoizedState,t]},useRef:function(t){var e=vd();return t={current:t},e.memoizedState=t},useState:Cq,useDebugValue:v$,useDeferredValue:function(t){return vd().memoizedState=t},useTransition:function(){var t=Cq(!1),e=t[0];return t=Hve.bind(null,t[1]),vd().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=gi,i=vd();if(oi){if(r===void 0)throw Error(gt(407));r=r()}else{if(r=e(),Us===null)throw Error(gt(349));Wv&30||XZ(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Tq(JZ.bind(null,n,s,t),[t]),n.flags|=2048,cA(9,QZ.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=vd(),e=Us.identifierPrefix;if(oi){var r=bf,n=yf;r=(n&~(1<<32-Du(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=oA++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Wve++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Yve={readContext:$c,useCallback:aee,useContext:$c,useEffect:g$,useImperativeHandle:see,useInsertionEffect:ree,useLayoutEffect:nee,useMemo:oee,useReducer:OL,useRef:tee,useState:function(){return OL(lA)},useDebugValue:v$,useDeferredValue:function(t){var e=Bc();return lee(e,ps.memoizedState,t)},useTransition:function(){var t=OL(lA)[0],e=Bc().memoizedState;return[t,e]},useMutableSource:KZ,useSyncExternalStore:YZ,useId:cee,unstable_isNewReconciler:!1},Xve={readContext:$c,useCallback:aee,useContext:$c,useEffect:g$,useImperativeHandle:see,useInsertionEffect:ree,useLayoutEffect:nee,useMemo:oee,useReducer:ML,useRef:tee,useState:function(){return ML(lA)},useDebugValue:v$,useDeferredValue:function(t){var e=Bc();return ps===null?e.memoizedState=t:lee(e,ps.memoizedState,t)},useTransition:function(){var t=ML(lA)[0],e=Bc().memoizedState;return[t,e]},useMutableSource:KZ,useSyncExternalStore:YZ,useId:cee,unstable_isNewReconciler:!1};function uu(t,e){if(t&&t.defaultProps){e=vi({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function iD(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:vi({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var s3={isMounted:function(t){return(t=t._reactInternals)?fx(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=lo(),i=Bm(t),s=jf(n,i);s.payload=e,r!=null&&(s.callback=r),e=Fm(t,s,i),e!==null&&(Fu(e,t,i,n),aT(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=lo(),i=Bm(t),s=jf(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Fm(t,s,i),e!==null&&(Fu(e,t,i,n),aT(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=lo(),n=Bm(t),i=jf(r,n);i.tag=2,e!=null&&(i.callback=e),e=Fm(t,i,n),e!==null&&(Fu(e,t,n,r),aT(e,t,n))}};function Pq(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!tA(r,n)||!tA(i,s):!0}function fee(t,e,r){var n=!1,i=Ym,s=e.contextType;return typeof s=="object"&&s!==null?s=$c(s):(i=qo(e)?zv:Ua.current,n=e.contextTypes,s=(n=n!=null)?Hb(t,i):Ym),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=s3,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function kq(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&s3.enqueueReplaceState(e,e.state,null)}function sD(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},c$(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$c(s):(s=qo(e)?zv:Ua.current,i.context=Hb(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(iD(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&s3.enqueueReplaceState(i,i.state,null),SP(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yb(t,e){try{var r="",n=e;do r+=Age(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function LL(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function aD(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Qve=typeof WeakMap=="function"?WeakMap:Map;function pee(t,e,r){r=jf(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){CP||(CP=!0,gD=n),aD(t,e)},r}function mee(t,e,r){r=jf(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){aD(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){aD(t,e),typeof n!="function"&&($m===null?$m=new Set([this]):$m.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Oq(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Qve;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=dxe.bind(null,t,e,r),e.then(t,t))}function Mq(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lq(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=jf(-1,1),e.tag=2,Fm(r,e,1))),r.lanes|=1),t)}var Jve=ep.ReactCurrentOwner,$o=!1;function eo(t,e,r,n){e.child=t===null?WZ(e,null,r,n):Gb(e,t.child,r,n)}function Iq(t,e,r,n,i){r=r.render;var s=e.ref;return i1(e,i),n=p$(t,e,r,n,s,i),r=m$(),t!==null&&!$o?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$f(t,e,i)):(oi&&r&&r$(e),e.flags|=1,eo(t,e,n,i),e.child)}function Rq(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!j$(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,gee(t,e,s,n,i)):(t=hT(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:tA,r(a,n)&&t.ref===e.ref)return $f(t,e,i)}return e.flags|=1,t=Um(s,n),t.ref=e.ref,t.return=e,e.child=t}function gee(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(tA(s,n)&&t.ref===e.ref)if($o=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&($o=!0);else return e.lanes=t.lanes,$f(t,e,i)}return oD(t,e,r,n,i)}function vee(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(zy,Tl),Tl|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Wn(zy,Tl),Tl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Wn(zy,Tl),Tl|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Wn(zy,Tl),Tl|=n;return eo(t,e,i,r),e.child}function xee(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function oD(t,e,r,n,i){var s=qo(r)?zv:Ua.current;return s=Hb(e,s),i1(e,i),r=p$(t,e,r,n,s,i),n=m$(),t!==null&&!$o?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$f(t,e,i)):(oi&&n&&r$(e),e.flags|=1,eo(t,e,r,i),e.child)}function Dq(t,e,r,n,i){if(qo(r)){var s=!0;xP(e)}else s=!1;if(i1(e,i),e.stateNode===null)cT(t,e),fee(e,r,n),sD(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=$c(u):(u=qo(r)?zv:Ua.current,u=Hb(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&kq(e,a,n,u),Ip=!1;var f=e.memoizedState;a.state=f,SP(e,n,a,i),l=e.memoizedState,o!==n||f!==l||zo.current||Ip?(typeof d=="function"&&(iD(e,r,d,n),l=e.memoizedState),(o=Ip||Pq(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,VZ(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:uu(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=$c(l):(l=qo(r)?zv:Ua.current,l=Hb(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&kq(e,a,n,l),Ip=!1,f=e.memoizedState,a.state=f,SP(e,n,a,i);var g=e.memoizedState;o!==h||f!==g||zo.current||Ip?(typeof p=="function"&&(iD(e,r,p,n),g=e.memoizedState),(u=Ip||Pq(e,r,u,n,f,g,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),a.props=n,a.state=g,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return lD(t,e,r,n,s,i)}function lD(t,e,r,n,i,s){xee(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&_q(e,r,!1),$f(t,e,s);n=e.stateNode,Jve.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Gb(e,t.child,null,s),e.child=Gb(e,null,o,s)):eo(t,e,o,s),e.memoizedState=n.state,i&&_q(e,r,!0),e.child}function yee(t){var e=t.stateNode;e.pendingContext?wq(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wq(t,e.context,!1),u$(t,e.containerInfo)}function Fq(t,e,r,n,i){return Vb(),i$(i),e.flags|=256,eo(t,e,r,n),e.child}var cD={dehydrated:null,treeContext:null,retryLane:0};function uD(t){return{baseLanes:t,cachePool:null,transitions:null}}function bee(t,e,r){var n=e.pendingProps,i=fi.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Wn(fi,i&1),t===null)return rD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=l3(a,n,0,null),t=Lv(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=uD(r),e.memoizedState=cD,t):x$(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Zve(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Um(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Um(o,s):(s=Lv(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?uD(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=cD,n}return s=t.child,t=s.sibling,n=Um(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function x$(t,e){return e=l3({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function GE(t,e,r,n){return n!==null&&i$(n),Gb(e,t.child,null,r),t=x$(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Zve(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=LL(Error(gt(422))),GE(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=l3({mode:"visible",children:n.children},i,0,null),s=Lv(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Gb(e,t.child,null,a),e.child.memoizedState=uD(a),e.memoizedState=cD,s);if(!(e.mode&1))return GE(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(gt(419)),n=LL(s,n,void 0),GE(t,e,a,n)}if(o=(a&t.childLanes)!==0,$o||o){if(n=Us,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ff(t,i),Fu(n,t,i,-1))}return A$(),n=LL(Error(gt(421))),GE(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hxe.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Bl=Dm(i.nextSibling),Wl=e,oi=!0,Ou=null,t!==null&&(jc[Nc++]=yf,jc[Nc++]=bf,jc[Nc++]=qv,yf=t.id,bf=t.overflow,qv=e),e=x$(e,n.children),e.flags|=4096,e)}function $q(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),nD(t.return,e,r)}function IL(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function wee(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(eo(t,e,n.children,r),n=fi.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$q(t,r,e);else if(t.tag===19)$q(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Wn(fi,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&AP(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),IL(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&AP(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}IL(e,!0,r,null,s);break;case"together":IL(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cT(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $f(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Hv|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(gt(153));if(e.child!==null){for(t=e.child,r=Um(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Um(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function exe(t,e,r){switch(e.tag){case 3:yee(e),Vb();break;case 5:GZ(e);break;case 1:qo(e.type)&&xP(e);break;case 4:u$(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Wn(wP,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Wn(fi,fi.current&1),e.flags|=128,null):r&e.child.childLanes?bee(t,e,r):(Wn(fi,fi.current&1),t=$f(t,e,r),t!==null?t.sibling:null);Wn(fi,fi.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return wee(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Wn(fi,fi.current),n)break;return null;case 22:case 23:return e.lanes=0,vee(t,e,r)}return $f(t,e,r)}var _ee,dD,See,Aee;_ee=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dD=function(){};See=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,gg(Gd.current);var s=null;switch(r){case"input":i=MR(t,i),n=MR(t,n),s=[];break;case"select":i=vi({},i,{value:void 0}),n=vi({},n,{value:void 0}),s=[];break;case"textarea":i=RR(t,i),n=RR(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=gP)}FR(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(KS.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(KS.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Xn("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Aee=function(t,e,r,n){r!==n&&(e.flags|=4)};function t_(t,e){if(!oi)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ma(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function txe(t,e,r){var n=e.pendingProps;switch(n$(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ma(e),null;case 1:return qo(e.type)&&vP(),ma(e),null;case 3:return n=e.stateNode,Kb(),ti(zo),ti(Ua),h$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(HE(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ou!==null&&(yD(Ou),Ou=null))),dD(t,e),ma(e),null;case 5:d$(e);var i=gg(aA.current);if(r=e.type,t!==null&&e.stateNode!=null)See(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(gt(166));return ma(e),null}if(t=gg(Gd.current),HE(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Bd]=e,n[iA]=s,t=(e.mode&1)!==0,r){case"dialog":Xn("cancel",n),Xn("close",n);break;case"iframe":case"object":case"embed":Xn("load",n);break;case"video":case"audio":for(i=0;i<L_.length;i++)Xn(L_[i],n);break;case"source":Xn("error",n);break;case"img":case"image":case"link":Xn("error",n),Xn("load",n);break;case"details":Xn("toggle",n);break;case"input":Kz(n,s),Xn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Xn("invalid",n);break;case"textarea":Xz(n,s),Xn("invalid",n)}FR(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&WE(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&WE(n.textContent,o,t),i=["children",""+o]):KS.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Xn("scroll",n)}switch(r){case"input":RE(n),Yz(n,s,!0);break;case"textarea":RE(n),Qz(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=gP)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JJ(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Bd]=e,t[iA]=n,_ee(t,e,!1,!1),e.stateNode=t;e:{switch(a=$R(r,n),r){case"dialog":Xn("cancel",t),Xn("close",t),i=n;break;case"iframe":case"object":case"embed":Xn("load",t),i=n;break;case"video":case"audio":for(i=0;i<L_.length;i++)Xn(L_[i],t);i=n;break;case"source":Xn("error",t),i=n;break;case"img":case"image":case"link":Xn("error",t),Xn("load",t),i=n;break;case"details":Xn("toggle",t),i=n;break;case"input":Kz(t,n),i=MR(t,n),Xn("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=vi({},n,{value:void 0}),Xn("invalid",t);break;case"textarea":Xz(t,n),i=RR(t,n),Xn("invalid",t);break;default:i=n}FR(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?tZ(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ZJ(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&YS(t,l):typeof l=="number"&&YS(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(KS.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Xn("scroll",t):l!=null&&z7(t,s,l,a))}switch(r){case"input":RE(t),Yz(t,n,!1);break;case"textarea":RE(t),Qz(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Km(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?e1(t,!!n.multiple,s,!1):n.defaultValue!=null&&e1(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gP)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ma(e),null;case 6:if(t&&e.stateNode!=null)Aee(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(gt(166));if(r=gg(aA.current),gg(Gd.current),HE(e)){if(n=e.stateNode,r=e.memoizedProps,n[Bd]=e,(s=n.nodeValue!==r)&&(t=Wl,t!==null))switch(t.tag){case 3:WE(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&WE(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Bd]=e,e.stateNode=n}return ma(e),null;case 13:if(ti(fi),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(oi&&Bl!==null&&e.mode&1&&!(e.flags&128))zZ(),Vb(),e.flags|=98560,s=!1;else if(s=HE(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(gt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(gt(317));s[Bd]=e}else Vb(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ma(e),s=!1}else Ou!==null&&(yD(Ou),Ou=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||fi.current&1?gs===0&&(gs=3):A$())),e.updateQueue!==null&&(e.flags|=4),ma(e),null);case 4:return Kb(),dD(t,e),t===null&&rA(e.stateNode.containerInfo),ma(e),null;case 10:return o$(e.type._context),ma(e),null;case 17:return qo(e.type)&&vP(),ma(e),null;case 19:if(ti(fi),s=e.memoizedState,s===null)return ma(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)t_(s,!1);else{if(gs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=AP(t),a!==null){for(e.flags|=128,t_(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Wn(fi,fi.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ri()>Xb&&(e.flags|=128,n=!0,t_(s,!1),e.lanes=4194304)}else{if(!n)if(t=AP(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),t_(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!oi)return ma(e),null}else 2*Ri()-s.renderingStartTime>Xb&&r!==1073741824&&(e.flags|=128,n=!0,t_(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ri(),e.sibling=null,r=fi.current,Wn(fi,n?r&1|2:r&1),e):(ma(e),null);case 22:case 23:return S$(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Tl&1073741824&&(ma(e),e.subtreeFlags&6&&(e.flags|=8192)):ma(e),null;case 24:return null;case 25:return null}throw Error(gt(156,e.tag))}function rxe(t,e){switch(n$(e),e.tag){case 1:return qo(e.type)&&vP(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kb(),ti(zo),ti(Ua),h$(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d$(e),null;case 13:if(ti(fi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(gt(340));Vb()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ti(fi),null;case 4:return Kb(),null;case 10:return o$(e.type._context),null;case 22:case 23:return S$(),null;case 24:return null;default:return null}}var KE=!1,Oa=!1,nxe=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Uy(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ai(t,e,n)}else r.current=null}function hD(t,e,r){try{r()}catch(n){Ai(t,e,n)}}var Bq=!1;function ixe(t,e){if(YR=fP,t=TZ(),t$(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(XR={focusedElem:t,selectionRange:r},fP=!1,Ft=e;Ft!==null;)if(e=Ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ft=t;else for(;Ft!==null;){e=Ft;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:uu(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(_){Ai(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,Ft=t;break}Ft=e.return}return g=Bq,Bq=!1,g}function hS(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hD(e,r,s)}i=i.next}while(i!==n)}}function a3(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function fD(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function jee(t){var e=t.alternate;e!==null&&(t.alternate=null,jee(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Bd],delete e[iA],delete e[ZR],delete e[Bve],delete e[Uve])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nee(t){return t.tag===5||t.tag===3||t.tag===4}function Uq(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nee(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pD(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=gP));else if(n!==4&&(t=t.child,t!==null))for(pD(t,e,r),t=t.sibling;t!==null;)pD(t,e,r),t=t.sibling}function mD(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(mD(t,e,r),t=t.sibling;t!==null;)mD(t,e,r),t=t.sibling}var Js=null,Eu=!1;function wp(t,e,r){for(r=r.child;r!==null;)Eee(t,e,r),r=r.sibling}function Eee(t,e,r){if(Vd&&typeof Vd.onCommitFiberUnmount=="function")try{Vd.onCommitFiberUnmount(J4,r)}catch{}switch(r.tag){case 5:Oa||Uy(r,e);case 6:var n=Js,i=Eu;Js=null,wp(t,e,r),Js=n,Eu=i,Js!==null&&(Eu?(t=Js,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Js.removeChild(r.stateNode));break;case 18:Js!==null&&(Eu?(t=Js,r=r.stateNode,t.nodeType===8?CL(t.parentNode,r):t.nodeType===1&&CL(t,r),ZS(t)):CL(Js,r.stateNode));break;case 4:n=Js,i=Eu,Js=r.stateNode.containerInfo,Eu=!0,wp(t,e,r),Js=n,Eu=i;break;case 0:case 11:case 14:case 15:if(!Oa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&hD(r,e,a),i=i.next}while(i!==n)}wp(t,e,r);break;case 1:if(!Oa&&(Uy(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ai(r,e,o)}wp(t,e,r);break;case 21:wp(t,e,r);break;case 22:r.mode&1?(Oa=(n=Oa)||r.memoizedState!==null,wp(t,e,r),Oa=n):wp(t,e,r);break;default:wp(t,e,r)}}function zq(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new nxe),e.forEach(function(n){var i=fxe.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function tu(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Js=o.stateNode,Eu=!1;break e;case 3:Js=o.stateNode.containerInfo,Eu=!0;break e;case 4:Js=o.stateNode.containerInfo,Eu=!0;break e}o=o.return}if(Js===null)throw Error(gt(160));Eee(s,a,i),Js=null,Eu=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ai(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cee(e,t),e=e.sibling}function Cee(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(tu(e,t),ld(t),n&4){try{hS(3,t,t.return),a3(3,t)}catch(m){Ai(t,t.return,m)}try{hS(5,t,t.return)}catch(m){Ai(t,t.return,m)}}break;case 1:tu(e,t),ld(t),n&512&&r!==null&&Uy(r,r.return);break;case 5:if(tu(e,t),ld(t),n&512&&r!==null&&Uy(r,r.return),t.flags&32){var i=t.stateNode;try{YS(i,"")}catch(m){Ai(t,t.return,m)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&XJ(i,s),$R(o,a);var u=$R(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?tZ(i,h):d==="dangerouslySetInnerHTML"?ZJ(i,h):d==="children"?YS(i,h):z7(i,d,h,u)}switch(o){case"input":LR(i,s);break;case"textarea":QJ(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?e1(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?e1(i,!!s.multiple,s.defaultValue,!0):e1(i,!!s.multiple,s.multiple?[]:"",!1))}i[iA]=s}catch(m){Ai(t,t.return,m)}}break;case 6:if(tu(e,t),ld(t),n&4){if(t.stateNode===null)throw Error(gt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(m){Ai(t,t.return,m)}}break;case 3:if(tu(e,t),ld(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ZS(e.containerInfo)}catch(m){Ai(t,t.return,m)}break;case 4:tu(e,t),ld(t);break;case 13:tu(e,t),ld(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(w$=Ri())),n&4&&zq(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Oa=(u=Oa)||d,tu(e,t),Oa=u):tu(e,t),ld(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ft=t,d=t.child;d!==null;){for(h=Ft=d;Ft!==null;){switch(f=Ft,p=f.child,f.tag){case 0:case 11:case 14:case 15:hS(4,f,f.return);break;case 1:Uy(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Ai(n,r,m)}}break;case 5:Uy(f,f.return);break;case 22:if(f.memoizedState!==null){Wq(h);continue}}p!==null?(p.return=f,Ft=p):Wq(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=eZ("display",a))}catch(m){Ai(t,t.return,m)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){Ai(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:tu(e,t),ld(t),n&4&&zq(t);break;case 21:break;default:tu(e,t),ld(t)}}function ld(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Nee(r)){var n=r;break e}r=r.return}throw Error(gt(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(YS(i,""),n.flags&=-33);var s=Uq(t);mD(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Uq(t);pD(t,o,a);break;default:throw Error(gt(161))}}catch(l){Ai(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sxe(t,e,r){Ft=t,Tee(t)}function Tee(t,e,r){for(var n=(t.mode&1)!==0;Ft!==null;){var i=Ft,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||KE;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Oa;o=KE;var u=Oa;if(KE=a,(Oa=l)&&!u)for(Ft=i;Ft!==null;)a=Ft,l=a.child,a.tag===22&&a.memoizedState!==null?Hq(i):l!==null?(l.return=a,Ft=l):Hq(i);for(;s!==null;)Ft=s,Tee(s),s=s.sibling;Ft=i,KE=o,Oa=u}qq(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ft=s):qq(t)}}function qq(t){for(;Ft!==null;){var e=Ft;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oa||a3(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Oa)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:uu(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Eq(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Eq(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ZS(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}Oa||e.flags&512&&fD(e)}catch(f){Ai(e,e.return,f)}}if(e===t){Ft=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ft=r;break}Ft=e.return}}function Wq(t){for(;Ft!==null;){var e=Ft;if(e===t){Ft=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ft=r;break}Ft=e.return}}function Hq(t){for(;Ft!==null;){var e=Ft;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{a3(4,e)}catch(l){Ai(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){Ai(e,i,l)}}var s=e.return;try{fD(e)}catch(l){Ai(e,s,l)}break;case 5:var a=e.return;try{fD(e)}catch(l){Ai(e,a,l)}}}catch(l){Ai(e,e.return,l)}if(e===t){Ft=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ft=o;break}Ft=e.return}}var axe=Math.ceil,EP=ep.ReactCurrentDispatcher,y$=ep.ReactCurrentOwner,Mc=ep.ReactCurrentBatchConfig,Xr=0,Us=null,Xi=null,na=0,Tl=0,zy=f0(0),gs=0,uA=null,Hv=0,o3=0,b$=0,fS=null,Ro=null,w$=0,Xb=1/0,$h=null,CP=!1,gD=null,$m=null,YE=!1,jm=null,TP=0,pS=0,vD=null,uT=-1,dT=0;function lo(){return Xr&6?Ri():uT!==-1?uT:uT=Ri()}function Bm(t){return t.mode&1?Xr&2&&na!==0?na&-na:qve.transition!==null?(dT===0&&(dT=fZ()),dT):(t=_n,t!==0||(t=window.event,t=t===void 0?16:bZ(t.type)),t):1}function Fu(t,e,r,n){if(50<pS)throw pS=0,vD=null,Error(gt(185));Yj(t,r,n),(!(Xr&2)||t!==Us)&&(t===Us&&(!(Xr&2)&&(o3|=r),gs===4&&$p(t,na)),Wo(t,n),r===1&&Xr===0&&!(e.mode&1)&&(Xb=Ri()+500,n3&&p0()))}function Wo(t,e){var r=t.callbackNode;qge(t,e);var n=hP(t,t===Us?na:0);if(n===0)r!==null&&eq(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&eq(r),e===1)t.tag===0?zve(Vq.bind(null,t)):$Z(Vq.bind(null,t)),Fve(function(){!(Xr&6)&&p0()}),r=null;else{switch(pZ(n)){case 1:r=G7;break;case 4:r=dZ;break;case 16:r=dP;break;case 536870912:r=hZ;break;default:r=dP}r=Dee(r,Pee.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Pee(t,e){if(uT=-1,dT=0,Xr&6)throw Error(gt(327));var r=t.callbackNode;if(s1()&&t.callbackNode!==r)return null;var n=hP(t,t===Us?na:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=PP(t,n);else{e=n;var i=Xr;Xr|=2;var s=Oee();(Us!==t||na!==e)&&($h=null,Xb=Ri()+500,Mv(t,e));do try{cxe();break}catch(o){kee(t,o)}while(!0);a$(),EP.current=s,Xr=i,Xi!==null?e=0:(Us=null,na=0,e=gs)}if(e!==0){if(e===2&&(i=WR(t),i!==0&&(n=i,e=xD(t,i))),e===1)throw r=uA,Mv(t,0),$p(t,n),Wo(t,Ri()),r;if(e===6)$p(t,n);else{if(i=t.current.alternate,!(n&30)&&!oxe(i)&&(e=PP(t,n),e===2&&(s=WR(t),s!==0&&(n=s,e=xD(t,s))),e===1))throw r=uA,Mv(t,0),$p(t,n),Wo(t,Ri()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(gt(345));case 2:K0(t,Ro,$h);break;case 3:if($p(t,n),(n&130023424)===n&&(e=w$+500-Ri(),10<e)){if(hP(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){lo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=JR(K0.bind(null,t,Ro,$h),e);break}K0(t,Ro,$h);break;case 4:if($p(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Du(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Ri()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*axe(n/1960))-n,10<n){t.timeoutHandle=JR(K0.bind(null,t,Ro,$h),n);break}K0(t,Ro,$h);break;case 5:K0(t,Ro,$h);break;default:throw Error(gt(329))}}}return Wo(t,Ri()),t.callbackNode===r?Pee.bind(null,t):null}function xD(t,e){var r=fS;return t.current.memoizedState.isDehydrated&&(Mv(t,e).flags|=256),t=PP(t,e),t!==2&&(e=Ro,Ro=r,e!==null&&yD(e)),t}function yD(t){Ro===null?Ro=t:Ro.push.apply(Ro,t)}function oxe(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Uu(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $p(t,e){for(e&=~b$,e&=~o3,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Du(e),n=1<<r;t[r]=-1,e&=~n}}function Vq(t){if(Xr&6)throw Error(gt(327));s1();var e=hP(t,0);if(!(e&1))return Wo(t,Ri()),null;var r=PP(t,e);if(t.tag!==0&&r===2){var n=WR(t);n!==0&&(e=n,r=xD(t,n))}if(r===1)throw r=uA,Mv(t,0),$p(t,e),Wo(t,Ri()),r;if(r===6)throw Error(gt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,K0(t,Ro,$h),Wo(t,Ri()),null}function _$(t,e){var r=Xr;Xr|=1;try{return t(e)}finally{Xr=r,Xr===0&&(Xb=Ri()+500,n3&&p0())}}function Vv(t){jm!==null&&jm.tag===0&&!(Xr&6)&&s1();var e=Xr;Xr|=1;var r=Mc.transition,n=_n;try{if(Mc.transition=null,_n=1,t)return t()}finally{_n=n,Mc.transition=r,Xr=e,!(Xr&6)&&p0()}}function S$(){Tl=zy.current,ti(zy)}function Mv(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Dve(r)),Xi!==null)for(r=Xi.return;r!==null;){var n=r;switch(n$(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vP();break;case 3:Kb(),ti(zo),ti(Ua),h$();break;case 5:d$(n);break;case 4:Kb();break;case 13:ti(fi);break;case 19:ti(fi);break;case 10:o$(n.type._context);break;case 22:case 23:S$()}r=r.return}if(Us=t,Xi=t=Um(t.current,null),na=Tl=e,gs=0,uA=null,b$=o3=Hv=0,Ro=fS=null,mg!==null){for(e=0;e<mg.length;e++)if(r=mg[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}mg=null}return t}function kee(t,e){do{var r=Xi;try{if(a$(),oT.current=NP,jP){for(var n=gi.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}jP=!1}if(Wv=0,Is=ps=gi=null,dS=!1,oA=0,y$.current=null,r===null||r.return===null){gs=1,uA=e,Xi=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=na,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Mq(a);if(p!==null){p.flags&=-257,Lq(p,a,o,s,e),p.mode&1&&Oq(s,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){Oq(s,u,e),A$();break e}l=Error(gt(426))}}else if(oi&&o.mode&1){var v=Mq(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Lq(v,a,o,s,e),i$(Yb(l,o));break e}}s=l=Yb(l,o),gs!==4&&(gs=2),fS===null?fS=[s]:fS.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=pee(s,l,e);Nq(s,x);break e;case 1:o=l;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&($m===null||!$m.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var _=mee(s,o,e);Nq(s,_);break e}}s=s.return}while(s!==null)}Lee(r)}catch(A){e=A,Xi===r&&r!==null&&(Xi=r=r.return);continue}break}while(!0)}function Oee(){var t=EP.current;return EP.current=NP,t===null?NP:t}function A$(){(gs===0||gs===3||gs===2)&&(gs=4),Us===null||!(Hv&268435455)&&!(o3&268435455)||$p(Us,na)}function PP(t,e){var r=Xr;Xr|=2;var n=Oee();(Us!==t||na!==e)&&($h=null,Mv(t,e));do try{lxe();break}catch(i){kee(t,i)}while(!0);if(a$(),Xr=r,EP.current=n,Xi!==null)throw Error(gt(261));return Us=null,na=0,gs}function lxe(){for(;Xi!==null;)Mee(Xi)}function cxe(){for(;Xi!==null&&!Lge();)Mee(Xi)}function Mee(t){var e=Ree(t.alternate,t,Tl);t.memoizedProps=t.pendingProps,e===null?Lee(t):Xi=e,y$.current=null}function Lee(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=rxe(r,e),r!==null){r.flags&=32767,Xi=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gs=6,Xi=null;return}}else if(r=txe(r,e,Tl),r!==null){Xi=r;return}if(e=e.sibling,e!==null){Xi=e;return}Xi=e=t}while(e!==null);gs===0&&(gs=5)}function K0(t,e,r){var n=_n,i=Mc.transition;try{Mc.transition=null,_n=1,uxe(t,e,r,n)}finally{Mc.transition=i,_n=n}return null}function uxe(t,e,r,n){do s1();while(jm!==null);if(Xr&6)throw Error(gt(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(gt(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Wge(t,s),t===Us&&(Xi=Us=null,na=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||YE||(YE=!0,Dee(dP,function(){return s1(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Mc.transition,Mc.transition=null;var a=_n;_n=1;var o=Xr;Xr|=4,y$.current=null,ixe(t,r),Cee(r,t),Pve(XR),fP=!!YR,XR=YR=null,t.current=r,sxe(r),Ige(),Xr=o,_n=a,Mc.transition=s}else t.current=r;if(YE&&(YE=!1,jm=t,TP=i),s=t.pendingLanes,s===0&&($m=null),Fge(r.stateNode),Wo(t,Ri()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(CP)throw CP=!1,t=gD,gD=null,t;return TP&1&&t.tag!==0&&s1(),s=t.pendingLanes,s&1?t===vD?pS++:(pS=0,vD=t):pS=0,p0(),null}function s1(){if(jm!==null){var t=pZ(TP),e=Mc.transition,r=_n;try{if(Mc.transition=null,_n=16>t?16:t,jm===null)var n=!1;else{if(t=jm,jm=null,TP=0,Xr&6)throw Error(gt(331));var i=Xr;for(Xr|=4,Ft=t.current;Ft!==null;){var s=Ft,a=s.child;if(Ft.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Ft=u;Ft!==null;){var d=Ft;switch(d.tag){case 0:case 11:case 15:hS(8,d,s)}var h=d.child;if(h!==null)h.return=d,Ft=h;else for(;Ft!==null;){d=Ft;var f=d.sibling,p=d.return;if(jee(d),d===u){Ft=null;break}if(f!==null){f.return=p,Ft=f;break}Ft=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ft=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ft=a;else e:for(;Ft!==null;){if(s=Ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:hS(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Ft=x;break e}Ft=s.return}}var y=t.current;for(Ft=y;Ft!==null;){a=Ft;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Ft=w;else e:for(a=y;Ft!==null;){if(o=Ft,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:a3(9,o)}}catch(A){Ai(o,o.return,A)}if(o===a){Ft=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Ft=_;break e}Ft=o.return}}if(Xr=i,p0(),Vd&&typeof Vd.onPostCommitFiberRoot=="function")try{Vd.onPostCommitFiberRoot(J4,t)}catch{}n=!0}return n}finally{_n=r,Mc.transition=e}}return!1}function Gq(t,e,r){e=Yb(r,e),e=pee(t,e,1),t=Fm(t,e,1),e=lo(),t!==null&&(Yj(t,1,e),Wo(t,e))}function Ai(t,e,r){if(t.tag===3)Gq(t,t,r);else for(;e!==null;){if(e.tag===3){Gq(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&($m===null||!$m.has(n))){t=Yb(r,t),t=mee(e,t,1),e=Fm(e,t,1),t=lo(),e!==null&&(Yj(e,1,t),Wo(e,t));break}}e=e.return}}function dxe(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=lo(),t.pingedLanes|=t.suspendedLanes&r,Us===t&&(na&r)===r&&(gs===4||gs===3&&(na&130023424)===na&&500>Ri()-w$?Mv(t,0):b$|=r),Wo(t,e)}function Iee(t,e){e===0&&(t.mode&1?(e=$E,$E<<=1,!($E&130023424)&&($E=4194304)):e=1);var r=lo();t=Ff(t,e),t!==null&&(Yj(t,e,r),Wo(t,r))}function hxe(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Iee(t,r)}function fxe(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(gt(314))}n!==null&&n.delete(e),Iee(t,r)}var Ree;Ree=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||zo.current)$o=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return $o=!1,exe(t,e,r);$o=!!(t.flags&131072)}else $o=!1,oi&&e.flags&1048576&&BZ(e,bP,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;cT(t,e),t=e.pendingProps;var i=Hb(e,Ua.current);i1(e,r),i=p$(null,e,n,t,i,r);var s=m$();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qo(n)?(s=!0,xP(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c$(e),i.updater=s3,e.stateNode=i,i._reactInternals=e,sD(e,n,t,r),e=lD(null,e,n,!0,s,r)):(e.tag=0,oi&&s&&r$(e),eo(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(cT(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=mxe(n),t=uu(n,t),i){case 0:e=oD(null,e,n,t,r);break e;case 1:e=Dq(null,e,n,t,r);break e;case 11:e=Iq(null,e,n,t,r);break e;case 14:e=Rq(null,e,n,uu(n.type,t),r);break e}throw Error(gt(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:uu(n,i),oD(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:uu(n,i),Dq(t,e,n,i,r);case 3:e:{if(yee(e),t===null)throw Error(gt(387));n=e.pendingProps,s=e.memoizedState,i=s.element,VZ(t,e),SP(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yb(Error(gt(423)),e),e=Fq(t,e,n,r,i);break e}else if(n!==i){i=Yb(Error(gt(424)),e),e=Fq(t,e,n,r,i);break e}else for(Bl=Dm(e.stateNode.containerInfo.firstChild),Wl=e,oi=!0,Ou=null,r=WZ(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vb(),n===i){e=$f(t,e,r);break e}eo(t,e,n,r)}e=e.child}return e;case 5:return GZ(e),t===null&&rD(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,QR(n,i)?a=null:s!==null&&QR(n,s)&&(e.flags|=32),xee(t,e),eo(t,e,a,r),e.child;case 6:return t===null&&rD(e),null;case 13:return bee(t,e,r);case 4:return u$(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Gb(e,null,n,r):eo(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:uu(n,i),Iq(t,e,n,i,r);case 7:return eo(t,e,e.pendingProps,r),e.child;case 8:return eo(t,e,e.pendingProps.children,r),e.child;case 12:return eo(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Wn(wP,n._currentValue),n._currentValue=a,s!==null)if(Uu(s.value,a)){if(s.children===i.children&&!zo.current){e=$f(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=jf(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),nD(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(gt(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),nD(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}eo(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,i1(e,r),i=$c(i),n=n(i),e.flags|=1,eo(t,e,n,r),e.child;case 14:return n=e.type,i=uu(n,e.pendingProps),i=uu(n.type,i),Rq(t,e,n,i,r);case 15:return gee(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:uu(n,i),cT(t,e),e.tag=1,qo(n)?(t=!0,xP(e)):t=!1,i1(e,r),fee(e,n,i),sD(e,n,i,r),lD(null,e,n,!0,t,r);case 19:return wee(t,e,r);case 22:return vee(t,e,r)}throw Error(gt(156,e.tag))};function Dee(t,e){return uZ(t,e)}function pxe(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(t,e,r,n){return new pxe(t,e,r,n)}function j$(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mxe(t){if(typeof t=="function")return j$(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W7)return 11;if(t===H7)return 14}return 2}function Um(t,e){var r=t.alternate;return r===null?(r=Pc(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function hT(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")j$(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Oy:return Lv(r.children,i,s,e);case q7:a=8,i|=8;break;case TR:return t=Pc(12,r,e,i|2),t.elementType=TR,t.lanes=s,t;case PR:return t=Pc(13,r,e,i),t.elementType=PR,t.lanes=s,t;case kR:return t=Pc(19,r,e,i),t.elementType=kR,t.lanes=s,t;case GJ:return l3(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case HJ:a=10;break e;case VJ:a=9;break e;case W7:a=11;break e;case H7:a=14;break e;case Lp:a=16,n=null;break e}throw Error(gt(130,t==null?t:typeof t,""))}return e=Pc(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Lv(t,e,r,n){return t=Pc(7,t,n,e),t.lanes=r,t}function l3(t,e,r,n){return t=Pc(22,t,n,e),t.elementType=GJ,t.lanes=r,t.stateNode={isHidden:!1},t}function RL(t,e,r){return t=Pc(6,t,null,e),t.lanes=r,t}function DL(t,e,r){return e=Pc(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gxe(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vL(0),this.expirationTimes=vL(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vL(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function N$(t,e,r,n,i,s,a,o,l){return t=new gxe(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},c$(s),t}function vxe(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ky,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Fee(t){if(!t)return Ym;t=t._reactInternals;e:{if(fx(t)!==t||t.tag!==1)throw Error(gt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(gt(171))}if(t.tag===1){var r=t.type;if(qo(r))return FZ(t,r,e)}return e}function $ee(t,e,r,n,i,s,a,o,l){return t=N$(r,n,!0,t,i,s,a,o,l),t.context=Fee(null),r=t.current,n=lo(),i=Bm(r),s=jf(n,i),s.callback=e??null,Fm(r,s,i),t.current.lanes=i,Yj(t,i,n),Wo(t,n),t}function c3(t,e,r,n){var i=e.current,s=lo(),a=Bm(i);return r=Fee(r),e.context===null?e.context=r:e.pendingContext=r,e=jf(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Fm(i,e,a),t!==null&&(Fu(t,i,a,s),aT(t,i,a)),a}function kP(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Kq(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function E$(t,e){Kq(t,e),(t=t.alternate)&&Kq(t,e)}function xxe(){return null}var Bee=typeof reportError=="function"?reportError:function(t){console.error(t)};function C$(t){this._internalRoot=t}u3.prototype.render=C$.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(gt(409));c3(t,e,null,null)};u3.prototype.unmount=C$.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vv(function(){c3(null,t,null,null)}),e[Df]=null}};function u3(t){this._internalRoot=t}u3.prototype.unstable_scheduleHydration=function(t){if(t){var e=vZ();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Fp.length&&e!==0&&e<Fp[r].priority;r++);Fp.splice(r,0,t),r===0&&yZ(t)}};function T$(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yq(){}function yxe(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=kP(a);s.call(u)}}var a=$ee(e,n,t,0,null,!1,!1,"",Yq);return t._reactRootContainer=a,t[Df]=a.current,rA(t.nodeType===8?t.parentNode:t),Vv(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=kP(l);o.call(u)}}var l=N$(t,0,!1,null,null,!1,!1,"",Yq);return t._reactRootContainer=l,t[Df]=l.current,rA(t.nodeType===8?t.parentNode:t),Vv(function(){c3(e,l,r,n)}),l}function h3(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=kP(a);o.call(l)}}c3(e,a,t,i)}else a=yxe(r,e,t,i,n);return kP(a)}mZ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=M_(e.pendingLanes);r!==0&&(K7(e,r|1),Wo(e,Ri()),!(Xr&6)&&(Xb=Ri()+500,p0()))}break;case 13:Vv(function(){var n=Ff(t,1);if(n!==null){var i=lo();Fu(n,t,1,i)}}),E$(t,1)}};Y7=function(t){if(t.tag===13){var e=Ff(t,134217728);if(e!==null){var r=lo();Fu(e,t,134217728,r)}E$(t,134217728)}};gZ=function(t){if(t.tag===13){var e=Bm(t),r=Ff(t,e);if(r!==null){var n=lo();Fu(r,t,e,n)}E$(t,e)}};vZ=function(){return _n};xZ=function(t,e){var r=_n;try{return _n=t,e()}finally{_n=r}};UR=function(t,e,r){switch(e){case"input":if(LR(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=r3(n);if(!i)throw Error(gt(90));YJ(n),LR(n,i)}}}break;case"textarea":QJ(t,r);break;case"select":e=r.value,e!=null&&e1(t,!!r.multiple,e,!1)}};iZ=_$;sZ=Vv;var bxe={usingClientEntryPoint:!1,Events:[Qj,Ry,r3,rZ,nZ,_$]},r_={findFiberByHostInstance:pg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wxe={bundleType:r_.bundleType,version:r_.version,rendererPackageName:r_.rendererPackageName,rendererConfig:r_.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ep.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lZ(t),t===null?null:t.stateNode},findFiberByHostInstance:r_.findFiberByHostInstance||xxe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var XE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!XE.isDisabled&&XE.supportsFiber)try{J4=XE.inject(wxe),Vd=XE}catch{}}Jl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bxe;Jl.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T$(e))throw Error(gt(200));return vxe(t,e,null,r)};Jl.createRoot=function(t,e){if(!T$(t))throw Error(gt(299));var r=!1,n="",i=Bee;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=N$(t,1,!1,null,null,r,!1,n,i),t[Df]=e.current,rA(t.nodeType===8?t.parentNode:t),new C$(e)};Jl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(gt(188)):(t=Object.keys(t).join(","),Error(gt(268,t)));return t=lZ(e),t=t===null?null:t.stateNode,t};Jl.flushSync=function(t){return Vv(t)};Jl.hydrate=function(t,e,r){if(!d3(e))throw Error(gt(200));return h3(null,t,e,!0,r)};Jl.hydrateRoot=function(t,e,r){if(!T$(t))throw Error(gt(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Bee;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=$ee(e,null,t,1,r??null,i,!1,s,a),t[Df]=e.current,rA(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new u3(e)};Jl.render=function(t,e,r){if(!d3(e))throw Error(gt(200));return h3(null,t,e,!1,r)};Jl.unmountComponentAtNode=function(t){if(!d3(t))throw Error(gt(40));return t._reactRootContainer?(Vv(function(){h3(null,null,t,!1,function(){t._reactRootContainer=null,t[Df]=null})}),!0):!1};Jl.unstable_batchedUpdates=_$;Jl.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!d3(r))throw Error(gt(200));if(t==null||t._reactInternals===void 0)throw Error(gt(38));return h3(t,e,r,!1,n)};Jl.version="18.3.1-next-f1338f8080-20240426";function Uee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Uee)}catch(t){console.error(t)}}Uee(),UJ.exports=Jl;var px=UJ.exports;const zee=dn(px);var qee,Xq=px;qee=Xq.createRoot,Xq.hydrateRoot;const _xe=1,Sxe=1e6;let FL=0;function Axe(){return FL=(FL+1)%Number.MAX_SAFE_INTEGER,FL.toString()}const $L=new Map,Qq=t=>{if($L.has(t))return;const e=setTimeout(()=>{$L.delete(t),mS({type:"REMOVE_TOAST",toastId:t})},Sxe);$L.set(t,e)},jxe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,_xe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Qq(r):t.toasts.forEach(n=>{Qq(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},fT=[];let pT={toasts:[]};function mS(t){pT=jxe(pT,t),fT.forEach(e=>{e(pT)})}function Nxe({...t}){const e=Axe(),r=i=>mS({type:"UPDATE_TOAST",toast:{...i,id:e}}),n=()=>mS({type:"DISMISS_TOAST",toastId:e});return mS({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||n()}}}),{id:e,dismiss:n,update:r}}function Kr(){const[t,e]=j.useState(pT);return j.useEffect(()=>(fT.push(e),()=>{const r=fT.indexOf(e);r>-1&&fT.splice(r,1)}),[t]),{...t,toast:Nxe,dismiss:r=>mS({type:"DISMISS_TOAST",toastId:r})}}function mt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t==null||t(i),r===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Exe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function f3(...t){return e=>t.forEach(r=>Exe(r,e))}function br(...t){return j.useCallback(f3(...t),t)}function Cxe(t,e=[]){let r=[];function n(s,a){const o=j.createContext(a),l=r.length;r=[...r,a];function u(h){const{scope:f,children:p,...g}=h,m=(f==null?void 0:f[t][l])||o,v=j.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||o,g=j.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=r.map(a=>j.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,Txe(i,...e)]}function Txe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...o,...h}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var Go=j.forwardRef((t,e)=>{const{children:r,...n}=t,i=j.Children.toArray(r),s=i.find(Pxe);if(s){const a=s.props.children,o=i.map(l=>l===s?j.Children.count(a)>1?j.Children.only(null):j.isValidElement(a)?a.props.children:null:l);return c.jsx(bD,{...n,ref:e,children:j.isValidElement(a)?j.cloneElement(a,void 0,o):null})}return c.jsx(bD,{...n,ref:e,children:r})});Go.displayName="Slot";var bD=j.forwardRef((t,e)=>{const{children:r,...n}=t;if(j.isValidElement(r)){const i=Oxe(r);return j.cloneElement(r,{...kxe(n,r.props),ref:e?f3(e,i):i})}return j.Children.count(r)>1?j.Children.only(null):null});bD.displayName="SlotClone";var P$=({children:t})=>c.jsx(c.Fragment,{children:t});function Pxe(t){return j.isValidElement(t)&&t.type===P$}function kxe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...o)=>{s(...o),i(...o)}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Oxe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function p3(t){const e=t+"CollectionProvider",[r,n]=Cxe(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:g,children:m}=p,v=ue.useRef(null),x=ue.useRef(new Map).current;return c.jsx(i,{scope:g,itemMap:x,collectionRef:v,children:m})};a.displayName=e;const o=t+"CollectionSlot",l=ue.forwardRef((p,g)=>{const{scope:m,children:v}=p,x=s(o,m),y=br(g,x.collectionRef);return c.jsx(Go,{ref:y,children:v})});l.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=ue.forwardRef((p,g)=>{const{scope:m,children:v,...x}=p,y=ue.useRef(null),w=br(g,y),_=s(u,m);return ue.useEffect(()=>(_.itemMap.set(y,{ref:y,...x}),()=>void _.itemMap.delete(y))),c.jsx(Go,{[d]:"",ref:w,children:v})});h.displayName=u;function f(p){const g=s(t+"CollectionConsumer",p);return ue.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((_,A)=>x.indexOf(_.ref.current)-x.indexOf(A.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:a,Slot:l,ItemSlot:h},f,n]}function Mxe(t,e){const r=j.createContext(e),n=s=>{const{children:a,...o}=s,l=j.useMemo(()=>o,Object.values(o));return c.jsx(r.Provider,{value:l,children:a})};n.displayName=t+"Provider";function i(s){const a=j.useContext(r);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function vo(t,e=[]){let r=[];function n(s,a){const o=j.createContext(a),l=r.length;r=[...r,a];const u=h=>{var x;const{scope:f,children:p,...g}=h,m=((x=f==null?void 0:f[t])==null?void 0:x[l])||o,v=j.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})};u.displayName=s+"Provider";function d(h,f){var m;const p=((m=f==null?void 0:f[t])==null?void 0:m[l])||o,g=j.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(a=>j.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,Lxe(i,...e)]}function Lxe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...o,...h}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var Ixe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ut=Ixe.reduce((t,e)=>{const r=j.forwardRef((n,i)=>{const{asChild:s,...a}=n,o=s?Go:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(o,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function k$(t,e){t&&px.flushSync(()=>t.dispatchEvent(e))}function li(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function Rxe(t,e=globalThis==null?void 0:globalThis.document){const r=li(t);j.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Dxe="DismissableLayer",wD="dismissableLayer.update",Fxe="dismissableLayer.pointerDownOutside",$xe="dismissableLayer.focusOutside",Jq,Wee=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mx=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,u=j.useContext(Wee),[d,h]=j.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=j.useState({}),g=br(e,N=>h(N)),m=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),y=d?m.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=x,A=Uxe(N=>{const E=N.target,P=[...u.branches].some(L=>L.contains(E));!_||P||(i==null||i(N),a==null||a(N),N.defaultPrevented||o==null||o())},f),C=zxe(N=>{const E=N.target;[...u.branches].some(L=>L.contains(E))||(s==null||s(N),a==null||a(N),N.defaultPrevented||o==null||o())},f);return Rxe(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&o&&(N.preventDefault(),o()))},f),j.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Jq=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Zq(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Jq)}},[d,f,r,u]),j.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Zq())},[d,u]),j.useEffect(()=>{const N=()=>p({});return document.addEventListener(wD,N),()=>document.removeEventListener(wD,N)},[]),c.jsx(Ut.div,{...l,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...t.style},onFocusCapture:mt(t.onFocusCapture,C.onFocusCapture),onBlurCapture:mt(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:mt(t.onPointerDownCapture,A.onPointerDownCapture)})});mx.displayName=Dxe;var Bxe="DismissableLayerBranch",Hee=j.forwardRef((t,e)=>{const r=j.useContext(Wee),n=j.useRef(null),i=br(e,n);return j.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),c.jsx(Ut.div,{...t,ref:i})});Hee.displayName=Bxe;function Uxe(t,e=globalThis==null?void 0:globalThis.document){const r=li(t),n=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=o=>{if(o.target&&!n.current){let l=function(){Vee(Fxe,r,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);n.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function zxe(t,e=globalThis==null?void 0:globalThis.document){const r=li(t),n=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!n.current&&Vee($xe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Zq(){const t=new CustomEvent(wD);document.dispatchEvent(t)}function Vee(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?k$(i,s):i.dispatchEvent(s)}var qxe=mx,Wxe=Hee,bs=globalThis!=null&&globalThis.document?j.useLayoutEffect:()=>{},Hxe="Portal",Uw=j.forwardRef((t,e)=>{var o;const{container:r,...n}=t,[i,s]=j.useState(!1);bs(()=>s(!0),[]);const a=r||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?zee.createPortal(c.jsx(Ut.div,{...n,ref:e}),a):null});Uw.displayName=Hxe;function Vxe(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var ws=t=>{const{present:e,children:r}=t,n=Gxe(e),i=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),s=br(n.ref,Kxe(i));return typeof r=="function"||n.isPresent?j.cloneElement(i,{ref:s}):null};ws.displayName="Presence";function Gxe(t){const[e,r]=j.useState(),n=j.useRef({}),i=j.useRef(t),s=j.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Vxe(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=QE(n.current);s.current=o==="mounted"?u:"none"},[o]),bs(()=>{const u=n.current,d=i.current;if(d!==t){const f=s.current,p=QE(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&f!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),bs(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=p=>{const m=QE(n.current).includes(p.animationName);if(p.target===e&&m&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=p=>{p.target===e&&(s.current=QE(n.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:j.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function QE(t){return(t==null?void 0:t.animationName)||"none"}function Kxe(t){var n,i;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Uc({prop:t,defaultProp:e,onChange:r=()=>{}}){const[n,i]=Yxe({defaultProp:e,onChange:r}),s=t!==void 0,a=s?t:n,o=li(r),l=j.useCallback(u=>{if(s){const h=typeof u=="function"?u(t):u;h!==t&&o(h)}else i(u)},[s,t,i,o]);return[a,l]}function Yxe({defaultProp:t,onChange:e}){const r=j.useState(t),[n]=r,i=j.useRef(n),s=li(e);return j.useEffect(()=>{i.current!==n&&(s(n),i.current=n)},[n,i,s]),r}var Xxe="VisuallyHidden",Zj=j.forwardRef((t,e)=>c.jsx(Ut.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Zj.displayName=Xxe;var Qxe=Zj,O$="ToastProvider",[M$,Jxe,Zxe]=p3("Toast"),[Gee,Hmt]=vo("Toast",[Zxe]),[eye,m3]=Gee(O$),Kee=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,l]=j.useState(null),[u,d]=j.useState(0),h=j.useRef(!1),f=j.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${O$}\`. Expected non-empty \`string\`.`),c.jsx(M$.Provider,{scope:e,children:c.jsx(eye,{scope:e,label:r,duration:n,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:o,onViewportChange:l,onToastAdd:j.useCallback(()=>d(p=>p+1),[]),onToastRemove:j.useCallback(()=>d(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};Kee.displayName=O$;var Yee="ToastViewport",tye=["F8"],_D="toast.viewportPause",SD="toast.viewportResume",Xee=j.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=tye,label:i="Notifications ({hotkey})",...s}=t,a=m3(Yee,r),o=Jxe(r),l=j.useRef(null),u=j.useRef(null),d=j.useRef(null),h=j.useRef(null),f=br(e,h,a.onViewportChange),p=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=a.toastCount>0;j.useEffect(()=>{const v=x=>{var w;n.length!==0&&n.every(_=>x[_]||x.code===_)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[n]),j.useEffect(()=>{const v=l.current,x=h.current;if(g&&v&&x){const y=()=>{if(!a.isClosePausedRef.current){const C=new CustomEvent(_D);x.dispatchEvent(C),a.isClosePausedRef.current=!0}},w=()=>{if(a.isClosePausedRef.current){const C=new CustomEvent(SD);x.dispatchEvent(C),a.isClosePausedRef.current=!1}},_=C=>{!v.contains(C.relatedTarget)&&w()},A=()=>{v.contains(document.activeElement)||w()};return v.addEventListener("focusin",y),v.addEventListener("focusout",_),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",A),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",_),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",A),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[g,a.isClosePausedRef]);const m=j.useCallback(({tabbingDirection:v})=>{const y=o().map(w=>{const _=w.ref.current,A=[_,...pye(_)];return v==="forwards"?A:A.reverse()});return(v==="forwards"?y.reverse():y).flat()},[o]);return j.useEffect(()=>{const v=h.current;if(v){const x=y=>{var A,C,N;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const E=document.activeElement,P=y.shiftKey;if(y.target===v&&P){(A=u.current)==null||A.focus();return}const k=m({tabbingDirection:P?"backwards":"forwards"}),D=k.findIndex(F=>F===E);BL(k.slice(D+1))?y.preventDefault():P?(C=u.current)==null||C.focus():(N=d.current)==null||N.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[o,m]),c.jsxs(Wxe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&c.jsx(AD,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});BL(v)}}),c.jsx(M$.Slot,{scope:r,children:c.jsx(Ut.ol,{tabIndex:-1,...s,ref:f})}),g&&c.jsx(AD,{ref:d,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});BL(v)}})]})});Xee.displayName=Yee;var Qee="ToastFocusProxy",AD=j.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=m3(Qee,r);return c.jsx(Zj,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var u;const o=a.relatedTarget;!((u=s.viewport)!=null&&u.contains(o))&&n()}})});AD.displayName=Qee;var g3="Toast",rye="toast.swipeStart",nye="toast.swipeMove",iye="toast.swipeCancel",sye="toast.swipeEnd",Jee=j.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...a}=t,[o=!0,l]=Uc({prop:n,defaultProp:i,onChange:s});return c.jsx(ws,{present:r||o,children:c.jsx(lye,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:li(t.onPause),onResume:li(t.onResume),onSwipeStart:mt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:mt(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:mt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:mt(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Jee.displayName=g3;var[aye,oye]=Gee(g3,{onClose(){}}),lye=j.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...g}=t,m=m3(g3,r),[v,x]=j.useState(null),y=br(e,F=>x(F)),w=j.useRef(null),_=j.useRef(null),A=i||m.duration,C=j.useRef(0),N=j.useRef(A),E=j.useRef(0),{onToastAdd:P,onToastRemove:L}=m,O=li(()=>{var z;(v==null?void 0:v.contains(document.activeElement))&&((z=m.viewport)==null||z.focus()),a()}),k=j.useCallback(F=>{!F||F===1/0||(window.clearTimeout(E.current),C.current=new Date().getTime(),E.current=window.setTimeout(O,F))},[O]);j.useEffect(()=>{const F=m.viewport;if(F){const z=()=>{k(N.current),u==null||u()},U=()=>{const H=new Date().getTime()-C.current;N.current=N.current-H,window.clearTimeout(E.current),l==null||l()};return F.addEventListener(_D,U),F.addEventListener(SD,z),()=>{F.removeEventListener(_D,U),F.removeEventListener(SD,z)}}},[m.viewport,A,l,u,k]),j.useEffect(()=>{s&&!m.isClosePausedRef.current&&k(A)},[s,A,m.isClosePausedRef,k]),j.useEffect(()=>(P(),()=>L()),[P,L]);const D=j.useMemo(()=>v?ste(v):null,[v]);return m.viewport?c.jsxs(c.Fragment,{children:[D&&c.jsx(cye,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),c.jsx(aye,{scope:r,onClose:O,children:px.createPortal(c.jsx(M$.ItemSlot,{scope:r,children:c.jsx(qxe,{asChild:!0,onEscapeKeyDown:mt(o,()=>{m.isFocusedToastEscapeKeyDownRef.current||O(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Ut.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:mt(t.onKeyDown,F=>{F.key==="Escape"&&(o==null||o(F.nativeEvent),F.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:mt(t.onPointerDown,F=>{F.button===0&&(w.current={x:F.clientX,y:F.clientY})}),onPointerMove:mt(t.onPointerMove,F=>{if(!w.current)return;const z=F.clientX-w.current.x,U=F.clientY-w.current.y,H=!!_.current,B=["left","right"].includes(m.swipeDirection),X=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,ne=B?X(0,z):0,fe=B?0:X(0,U),I=F.pointerType==="touch"?10:2,q={x:ne,y:fe},V={originalEvent:F,delta:q};H?(_.current=q,JE(nye,h,V,{discrete:!1})):eW(q,m.swipeDirection,I)?(_.current=q,JE(rye,d,V,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(z)>I||Math.abs(U)>I)&&(w.current=null)}),onPointerUp:mt(t.onPointerUp,F=>{const z=_.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),_.current=null,w.current=null,z){const H=F.currentTarget,B={originalEvent:F,delta:z};eW(z,m.swipeDirection,m.swipeThreshold)?JE(sye,p,B,{discrete:!0}):JE(iye,f,B,{discrete:!0}),H.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),cye=t=>{const{__scopeToast:e,children:r,...n}=t,i=m3(g3,e),[s,a]=j.useState(!1),[o,l]=j.useState(!1);return hye(()=>a(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),o?null:c.jsx(Uw,{asChild:!0,children:c.jsx(Zj,{...n,children:s&&c.jsxs(c.Fragment,{children:[i.label," ",r]})})})},uye="ToastTitle",Zee=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ut.div,{...n,ref:e})});Zee.displayName=uye;var dye="ToastDescription",ete=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return c.jsx(Ut.div,{...n,ref:e})});ete.displayName=dye;var tte="ToastAction",rte=j.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?c.jsx(ite,{altText:r,asChild:!0,children:c.jsx(L$,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${tte}\`. Expected non-empty \`string\`.`),null)});rte.displayName=tte;var nte="ToastClose",L$=j.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=oye(nte,r);return c.jsx(ite,{asChild:!0,children:c.jsx(Ut.button,{type:"button",...n,ref:e,onClick:mt(t.onClick,i.onClose)})})});L$.displayName=nte;var ite=j.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return c.jsx(Ut.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function ste(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),fye(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=n.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...ste(n))}}),e}function JE(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?k$(i,s):i.dispatchEvent(s)}var eW=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function hye(t=()=>{}){const e=li(t);bs(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function fye(t){return t.nodeType===t.ELEMENT_NODE}function pye(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function BL(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var mye=Kee,ate=Xee,ote=Jee,lte=Zee,cte=ete,ute=rte,dte=L$;function hte(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=hte(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Tr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=hte(t))&&(n&&(n+=" "),n+=e);return n}const tW=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,rW=Tr,gx=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return rW(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=r==null?void 0:r[u],h=s==null?void 0:s[u];if(d===null)return null;const f=tW(d)||tW(h);return i[u][f]}),o=r&&Object.entries(r).reduce((u,d)=>{let[h,f]=d;return f===void 0||(u[h]=f),u},{}),l=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:f,...p}=d;return Object.entries(p).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...s,...o}[m]):{...s,...o}[m]===v})?[...u,h,f]:u},[]);return rW(t,a,l,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gye=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fte=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xye=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>j.createElement("svg",{ref:l,...vye,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:fte("lucide",i),...o},[...a.map(([u,d])=>j.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=(t,e)=>{const r=j.forwardRef(({className:n,...i},s)=>j.createElement(xye,{ref:s,iconNode:e,className:fte(`lucide-${gye(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=yt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=yt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=yt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=yt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=yt("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yye=yt("BellDot",[["path",{d:"M19.4 14.9C20.2 16.4 21 17 21 17H3s3-2 3-9c0-3.3 2.7-6 6-6 .7 0 1.3.1 1.9.3",key:"xcehk"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["circle",{cx:"18",cy:"8",r:"3",key:"1g0gzu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=yt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=yt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=yt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=yt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bye=yt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=yt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wye=yt("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=yt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=yt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=yt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=yt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ye=yt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=yt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qu=yt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=yt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=yt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=yt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=yt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=yt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=yt("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=yt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=yt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=yt("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=yt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=yt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sye=yt("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aye=yt("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=yt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jye=yt("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=yt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=yt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nye=yt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=yt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=yt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=yt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=yt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=yt("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=yt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=yt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=yt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=yt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cye=yt("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=yt("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tye=yt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=yt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pye=yt("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kye=yt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=yt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oye=yt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=yt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=yt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mye=yt("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=yt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=yt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=yt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lye=yt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=yt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=yt("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=yt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=yt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=yt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iye=yt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=yt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rye=yt("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=yt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=yt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=yt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=yt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=yt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=yt("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=yt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dye=yt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fye=yt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=yt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=yt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ns=yt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ye=yt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=yt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=yt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=yt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),$$="-",Bye=t=>{const e=zye(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split($$);return o[0]===""&&o.length!==1&&o.shift(),Ste(o,e)||Uye(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},Ste=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?Ste(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join($$);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},sW=/^\[(.+)\]$/,Uye=t=>{if(sW.test(t)){const e=sW.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},zye=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Wye(Object.entries(t.classGroups),r).forEach(([s,a])=>{TD(a,n,s,e)}),n},TD=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:aW(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(qye(i)){TD(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{TD(a,aW(e,s),r,n)})})},aW=(t,e)=>{let r=t;return e.split($$).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},qye=t=>t.isThemeGetter,Wye=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,Hye=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},Ate="!",Vye=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,d=0,h;for(let v=0;v<o.length;v++){let x=o[v];if(u===0){if(x===i&&(n||o.slice(v,v+s)===e)){l.push(o.slice(d,v)),d=v+s;continue}if(x==="/"){h=v;continue}}x==="["?u++:x==="]"&&u--}const f=l.length===0?o:o.substring(d),p=f.startsWith(Ate),g=p?f.substring(1):f,m=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:m}};return r?o=>r({className:o,parseClassName:a}):a},Gye=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Kye=t=>({cache:Hye(t.cacheSize),parseClassName:Vye(t),...Bye(t)}),Yye=/\s+/,Xye=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(Yye);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}=r(u);let g=!!p,m=n(g?f.substring(0,p):f);if(!m){if(!g){o=u+(o.length>0?" "+o:o);continue}if(m=n(f),!m){o=u+(o.length>0?" "+o:o);continue}g=!1}const v=Gye(d).join(":"),x=h?v+Ate:v,y=x+m;if(s.includes(y))continue;s.push(y);const w=i(m,g);for(let _=0;_<w.length;++_){const A=w[_];s.push(x+A)}o=u+(o.length>0?" "+o:o)}return o};function Qye(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=jte(e))&&(n&&(n+=" "),n+=r);return n}const jte=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=jte(t[n]))&&(r&&(r+=" "),r+=e);return r};function Jye(t,...e){let r,n,i,s=a;function a(l){const u=e.reduce((d,h)=>h(d),t());return r=Kye(u),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const u=n(l);if(u)return u;const d=Xye(l,r);return i(l,d),d}return function(){return s(Qye.apply(null,arguments))}}const Yn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Nte=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zye=/^\d+\/\d+$/,e1e=new Set(["px","full","screen"]),t1e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,r1e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,n1e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,i1e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s1e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Eh=t=>o1(t)||e1e.has(t)||Zye.test(t),_p=t=>Ww(t,"length",f1e),o1=t=>!!t&&!Number.isNaN(Number(t)),zL=t=>Ww(t,"number",o1),n_=t=>!!t&&Number.isInteger(Number(t)),a1e=t=>t.endsWith("%")&&o1(t.slice(0,-1)),Pr=t=>Nte.test(t),Sp=t=>t1e.test(t),o1e=new Set(["length","size","percentage"]),l1e=t=>Ww(t,o1e,Ete),c1e=t=>Ww(t,"position",Ete),u1e=new Set(["image","url"]),d1e=t=>Ww(t,u1e,m1e),h1e=t=>Ww(t,"",p1e),i_=()=>!0,Ww=(t,e,r)=>{const n=Nte.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},f1e=t=>r1e.test(t)&&!n1e.test(t),Ete=()=>!1,p1e=t=>i1e.test(t),m1e=t=>s1e.test(t),g1e=()=>{const t=Yn("colors"),e=Yn("spacing"),r=Yn("blur"),n=Yn("brightness"),i=Yn("borderColor"),s=Yn("borderRadius"),a=Yn("borderSpacing"),o=Yn("borderWidth"),l=Yn("contrast"),u=Yn("grayscale"),d=Yn("hueRotate"),h=Yn("invert"),f=Yn("gap"),p=Yn("gradientColorStops"),g=Yn("gradientColorStopPositions"),m=Yn("inset"),v=Yn("margin"),x=Yn("opacity"),y=Yn("padding"),w=Yn("saturate"),_=Yn("scale"),A=Yn("sepia"),C=Yn("skew"),N=Yn("space"),E=Yn("translate"),P=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",Pr,e],k=()=>[Pr,e],D=()=>["",Eh,_p],F=()=>["auto",o1,Pr],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],B=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Pr],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[o1,Pr];return{cacheSize:500,separator:":",theme:{colors:[i_],spacing:[Eh,_p],blur:["none","",Sp,Pr],brightness:fe(),borderColor:[t],borderRadius:["none","","full",Sp,Pr],borderSpacing:k(),borderWidth:D(),contrast:fe(),grayscale:X(),hueRotate:fe(),invert:X(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[a1e,_p],inset:O(),margin:O(),opacity:fe(),padding:k(),saturate:fe(),scale:fe(),sepia:X(),skew:fe(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",Pr]}],container:["container"],columns:[{columns:[Sp]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),Pr]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",n_,Pr]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Pr]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",n_,Pr]}],"grid-cols":[{"grid-cols":[i_]}],"col-start-end":[{col:["auto",{span:["full",n_,Pr]},Pr]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[i_]}],"row-start-end":[{row:["auto",{span:[n_,Pr]},Pr]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Pr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Pr]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...B()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...B(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...B(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Pr,e]}],"min-w":[{"min-w":[Pr,e,"min","max","fit"]}],"max-w":[{"max-w":[Pr,e,"none","full","min","max","fit","prose",{screen:[Sp]},Sp]}],h:[{h:[Pr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Pr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Pr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Pr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Sp,_p]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zL]}],"font-family":[{font:[i_]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Pr]}],"line-clamp":[{"line-clamp":["none",o1,zL]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Eh,Pr]}],"list-image":[{"list-image":["none",Pr]}],"list-style-type":[{list:["none","disc","decimal",Pr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Eh,_p]}],"underline-offset":[{"underline-offset":["auto",Eh,Pr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Pr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Pr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),c1e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l1e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d1e]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Eh,Pr]}],"outline-w":[{outline:[Eh,_p]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Eh,_p]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Sp,h1e]}],"shadow-color":[{shadow:[i_]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Sp,Pr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Pr]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",Pr]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",Pr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[n_,Pr]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Pr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Pr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Pr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Eh,_p,zL]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},v1e=Jye(g1e);function He(...t){return v1e(Tr(t))}const x1e=mye,Cte=j.forwardRef(({className:t,...e},r)=>c.jsx(ate,{ref:r,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Cte.displayName=ate.displayName;const y1e=gx("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Tte=j.forwardRef(({className:t,variant:e,...r},n)=>c.jsx(ote,{ref:n,className:He(y1e({variant:e}),t),...r}));Tte.displayName=ote.displayName;const b1e=j.forwardRef(({className:t,...e},r)=>c.jsx(ute,{ref:r,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));b1e.displayName=ute.displayName;const Pte=j.forwardRef(({className:t,...e},r)=>c.jsx(dte,{ref:r,className:He("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:c.jsx(rh,{className:"h-4 w-4"})}));Pte.displayName=dte.displayName;const kte=j.forwardRef(({className:t,...e},r)=>c.jsx(lte,{ref:r,className:He("text-sm font-semibold",t),...e}));kte.displayName=lte.displayName;const Ote=j.forwardRef(({className:t,...e},r)=>c.jsx(cte,{ref:r,className:He("text-sm opacity-90",t),...e}));Ote.displayName=cte.displayName;function w1e(){const{toasts:t}=Kr();return c.jsxs(x1e,{children:[t.map(function({id:e,title:r,description:n,action:i,...s}){return c.jsxs(Tte,{...s,children:[c.jsxs("div",{className:"grid gap-1",children:[r&&c.jsx(kte,{children:r}),n&&c.jsx(Ote,{children:n})]}),i,c.jsx(Pte,{})]},e)}),c.jsx(Cte,{})]})}var oW=["light","dark"],_1e="(prefers-color-scheme: dark)",S1e=j.createContext(void 0),A1e={setTheme:t=>{},themes:[]},j1e=()=>{var t;return(t=j.useContext(S1e))!=null?t:A1e};j.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:l})=>{let u=s==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,h=i?oW.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",f=(g,m=!1,v=!0)=>{let x=a?a[g]:g,y=m?g+"|| ''":`'${x}'`,w="";return i&&v&&!m&&oW.includes(g)&&(w+=`d.style.colorScheme = '${g}';`),r==="class"?m||x?w+=`c.add(${y})`:w+="null":x&&(w+=`d[s](n,${y})`),w},p=t?`!function(){${d}${f(t)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${_1e}',m=window.matchMedia(t);if(m.media!==t||m.matches){${f("dark")}}else{${f("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}${u?"":"else{"+f(s,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${f(a?"x[e]":"e",!0)}}else{${f(s,!1,!1)};}${h}}catch(t){}}();`;return j.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:p}})});var N1e=t=>{switch(t){case"success":return T1e;case"info":return k1e;case"warning":return P1e;case"error":return O1e;default:return null}},E1e=Array(12).fill(0),C1e=({visible:t})=>ue.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},ue.createElement("div",{className:"sonner-spinner"},E1e.map((e,r)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),T1e=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),P1e=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),k1e=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),O1e=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),M1e=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},PD=1,L1e=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;let{message:n,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:PD++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),this.subscribers.forEach(r=>r({id:e,dismiss:!0})),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));let i=e instanceof Promise?e:e(),s=n!==void 0;return i.then(async a=>{if(R1e(a)&&!a.ok){s=!1;let o=typeof r.error=="function"?await r.error(`HTTP error! status: ${a.status}`):r.error,l=typeof r.description=="function"?await r.description(`HTTP error! status: ${a.status}`):r.description;this.create({id:n,type:"error",message:o,description:l})}else if(r.success!==void 0){s=!1;let o=typeof r.success=="function"?await r.success(a):r.success,l=typeof r.description=="function"?await r.description(a):r.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async a=>{if(r.error!==void 0){s=!1;let o=typeof r.error=="function"?await r.error(a):r.error,l=typeof r.description=="function"?await r.description(a):r.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var a;s&&(this.dismiss(n),n=void 0),(a=r.finally)==null||a.call(r)}),n},this.custom=(e,r)=>{let n=(r==null?void 0:r.id)||PD++;return this.create({jsx:e(n),id:n,...r}),n},this.subscribers=[],this.toasts=[]}},Nl=new L1e,I1e=(t,e)=>{let r=(e==null?void 0:e.id)||PD++;return Nl.addToast({title:t,...e,id:r}),r},R1e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",D1e=I1e,F1e=()=>Nl.toasts;Object.assign(D1e,{success:Nl.success,info:Nl.info,warning:Nl.warning,error:Nl.error,custom:Nl.custom,message:Nl.message,promise:Nl.promise,dismiss:Nl.dismiss,loading:Nl.loading},{getHistory:F1e});function $1e(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}$1e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function ZE(t){return t.label!==void 0}var B1e=3,U1e="32px",z1e=4e3,q1e=356,W1e=14,H1e=20,V1e=200;function G1e(...t){return t.filter(Boolean).join(" ")}var K1e=t=>{var e,r,n,i,s,a,o,l,u,d;let{invert:h,toast:f,unstyled:p,interacting:g,setHeights:m,visibleToasts:v,heights:x,index:y,toasts:w,expanded:_,removeToast:A,defaultRichColors:C,closeButton:N,style:E,cancelButtonStyle:P,actionButtonStyle:L,className:O="",descriptionClassName:k="",duration:D,position:F,gap:z,loadingIcon:U,expandByDefault:H,classNames:B,icons:X,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:fe,cn:I}=t,[q,V]=ue.useState(!1),[K,Y]=ue.useState(!1),[ae,pe]=ue.useState(!1),[le,ye]=ue.useState(!1),[Se,we]=ue.useState(0),[We,Ve]=ue.useState(0),ke=ue.useRef(null),Q=ue.useRef(null),_e=y===0,Ue=y+1<=v,Te=f.type,qe=f.dismissible!==!1,rt=f.className||"",ct=f.descriptionClassName||"",$e=ue.useMemo(()=>x.findIndex(xt=>xt.toastId===f.id)||0,[x,f.id]),At=ue.useMemo(()=>{var xt;return(xt=f.closeButton)!=null?xt:N},[f.closeButton,N]),Rt=ue.useMemo(()=>f.duration||D||z1e,[f.duration,D]),Yt=ue.useRef(0),ar=ue.useRef(0),or=ue.useRef(0),Ht=ue.useRef(null),[et,Xe]=F.split("-"),Lt=ue.useMemo(()=>x.reduce((xt,Jt,Zt)=>Zt>=$e?xt:xt+Jt.height,0),[x,$e]),Ot=M1e(),hr=f.invert||h,vr=Te==="loading";ar.current=ue.useMemo(()=>$e*z+Lt,[$e,Lt]),ue.useEffect(()=>{V(!0)},[]),ue.useLayoutEffect(()=>{if(!q)return;let xt=Q.current,Jt=xt.style.height;xt.style.height="auto";let Zt=xt.getBoundingClientRect().height;xt.style.height=Jt,Ve(Zt),m(Rn=>Rn.find(Kn=>Kn.toastId===f.id)?Rn.map(Kn=>Kn.toastId===f.id?{...Kn,height:Zt}:Kn):[{toastId:f.id,height:Zt,position:f.position},...Rn])},[q,f.title,f.description,m,f.id]);let lr=ue.useCallback(()=>{Y(!0),we(ar.current),m(xt=>xt.filter(Jt=>Jt.toastId!==f.id)),setTimeout(()=>{A(f)},V1e)},[f,A,m,ar]);ue.useEffect(()=>{if(f.promise&&Te==="loading"||f.duration===1/0||f.type==="loading")return;let xt,Jt=Rt;return _||g||fe&&Ot?(()=>{if(or.current<Yt.current){let Zt=new Date().getTime()-Yt.current;Jt=Jt-Zt}or.current=new Date().getTime()})():Jt!==1/0&&(Yt.current=new Date().getTime(),xt=setTimeout(()=>{var Zt;(Zt=f.onAutoClose)==null||Zt.call(f,f),lr()},Jt)),()=>clearTimeout(xt)},[_,g,H,f,Rt,lr,f.promise,Te,fe,Ot]),ue.useEffect(()=>{let xt=Q.current;if(xt){let Jt=xt.getBoundingClientRect().height;return Ve(Jt),m(Zt=>[{toastId:f.id,height:Jt,position:f.position},...Zt]),()=>m(Zt=>Zt.filter(Rn=>Rn.toastId!==f.id))}},[m,f.id]),ue.useEffect(()=>{f.delete&&lr()},[lr,f.delete]);function Gn(){return X!=null&&X.loading?ue.createElement("div",{className:"sonner-loader","data-visible":Te==="loading"},X.loading):U?ue.createElement("div",{className:"sonner-loader","data-visible":Te==="loading"},U):ue.createElement(C1e,{visible:Te==="loading"})}return ue.createElement("li",{"aria-live":f.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Q,className:I(O,rt,B==null?void 0:B.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[Te],(r=f==null?void 0:f.classNames)==null?void 0:r[Te]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:C,"data-styled":!(f.jsx||f.unstyled||p),"data-mounted":q,"data-promise":!!f.promise,"data-removed":K,"data-visible":Ue,"data-y-position":et,"data-x-position":Xe,"data-index":y,"data-front":_e,"data-swiping":ae,"data-dismissible":qe,"data-type":Te,"data-invert":hr,"data-swipe-out":le,"data-expanded":!!(_||H&&q),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${K?Se:ar.current}px`,"--initial-height":H?"auto":`${We}px`,...E,...f.style},onPointerDown:xt=>{vr||!qe||(ke.current=new Date,we(ar.current),xt.target.setPointerCapture(xt.pointerId),xt.target.tagName!=="BUTTON"&&(pe(!0),Ht.current={x:xt.clientX,y:xt.clientY}))},onPointerUp:()=>{var xt,Jt,Zt,Rn;if(le||!qe)return;Ht.current=null;let Kn=Number(((xt=Q.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Zr=new Date().getTime()-((Jt=ke.current)==null?void 0:Jt.getTime()),cr=Math.abs(Kn)/Zr;if(Math.abs(Kn)>=H1e||cr>.11){we(ar.current),(Zt=f.onDismiss)==null||Zt.call(f,f),lr(),ye(!0);return}(Rn=Q.current)==null||Rn.style.setProperty("--swipe-amount","0px"),pe(!1)},onPointerMove:xt=>{var Jt;if(!Ht.current||!qe)return;let Zt=xt.clientY-Ht.current.y,Rn=xt.clientX-Ht.current.x,Kn=(et==="top"?Math.min:Math.max)(0,Zt),Zr=xt.pointerType==="touch"?10:2;Math.abs(Kn)>Zr?(Jt=Q.current)==null||Jt.style.setProperty("--swipe-amount",`${Zt}px`):Math.abs(Rn)>Zr&&(Ht.current=null)}},At&&!f.jsx?ue.createElement("button",{"aria-label":ne,"data-disabled":vr,"data-close-button":!0,onClick:vr||!qe?()=>{}:()=>{var xt;lr(),(xt=f.onDismiss)==null||xt.call(f,f)},className:I(B==null?void 0:B.closeButton,(i=f==null?void 0:f.classNames)==null?void 0:i.closeButton)},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,f.jsx||ue.isValidElement(f.title)?f.jsx||f.title:ue.createElement(ue.Fragment,null,Te||f.icon||f.promise?ue.createElement("div",{"data-icon":"",className:I(B==null?void 0:B.icon,(s=f==null?void 0:f.classNames)==null?void 0:s.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Gn():null,f.type!=="loading"?f.icon||(X==null?void 0:X[Te])||N1e(Te):null):null,ue.createElement("div",{"data-content":"",className:I(B==null?void 0:B.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},ue.createElement("div",{"data-title":"",className:I(B==null?void 0:B.title,(o=f==null?void 0:f.classNames)==null?void 0:o.title)},f.title),f.description?ue.createElement("div",{"data-description":"",className:I(k,ct,B==null?void 0:B.description,(l=f==null?void 0:f.classNames)==null?void 0:l.description)},f.description):null),ue.isValidElement(f.cancel)?f.cancel:f.cancel&&ZE(f.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||P,onClick:xt=>{var Jt,Zt;ZE(f.cancel)&&qe&&((Zt=(Jt=f.cancel).onClick)==null||Zt.call(Jt,xt),lr())},className:I(B==null?void 0:B.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,ue.isValidElement(f.action)?f.action:f.action&&ZE(f.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||L,onClick:xt=>{var Jt,Zt;ZE(f.action)&&(xt.defaultPrevented||((Zt=(Jt=f.action).onClick)==null||Zt.call(Jt,xt),lr()))},className:I(B==null?void 0:B.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function lW(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var Y1e=t=>{let{invert:e,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:i,closeButton:s,className:a,offset:o,theme:l="light",richColors:u,duration:d,style:h,visibleToasts:f=B1e,toastOptions:p,dir:g=lW(),gap:m=W1e,loadingIcon:v,icons:x,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:w,cn:_=G1e}=t,[A,C]=ue.useState([]),N=ue.useMemo(()=>Array.from(new Set([r].concat(A.filter(fe=>fe.position).map(fe=>fe.position)))),[A,r]),[E,P]=ue.useState([]),[L,O]=ue.useState(!1),[k,D]=ue.useState(!1),[F,z]=ue.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=ue.useRef(null),H=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=ue.useRef(null),X=ue.useRef(!1),ne=ue.useCallback(fe=>{var I;(I=A.find(q=>q.id===fe.id))!=null&&I.delete||Nl.dismiss(fe.id),C(q=>q.filter(({id:V})=>V!==fe.id))},[A]);return ue.useEffect(()=>Nl.subscribe(fe=>{if(fe.dismiss){C(I=>I.map(q=>q.id===fe.id?{...q,delete:!0}:q));return}setTimeout(()=>{zee.flushSync(()=>{C(I=>{let q=I.findIndex(V=>V.id===fe.id);return q!==-1?[...I.slice(0,q),{...I[q],...fe},...I.slice(q+1)]:[fe,...I]})})})}),[]),ue.useEffect(()=>{if(l!=="system"){z(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:fe})=>{z(fe?"dark":"light")})},[l]),ue.useEffect(()=>{A.length<=1&&O(!1)},[A]),ue.useEffect(()=>{let fe=I=>{var q,V;n.every(K=>I[K]||I.code===K)&&(O(!0),(q=U.current)==null||q.focus()),I.code==="Escape"&&(document.activeElement===U.current||(V=U.current)!=null&&V.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",fe),()=>document.removeEventListener("keydown",fe)},[n]),ue.useEffect(()=>{if(U.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,X.current=!1)}},[U.current]),A.length?ue.createElement("section",{"aria-label":`${y} ${H}`,tabIndex:-1},N.map((fe,I)=>{var q;let[V,K]=fe.split("-");return ue.createElement("ol",{key:fe,dir:g==="auto"?lW():g,tabIndex:-1,ref:U,className:a,"data-sonner-toaster":!0,"data-theme":F,"data-y-position":V,"data-x-position":K,style:{"--front-toast-height":`${((q=E[0])==null?void 0:q.height)||0}px`,"--offset":typeof o=="number"?`${o}px`:o||U1e,"--width":`${q1e}px`,"--gap":`${m}px`,...h},onBlur:Y=>{X.current&&!Y.currentTarget.contains(Y.relatedTarget)&&(X.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||X.current||(X.current=!0,B.current=Y.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{k||O(!1)},onPointerDown:Y=>{Y.target instanceof HTMLElement&&Y.target.dataset.dismissible==="false"||D(!0)},onPointerUp:()=>D(!1)},A.filter(Y=>!Y.position&&I===0||Y.position===fe).map((Y,ae)=>{var pe,le;return ue.createElement(K1e,{key:Y.id,icons:x,index:ae,toast:Y,defaultRichColors:u,duration:(pe=p==null?void 0:p.duration)!=null?pe:d,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:f,closeButton:(le=p==null?void 0:p.closeButton)!=null?le:s,interacting:k,position:fe,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ne,toasts:A.filter(ye=>ye.position==Y.position),heights:E.filter(ye=>ye.position==Y.position),setHeights:P,expandByDefault:i,gap:m,loadingIcon:v,expanded:L,pauseWhenPageIsHidden:w,cn:_})}))})):null};const X1e=({...t})=>{const{theme:e="system"}=j1e();return c.jsx(Y1e,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Q1e=$J.useId||(()=>{}),J1e=0;function Lc(t){const[e,r]=j.useState(Q1e());return bs(()=>{t||r(n=>n??String(J1e++))},[t]),t||(e?`radix-${e}`:"")}const Z1e=["top","right","bottom","left"],Qm=Math.min,Ml=Math.max,LP=Math.round,eC=Math.floor,Jm=t=>({x:t,y:t}),ebe={left:"right",right:"left",bottom:"top",top:"bottom"},tbe={start:"end",end:"start"};function kD(t,e,r){return Ml(t,Qm(e,r))}function zf(t,e){return typeof t=="function"?t(e):t}function qf(t){return t.split("-")[0]}function Hw(t){return t.split("-")[1]}function B$(t){return t==="x"?"y":"x"}function U$(t){return t==="y"?"height":"width"}function Zm(t){return["top","bottom"].includes(qf(t))?"y":"x"}function z$(t){return B$(Zm(t))}function rbe(t,e,r){r===void 0&&(r=!1);const n=Hw(t),i=z$(t),s=U$(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=IP(a)),[a,IP(a)]}function nbe(t){const e=IP(t);return[OD(t),e,OD(e)]}function OD(t){return t.replace(/start|end/g,e=>tbe[e])}function ibe(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:a;default:return[]}}function sbe(t,e,r,n){const i=Hw(t);let s=ibe(qf(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(OD)))),s}function IP(t){return t.replace(/left|right|bottom|top/g,e=>ebe[e])}function abe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Mte(t){return typeof t!="number"?abe(t):{top:t,right:t,bottom:t,left:t}}function RP(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function cW(t,e,r){let{reference:n,floating:i}=t;const s=Zm(e),a=z$(e),o=U$(a),l=qf(e),u=s==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,f=n[o]/2-i[o]/2;let p;switch(l){case"top":p={x:d,y:n.y-i.height};break;case"bottom":p={x:d,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:h};break;case"left":p={x:n.x-i.width,y:h};break;default:p={x:n.x,y:n.y}}switch(Hw(e)){case"start":p[a]-=f*(r&&u?-1:1);break;case"end":p[a]+=f*(r&&u?-1:1);break}return p}const obe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=cW(u,n,l),f=n,p={},g=0;for(let m=0;m<o.length;m++){const{name:v,fn:x}=o[m],{x:y,y:w,data:_,reset:A}=await x({x:d,y:h,initialPlacement:n,placement:f,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:t,floating:e}});d=y??d,h=w??h,p={...p,[v]:{...p[v],..._}},A&&g<=50&&(g++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:d,y:h}=cW(u,f,l)),m=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}};async function mA(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=zf(e,t),g=Mte(p),v=o[f?h==="floating"?"reference":"floating":h],x=RP(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(v)))==null||r?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),y=h==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),_=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},A=RP(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:w,strategy:l}):y);return{top:(x.top-A.top+g.top)/_.y,bottom:(A.bottom-x.bottom+g.bottom)/_.y,left:(x.left-A.left+g.left)/_.x,right:(A.right-x.right+g.right)/_.x}}const lbe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=zf(t,e)||{};if(u==null)return{};const h=Mte(d),f={x:r,y:n},p=z$(i),g=U$(p),m=await a.getDimensions(u),v=p==="y",x=v?"top":"left",y=v?"bottom":"right",w=v?"clientHeight":"clientWidth",_=s.reference[g]+s.reference[p]-f[p]-s.floating[g],A=f[p]-s.reference[p],C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let N=C?C[w]:0;(!N||!await(a.isElement==null?void 0:a.isElement(C)))&&(N=o.floating[w]||s.floating[g]);const E=_/2-A/2,P=N/2-m[g]/2-1,L=Qm(h[x],P),O=Qm(h[y],P),k=L,D=N-m[g]-O,F=N/2-m[g]/2+E,z=kD(k,F,D),U=!l.arrow&&Hw(i)!=null&&F!==z&&s.reference[g]/2-(F<k?L:O)-m[g]/2<0,H=U?F<k?F-k:F-D:0;return{[p]:f[p]+H,data:{[p]:z,centerOffset:F-z-H,...U&&{alignmentOffset:H}},reset:U}}}),cbe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:m=!0,...v}=zf(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=qf(i),y=Zm(o),w=qf(o)===o,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),A=f||(w||!m?[IP(o)]:nbe(o)),C=g!=="none";!f&&C&&A.push(...sbe(o,m,g,_));const N=[o,...A],E=await mA(e,v),P=[];let L=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&P.push(E[x]),h){const F=rbe(i,a,_);P.push(E[F[0]],E[F[1]])}if(L=[...L,{placement:i,overflows:P}],!P.every(F=>F<=0)){var O,k;const F=(((O=s.flip)==null?void 0:O.index)||0)+1,z=N[F];if(z)return{data:{index:F,overflows:L},reset:{placement:z}};let U=(k=L.filter(H=>H.overflows[0]<=0).sort((H,B)=>H.overflows[1]-B.overflows[1])[0])==null?void 0:k.placement;if(!U)switch(p){case"bestFit":{var D;const H=(D=L.filter(B=>{if(C){const X=Zm(B.placement);return X===y||X==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(X=>X>0).reduce((X,ne)=>X+ne,0)]).sort((B,X)=>B[1]-X[1])[0])==null?void 0:D[0];H&&(U=H);break}case"initialPlacement":U=o;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function uW(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function dW(t){return Z1e.some(e=>t[e]>=0)}const ube=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=zf(t,e);switch(n){case"referenceHidden":{const s=await mA(e,{...i,elementContext:"reference"}),a=uW(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:dW(a)}}}case"escaped":{const s=await mA(e,{...i,altBoundary:!0}),a=uW(s,r.floating);return{data:{escapedOffsets:a,escaped:dW(a)}}}default:return{}}}}};async function dbe(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=qf(r),o=Hw(r),l=Zm(r)==="y",u=["left","top"].includes(a)?-1:1,d=s&&l?-1:1,h=zf(e,t);let{mainAxis:f,crossAxis:p,alignmentAxis:g}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof g=="number"&&(p=o==="end"?g*-1:g),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}const hbe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await dbe(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},fbe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x,y}=v;return{x,y}}},...l}=zf(t,e),u={x:r,y:n},d=await mA(e,l),h=Zm(qf(i)),f=B$(h);let p=u[f],g=u[h];if(s){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=p+d[v],w=p-d[x];p=kD(y,p,w)}if(a){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=g+d[v],w=g-d[x];g=kD(y,g,w)}const m=o.fn({...e,[f]:p,[h]:g});return{...m,data:{x:m.x-r,y:m.y-n,enabled:{[f]:s,[h]:a}}}}}},pbe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=zf(t,e),d={x:r,y:n},h=Zm(i),f=B$(h);let p=d[f],g=d[h];const m=zf(o,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const w=f==="y"?"height":"width",_=s.reference[f]-s.floating[w]+v.mainAxis,A=s.reference[f]+s.reference[w]-v.mainAxis;p<_?p=_:p>A&&(p=A)}if(u){var x,y;const w=f==="y"?"width":"height",_=["top","left"].includes(qf(i)),A=s.reference[h]-s.floating[w]+(_&&((x=a.offset)==null?void 0:x[h])||0)+(_?0:v.crossAxis),C=s.reference[h]+s.reference[w]+(_?0:((y=a.offset)==null?void 0:y[h])||0)-(_?v.crossAxis:0);g<A?g=A:g>C&&(g=C)}return{[f]:p,[h]:g}}}},mbe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...u}=zf(t,e),d=await mA(e,u),h=qf(i),f=Hw(i),p=Zm(i)==="y",{width:g,height:m}=s.floating;let v,x;h==="top"||h==="bottom"?(v=h,x=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(x=h,v=f==="end"?"top":"bottom");const y=m-d.top-d.bottom,w=g-d.left-d.right,_=Qm(m-d[v],y),A=Qm(g-d[x],w),C=!e.middlewareData.shift;let N=_,E=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(E=w),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(N=y),C&&!f){const L=Ml(d.left,0),O=Ml(d.right,0),k=Ml(d.top,0),D=Ml(d.bottom,0);p?E=g-2*(L!==0||O!==0?L+O:Ml(d.left,d.right)):N=m-2*(k!==0||D!==0?k+D:Ml(d.top,d.bottom))}await l({...e,availableWidth:E,availableHeight:N});const P=await a.getDimensions(o.floating);return g!==P.width||m!==P.height?{reset:{rects:!0}}:{}}}};function w3(){return typeof window<"u"}function Vw(t){return Lte(t)?(t.nodeName||"").toLowerCase():"#document"}function Hl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function uh(t){var e;return(e=(Lte(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Lte(t){return w3()?t instanceof Node||t instanceof Hl(t).Node:!1}function Wu(t){return w3()?t instanceof Element||t instanceof Hl(t).Element:!1}function nh(t){return w3()?t instanceof HTMLElement||t instanceof Hl(t).HTMLElement:!1}function hW(t){return!w3()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Hl(t).ShadowRoot}function sN(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Hu(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function gbe(t){return["table","td","th"].includes(Vw(t))}function _3(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function q$(t){const e=W$(),r=Wu(t)?Hu(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function vbe(t){let e=e0(t);for(;nh(e)&&!Zb(e);){if(q$(e))return e;if(_3(e))return null;e=e0(e)}return null}function W$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zb(t){return["html","body","#document"].includes(Vw(t))}function Hu(t){return Hl(t).getComputedStyle(t)}function S3(t){return Wu(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function e0(t){if(Vw(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hW(t)&&t.host||uh(t);return hW(e)?e.host:e}function Ite(t){const e=e0(t);return Zb(e)?t.ownerDocument?t.ownerDocument.body:t.body:nh(e)&&sN(e)?e:Ite(e)}function gA(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=Ite(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Hl(i);if(s){const o=MD(a);return e.concat(a,a.visualViewport||[],sN(i)?i:[],o&&r?gA(o):[])}return e.concat(i,gA(i,[],r))}function MD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Rte(t){const e=Hu(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=nh(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=LP(r)!==s||LP(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function H$(t){return Wu(t)?t:t.contextElement}function l1(t){const e=H$(t);if(!nh(e))return Jm(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=Rte(e);let a=(s?LP(r.width):r.width)/n,o=(s?LP(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const xbe=Jm(0);function Dte(t){const e=Hl(t);return!W$()||!e.visualViewport?xbe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ybe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Hl(t)?!1:e}function Kv(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=H$(t);let a=Jm(1);e&&(n?Wu(n)&&(a=l1(n)):a=l1(t));const o=ybe(s,r,n)?Dte(s):Jm(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const f=Hl(s),p=n&&Wu(n)?Hl(n):n;let g=f,m=MD(g);for(;m&&n&&p!==g;){const v=l1(m),x=m.getBoundingClientRect(),y=Hu(m),w=x.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,_=x.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,u*=v.y,d*=v.x,h*=v.y,l+=w,u+=_,g=Hl(m),m=MD(g)}}return RP({width:d,height:h,x:l,y:u})}function bbe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=uh(n),o=e?_3(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},u=Jm(1);const d=Jm(0),h=nh(n);if((h||!h&&!s)&&((Vw(n)!=="body"||sN(a))&&(l=S3(n)),nh(n))){const f=Kv(n);u=l1(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x,y:r.y*u.y-l.scrollTop*u.y+d.y}}function wbe(t){return Array.from(t.getClientRects())}function LD(t,e){const r=S3(t).scrollLeft;return e?e.left+r:Kv(uh(t)).left+r}function _be(t){const e=uh(t),r=S3(t),n=t.ownerDocument.body,i=Ml(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ml(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+LD(t);const o=-r.scrollTop;return Hu(n).direction==="rtl"&&(a+=Ml(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Sbe(t,e){const r=Hl(t),n=uh(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=W$();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}function Abe(t,e){const r=Kv(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=nh(t)?l1(t):Jm(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,u=n*s.y;return{width:a,height:o,x:l,y:u}}function fW(t,e,r){let n;if(e==="viewport")n=Sbe(t,r);else if(e==="document")n=_be(uh(t));else if(Wu(e))n=Abe(e,r);else{const i=Dte(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return RP(n)}function Fte(t,e){const r=e0(t);return r===e||!Wu(r)||Zb(r)?!1:Hu(r).position==="fixed"||Fte(r,e)}function jbe(t,e){const r=e.get(t);if(r)return r;let n=gA(t,[],!1).filter(o=>Wu(o)&&Vw(o)!=="body"),i=null;const s=Hu(t).position==="fixed";let a=s?e0(t):t;for(;Wu(a)&&!Zb(a);){const o=Hu(a),l=q$(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||sN(a)&&!l&&Fte(t,a))?n=n.filter(d=>d!==a):i=o,a=e0(a)}return e.set(t,n),n}function Nbe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?_3(e)?[]:jbe(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((u,d)=>{const h=fW(e,d,i);return u.top=Ml(h.top,u.top),u.right=Qm(h.right,u.right),u.bottom=Qm(h.bottom,u.bottom),u.left=Ml(h.left,u.left),u},fW(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ebe(t){const{width:e,height:r}=Rte(t);return{width:e,height:r}}function Cbe(t,e,r){const n=nh(e),i=uh(e),s=r==="fixed",a=Kv(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Jm(0);if(n||!n&&!s)if((Vw(e)!=="body"||sN(i))&&(o=S3(e)),n){const p=Kv(e,!0,s,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=LD(i));let u=0,d=0;if(i&&!n&&!s){const p=i.getBoundingClientRect();d=p.top+o.scrollTop,u=p.left+o.scrollLeft-LD(i,p)}const h=a.left+o.scrollLeft-l.x-u,f=a.top+o.scrollTop-l.y-d;return{x:h,y:f,width:a.width,height:a.height}}function qL(t){return Hu(t).position==="static"}function pW(t,e){if(!nh(t)||Hu(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return uh(t)===r&&(r=r.ownerDocument.body),r}function $te(t,e){const r=Hl(t);if(_3(t))return r;if(!nh(t)){let i=e0(t);for(;i&&!Zb(i);){if(Wu(i)&&!qL(i))return i;i=e0(i)}return r}let n=pW(t,e);for(;n&&gbe(n)&&qL(n);)n=pW(n,e);return n&&Zb(n)&&qL(n)&&!q$(n)?r:n||vbe(t)||r}const Tbe=async function(t){const e=this.getOffsetParent||$te,r=this.getDimensions,n=await r(t.floating);return{reference:Cbe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Pbe(t){return Hu(t).direction==="rtl"}const kbe={convertOffsetParentRelativeRectToViewportRelativeRect:bbe,getDocumentElement:uh,getClippingRect:Nbe,getOffsetParent:$te,getElementRects:Tbe,getClientRects:wbe,getDimensions:Ebe,getScale:l1,isElement:Wu,isRTL:Pbe};function Obe(t,e){let r=null,n;const i=uh(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const{left:u,top:d,width:h,height:f}=t.getBoundingClientRect();if(o||e(),!h||!f)return;const p=eC(d),g=eC(i.clientWidth-(u+h)),m=eC(i.clientHeight-(d+f)),v=eC(u),y={rootMargin:-p+"px "+-g+"px "+-m+"px "+-v+"px",threshold:Ml(0,Qm(1,l))||1};let w=!0;function _(A){const C=A[0].intersectionRatio;if(C!==l){if(!w)return a();C?a(!1,C):n=setTimeout(()=>{a(!1,1e-7)},1e3)}w=!1}try{r=new IntersectionObserver(_,{...y,root:i.ownerDocument})}catch{r=new IntersectionObserver(_,y)}r.observe(t)}return a(!0),s}function Mbe(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=H$(t),d=i||s?[...u?gA(u):[],...gA(e)]:[];d.forEach(x=>{i&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const h=u&&o?Obe(u,r):null;let f=-1,p=null;a&&(p=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var w;(w=p)==null||w.observe(e)})),r()}),u&&!l&&p.observe(u),p.observe(e));let g,m=l?Kv(t):null;l&&v();function v(){const x=Kv(t);m&&(x.x!==m.x||x.y!==m.y||x.width!==m.width||x.height!==m.height)&&r(),m=x,g=requestAnimationFrame(v)}return r(),()=>{var x;d.forEach(y=>{i&&y.removeEventListener("scroll",r),s&&y.removeEventListener("resize",r)}),h==null||h(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Lbe=hbe,Ibe=fbe,Rbe=cbe,Dbe=mbe,Fbe=ube,mW=lbe,$be=pbe,Bbe=(t,e,r)=>{const n=new Map,i={platform:kbe,...r},s={...i.platform,_c:n};return obe(t,e,{...i,platform:s})};var vT=typeof document<"u"?j.useLayoutEffect:j.useEffect;function DP(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!DP(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!DP(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Bte(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function gW(t,e){const r=Bte(t);return Math.round(e*r)/r}function WL(t){const e=j.useRef(t);return vT(()=>{e.current=t}),e}function Ube(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,h]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[f,p]=j.useState(n);DP(f,n)||p(n);const[g,m]=j.useState(null),[v,x]=j.useState(null),y=j.useCallback(B=>{B!==C.current&&(C.current=B,m(B))},[]),w=j.useCallback(B=>{B!==N.current&&(N.current=B,x(B))},[]),_=s||g,A=a||v,C=j.useRef(null),N=j.useRef(null),E=j.useRef(d),P=l!=null,L=WL(l),O=WL(i),k=WL(u),D=j.useCallback(()=>{if(!C.current||!N.current)return;const B={placement:e,strategy:r,middleware:f};O.current&&(B.platform=O.current),Bbe(C.current,N.current,B).then(X=>{const ne={...X,isPositioned:k.current!==!1};F.current&&!DP(E.current,ne)&&(E.current=ne,px.flushSync(()=>{h(ne)}))})},[f,e,r,O,k]);vT(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[u]);const F=j.useRef(!1);vT(()=>(F.current=!0,()=>{F.current=!1}),[]),vT(()=>{if(_&&(C.current=_),A&&(N.current=A),_&&A){if(L.current)return L.current(_,A,D);D()}},[_,A,D,L,P]);const z=j.useMemo(()=>({reference:C,floating:N,setReference:y,setFloating:w}),[y,w]),U=j.useMemo(()=>({reference:_,floating:A}),[_,A]),H=j.useMemo(()=>{const B={position:r,left:0,top:0};if(!U.floating)return B;const X=gW(U.floating,d.x),ne=gW(U.floating,d.y);return o?{...B,transform:"translate("+X+"px, "+ne+"px)",...Bte(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:ne}},[r,o,U.floating,d.x,d.y]);return j.useMemo(()=>({...d,update:D,refs:z,elements:U,floatingStyles:H}),[d,D,z,U,H])}const zbe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?mW({element:n.current,padding:i}).fn(r):{}:n?mW({element:n,padding:i}).fn(r):{}}}},qbe=(t,e)=>({...Lbe(t),options:[t,e]}),Wbe=(t,e)=>({...Ibe(t),options:[t,e]}),Hbe=(t,e)=>({...$be(t),options:[t,e]}),Vbe=(t,e)=>({...Rbe(t),options:[t,e]}),Gbe=(t,e)=>({...Dbe(t),options:[t,e]}),Kbe=(t,e)=>({...Fbe(t),options:[t,e]}),Ybe=(t,e)=>({...zbe(t),options:[t,e]});var Xbe="Arrow",Ute=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return c.jsx(Ut.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ute.displayName=Xbe;var Qbe=Ute;function Jbe(t,e=[]){let r=[];function n(s,a){const o=j.createContext(a),l=r.length;r=[...r,a];function u(h){const{scope:f,children:p,...g}=h,m=(f==null?void 0:f[t][l])||o,v=j.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||o,g=j.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=r.map(a=>j.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,Zbe(i,...e)]}function Zbe(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...o,...h}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}function A3(t){const[e,r]=j.useState(void 0);return bs(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;r({width:a,height:o})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var V$="Popper",[zte,m0]=Jbe(V$),[ewe,qte]=zte(V$),Wte=t=>{const{__scopePopper:e,children:r}=t,[n,i]=j.useState(null);return c.jsx(ewe,{scope:e,anchor:n,onAnchorChange:i,children:r})};Wte.displayName=V$;var Hte="PopperAnchor",Vte=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=qte(Hte,r),a=j.useRef(null),o=br(e,a);return j.useEffect(()=>{s.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:c.jsx(Ut.div,{...i,ref:o})});Vte.displayName=Hte;var G$="PopperContent",[twe,rwe]=zte(G$),Gte=j.forwardRef((t,e)=>{var ae,pe,le,ye,Se,we;const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:g,...m}=t,v=qte(G$,r),[x,y]=j.useState(null),w=br(e,We=>y(We)),[_,A]=j.useState(null),C=A3(_),N=(C==null?void 0:C.width)??0,E=(C==null?void 0:C.height)??0,P=n+(s!=="center"?"-"+s:""),L=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],k=O.length>0,D={padding:L,boundary:O.filter(iwe),altBoundary:k},{refs:F,floatingStyles:z,placement:U,isPositioned:H,middlewareData:B}=Ube({strategy:"fixed",placement:P,whileElementsMounted:(...We)=>Mbe(...We,{animationFrame:p==="always"}),elements:{reference:v.anchor},middleware:[qbe({mainAxis:i+E,alignmentAxis:a}),l&&Wbe({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Hbe():void 0,...D}),l&&Vbe({...D}),Gbe({...D,apply:({elements:We,rects:Ve,availableWidth:ke,availableHeight:Q})=>{const{width:_e,height:Ue}=Ve.reference,Te=We.floating.style;Te.setProperty("--radix-popper-available-width",`${ke}px`),Te.setProperty("--radix-popper-available-height",`${Q}px`),Te.setProperty("--radix-popper-anchor-width",`${_e}px`),Te.setProperty("--radix-popper-anchor-height",`${Ue}px`)}}),_&&Ybe({element:_,padding:o}),swe({arrowWidth:N,arrowHeight:E}),f&&Kbe({strategy:"referenceHidden",...D})]}),[X,ne]=Xte(U),fe=li(g);bs(()=>{H&&(fe==null||fe())},[H,fe]);const I=(ae=B.arrow)==null?void 0:ae.x,q=(pe=B.arrow)==null?void 0:pe.y,V=((le=B.arrow)==null?void 0:le.centerOffset)!==0,[K,Y]=j.useState();return bs(()=>{x&&Y(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:H?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:K,"--radix-popper-transform-origin":[(ye=B.transformOrigin)==null?void 0:ye.x,(Se=B.transformOrigin)==null?void 0:Se.y].join(" "),...((we=B.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(twe,{scope:r,placedSide:X,onArrowChange:A,arrowX:I,arrowY:q,shouldHideArrow:V,children:c.jsx(Ut.div,{"data-side":X,"data-align":ne,...m,ref:w,style:{...m.style,animation:H?void 0:"none"}})})})});Gte.displayName=G$;var Kte="PopperArrow",nwe={top:"bottom",right:"left",bottom:"top",left:"right"},Yte=j.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=rwe(Kte,n),a=nwe[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(Qbe,{...i,ref:r,style:{...i.style,display:"block"}})})});Yte.displayName=Kte;function iwe(t){return t!==null}var swe=t=>({name:"transformOrigin",options:t,fn(e){var v,x,y;const{placement:r,rects:n,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[u,d]=Xte(r),h={start:"0%",center:"50%",end:"100%"}[d],f=(((x=i.arrow)==null?void 0:x.x)??0)+o/2,p=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let g="",m="";return u==="bottom"?(g=a?h:`${f}px`,m=`${-l}px`):u==="top"?(g=a?h:`${f}px`,m=`${n.floating.height+l}px`):u==="right"?(g=`${-l}px`,m=a?h:`${p}px`):u==="left"&&(g=`${n.floating.width+l}px`,m=a?h:`${p}px`),{data:{x:g,y:m}}}});function Xte(t){const[e,r="center"]=t.split("-");return[e,r]}var j3=Wte,aN=Vte,N3=Gte,E3=Yte,[C3,Gmt]=vo("Tooltip",[m0]),T3=m0(),Qte="TooltipProvider",awe=700,ID="tooltip.open",[owe,K$]=C3(Qte),Jte=t=>{const{__scopeTooltip:e,delayDuration:r=awe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,[a,o]=j.useState(!0),l=j.useRef(!1),u=j.useRef(0);return j.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(owe,{scope:e,isOpenDelayed:a,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(u.current),o(!1)},[]),onClose:j.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o(!0),n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(d=>{l.current=d},[]),disableHoverableContent:i,children:s})};Jte.displayName=Qte;var P3="Tooltip",[lwe,k3]=C3(P3),Zte=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=t,l=K$(P3,t.__scopeTooltip),u=T3(e),[d,h]=j.useState(null),f=Lc(),p=j.useRef(0),g=a??l.disableHoverableContent,m=o??l.delayDuration,v=j.useRef(!1),[x=!1,y]=Uc({prop:n,defaultProp:i,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(ID))):l.onClose(),s==null||s(N)}}),w=j.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),_=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,v.current=!1,y(!0)},[y]),A=j.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),C=j.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{v.current=!0,y(!0),p.current=0},m)},[m,y]);return j.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),c.jsx(j3,{...u,children:c.jsx(lwe,{scope:e,contentId:f,open:x,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:j.useCallback(()=>{l.isOpenDelayed?C():_()},[l.isOpenDelayed,C,_]),onTriggerLeave:j.useCallback(()=>{g?A():(window.clearTimeout(p.current),p.current=0)},[A,g]),onOpen:_,onClose:A,disableHoverableContent:g,children:r})})};Zte.displayName=P3;var RD="TooltipTrigger",ere=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=k3(RD,r),s=K$(RD,r),a=T3(r),o=j.useRef(null),l=br(e,o,i.onTriggerChange),u=j.useRef(!1),d=j.useRef(!1),h=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(aN,{asChild:!0,...a,children:c.jsx(Ut.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:l,onPointerMove:mt(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:mt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:mt(t.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:mt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:mt(t.onBlur,i.onClose),onClick:mt(t.onClick,i.onClose)})})});ere.displayName=RD;var cwe="TooltipPortal",[Kmt,uwe]=C3(cwe,{forceMount:void 0}),ew="TooltipContent",tre=j.forwardRef((t,e)=>{const r=uwe(ew,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,a=k3(ew,t.__scopeTooltip);return c.jsx(ws,{present:n||a.open,children:a.disableHoverableContent?c.jsx(rre,{side:i,...s,ref:e}):c.jsx(dwe,{side:i,...s,ref:e})})}),dwe=j.forwardRef((t,e)=>{const r=k3(ew,t.__scopeTooltip),n=K$(ew,t.__scopeTooltip),i=j.useRef(null),s=br(e,i),[a,o]=j.useState(null),{trigger:l,onClose:u}=r,d=i.current,{onPointerInTransitChange:h}=n,f=j.useCallback(()=>{o(null),h(!1)},[h]),p=j.useCallback((g,m)=>{const v=g.currentTarget,x={x:g.clientX,y:g.clientY},y=mwe(x,v.getBoundingClientRect()),w=gwe(x,y),_=vwe(m.getBoundingClientRect()),A=ywe([...w,..._]);o(A),h(!0)},[h]);return j.useEffect(()=>()=>f(),[f]),j.useEffect(()=>{if(l&&d){const g=v=>p(v,d),m=v=>p(v,l);return l.addEventListener("pointerleave",g),d.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",g),d.removeEventListener("pointerleave",m)}}},[l,d,p,f]),j.useEffect(()=>{if(a){const g=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},y=(l==null?void 0:l.contains(v))||(d==null?void 0:d.contains(v)),w=!xwe(x,a);y?f():w&&(f(),u())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,d,a,u,f]),c.jsx(rre,{...t,ref:s})}),[hwe,fwe]=C3(P3,{isInside:!1}),rre=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=k3(ew,r),u=T3(r),{onClose:d}=l;return j.useEffect(()=>(document.addEventListener(ID,d),()=>document.removeEventListener(ID,d)),[d]),j.useEffect(()=>{if(l.trigger){const h=f=>{const p=f.target;p!=null&&p.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(mx,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(N3,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(P$,{children:n}),c.jsx(hwe,{scope:r,isInside:!0,children:c.jsx(Qxe,{id:l.contentId,role:"tooltip",children:i||n})})]})})});tre.displayName=ew;var nre="TooltipArrow",pwe=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=T3(r);return fwe(nre,r).isInside?null:c.jsx(E3,{...i,...n,ref:e})});pwe.displayName=nre;function mwe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function gwe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function vwe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function xwe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s].x,l=e[s].y,u=e[a].x,d=e[a].y;l>n!=d>n&&r<(u-o)*(n-l)/(d-l)+o&&(i=!i)}return i}function ywe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),bwe(e)}function bwe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],a=r[r.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var wwe=Jte,_we=Zte,Swe=ere,ire=tre;const O3=wwe,DD=_we,FD=Swe,FP=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(ire,{ref:n,sideOffset:e,className:He("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));FP.displayName=ire.displayName;const Oe=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Oe.displayName="Card";const tt=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:He("flex flex-col space-y-1.5 p-6",t),...e}));tt.displayName="CardHeader";const it=j.forwardRef(({className:t,...e},r)=>c.jsx("h3",{ref:r,className:He("text-2xl font-semibold leading-none tracking-tight",t),...e}));it.displayName="CardTitle";const Xt=j.forwardRef(({className:t,...e},r)=>c.jsx("p",{ref:r,className:He("text-sm text-muted-foreground",t),...e}));Xt.displayName="CardDescription";const Ie=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:He("p-6 pt-0",t),...e}));Ie.displayName="CardContent";const Awe=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:He("flex items-center p-6 pt-0",t),...e}));Awe.displayName="CardFooter";const tw=gx("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",knowledge:"bg-gradient-primary text-white hover:bg-gradient-primary/90 shadow-elegant"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ge=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const a=n?Go:"button";return c.jsx(a,{className:He(tw({variant:e,size:r,className:t})),ref:s,...i})});Ge.displayName="Button";const jwe=gx("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ko=j.forwardRef(({className:t,variant:e,...r},n)=>c.jsx("div",{ref:n,role:"alert",className:He(jwe({variant:e}),t),...r}));Ko.displayName="Alert";const Nwe=j.forwardRef(({className:t,...e},r)=>c.jsx("h5",{ref:r,className:He("mb-1 font-medium leading-none tracking-tight",t),...e}));Nwe.displayName="AlertTitle";const Yo=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,className:He("text-sm [&_p]:leading-relaxed",t),...e}));Yo.displayName="AlertDescription";class Ii extends j.Component{constructor(r){super(r);dt(this,"handleReset",()=>{var r,n;this.setState({hasError:!1,error:void 0}),(n=(r=this.props).onReset)==null||n.call(r)});this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Error Boundary caught an error:",r,n)}render(){var r;return this.state.hasError?this.props.fallback?this.props.fallback:c.jsxs(Oe,{className:"border-destructive max-w-lg mx-auto mt-8",children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center text-destructive",children:[c.jsx(Bi,{className:"w-5 h-5 mr-2"}),"Something went wrong"]}),c.jsx(Xt,{children:"An unexpected error occurred. Please try again or contact support if the problem persists."})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs(Ko,{variant:"destructive",children:[c.jsx(Bi,{className:"h-4 w-4"}),c.jsxs(Yo,{children:[c.jsx("strong",{children:"Error:"})," ",((r=this.state.error)==null?void 0:r.message)||"Unknown error occurred"]})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsxs(Ge,{onClick:this.handleReset,className:"flex-1",children:[c.jsx(fA,{className:"w-4 h-4 mr-2"}),"Try Again"]}),c.jsxs(Ge,{variant:"outline",onClick:()=>window.location.href="/",className:"flex-1",children:[c.jsx(yte,{className:"w-4 h-4 mr-2"}),"Go Home"]})]})]})]}):this.props.children}}var M3=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},L3=typeof window>"u"||"Deno"in globalThis;function du(){}function Ewe(t,e){return typeof t=="function"?t(e):t}function Cwe(t){return typeof t=="number"&&t>=0&&t!==1/0}function Twe(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vW(t,e){return typeof t=="function"?t(e):t}function Pwe(t,e){return typeof t=="function"?t(e):t}function xW(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==Y$(a,e.options))return!1}else if(!xA(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function yW(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(vA(e.options.mutationKey)!==vA(s))return!1}else if(!xA(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Y$(t,e){return((e==null?void 0:e.queryKeyHashFn)||vA)(t)}function vA(t){return JSON.stringify(t,(e,r)=>$D(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function xA(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!xA(t[r],e[r])):!1}function sre(t,e){if(t===e)return t;const r=bW(t)&&bW(e);if(r||$D(t)&&$D(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),a=s.length,o=r?[]:{};let l=0;for(let u=0;u<a;u++){const d=r?u:s[u];(!r&&n.includes(d)||r)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,l++):(o[d]=sre(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&l++)}return i===a&&l===i?t:o}return e}function bW(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $D(t){if(!wW(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!wW(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function wW(t){return Object.prototype.toString.call(t)==="[object Object]"}function kwe(t){return new Promise(e=>{setTimeout(e,t)})}function Owe(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?sre(t,e):e}function Mwe(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Lwe(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var X$=Symbol();function are(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===X$?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jg,qp,P1,bJ,Iwe=(bJ=class extends M3{constructor(){super();ee(this,jg);ee(this,qp);ee(this,P1);G(this,P1,e=>{if(!L3&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){b(this,qp)||this.setEventListener(b(this,P1))}onUnsubscribe(){var e;this.hasListeners()||((e=b(this,qp))==null||e.call(this),G(this,qp,void 0))}setEventListener(e){var r;G(this,P1,e),(r=b(this,qp))==null||r.call(this),G(this,qp,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){b(this,jg)!==e&&(G(this,jg,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof b(this,jg)=="boolean"?b(this,jg):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jg=new WeakMap,qp=new WeakMap,P1=new WeakMap,bJ),ore=new Iwe,k1,Wp,O1,wJ,Rwe=(wJ=class extends M3{constructor(){super();ee(this,k1,!0);ee(this,Wp);ee(this,O1);G(this,O1,e=>{if(!L3&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){b(this,Wp)||this.setEventListener(b(this,O1))}onUnsubscribe(){var e;this.hasListeners()||((e=b(this,Wp))==null||e.call(this),G(this,Wp,void 0))}setEventListener(e){var r;G(this,O1,e),(r=b(this,Wp))==null||r.call(this),G(this,Wp,e(this.setOnline.bind(this)))}setOnline(e){b(this,k1)!==e&&(G(this,k1,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return b(this,k1)}},k1=new WeakMap,Wp=new WeakMap,O1=new WeakMap,wJ),$P=new Rwe;function Dwe(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Fwe(t){return Math.min(1e3*2**t,3e4)}function lre(t){return(t??"online")==="online"?$P.isOnline():!0}var cre=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function HL(t){return t instanceof cre}function ure(t){let e=!1,r=0,n=!1,i;const s=Dwe(),a=m=>{var v;n||(f(new cre(m)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},l=()=>{e=!1},u=()=>ore.isFocused()&&(t.networkMode==="always"||$P.isOnline())&&t.canRun(),d=()=>lre(t.networkMode)&&t.canRun(),h=m=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,m),i==null||i(),s.resolve(m))},f=m=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,m),i==null||i(),s.reject(m))},p=()=>new Promise(m=>{var v;i=x=>{(n||u())&&m(x)},(v=t.onPause)==null||v.call(t)}).then(()=>{var m;i=void 0,n||(m=t.onContinue)==null||m.call(t)}),g=()=>{if(n)return;let m;const v=r===0?t.initialPromise:void 0;try{m=v??t.fn()}catch(x){m=Promise.reject(x)}Promise.resolve(m).then(h).catch(x=>{var C;if(n)return;const y=t.retry??(L3?0:3),w=t.retryDelay??Fwe,_=typeof w=="function"?w(r,x):w,A=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,x);if(e||!A){f(x);return}r++,(C=t.onFail)==null||C.call(t,r,x),kwe(_).then(()=>u()?void 0:p()).then(()=>{e?f(x):g()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?g():p().then(g),s)}}function $we(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var io=$we(),Ng,_J,dre=(_J=class{constructor(){ee(this,Ng)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cwe(this.gcTime)&&G(this,Ng,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(L3?1/0:5*60*1e3))}clearGcTimeout(){b(this,Ng)&&(clearTimeout(b(this,Ng)),G(this,Ng,void 0))}},Ng=new WeakMap,_J),M1,L1,gc,Aa,w5,Eg,pu,Oh,SJ,Bwe=(SJ=class extends dre{constructor(e){super();ee(this,pu);ee(this,M1);ee(this,L1);ee(this,gc);ee(this,Aa);ee(this,w5);ee(this,Eg);G(this,Eg,!1),G(this,w5,e.defaultOptions),this.setOptions(e.options),this.observers=[],G(this,gc,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,G(this,M1,zwe(this.options)),this.state=e.state??b(this,M1),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=b(this,Aa))==null?void 0:e.promise}setOptions(e){this.options={...b(this,w5),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&b(this,gc).remove(this)}setData(e,r){const n=Owe(this.state.data,e,this.options);return te(this,pu,Oh).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){te(this,pu,Oh).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=b(this,Aa))==null?void 0:n.promise;return(i=b(this,Aa))==null||i.cancel(e),r?r.then(du).catch(du):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(b(this,M1))}isActive(){return this.observers.some(e=>Pwe(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===X$||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Twe(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=b(this,Aa))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=b(this,Aa))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),b(this,gc).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(b(this,Aa)&&(b(this,Eg)?b(this,Aa).cancel({revert:!0}):b(this,Aa).cancelRetry()),this.scheduleGc()),b(this,gc).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||te(this,pu,Oh).call(this,{type:"invalidate"})}fetch(e,r){var l,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(b(this,Aa))return b(this,Aa).continueRetry(),b(this,Aa).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(G(this,Eg,!0),n.signal)})},s=()=>{const h=are(this.options,r),f={queryKey:this.queryKey,meta:this.meta};return i(f),G(this,Eg,!1),this.options.persister?this.options.persister(h,f,this):h(f)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(l=this.options.behavior)==null||l.onFetch(a,this),G(this,L1,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&te(this,pu,Oh).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const o=h=>{var f,p,g,m;HL(h)&&h.silent||te(this,pu,Oh).call(this,{type:"error",error:h}),HL(h)||((p=(f=b(this,gc).config).onError)==null||p.call(f,h,this),(m=(g=b(this,gc).config).onSettled)==null||m.call(g,this.state.data,h,this)),this.scheduleGc()};return G(this,Aa,ure({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var f,p,g,m;if(h===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){o(v);return}(p=(f=b(this,gc).config).onSuccess)==null||p.call(f,h,this),(m=(g=b(this,gc).config).onSettled)==null||m.call(g,h,this.state.error,this),this.scheduleGc()},onError:o,onFail:(h,f)=>{te(this,pu,Oh).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{te(this,pu,Oh).call(this,{type:"pause"})},onContinue:()=>{te(this,pu,Oh).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),b(this,Aa).start()}},M1=new WeakMap,L1=new WeakMap,gc=new WeakMap,Aa=new WeakMap,w5=new WeakMap,Eg=new WeakMap,pu=new WeakSet,Oh=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Uwe(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return HL(i)&&i.revert&&b(this,L1)?{...b(this,L1),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),io.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),b(this,gc).notify({query:this,type:"updated",action:e})})},SJ);function Uwe(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lre(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zwe(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var yd,AJ,qwe=(AJ=class extends M3{constructor(e={}){super();ee(this,yd);this.config=e,G(this,yd,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??Y$(i,r);let a=this.get(s);return a||(a=new Bwe({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){b(this,yd).has(e.queryHash)||(b(this,yd).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=b(this,yd).get(e.queryHash);r&&(e.destroy(),r===e&&b(this,yd).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){io.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return b(this,yd).get(e)}getAll(){return[...b(this,yd).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>xW(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>xW(e,n)):r}notify(e){io.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){io.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){io.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yd=new WeakMap,AJ),bd,Xa,Cg,wd,Pp,jJ,Wwe=(jJ=class extends dre{constructor(e){super();ee(this,wd);ee(this,bd);ee(this,Xa);ee(this,Cg);this.mutationId=e.mutationId,G(this,Xa,e.mutationCache),G(this,bd,[]),this.state=e.state||Hwe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){b(this,bd).includes(e)||(b(this,bd).push(e),this.clearGcTimeout(),b(this,Xa).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){G(this,bd,b(this,bd).filter(r=>r!==e)),this.scheduleGc(),b(this,Xa).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){b(this,bd).length||(this.state.status==="pending"?this.scheduleGc():b(this,Xa).remove(this))}continue(){var e;return((e=b(this,Cg))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,a,o,l,u,d,h,f,p,g,m,v,x,y,w,_,A,C,N;G(this,Cg,ure({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(E,P)=>{te(this,wd,Pp).call(this,{type:"failed",failureCount:E,error:P})},onPause:()=>{te(this,wd,Pp).call(this,{type:"pause"})},onContinue:()=>{te(this,wd,Pp).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>b(this,Xa).canRun(this)}));const r=this.state.status==="pending",n=!b(this,Cg).canStart();try{if(!r){te(this,wd,Pp).call(this,{type:"pending",variables:e,isPaused:n}),await((s=(i=b(this,Xa).config).onMutate)==null?void 0:s.call(i,e,this));const P=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,e));P!==this.state.context&&te(this,wd,Pp).call(this,{type:"pending",context:P,variables:e,isPaused:n})}const E=await b(this,Cg).start();return await((u=(l=b(this,Xa).config).onSuccess)==null?void 0:u.call(l,E,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,E,e,this.state.context)),await((p=(f=b(this,Xa).config).onSettled)==null?void 0:p.call(f,E,null,this.state.variables,this.state.context,this)),await((m=(g=this.options).onSettled)==null?void 0:m.call(g,E,null,e,this.state.context)),te(this,wd,Pp).call(this,{type:"success",data:E}),E}catch(E){try{throw await((x=(v=b(this,Xa).config).onError)==null?void 0:x.call(v,E,e,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,E,e,this.state.context)),await((A=(_=b(this,Xa).config).onSettled)==null?void 0:A.call(_,void 0,E,this.state.variables,this.state.context,this)),await((N=(C=this.options).onSettled)==null?void 0:N.call(C,void 0,E,e,this.state.context)),E}finally{te(this,wd,Pp).call(this,{type:"error",error:E})}}finally{b(this,Xa).runNext(this)}}},bd=new WeakMap,Xa=new WeakMap,Cg=new WeakMap,wd=new WeakSet,Pp=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),io.batch(()=>{b(this,bd).forEach(n=>{n.onMutationUpdate(e)}),b(this,Xa).notify({mutation:this,type:"updated",action:e})})},jJ);function Hwe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fl,_5,NJ,Vwe=(NJ=class extends M3{constructor(e={}){super();ee(this,fl);ee(this,_5);this.config=e,G(this,fl,new Map),G(this,_5,Date.now())}build(e,r,n){const i=new Wwe({mutationCache:this,mutationId:++Ns(this,_5)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=tC(e),n=b(this,fl).get(r)??[];n.push(e),b(this,fl).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=tC(e);if(b(this,fl).has(r)){const i=(n=b(this,fl).get(r))==null?void 0:n.filter(s=>s!==e);i&&(i.length===0?b(this,fl).delete(r):b(this,fl).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=b(this,fl).get(tC(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=b(this,fl).get(tC(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){io.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...b(this,fl).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>yW(r,n))}findAll(e={}){return this.getAll().filter(r=>yW(e,r))}notify(e){io.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return io.batch(()=>Promise.all(e.map(r=>r.continue().catch(du))))}},fl=new WeakMap,_5=new WeakMap,NJ);function tC(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function _W(t){return{onFetch:(e,r)=>{var d,h,f,p,g;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((g=e.state.data)==null?void 0:g.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let m=!1;const v=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},x=are(e.options,e.fetchOptions),y=async(w,_,A)=>{if(m)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const C={queryKey:e.queryKey,pageParam:_,direction:A?"backward":"forward",meta:e.options.meta};v(C);const N=await x(C),{maxPages:E}=e.options,P=A?Lwe:Mwe;return{pages:P(w.pages,N,E),pageParams:P(w.pageParams,_,E)}};if(i&&s.length){const w=i==="backward",_=w?Gwe:SW,A={pages:s,pageParams:a},C=_(n,A);o=await y(A,C,w)}else{const w=t??s.length;do{const _=l===0?a[0]??n.initialPageParam:SW(n,o);if(l>0&&_==null)break;o=await y(o,_),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var m,v;return(v=(m=e.options).persister)==null?void 0:v.call(m,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function SW(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Gwe(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var wi,Hp,Vp,I1,R1,Gp,D1,F1,EJ,Kwe=(EJ=class{constructor(t={}){ee(this,wi);ee(this,Hp);ee(this,Vp);ee(this,I1);ee(this,R1);ee(this,Gp);ee(this,D1);ee(this,F1);G(this,wi,t.queryCache||new qwe),G(this,Hp,t.mutationCache||new Vwe),G(this,Vp,t.defaultOptions||{}),G(this,I1,new Map),G(this,R1,new Map),G(this,Gp,0)}mount(){Ns(this,Gp)._++,b(this,Gp)===1&&(G(this,D1,ore.subscribe(async t=>{t&&(await this.resumePausedMutations(),b(this,wi).onFocus())})),G(this,F1,$P.subscribe(async t=>{t&&(await this.resumePausedMutations(),b(this,wi).onOnline())})))}unmount(){var t,e;Ns(this,Gp)._--,b(this,Gp)===0&&((t=b(this,D1))==null||t.call(this),G(this,D1,void 0),(e=b(this,F1))==null||e.call(this),G(this,F1,void 0))}isFetching(t){return b(this,wi).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return b(this,Hp).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=b(this,wi).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=b(this,wi).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(vW(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return b(this,wi).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=b(this,wi).get(n.queryHash),s=i==null?void 0:i.state.data,a=Ewe(e,s);if(a!==void 0)return b(this,wi).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return io.batch(()=>b(this,wi).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=b(this,wi).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=b(this,wi);io.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=b(this,wi),n={type:"active",...t};return io.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=io.batch(()=>b(this,wi).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(du).catch(du)}invalidateQueries(t={},e={}){return io.batch(()=>{if(b(this,wi).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=io.batch(()=>b(this,wi).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(du)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(du)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=b(this,wi).build(this,e);return r.isStaleByTime(vW(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(du).catch(du)}fetchInfiniteQuery(t){return t.behavior=_W(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(du).catch(du)}ensureInfiniteQueryData(t){return t.behavior=_W(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $P.isOnline()?b(this,Hp).resumePausedMutations():Promise.resolve()}getQueryCache(){return b(this,wi)}getMutationCache(){return b(this,Hp)}getDefaultOptions(){return b(this,Vp)}setDefaultOptions(t){G(this,Vp,t)}setQueryDefaults(t,e){b(this,I1).set(vA(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...b(this,I1).values()];let r={};return e.forEach(n=>{xA(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){b(this,R1).set(vA(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...b(this,R1).values()];let r={};return e.forEach(n=>{xA(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...b(this,Vp).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Y$(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===X$&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...b(this,Vp).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){b(this,wi).clear(),b(this,Hp).clear()}},wi=new WeakMap,Hp=new WeakMap,Vp=new WeakMap,I1=new WeakMap,R1=new WeakMap,Gp=new WeakMap,D1=new WeakMap,F1=new WeakMap,EJ),Ywe=j.createContext(void 0),Xwe=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(Ywe.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yA(){return yA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yA.apply(this,arguments)}var Nm;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nm||(Nm={}));const AW="popstate";function Qwe(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return BD("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:fre(i)}return Zwe(e,r,null,t)}function Ji(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function hre(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Jwe(){return Math.random().toString(36).substr(2,8)}function jW(t,e){return{usr:t.state,key:t.key,idx:e}}function BD(t,e,r,n){return r===void 0&&(r=null),yA({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gw(e):e,{state:r,key:e&&e.key||n||Jwe()})}function fre(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Gw(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Zwe(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Nm.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(yA({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Nm.Pop;let v=d(),x=v==null?null:v-u;u=v,l&&l({action:o,location:m.location,delta:x})}function f(v,x){o=Nm.Push;let y=BD(m.location,v,x);u=d()+1;let w=jW(y,u),_=m.createHref(y);try{a.pushState(w,"",_)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(_)}s&&l&&l({action:o,location:m.location,delta:1})}function p(v,x){o=Nm.Replace;let y=BD(m.location,v,x);u=d();let w=jW(y,u),_=m.createHref(y);a.replaceState(w,"",_),s&&l&&l({action:o,location:m.location,delta:0})}function g(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:fre(v);return y=y.replace(/ $/,"%20"),Ji(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let m={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(AW,h),l=v,()=>{i.removeEventListener(AW,h),l=null}},createHref(v){return e(i,v)},createURL:g,encodeLocation(v){let x=g(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:p,go(v){return a.go(v)}};return m}var NW;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(NW||(NW={}));function e2e(t,e,r){return r===void 0&&(r="/"),t2e(t,e,r,!1)}function t2e(t,e,r,n){let i=typeof e=="string"?Gw(e):e,s=gre(i.pathname||"/",r);if(s==null)return null;let a=pre(t);r2e(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=f2e(s);o=d2e(a[l],u,n)}return o}function pre(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Ji(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Iv([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Ji(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),pre(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:c2e(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of mre(s.path))i(s,a,l)}),e}function mre(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=mre(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function r2e(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:u2e(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const n2e=/^:[\w-]+$/,i2e=3,s2e=2,a2e=1,o2e=10,l2e=-2,EW=t=>t==="*";function c2e(t,e){let r=t.split("/"),n=r.length;return r.some(EW)&&(n+=l2e),e&&(n+=s2e),r.filter(i=>!EW(i)).reduce((i,s)=>i+(n2e.test(s)?i2e:s===""?a2e:o2e),n)}function u2e(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function d2e(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=CW({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=CW({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Iv([s,h.pathname]),pathnameBase:v2e(Iv([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Iv([s,h.pathnameBase]))}return a}function CW(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=h2e(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let m=o[h]||"";a=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[h];return p&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function h2e(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),hre(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function f2e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hre(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gre(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function p2e(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Gw(t):t;return{pathname:r?r.startsWith("/")?r:m2e(r,e):e,search:x2e(n),hash:y2e(i)}}function m2e(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function VL(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g2e(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vre(t,e){let r=g2e(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function xre(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Gw(t):(i=yA({},t),Ji(!i.pathname||!i.pathname.includes("?"),VL("?","pathname","search",i)),Ji(!i.pathname||!i.pathname.includes("#"),VL("#","pathname","hash",i)),Ji(!i.search||!i.search.includes("#"),VL("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=p2e(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Iv=t=>t.join("/").replace(/\/\/+/g,"/"),v2e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x2e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y2e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b2e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yre=["post","put","patch","delete"];new Set(yre);const w2e=["get",...yre];new Set(w2e);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bA(){return bA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bA.apply(this,arguments)}const Q$=j.createContext(null),_2e=j.createContext(null),oN=j.createContext(null),I3=j.createContext(null),g0=j.createContext({outlet:null,matches:[],isDataRoute:!1}),bre=j.createContext(null);function lN(){return j.useContext(I3)!=null}function R3(){return lN()||Ji(!1),j.useContext(I3).location}function wre(t){j.useContext(oN).static||j.useLayoutEffect(t)}function ec(){let{isDataRoute:t}=j.useContext(g0);return t?I2e():S2e()}function S2e(){lN()||Ji(!1);let t=j.useContext(Q$),{basename:e,future:r,navigator:n}=j.useContext(oN),{matches:i}=j.useContext(g0),{pathname:s}=R3(),a=JSON.stringify(vre(i,r.v7_relativeSplatPath)),o=j.useRef(!1);return wre(()=>{o.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=xre(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Iv([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function dh(){let{matches:t}=j.useContext(g0),e=t[t.length-1];return e?e.params:{}}function A2e(t,e){return j2e(t,e)}function j2e(t,e,r,n){lN()||Ji(!1);let{navigator:i}=j.useContext(oN),{matches:s}=j.useContext(g0),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=R3(),d;if(e){var h;let v=typeof e=="string"?Gw(e):e;l==="/"||(h=v.pathname)!=null&&h.startsWith(l)||Ji(!1),d=v}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let g=e2e(t,{pathname:p}),m=P2e(g&&g.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:Iv([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:Iv([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,r,n);return e&&m?j.createElement(I3.Provider,{value:{location:bA({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nm.Pop}},m):m}function N2e(){let t=L2e(),e=b2e(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const E2e=j.createElement(N2e,null);class C2e extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(g0.Provider,{value:this.props.routeContext},j.createElement(bre.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function T2e(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(Q$);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(g0.Provider,{value:e},n)}function P2e(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Ji(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||g){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,g=!1,m=null,v=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,m=h.route.errorElement||E2e,l&&(u<0&&f===0?(g=!0,v=null):u===f&&(g=!0,v=h.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,f+1)),y=()=>{let w;return p?w=m:g?w=v:h.route.Component?w=j.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,j.createElement(T2e,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(C2e,{location:r.location,revalidation:r.revalidation,component:m,error:p,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var _re=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(_re||{}),BP=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(BP||{});function k2e(t){let e=j.useContext(Q$);return e||Ji(!1),e}function O2e(t){let e=j.useContext(_2e);return e||Ji(!1),e}function M2e(t){let e=j.useContext(g0);return e||Ji(!1),e}function Sre(t){let e=M2e(),r=e.matches[e.matches.length-1];return r.route.id||Ji(!1),r.route.id}function L2e(){var t;let e=j.useContext(bre),r=O2e(BP.UseRouteError),n=Sre(BP.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function I2e(){let{router:t}=k2e(_re.UseNavigateStable),e=Sre(BP.UseNavigateStable),r=j.useRef(!1);return wre(()=>{r.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bA({fromRouteId:e},s)))},[t,e])}function TW(t){let{to:e,replace:r,state:n,relative:i}=t;lN()||Ji(!1);let{future:s,static:a}=j.useContext(oN),{matches:o}=j.useContext(g0),{pathname:l}=R3(),u=ec(),d=xre(e,vre(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Y0(t){Ji(!1)}function R2e(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Nm.Pop,navigator:s,static:a=!1,future:o}=t;lN()&&Ji(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:s,static:a,future:bA({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Gw(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:g="default"}=n,m=j.useMemo(()=>{let v=gre(d,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:p,key:g},navigationType:i}},[l,d,h,f,p,g,i]);return m==null?null:j.createElement(oN.Provider,{value:u},j.createElement(I3.Provider,{children:r,value:m}))}function D2e(t){let{children:e,location:r}=t;return A2e(UD(e),r)}new Promise(()=>{});function UD(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let s=[...e,i];if(n.type===j.Fragment){r.push.apply(r,UD(n.props.children,s));return}n.type!==Y0&&Ji(!1),!n.props.index||!n.props.children||Ji(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=UD(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const F2e="6";try{window.__reactRouterVersion=F2e}catch{}const $2e="startTransition",PW=$J[$2e];function B2e(t){let{basename:e,children:r,future:n,window:i}=t,s=j.useRef();s.current==null&&(s.current=Qwe({window:i,v5Compat:!0}));let a=s.current,[o,l]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=j.useCallback(h=>{u&&PW?PW(()=>l(h)):l(h)},[l,u]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.createElement(R2e,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var kW;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kW||(kW={}));var OW;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OW||(OW={}));const U2e=()=>{const[t,e]=j.useState(null),[r,n]=j.useState(!1),[i,s]=j.useState(!1);return j.useEffect(()=>{(()=>{const d=window.matchMedia("(display-mode: standalone)").matches,h=/iPad|iPhone|iPod/.test(navigator.userAgent),f=window.navigator.standalone===!0;s(d||h&&f)})();const l=d=>{d.preventDefault(),e(d),n(!0)},u=()=>{s(!0),n(!1),e(null)};return window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",u),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(d=>{console.log("SW registered: ",d)}).catch(d=>{console.log("SW registration failed: ",d)}),()=>{window.removeEventListener("beforeinstallprompt",l),window.removeEventListener("appinstalled",u)}},[]),{isInstallable:r,isInstalled:i,installApp:async()=>{if(!t)return;t.prompt();const{outcome:o}=await t.userChoice;o==="accepted"&&(e(null),n(!1))}}},z2e=()=>{const{isInstallable:t,installApp:e}=U2e(),[r,n]=j.useState(!1);return!t||r?null:c.jsx(Oe,{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-80 z-50 shadow-elegant",children:c.jsxs(Ie,{className:"p-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx("div",{className:"w-10 h-10 bg-gradient-primary rounded-lg flex items-center justify-center",children:c.jsx(dA,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-sm",children:"Install mQuiz"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Install the app for better experience and offline access"})]})]}),c.jsx(Ge,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",onClick:()=>n(!0),children:c.jsx(rh,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"flex gap-2 mt-3",children:[c.jsx(Ge,{onClick:e,size:"sm",className:"flex-1",children:"Install"}),c.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>n(!0),children:"Maybe Later"})]})]})})},q2e=()=>{const t=ec(),e=[{icon:pte,title:"AI-Powered Questions",description:"Generate intelligent questions tailored to your curriculum with advanced AI"},{icon:$d,title:"Smart Question Bank",description:"Organize and manage thousands of questions with powerful search and tagging"},{icon:ns,title:"Multi-Role Support",description:"Parents, students, and admins - everyone gets the perfect experience"},{icon:aa,title:"Secure Testing",description:"Advanced proctoring and security features ensure exam integrity"},{icon:zc,title:"Performance Analytics",description:"Deep insights into student performance and progress tracking"},{icon:Xm,title:"Instant Results",description:"Automated grading and comprehensive result analysis in real-time"}],r=["Create unlimited question papers in minutes","AI-generated questions from your documents","Secure online testing environment","Detailed performance reports and analytics","Multi-subject and multi-class support","Parent-student collaboration tools"];return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[c.jsx("nav",{className:"border-b border-border/40 sticky top-0 z-50 bg-background/80 backdrop-blur-xl",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsx(Ge,{variant:"ghost",size:"icon",className:"md:hidden",children:c.jsx(Tye,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mT,{className:"w-7 h-7 text-primary"}),c.jsx("span",{className:"text-2xl font-bold text-foreground",children:"mQuiz"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(Ge,{variant:"ghost",onClick:()=>t("/auth"),className:"hidden md:inline-flex",children:"Sign In"}),c.jsxs(Ge,{onClick:()=>t("/auth"),size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20",children:["Get Started",c.jsx(gS,{className:"ml-2 w-4 h-4"})]})]})]})})}),c.jsxs("section",{className:"relative py-16 sm:py-24 lg:py-32 overflow-hidden",children:[c.jsxs("div",{className:"absolute inset-0 -z-10",children:[c.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-primary/5 rounded-full blur-3xl animate-pulse"}),c.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-accent/5 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center space-y-8 max-w-4xl mx-auto",children:[c.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 text-sm font-medium text-primary animate-fade-in",children:[c.jsx(D$,{className:"w-4 h-4 animate-pulse"}),"The Future of Educational Testing"]}),c.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-7xl font-bold text-foreground tracking-tight animate-fade-in",style:{animationDelay:"0.2s"},children:["Transform Your",c.jsx("span",{className:"block text-primary mt-2",children:"Teaching & Testing"})]}),c.jsx("p",{className:"text-lg sm:text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed animate-fade-in",style:{animationDelay:"0.4s"},children:"Create, manage, and analyze tests with AI-powered intelligence. The complete platform for modern education."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-6 animate-fade-in",style:{animationDelay:"0.6s"},children:[c.jsxs(Ge,{size:"lg",onClick:()=>t("/auth"),className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20 text-base h-12 px-8 group",children:["Start Free Trial",c.jsx(gS,{className:"ml-2 w-4 h-4 group-hover:translate-x-1 transition-transform"})]}),c.jsx(Ge,{size:"lg",variant:"outline",onClick:()=>t("/auth"),className:"text-base h-12 px-8 border-2",children:"Watch Demo"})]}),c.jsx("div",{className:"grid grid-cols-3 gap-4 sm:gap-8 max-w-3xl mx-auto pt-16 animate-fade-in",style:{animationDelay:"0.8s"},children:[{value:"10K+",label:"Questions Generated"},{value:"500+",label:"Active Users"},{value:"99.9%",label:"Uptime"}].map((n,i)=>c.jsxs("div",{className:"space-y-2 hover:scale-110 transition-transform duration-300",children:[c.jsx("div",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-primary",children:n.value}),c.jsx("div",{className:"text-sm text-muted-foreground",children:n.label})]},i))})]})})]}),c.jsx("section",{className:"py-16 sm:py-24 bg-muted/30",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"text-center mb-12 sm:mb-16",children:[c.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-foreground mb-4",children:"Everything You Need"}),c.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Powerful features designed for educators, students, and administrators"})]}),c.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6 lg:gap-8",children:e.map((n,i)=>c.jsx(Oe,{className:"border-2 hover:border-primary/50 transition-all duration-300 hover:shadow-xl hover:-translate-y-2 group bg-card animate-fade-in",style:{animationDelay:`${i*.1}s`},children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx("div",{className:"w-14 h-14 rounded-2xl bg-primary/10 flex items-center justify-center mb-4 group-hover:bg-primary group-hover:scale-110 group-hover:rotate-6 transition-all duration-300",children:c.jsx(n.icon,{className:"w-7 h-7 text-primary group-hover:text-primary-foreground transition-colors"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:n.title}),c.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.description})]})},i))})]})}),c.jsx("section",{className:"py-16 sm:py-24",children:c.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsx(Oe,{className:"border-2 shadow-2xl bg-card overflow-hidden animate-fade-in hover:shadow-primary/10 transition-all duration-500",children:c.jsx(Ie,{className:"p-8 sm:p-12 lg:p-16",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-foreground mb-6",children:"Why Choose mQuiz?"}),c.jsx("p",{className:"text-muted-foreground text-lg mb-8 leading-relaxed",children:"Join thousands of educators who are already transforming their teaching experience"}),c.jsxs(Ge,{size:"lg",onClick:()=>t("/auth"),className:"bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg shadow-primary/20 h-12",children:["Get Started Now",c.jsx(gS,{className:"ml-2 w-4 h-4"})]})]}),c.jsx("div",{className:"space-y-4",children:r.map((n,i)=>c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg hover:bg-muted/50 hover:translate-x-2 transition-all duration-300 animate-fade-in",style:{animationDelay:`${i*.1+.2}s`},children:[c.jsx(tN,{className:"w-6 h-6 text-primary flex-shrink-0 mt-0.5 animate-scale-in",style:{animationDelay:`${i*.1+.3}s`}}),c.jsx("span",{className:"text-foreground",children:n})]},i))})]})})})})}),c.jsx("section",{className:"py-16 sm:py-24 bg-muted/30",children:c.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center bg-gradient-to-br from-primary to-primary/80 rounded-3xl p-8 sm:p-12 lg:p-16 shadow-2xl animate-fade-in hover:shadow-primary/30 hover:scale-[1.02] transition-all duration-500",children:[c.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center mx-auto mb-6 animate-bounce",children:c.jsx(mT,{className:"w-10 h-10 text-white"})}),c.jsx("h2",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold text-white mb-4",children:"Ready to Get Started?"}),c.jsx("p",{className:"text-lg sm:text-xl text-white/90 mb-8 max-w-2xl mx-auto leading-relaxed",children:"Join the future of educational testing. Start creating professional tests in minutes."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsx(Ge,{size:"lg",onClick:()=>t("/auth"),className:"bg-white text-primary hover:bg-white/90 shadow-xl h-12 px-8 font-semibold",children:"Start Free Trial"}),c.jsx(Ge,{size:"lg",variant:"outline",onClick:()=>t("/auth"),className:"border-2 border-white text-white hover:bg-white/10 h-12 px-8 font-semibold",children:"Contact Sales"})]})]})})}),c.jsx("footer",{className:"border-t border-border/40 py-12 bg-background",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-2 hover:scale-110 transition-transform duration-300",children:[c.jsx(mT,{className:"w-6 h-6 text-primary"}),c.jsx("span",{className:"text-xl font-bold text-foreground",children:"mQuiz"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:" 2025 mQuiz. All rights reserved."})]})})})]})},pr=j.forwardRef(({className:t,type:e,...r},n)=>c.jsx("input",{type:e,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));pr.displayName="Input";var W2e="Label",Are=j.forwardRef((t,e)=>c.jsx(Ut.label,{...t,ref:e,onMouseDown:r=>{var i;r.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Are.displayName=W2e;var jre=Are;const H2e=gx("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ft=j.forwardRef(({className:t,...e},r)=>c.jsx(jre,{ref:r,className:He(H2e(),t),...e}));ft.displayName=jre.displayName;function V2e(t,e=[]){let r=[];function n(s,a){const o=j.createContext(a),l=r.length;r=[...r,a];function u(h){const{scope:f,children:p,...g}=h,m=(f==null?void 0:f[t][l])||o,v=j.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||o,g=j.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=r.map(a=>j.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,G2e(i,...e)]}function G2e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...o,...h}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var K2e=j.createContext(void 0);function Kw(t){const e=j.useContext(K2e);return t||e||"ltr"}var GL="rovingFocusGroup.onEntryFocus",Y2e={bubbles:!1,cancelable:!0},D3="RovingFocusGroup",[zD,Nre,X2e]=p3(D3),[Q2e,Yw]=V2e(D3,[X2e]),[J2e,Z2e]=Q2e(D3),Ere=j.forwardRef((t,e)=>c.jsx(zD.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(zD.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(e_e,{...t,ref:e})})}));Ere.displayName=D3;var e_e=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,f=j.useRef(null),p=br(e,f),g=Kw(s),[m=null,v]=Uc({prop:a,defaultProp:o,onChange:l}),[x,y]=j.useState(!1),w=li(u),_=Nre(r),A=j.useRef(!1),[C,N]=j.useState(0);return j.useEffect(()=>{const E=f.current;if(E)return E.addEventListener(GL,w),()=>E.removeEventListener(GL,w)},[w]),c.jsx(J2e,{scope:r,orientation:n,dir:g,loop:i,currentTabStopId:m,onItemFocus:j.useCallback(E=>v(E),[v]),onItemShiftTab:j.useCallback(()=>y(!0),[]),onFocusableItemAdd:j.useCallback(()=>N(E=>E+1),[]),onFocusableItemRemove:j.useCallback(()=>N(E=>E-1),[]),children:c.jsx(Ut.div,{tabIndex:x||C===0?-1:0,"data-orientation":n,...h,ref:p,style:{outline:"none",...t.style},onMouseDown:mt(t.onMouseDown,()=>{A.current=!0}),onFocus:mt(t.onFocus,E=>{const P=!A.current;if(E.target===E.currentTarget&&P&&!x){const L=new CustomEvent(GL,Y2e);if(E.currentTarget.dispatchEvent(L),!L.defaultPrevented){const O=_().filter(U=>U.focusable),k=O.find(U=>U.active),D=O.find(U=>U.id===m),z=[k,D,...O].filter(Boolean).map(U=>U.ref.current);Pre(z,d)}}A.current=!1}),onBlur:mt(t.onBlur,()=>y(!1))})})}),Cre="RovingFocusGroupItem",Tre=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,...a}=t,o=Lc(),l=s||o,u=Z2e(Cre,r),d=u.currentTabStopId===l,h=Nre(r),{onFocusableItemAdd:f,onFocusableItemRemove:p}=u;return j.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),c.jsx(zD.ItemSlot,{scope:r,id:l,focusable:n,active:i,children:c.jsx(Ut.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:mt(t.onMouseDown,g=>{n?u.onItemFocus(l):g.preventDefault()}),onFocus:mt(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:mt(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){u.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=n_e(g,u.orientation,u.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=h().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const y=x.indexOf(g.currentTarget);x=u.loop?i_e(x,y+1):x.slice(y+1)}setTimeout(()=>Pre(x))}})})})});Tre.displayName=Cre;var t_e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function r_e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function n_e(t,e,r){const n=r_e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return t_e[n]}function Pre(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function i_e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var J$=Ere,Z$=Tre,eB="Tabs",[s_e,Ymt]=vo(eB,[Yw]),kre=Yw(),[a_e,tB]=s_e(eB),Ore=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=Kw(o),[h,f]=Uc({prop:n,onChange:i,defaultProp:s});return c.jsx(a_e,{scope:r,baseId:Lc(),value:h,onValueChange:f,orientation:a,dir:d,activationMode:l,children:c.jsx(Ut.div,{dir:d,"data-orientation":a,...u,ref:e})})});Ore.displayName=eB;var Mre="TabsList",Lre=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=tB(Mre,r),a=kre(r);return c.jsx(J$,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:n,children:c.jsx(Ut.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Lre.displayName=Mre;var Ire="TabsTrigger",Rre=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,a=tB(Ire,r),o=kre(r),l=$re(a.baseId,n),u=Bre(a.baseId,n),d=n===a.value;return c.jsx(Z$,{asChild:!0,...o,focusable:!i,active:d,children:c.jsx(Ut.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:mt(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(n):h.preventDefault()}),onKeyDown:mt(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(n)}),onFocus:mt(t.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!i&&h&&a.onValueChange(n)})})})});Rre.displayName=Ire;var Dre="TabsContent",Fre=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...a}=t,o=tB(Dre,r),l=$re(o.baseId,n),u=Bre(o.baseId,n),d=n===o.value,h=j.useRef(d);return j.useEffect(()=>{const f=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(f)},[]),c.jsx(ws,{present:i||d,children:({present:f})=>c.jsx(Ut.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:f&&s})})});Fre.displayName=Dre;function $re(t,e){return`${t}-trigger-${e}`}function Bre(t,e){return`${t}-content-${e}`}var o_e=Ore,Ure=Lre,zre=Rre,qre=Fre;const ua=o_e,xo=j.forwardRef(({className:t,...e},r)=>c.jsx(Ure,{ref:r,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground mb-3",t),...e}));xo.displayName=Ure.displayName;const Cr=j.forwardRef(({className:t,...e},r)=>c.jsx(zre,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Cr.displayName=zre.displayName;const Kt=j.forwardRef(({className:t,...e},r)=>c.jsx(qre,{ref:r,className:He("ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Kt.displayName=qre.displayName;var l_e="Separator",MW="horizontal",c_e=["horizontal","vertical"],Wre=j.forwardRef((t,e)=>{const{decorative:r,orientation:n=MW,...i}=t,s=u_e(n)?n:MW,o=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return c.jsx(Ut.div,{"data-orientation":s,...o,...i,ref:e})});Wre.displayName=l_e;function u_e(t){return c_e.includes(t)}var Hre=Wre;const cN=j.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>c.jsx(Hre,{ref:i,decorative:r,orientation:e,className:He("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));cN.displayName=Hre.displayName;const d_e={admin:{title:"Administrator",description:"Full system access and configuration",icon:aa,color:"text-purple-600",bgColor:"bg-purple-50",borderColor:"border-purple-200",note:"Admin accounts require manual approval",features:["Manage all users and roles","Configure AI question generators","System-wide analytics","Content moderation"]},parent:{title:"Parent/Teacher",description:"Create and manage question papers",icon:ns,color:"text-blue-600",bgColor:"bg-blue-50",borderColor:"border-blue-200",note:"Start creating content immediately",features:["Upload pages","Generate MCQ papers","Set test schedules & time limits","Review child results"]},child:{title:"Student",description:"Take tests and view results",icon:Fa,color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",note:"Join tests assigned by teachers",features:["Attempt question papers","Timed test sessions","View approved results","Track progress"]}},h_e=({selectedRole:t,onRoleSelect:e})=>c.jsx(O3,{children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-sm font-medium",children:"Select your role"}),c.jsxs(DD,{children:[c.jsx(FD,{children:c.jsx(hA,{className:"w-4 h-4 text-muted-foreground"})}),c.jsx(FP,{side:"right",className:"max-w-xs",children:c.jsx("p",{className:"text-xs",children:"Choose the role that best describes how you'll use the platform."})})]})]}),c.jsx(ua,{value:t||"",onValueChange:r=>e(r),children:c.jsx(xo,{className:"grid w-full grid-cols-3 h-auto",children:Object.entries(d_e).map(([r,n])=>c.jsx(Cr,{value:r,className:"text-xs sm:text-sm flex flex-row gap-2",children:c.jsxs(DD,{children:[c.jsx("span",{className:"text-xs font-medium",children:n.title}),c.jsx(FD,{children:c.jsx(hA,{className:"w-4 h-4 text-muted-foreground"})}),c.jsx(FP,{side:"top",className:"max-w-xs",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"font-medium text-xs",children:n.description}),c.jsx("p",{className:"text-xs italic",children:n.note}),c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"font-medium text-xs",children:"Features:"}),c.jsx("ul",{className:"space-y-1",children:n.features.map((i,s)=>c.jsxs("li",{className:"text-xs",children:[" ",i]},s))})]}),r==="admin"&&c.jsx("p",{className:"text-xs text-warning",children:" Admin accounts require manual approval"})]})})]},r)}))})})]})}),f_e="modulepreload",p_e=function(t){return"/"+t},LW={},t0=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=p_e(l),l in LW)return;LW[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":f_e,u||(h.as="script"),h.crossOrigin="",h.href=l,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},m_e=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>t0(async()=>{const{default:n}=await Promise.resolve().then(()=>Xw);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class rB extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class g_e extends rB{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class IW extends rB{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class RW extends rB{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qD;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qD||(qD={}));var v_e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class x_e{constructor(e,{headers:r={},customFetch:n,region:i=qD.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=m_e(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return v_e(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${e}`);l&&l!=="any"&&(o["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:d}).catch(m=>{throw new g_e(m)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new IW(h);if(!h.ok)throw new RW(h);let p=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return p==="application/json"?g=yield h.json():p==="application/octet-stream"?g=yield h.blob():p==="text/event-stream"?g=h:p==="multipart/form-data"?g=yield h.formData():g=yield h.text(),{data:g,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof RW||i instanceof IW?i.context:void 0}}})}}var Do={},nB={},F3={},uN={},$3={},B3={},y_e=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rw=y_e();const b_e=rw.fetch,Vre=rw.fetch.bind(rw),Gre=rw.Headers,w_e=rw.Request,__e=rw.Response,Xw=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gre,Request:w_e,Response:__e,default:Vre,fetch:b_e},Symbol.toStringTag,{value:"Module"})),S_e=X0e(Xw);var U3={};Object.defineProperty(U3,"__esModule",{value:!0});let A_e=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};U3.default=A_e;var Kre=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(B3,"__esModule",{value:!0});const j_e=Kre(S_e),N_e=Kre(U3);let E_e=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=j_e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,l;let u=null,d=null,h=null,f=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=x:d=JSON.parse(x))}const m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");m&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const m=await s.text();try{u=JSON.parse(m),Array.isArray(u)&&s.status===404&&(d=[],u=null,f=200,p="OK")}catch{s.status===404&&m===""?(f=204,p="No Content"):u={message:m}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,p="OK"),u&&this.shouldThrowOnError)throw new N_e.default(u)}return{error:u,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,l;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};B3.default=E_e;var C_e=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($3,"__esModule",{value:!0});const T_e=C_e(B3);let P_e=class extends T_e.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$3.default=P_e;var k_e=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(uN,"__esModule",{value:!0});const O_e=k_e($3);let M_e=class extends O_e.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};uN.default=M_e;var L_e=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(F3,"__esModule",{value:!0});const s_=L_e(uN);let I_e=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new s_.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new s_.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new s_.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new s_.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new s_.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};F3.default=I_e;var z3={},q3={};Object.defineProperty(q3,"__esModule",{value:!0});q3.version=void 0;q3.version="0.0.0-automated";Object.defineProperty(z3,"__esModule",{value:!0});z3.DEFAULT_HEADERS=void 0;const R_e=q3;z3.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${R_e.version}`};var Yre=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nB,"__esModule",{value:!0});const D_e=Yre(F3),F_e=Yre(uN),$_e=z3;let B_e=class Xre{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},$_e.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new D_e.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Xre(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",l=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new F_e.default({method:a,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};nB.default=B_e;var Qw=Da&&Da.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Do,"__esModule",{value:!0});Do.PostgrestError=Do.PostgrestBuilder=Do.PostgrestTransformBuilder=Do.PostgrestFilterBuilder=Do.PostgrestQueryBuilder=Do.PostgrestClient=void 0;const Qre=Qw(nB);Do.PostgrestClient=Qre.default;const Jre=Qw(F3);Do.PostgrestQueryBuilder=Jre.default;const Zre=Qw(uN);Do.PostgrestFilterBuilder=Zre.default;const ene=Qw($3);Do.PostgrestTransformBuilder=ene.default;const tne=Qw(B3);Do.PostgrestBuilder=tne.default;const rne=Qw(U3);Do.PostgrestError=rne.default;var U_e=Do.default={PostgrestClient:Qre.default,PostgrestQueryBuilder:Jre.default,PostgrestFilterBuilder:Zre.default,PostgrestTransformBuilder:ene.default,PostgrestBuilder:tne.default,PostgrestError:rne.default};const{PostgrestClient:z_e,PostgrestQueryBuilder:t0t,PostgrestFilterBuilder:r0t,PostgrestTransformBuilder:n0t,PostgrestBuilder:i0t,PostgrestError:s0t}=U_e;function q_e(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const W_e=q_e(),H_e="2.11.15",V_e=`realtime-js/${H_e}`,G_e="1.0.0",nne=1e4,K_e=1e3;var vS;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vS||(vS={}));var _a;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_a||(_a={}));var Cu;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Cu||(Cu={}));var WD;(function(t){t.websocket="websocket"})(WD||(WD={}));var og;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(og||(og={}));class Y_e{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const l=n.decode(e.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class ine{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $n;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})($n||($n={}));const DW=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=X_e(a,t,e,i),s),{})},X_e=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?sne(s,a):HD(a)},sne=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return eSe(e,r)}switch(t){case $n.bool:return Q_e(e);case $n.float4:case $n.float8:case $n.int2:case $n.int4:case $n.int8:case $n.numeric:case $n.oid:return J_e(e);case $n.json:case $n.jsonb:return Z_e(e);case $n.timestamp:return tSe(e);case $n.abstime:case $n.date:case $n.daterange:case $n.int4range:case $n.int8range:case $n.money:case $n.reltime:case $n.text:case $n.time:case $n.timestamptz:case $n.timetz:case $n.tsrange:case $n.tstzrange:return HD(e);default:return HD(e)}},HD=t=>t,Q_e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},J_e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Z_e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},eSe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>sne(e,o))}return t},tSe=t=>typeof t=="string"?t.replace(" ","T"):t,ane=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class KL{constructor(e,r,n={},i=nne){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var FW;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(FW||(FW={}));class xS{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xS.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=xS.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=xS.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const h=s[u];if(h){const f=d.map(v=>v.presence_ref),p=h.map(v=>v.presence_ref),g=d.filter(v=>p.indexOf(v.presence_ref)<0),m=h.filter(v=>f.indexOf(v.presence_ref)<0);g.length>0&&(o[u]=g),m.length>0&&(l[u]=m)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const h=e[o].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[o].unshift(...f)}n(o,d,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $W;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})($W||($W={}));var BW;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(BW||(BW={}));var Bh;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bh||(Bh={}));class iB{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=_a.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new KL(this,Cu.join,this.params,this.timeout),this.rejoinTimer=new ine(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_a.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_a.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_a.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Cu.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new xS(this),this.broadcastEndpointURL=ane(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==_a.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params;this._onError(d=>e==null?void 0:e(Bh.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(Bh.CLOSED));const l={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(Bh.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let m=0;m<p;m++){const v=f[m],{filter:{event:x,schema:y,table:w,filter:_}}=v,A=d&&d[m];if(A&&A.event===x&&A.schema===y&&A.table===w&&A.filter===_)g.push(Object.assign(Object.assign({},v),{id:A.id}));else{this.unsubscribe(),this.state=_a.errored,e==null||e(Bh.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Bh.SUBSCRIBED);return}}).receive("error",d=>{this.state=_a.errored,e==null||e(Bh.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bh.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_a.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Cu.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new KL(this,Cu.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new KL(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Cu;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,v;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((v=(m=p.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(p=>p.callback(f,n)):(s=this.bindings[a])===null||s===void 0||s.filter(p=>{var g,m,v,x,y,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in p){const _=p.id,A=(g=p.filter)===null||g===void 0?void 0:g.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(y=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===a}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:v,commit_timestamp:x,type:y,errors:w}=g;f=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:x,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===_a.closed}_isJoined(){return this.state===_a.joined}_isJoining(){return this.state===_a.joining}_isLeaving(){return this.state===_a.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&iB.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Cu.close,{},e)}_onError(e){this._on(Cu.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_a.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=DW(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=DW(e.columns,e.old_record)),r}}const UW=()=>{},rSe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nSe{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nne,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=UW,this.ref=0,this.logger=UW,this.conn=null,this.sendBuffer=[],this.serializer=new Y_e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...o)=>t0(async()=>{const{default:l}=await Promise.resolve().then(()=>Xw);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${WD.websocket}`,this.httpEndpoint=ane(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ine(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=W_e),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:G_e}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vS.connecting:return og.Connecting;case vS.open:return og.Open;case vS.closing:return og.Closing;default:return og.Closed}}isConnected(){return this.connectionState()===og.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new iB(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:V_e};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Cu.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(K_e,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(o=>o(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Cu.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([rSe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class sB extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ms(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iSe extends sB{constructor(e,r){super(e),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class VD extends sB{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var sSe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const one=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>t0(async()=>{const{default:n}=await Promise.resolve().then(()=>Xw);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},aSe=()=>sSe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield t0(()=>Promise.resolve().then(()=>Xw),void 0)).Response:Response}),GD=t=>{if(Array.isArray(t))return t.map(r=>GD(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=GD(n)}),e};var vx=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const YL=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),oSe=(t,e,r)=>vx(void 0,void 0,void 0,function*(){const n=yield aSe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{e(new iSe(YL(i),t.status||500))}).catch(i=>{e(new VD(YL(i),i))}):e(new VD(YL(t),t))}),lSe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),r))};function dN(t,e,r,n,i,s){return vx(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,lSe(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>oSe(l,o,n))})})}function UP(t,e,r,n){return vx(this,void 0,void 0,function*(){return dN(t,"GET",e,r,n)})}function Rp(t,e,r,n,i){return vx(this,void 0,void 0,function*(){return dN(t,"POST",e,n,i,r)})}function cSe(t,e,r,n,i){return vx(this,void 0,void 0,function*(){return dN(t,"PUT",e,n,i,r)})}function uSe(t,e,r,n){return vx(this,void 0,void 0,function*(){return dN(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lne(t,e,r,n,i){return vx(this,void 0,void 0,function*(){return dN(t,"DELETE",e,n,i,r)})}var No=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const dSe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zW={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hSe{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=one(i)}uploadOrUpdate(e,r,n,i){return No(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},zW),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:s,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(s){if(Ms(s))return{data:null,error:s};throw s}})}upload(e,r,n){return No(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return No(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:zW.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:s,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ms(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return No(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Rp(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new sB("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(Ms(n))return{data:null,error:n};throw n}})}update(e,r,n){return No(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return No(this,void 0,void 0,function*(){try{return{data:yield Rp(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ms(i))return{data:null,error:i};throw i}})}copy(e,r,n){return No(this,void 0,void 0,function*(){try{return{data:{path:(yield Rp(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ms(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return No(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Rp(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(Ms(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return No(this,void 0,void 0,function*(){try{const i=yield Rp(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(Ms(i))return{data:null,error:i};throw i}})}download(e,r){return No(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield UP(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ms(o))return{data:null,error:o};throw o}})}info(e){return No(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield UP(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:GD(n),error:null}}catch(n){if(Ms(n))return{data:null,error:n};throw n}})}exists(e){return No(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield uSe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ms(n)&&n instanceof VD){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return No(this,void 0,void 0,function*(){try{return{data:yield lne(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Ms(r))return{data:null,error:r};throw r}})}list(e,r,n){return No(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},dSe),r),{prefix:e||""});return{data:yield Rp(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Ms(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const fSe="2.7.1",pSe={"X-Client-Info":`storage-js/${fSe}`};var ey=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class mSe{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},pSe),r),this.fetch=one(n)}listBuckets(){return ey(this,void 0,void 0,function*(){try{return{data:yield UP(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ms(e))return{data:null,error:e};throw e}})}getBucket(e){return ey(this,void 0,void 0,function*(){try{return{data:yield UP(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Ms(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ey(this,void 0,void 0,function*(){try{return{data:yield Rp(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ms(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ey(this,void 0,void 0,function*(){try{return{data:yield cSe(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ms(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ey(this,void 0,void 0,function*(){try{return{data:yield Rp(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ms(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ey(this,void 0,void 0,function*(){try{return{data:yield lne(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Ms(r))return{data:null,error:r};throw r}})}}class gSe extends mSe{constructor(e,r={},n){super(e,r,n)}from(e){return new hSe(this.url,this.headers,e,this.fetch)}}const vSe="2.52.1";let I_="";typeof Deno<"u"?I_="deno":typeof document<"u"?I_="web":typeof navigator<"u"&&navigator.product==="ReactNative"?I_="react-native":I_="node";const xSe={"X-Client-Info":`supabase-js-${I_}/${vSe}`},ySe={headers:xSe},bSe={schema:"public"},wSe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_Se={};var SSe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const ASe=t=>{let e;return t?e=t:typeof fetch>"u"?e=Vre:e=fetch,(...r)=>e(...r)},jSe=()=>typeof Headers>"u"?Gre:Headers,NSe=(t,e,r)=>{const n=ASe(r),i=jSe();return(s,a)=>SSe(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var ESe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function CSe(t){return t.endsWith("/")?t:t+"/"}function TSe(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>ESe(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const cne="2.71.1",yy=30*1e3,KD=3,XL=KD*yy,PSe="http://localhost:9999",kSe="supabase.auth.token",OSe={"X-Client-Info":`gotrue-js/${cne}`},YD="X-Supabase-Api-Version",une={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MSe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LSe=10*60*1e3;class aB extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Nr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ISe extends aB{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function RSe(t){return Nr(t)&&t.name==="AuthApiError"}class dne extends aB{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class v0 extends aB{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class kp extends v0{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function DSe(t){return Nr(t)&&t.name==="AuthSessionMissingError"}class rC extends v0{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nC extends v0{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class iC extends v0{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FSe(t){return Nr(t)&&t.name==="AuthImplicitGrantRedirectError"}class qW extends v0{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XD extends v0{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function QL(t){return Nr(t)&&t.name==="AuthRetryableFetchError"}class WW extends v0{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class QD extends v0{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const zP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),HW=` 	
\r=`.split(""),$Se=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<HW.length;e+=1)t[HW[e].charCodeAt(0)]=-2;for(let e=0;e<zP.length;e+=1)t[zP[e].charCodeAt(0)]=e;return t})();function VW(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zP[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(zP[n]),e.queuedBits-=6}}function hne(t,e,r){const n=$Se[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function GW(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{zSe(a,n,r)};for(let a=0;a<t.length;a+=1)hne(t.charCodeAt(a),i,s);return e.join("")}function BSe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function USe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}BSe(n,e)}}function zSe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function qSe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)hne(t.charCodeAt(i),r,n);return new Uint8Array(e)}function WSe(t){const e=[];return USe(t,r=>e.push(r)),new Uint8Array(e)}function HSe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>VW(i,r,n)),VW(null,r,n),e.join("")}function VSe(t){return Math.round(Date.now()/1e3)+t}function GSe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ou=()=>typeof window<"u"&&typeof document<"u",$0={tested:!1,writable:!1},fne=()=>{if(!ou())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($0.tested)return $0.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),$0.tested=!0,$0.writable=!0}catch{$0.tested=!0,$0.writable=!1}return $0.writable};function KSe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const pne=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>t0(async()=>{const{default:n}=await Promise.resolve().then(()=>Xw);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},YSe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",by=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},B0=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ap=async(t,e)=>{await t.removeItem(e)};class W3{constructor(){this.promise=new W3.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}W3.promiseConstructor=Promise;function JL(t){const e=t.split(".");if(e.length!==3)throw new QD("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!MSe.test(e[n]))throw new QD("JWT not in base64url format");return{header:JSON.parse(GW(e[0])),payload:JSON.parse(GW(e[1])),signature:qSe(e[2]),raw:{header:e[0],payload:e[1]}}}async function XSe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function QSe(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function JSe(t){return("0"+t.toString(16)).substr(-2)}function ZSe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,JSe).join("")}async function eAe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function tAe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await eAe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ty(t,e,r=!1){const n=ZSe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await by(t,`${e}-code-verifier`,i);const s=await tAe(n);return[s,n===s?"plain":"s256"]}const rAe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nAe(t){const e=t.headers.get(YD);if(!e||!e.match(rAe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function iAe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sAe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const aAe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ry(t){if(!aAe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ZL(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function KW(t){return JSON.parse(JSON.stringify(t))}var oAe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const X0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lAe=[502,503,504];async function YW(t){var e;if(!YSe(t))throw new XD(X0(t),0);if(lAe.includes(t.status))throw new XD(X0(t),t.status);let r;try{r=await t.json()}catch(s){throw new dne(X0(s),s)}let n;const i=nAe(t);if(i&&i.getTime()>=une["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new WW(X0(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new kp}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new WW(X0(r),t.status,r.weak_password.reasons);throw new ISe(X0(r),t.status||500,n)}const cAe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function qr(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[YD]||(s[YD]=une["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await uAe(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function uAe(t,e,r,n,i,s){const a=cAe(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new XD(X0(l),0)}if(o.ok||await YW(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await YW(l)}}function Mh(t){var e;let r=null;pAe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=VSe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function XW(t){const e=Mh(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Bp(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dAe(t){return{data:t,error:null}}function hAe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=oAe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function fAe(t){return t}function pAe(t){return t.access_token&&t.refresh_token&&t.expires_in}const eI=["global","local","others"];var mAe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class gAe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=pne(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=eI[0]){if(eI.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eI.join(", ")}`);try{return await qr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Nr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await qr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Bp})}catch(n){if(Nr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=mAe(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await qr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:hAe,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Nr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await qr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Bp})}catch(r){if(Nr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await qr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:fAe});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(g.split(";")[1].split("=")[1]);u[`${v}Page`]=m}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Nr(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ry(e);try{return await qr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Bp})}catch(r){if(Nr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ry(e);try{return await qr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Bp})}catch(n){if(Nr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ry(e);try{return await qr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Bp})}catch(n){if(Nr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ry(e.userId);try{const{data:r,error:n}=await qr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Nr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ry(e.userId),ry(e.id);try{return{data:await qr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Nr(r))return{data:null,error:r};throw r}}}function QW(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function vAe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ny={debug:!!(globalThis&&fne()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mne extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class xAe extends mne{}async function yAe(t,e,r){ny.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ny.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ny.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ny.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ny.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new xAe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ny.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}vAe();const bAe={url:PSe,storageKey:kSe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OSe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function JW(t,e,r){return await r()}const iy={};class wA{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wA.nextInstanceID,wA.nextInstanceID+=1,this.instanceID>0&&ou()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},bAe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new gAe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=pne(i.fetch),this.lock=i.lock||JW,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ou()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=yAe:this.lock=JW,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:fne()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=QW(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=QW(this.memoryStorage)),ou()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=iy[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){iy[this.storageKey]=Object.assign(Object.assign({},iy[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=iy[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){iy[this.storageKey]=Object.assign(Object.assign({},iy[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cne}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=KSe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ou()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),FSe(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Nr(r)?{error:r}:{error:new dne("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Mh}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Nr(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ty(this.storage,this.storageKey)),s=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:Mh})}else if("phone"in e){const{phone:d,password:h,options:f}=e;s=await qr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Mh})}else throw new nC("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(Nr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await qr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:XW})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await qr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:XW})}else throw new nC("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new rC}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Nr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,a,o,l,u,d,h,f,p;let g,m;if("message"in e)g=e.message,m=e.signature;else{const{chain:v,wallet:x,statement:y,options:w}=e;let _;if(ou())if(typeof x=="object")_=x;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const A=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),y?{statement:y}:null));let N;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")N=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)N=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),m=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${A.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=C}}try{const{data:v,error:x}=await qr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:HSe(m)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Mh});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new rC}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(Nr(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(e){const r=await B0(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await qr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Mh});if(await Ap(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new rC}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(Nr(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await qr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Mh}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new rC}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(Nr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ty(this.storage,this.storageKey));const{error:h}=await qr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await qr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new nC("You must provide either an email or phone number.")}catch(o){if(Nr(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await qr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Mh});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(Nr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ty(this.storage,this.storageKey)),await qr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:dAe})}catch(s){if(Nr(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new kp;const{error:i}=await qr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Nr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await qr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await qr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new nC("You must provide either an email or phone number and a type")}catch(r){if(Nr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await B0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<XL:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await B0(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=ZL()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await qr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Bp}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kp}:await qr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Bp})})}catch(r){if(Nr(r))return DSe(r)&&(await this._removeSession(),await Ap(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new kp;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await ty(this.storage,this.storageKey));const{data:u,error:d}=await qr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Bp});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(Nr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kp;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=JL(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Nr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new kp;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Nr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ou())throw new iC("No browser detected.");if(e.error||e.error_description||e.error_code)throw new iC(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qW("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new iC("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qW("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new iC("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=yy&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:m,error:v}=await this._getUser(s);if(v)throw v;const x={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(Nr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await B0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(RSe(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await Ap(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=GSe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ty(this.storage,this.storageKey,!0));try{return await qr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Nr(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Nr(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,d;const{data:h,error:f}=s;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await qr(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return ou()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Nr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await qr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Nr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await QSe(async i=>(i>0&&await XSe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await qr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Mh})),(i,s)=>{const a=200*Math.pow(2,i);return s&&QL(s)&&Date.now()+a-n<yy})}catch(n){if(this._debug(r,"error",n),Nr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ou()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await B0(this.storage,this.storageKey);if(i&&this.userStorage){let a=await B0(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await by(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:ZL()}else if(i&&!i.user&&!i.user){const a=await B0(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ap(this.storage,this.storageKey+"-user"),await by(this.storage,this.storageKey,i)):i.user=ZL()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<XL;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${XL}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),QL(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new kp;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new W3;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new kp;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),Nr(s)){const a={session:null,error:s};return QL(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await by(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=KW(i);await by(this.storage,this.storageKey,s)}else{const i=KW(r);await by(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ap(this.storage,this.storageKey),await Ap(this.storage,this.storageKey+"-code-verifier"),await Ap(this.storage,this.storageKey+"-user"),this.userStorage&&await Ap(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ou()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yy);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/yy);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yy}ms, refresh threshold is ${KD} ticks`),i<=KD&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mne)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ou()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ty(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await qr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Nr(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:u}=await qr(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(Nr(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await qr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(Nr(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await qr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Nr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=JL(i.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+LSe>i)return n;const{data:s,error:a}=await qr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=JL(n);r!=null&&r.allowExpired||iAe(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:i,signature:a},error:null}}const d=sAe(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,WSe(`${o}.${l}`)))throw new QD("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(Nr(n))return{data:null,error:n};throw n}}}wA.nextInstanceID=0;const wAe=wA;class _Ae extends wAe{constructor(e){super(e)}}var SAe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function l(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};class AAe{constructor(e,r,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=CSe(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:bSe,realtime:_Se,auth:Object.assign(Object.assign({},wSe),{storageKey:u}),global:ySe},h=TSe(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=NSe(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new z_e(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new x_e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new gSe(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return SAe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:l},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _Ae({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new nSe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jAe=(t,e,r)=>new AAe(t,e,r);function NAe(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}NAe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EAe="https://bdnolakqylcvspodpwyb.supabase.co",CAe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJkbm9sYWtxeWxjdnNwb2Rwd3liIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM2OTY2MTcsImV4cCI6MjA2OTI3MjYxN30.HQ7nSVk61iT3Asy-7cn1-K_-TLAnu9nkdfuO-KfM1o8",je=jAe(EAe,CAe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),TAe=({onAuthSuccess:t})=>{const[e,r]=j.useState(!1),[n,i]=j.useState(!1),[s,a]=j.useState("child"),[o,l]=j.useState("signin"),[u,d]=j.useState({email:"",password:"",fullName:"",confirmPassword:""}),[h,f]=j.useState(""),[p,g]=j.useState(""),{toast:m}=Kr();j.useEffect(()=>{je.auth.getSession().then(({data:{session:C}})=>{C&&t()});const{data:{subscription:A}}=je.auth.onAuthStateChange((C,N)=>{C==="SIGNED_IN"&&N&&t()});return()=>A.unsubscribe()},[t]);const v=A=>{d(C=>({...C,[A.target.name]:A.target.value})),f("")},x=()=>{if(!u.email.trim())return f("Email is required"),!1;if(o!=="reset"&&!u.password.trim())return f("Password is required"),!1;if(o==="signup"){if(!s)return f("Please select a role"),!1;if(!u.fullName.trim())return f("Full name is required"),!1;if(u.password!==u.confirmPassword)return f("Passwords do not match"),!1;if(u.password.length<6)return f("Password must be at least 6 characters"),!1}return!0},y=async A=>{if(A.preventDefault(),!!x()){r(!0),f(""),g("");try{if(o==="signin"){const{data:C,error:N}=await je.auth.signInWithPassword({email:u.email,password:u.password});if(N)throw N;m({title:"Sign in successful",description:"Welcome back!"})}else if(o==="signup"){const C=`${window.location.origin}/`,{error:N}=await je.auth.signUp({email:u.email,password:u.password,options:{emailRedirectTo:C,data:{full_name:u.fullName,role:s}}});if(N)throw N;g(s==="admin"?"Account created! Admin accounts require manual approval. Please contact the administrator.":"Account created successfully! Please check your email to verify your account.")}else if(o==="reset"){const{error:C}=await je.auth.resetPasswordForEmail(u.email,{redirectTo:`${window.location.origin}/auth/reset-password`});if(C)throw C;g("Password reset email sent! Please check your inbox.")}}catch(C){f(C.message||"An unexpected error occurred")}finally{r(!1)}}},w=async A=>{r(!0),f("");try{const{error:C}=await je.auth.signInWithOAuth({provider:A,options:{redirectTo:`${window.location.origin}/`,queryParams:{role:s||"child"}}});if(C)throw C}catch(C){f(C.message||"OAuth sign in failed")}finally{r(!1)}},_=()=>c.jsx("div",{className:"space-y-2",children:c.jsx(h_e,{selectedRole:s,onRoleSelect:a})});return c.jsx(O3,{children:c.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-3 sm:p-4",children:c.jsx("div",{className:"w-full max-w-sm sm:max-w-md",children:c.jsxs(Oe,{className:"shadow-elegant mx-auto",children:[c.jsxs(tt,{className:"text-center pb-4 px-4 sm:px-6",children:[c.jsx("div",{className:"mx-auto w-10 h-10 sm:w-12 sm:h-12 bg-gradient-primary rounded-xl flex items-center justify-center mb-3 sm:mb-4",children:c.jsx(gT,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),c.jsx(it,{className:"text-xl sm:text-2xl",children:"Welcome to mQuiz"}),c.jsxs(Xt,{children:[o==="signin"&&"Sign in to your account",o==="signup"&&"Create your account",o==="reset"&&"Reset your password"]})]}),c.jsx(Ie,{className:"space-y-4 px-4 sm:px-6",children:c.jsxs(ua,{value:o,onValueChange:A=>l(A),children:[c.jsxs(xo,{className:"grid w-full grid-cols-3",children:[c.jsx(Cr,{value:"signin",className:"text-xs sm:text-sm",children:"Sign In"}),c.jsx(Cr,{value:"signup",className:"text-xs sm:text-sm",children:"Sign Up"}),c.jsx(Cr,{value:"reset",className:"text-xs sm:text-sm",children:"Reset"})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o==="signup"&&c.jsx(_,{}),o==="signup"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"fullName",children:"Full Name"}),c.jsx(pr,{id:"fullName",name:"fullName",value:u.fullName,onChange:v,placeholder:"Enter your full name",disabled:e})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Uf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),c.jsx(pr,{id:"email",name:"email",type:"email",value:u.email,onChange:v,placeholder:"Enter your email",className:"pl-10 text-sm sm:text-base",disabled:e})]})]}),o!=="reset"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(gT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),c.jsx(pr,{id:"password",name:"password",type:n?"text":"password",value:u.password,onChange:v,placeholder:"Enter your password",className:"pl-10 pr-10 text-sm sm:text-base",disabled:e}),c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>i(!n),children:n?c.jsx(rN,{className:"w-4 h-4"}):c.jsx(th,{className:"w-4 h-4"})})]})]}),o==="signup"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"confirmPassword",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(gT,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),c.jsx(pr,{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",value:u.confirmPassword,onChange:v,placeholder:"Confirm your password",className:"pl-10",disabled:e})]})]}),h&&c.jsxs(Ko,{variant:"destructive",children:[c.jsx(za,{className:"h-4 w-4"}),c.jsx(Yo,{children:h})]}),p&&c.jsxs(Ko,{children:[c.jsx(qu,{className:"h-4 w-4"}),c.jsx(Yo,{children:p})]}),c.jsx(Ge,{type:"submit",className:"w-full",disabled:e,children:e?"Processing...":c.jsxs(c.Fragment,{children:[o==="signin"&&"Sign In",o==="signup"&&"Create Account",o==="reset"&&"Send Reset Email",c.jsx(gS,{className:"w-4 h-4 ml-2"})]})})]}),o!=="reset"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"relative my-4",children:[c.jsx(cN,{}),c.jsx("span",{className:"absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-xs text-muted-foreground",children:"or continue with"})]}),c.jsxs(Ge,{type:"button",variant:"outline",className:"w-full",onClick:()=>w("google"),disabled:e,children:[c.jsxs("svg",{className:"w-4 h-4 mr-2",viewBox:"0 0 24 24",children:[c.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),c.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),c.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),c.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})]})]})})]})})})})},is=()=>{const[t,e]=j.useState(null),[r,n]=j.useState(null),[i,s]=j.useState(null),[a,o]=j.useState(!0),l=j.useCallback(async g=>{if(!(a&&(i==null?void 0:i.user_id)===g))try{const{data:m,error:v}=await je.from("profiles").select("*").eq("user_id",g).maybeSingle();v?(console.error("Error loading profile:",v),s(null)):s(m||null)}catch(m){console.error("Error loading profile:",m),s(null)}finally{o(!1)}},[a,i==null?void 0:i.user_id]);j.useEffect(()=>{let g=!0;je.auth.getSession().then(({data:{session:v}})=>{g&&(n(v),e((v==null?void 0:v.user)??null),v!=null&&v.user?l(v.user.id):o(!1))});const{data:{subscription:m}}=je.auth.onAuthStateChange(async(v,x)=>{g&&(n(x),e((x==null?void 0:x.user)??null),x!=null&&x.user?!i||i.user_id!==x.user.id?setTimeout(()=>{g&&l(x.user.id)},0):o(!1):(s(null),o(!1)))});return()=>{g=!1,m.unsubscribe()}},[l]);const u=async()=>{try{Object.keys(localStorage).forEach(g=>{(g.startsWith("supabase.auth.")||g.includes("sb-"))&&localStorage.removeItem(g)}),await je.auth.signOut({scope:"global"}),window.location.href="/"}catch(g){console.error("Error signing out:",g)}},d=async g=>{if(!t||!i)return{error:"No user or profile found"};try{const{data:m,error:v}=await je.from("profiles").update(g).eq("user_id",t.id).select().single();if(v)throw v;return s(m),{data:m,error:null}}catch(m){return{data:null,error:m.message}}},h=!!t&&!!r,f=(i==null?void 0:i.is_approved)??!1,p=h&&((i==null?void 0:i.role)!=="admin"||f);return{user:t,session:r,profile:i,loading:a,isAuthenticated:h,isApproved:f,canAccess:p,signOut:u,updateProfile:d,refreshProfile:()=>t&&l(t.id)}},PAe="/assets/hero-banner-EaSGaROk.jpg",kAe=()=>{const{loading:t,isAuthenticated:e,profile:r,canAccess:n,signOut:i}=is(),s=ec();if(t)return c.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:c.jsx(Oe,{className:"w-96",children:c.jsxs(Ie,{className:"pt-6 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})});if(!e)return c.jsx("div",{className:"min-h-screen bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${PAe})`},children:c.jsx("div",{className:"min-h-screen bg-black/20 backdrop-blur-[1px]",children:c.jsx(TAe,{onAuthSuccess:()=>window.location.reload()})})});if(r&&r.role==="admin"&&!r.is_approved)return c.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:c.jsx(Oe,{className:"w-full max-w-md",children:c.jsxs(Ie,{className:"pt-6 text-center space-y-4",children:[c.jsx("div",{className:"w-12 h-12 bg-warning/10 rounded-xl flex items-center justify-center mx-auto",children:c.jsx(Ui,{className:"w-6 h-6 text-warning"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pending Approval"}),c.jsxs(Ko,{children:[c.jsx(za,{className:"h-4 w-4"}),c.jsx(Yo,{children:"Your admin account is pending approval. Please contact the system administrator."})]})]}),c.jsx("button",{onClick:i,className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:"Sign out"})]})})});if(!n)return c.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center p-4",children:c.jsx(Oe,{className:"w-full max-w-md",children:c.jsx(Ie,{className:"pt-6 text-center",children:c.jsxs(Ko,{variant:"destructive",children:[c.jsx(za,{className:"h-4 w-4"}),c.jsx(Yo,{children:"Access denied. Please contact support."})]})})})});if(r!=null&&r.role){const a=r.role==="admin"?"/admin":r.role==="parent"?"/parent":"/student";return s(a),null}return c.jsx("div",{className:"min-h-screen bg-background w-full",children:c.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:c.jsx(Oe,{className:"w-96",children:c.jsxs(Ie,{className:"pt-6 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading profile..."})]})})})})},OAe=()=>{const t=R3();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),c.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},MAe=gx("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",success:"border-transparent bg-success text-success-foreground hover:bg-success/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pt({className:t,variant:e,...r}){return c.jsx("div",{className:He(MAe({variant:e}),t),...r})}function JD(t,[e,r]){return Math.min(r,Math.max(e,t))}function LAe(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var oB="ScrollArea",[gne,a0t]=vo(oB),[IAe,Wc]=gne(oB),vne=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=j.useState(null),[u,d]=j.useState(null),[h,f]=j.useState(null),[p,g]=j.useState(null),[m,v]=j.useState(null),[x,y]=j.useState(0),[w,_]=j.useState(0),[A,C]=j.useState(!1),[N,E]=j.useState(!1),P=br(e,O=>l(O)),L=Kw(i);return c.jsx(IAe,{scope:r,type:n,dir:L,scrollHideDelay:s,scrollArea:o,viewport:u,onViewportChange:d,content:h,onContentChange:f,scrollbarX:p,onScrollbarXChange:g,scrollbarXEnabled:A,onScrollbarXEnabledChange:C,scrollbarY:m,onScrollbarYChange:v,scrollbarYEnabled:N,onScrollbarYEnabledChange:E,onCornerWidthChange:y,onCornerHeightChange:_,children:c.jsx(Ut.div,{dir:L,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":w+"px",...t.style}})})});vne.displayName=oB;var xne="ScrollAreaViewport",yne=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,asChild:i,nonce:s,...a}=t,o=Wc(xne,r),l=j.useRef(null),u=br(e,l,o.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),c.jsx(Ut.div,{"data-radix-scroll-area-viewport":"",...a,asChild:i,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:HAe({asChild:i,children:n},d=>c.jsx("div",{"data-radix-scroll-area-content":"",ref:o.onContentChange,style:{minWidth:o.scrollbarXEnabled?"fit-content":void 0},children:d}))})]})});yne.displayName=xne;var hh="ScrollAreaScrollbar",lB=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Wc(hh,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return j.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?c.jsx(RAe,{...n,ref:e,forceMount:r}):i.type==="scroll"?c.jsx(DAe,{...n,ref:e,forceMount:r}):i.type==="auto"?c.jsx(bne,{...n,ref:e,forceMount:r}):i.type==="always"?c.jsx(cB,{...n,ref:e}):null});lB.displayName=hh;var RAe=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Wc(hh,t.__scopeScrollArea),[s,a]=j.useState(!1);return j.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const u=()=>{window.clearTimeout(l),a(!0)},d=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",u),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",u),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(ws,{present:r||s,children:c.jsx(bne,{"data-state":s?"visible":"hidden",...n,ref:e})})}),DAe=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=Wc(hh,t.__scopeScrollArea),s=t.orientation==="horizontal",a=V3(()=>l("SCROLL_END"),100),[o,l]=LAe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return j.useEffect(()=>{if(o==="idle"){const u=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(u)}},[o,i.scrollHideDelay,l]),j.useEffect(()=>{const u=i.viewport,d=s?"scrollLeft":"scrollTop";if(u){let h=u[d];const f=()=>{const p=u[d];h!==p&&(l("SCROLL"),a()),h=p};return u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[i.viewport,s,l,a]),c.jsx(ws,{present:r||o!=="hidden",children:c.jsx(cB,{"data-state":o==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:mt(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:mt(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),bne=j.forwardRef((t,e)=>{const r=Wc(hh,t.__scopeScrollArea),{forceMount:n,...i}=t,[s,a]=j.useState(!1),o=t.orientation==="horizontal",l=V3(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;a(o?u:d)}},10);return nw(r.viewport,l),nw(r.content,l),c.jsx(ws,{present:n||s,children:c.jsx(cB,{"data-state":s?"visible":"hidden",...i,ref:e})})}),cB=j.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,i=Wc(hh,t.__scopeScrollArea),s=j.useRef(null),a=j.useRef(0),[o,l]=j.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=jne(o.viewport,o.content),d={...n,sizes:o,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function h(f,p){return qAe(f,a.current,o,p)}return r==="horizontal"?c.jsx(FAe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,p=ZW(f,o,i.dir);s.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=h(f,i.dir))}}):r==="vertical"?c.jsx($Ae,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,p=ZW(f,o);s.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=h(f))}}):null}),FAe=j.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=Wc(hh,t.__scopeScrollArea),[a,o]=j.useState(),l=j.useRef(null),u=br(e,l,s.onScrollbarXChange);return j.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(_ne,{"data-orientation":"horizontal",...i,ref:u,sizes:r,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":H3(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),Ene(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:WP(a.paddingLeft),paddingEnd:WP(a.paddingRight)}})}})}),$Ae=j.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...i}=t,s=Wc(hh,t.__scopeScrollArea),[a,o]=j.useState(),l=j.useRef(null),u=br(e,l,s.onScrollbarYChange);return j.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),c.jsx(_ne,{"data-orientation":"vertical",...i,ref:u,sizes:r,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":H3(r)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const f=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),Ene(f,h)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&n({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:WP(a.paddingTop),paddingEnd:WP(a.paddingBottom)}})}})}),[BAe,wne]=gne(hh),_ne=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:d,onResize:h,...f}=t,p=Wc(hh,r),[g,m]=j.useState(null),v=br(e,P=>m(P)),x=j.useRef(null),y=j.useRef(""),w=p.viewport,_=n.content-n.viewport,A=li(d),C=li(l),N=V3(h,10);function E(P){if(x.current){const L=P.clientX-x.current.left,O=P.clientY-x.current.top;u({x:L,y:O})}}return j.useEffect(()=>{const P=L=>{const O=L.target;(g==null?void 0:g.contains(O))&&A(L,_)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[w,g,_,A]),j.useEffect(C,[n,C]),nw(g,N),nw(p.content,N),c.jsx(BAe,{scope:r,scrollbar:g,hasThumb:i,onThumbChange:li(s),onThumbPointerUp:li(a),onThumbPositionChange:C,onThumbPointerDown:li(o),children:c.jsx(Ut.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:mt(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),x.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),E(P))}),onPointerMove:mt(t.onPointerMove,E),onPointerUp:mt(t.onPointerUp,P=>{const L=P.target;L.hasPointerCapture(P.pointerId)&&L.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),x.current=null})})})}),qP="ScrollAreaThumb",Sne=j.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=wne(qP,t.__scopeScrollArea);return c.jsx(ws,{present:r||i.hasThumb,children:c.jsx(UAe,{ref:e,...n})})}),UAe=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...i}=t,s=Wc(qP,r),a=wne(qP,r),{onThumbPositionChange:o}=a,l=br(e,h=>a.onThumbChange(h)),u=j.useRef(),d=V3(()=>{u.current&&(u.current(),u.current=void 0)},100);return j.useEffect(()=>{const h=s.viewport;if(h){const f=()=>{if(d(),!u.current){const p=WAe(h,o);u.current=p,o()}};return o(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[s.viewport,d,o]),c.jsx(Ut.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:mt(t.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),g=h.clientX-p.left,m=h.clientY-p.top;a.onThumbPointerDown({x:g,y:m})}),onPointerUp:mt(t.onPointerUp,a.onThumbPointerUp)})});Sne.displayName=qP;var uB="ScrollAreaCorner",Ane=j.forwardRef((t,e)=>{const r=Wc(uB,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?c.jsx(zAe,{...t,ref:e}):null});Ane.displayName=uB;var zAe=j.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,i=Wc(uB,r),[s,a]=j.useState(0),[o,l]=j.useState(0),u=!!(s&&o);return nw(i.scrollbarX,()=>{var h;const d=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),nw(i.scrollbarY,()=>{var h;const d=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(d),a(d)}),u?c.jsx(Ut.div,{...n,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function WP(t){return t?parseInt(t,10):0}function jne(t,e){const r=t/e;return isNaN(r)?0:r}function H3(t){const e=jne(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function qAe(t,e,r,n="ltr"){const i=H3(r),s=i/2,a=e||s,o=i-a,l=r.scrollbar.paddingStart+a,u=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return Nne([l,u],h)(t)}function ZW(t,e,r="ltr"){const n=H3(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-n,l=r==="ltr"?[0,a]:[a*-1,0],u=JD(t,l);return Nne([0,a],[0,o])(u)}function Nne(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Ene(t,e){return t>0&&t<e}var WAe=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=r.left!==s.left,o=r.top!==s.top;(a||o)&&e(),r=s,n=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(n)};function V3(t,e){const r=li(t),n=j.useRef(0);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),j.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function nw(t,e){const r=li(e);bs(()=>{let n=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return i.observe(t),()=>{window.cancelAnimationFrame(n),i.unobserve(t)}}},[t,r])}function HAe(t,e){const{asChild:r,children:n}=t;if(!r)return typeof e=="function"?e(n):e;const i=j.Children.only(n);return j.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var Cne=vne,VAe=yne,GAe=Ane;const Wf=j.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(Cne,{ref:n,className:He("relative overflow-hidden",t),...r,children:[c.jsx(VAe,{className:"h-full w-full rounded-[inherit]",children:e}),c.jsx(Tne,{}),c.jsx(GAe,{})]}));Wf.displayName=Cne.displayName;const Tne=j.forwardRef(({className:t,orientation:e="vertical",...r},n)=>c.jsx(lB,{ref:n,orientation:e,className:He("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:c.jsx(Sne,{className:"relative flex-1 rounded-full bg-border"})}));Tne.displayName=lB.displayName;var tI=0;function G3(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??eH()),document.body.insertAdjacentElement("beforeend",t[1]??eH()),tI++,()=>{tI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tI--}},[])}function eH(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var rI="focusScope.autoFocusOnMount",nI="focusScope.autoFocusOnUnmount",tH={bubbles:!1,cancelable:!0},KAe="FocusScope",hN=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=j.useState(null),u=li(i),d=li(s),h=j.useRef(null),f=br(e,m=>l(m)),p=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let m=function(w){if(p.paused||!o)return;const _=w.target;o.contains(_)?h.current=_:Op(h.current,{select:!0})},v=function(w){if(p.paused||!o)return;const _=w.relatedTarget;_!==null&&(o.contains(_)||Op(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const A of w)A.removedNodes.length>0&&Op(o)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(x);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[n,o,p.paused]),j.useEffect(()=>{if(o){nH.add(p);const m=document.activeElement;if(!o.contains(m)){const x=new CustomEvent(rI,tH);o.addEventListener(rI,u),o.dispatchEvent(x),x.defaultPrevented||(YAe(e5e(Pne(o)),{select:!0}),document.activeElement===m&&Op(o))}return()=>{o.removeEventListener(rI,u),setTimeout(()=>{const x=new CustomEvent(nI,tH);o.addEventListener(nI,d),o.dispatchEvent(x),x.defaultPrevented||Op(m??document.body,{select:!0}),o.removeEventListener(nI,d),nH.remove(p)},0)}}},[o,u,d,p]);const g=j.useCallback(m=>{if(!r&&!n||p.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const y=m.currentTarget,[w,_]=XAe(y);w&&_?!m.shiftKey&&x===_?(m.preventDefault(),r&&Op(w,{select:!0})):m.shiftKey&&x===w&&(m.preventDefault(),r&&Op(_,{select:!0})):x===y&&m.preventDefault()}},[r,n,p.paused]);return c.jsx(Ut.div,{tabIndex:-1,...a,ref:f,onKeyDown:g})});hN.displayName=KAe;function YAe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Op(n,{select:e}),document.activeElement!==r)return}function XAe(t){const e=Pne(t),r=rH(e,t),n=rH(e.reverse(),t);return[r,n]}function Pne(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function rH(t,e){for(const r of t)if(!QAe(r,{upTo:e}))return r}function QAe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function JAe(t){return t instanceof HTMLInputElement&&"select"in t}function Op(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&JAe(t)&&e&&t.select()}}var nH=ZAe();function ZAe(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=iH(t,e),t.unshift(e)},remove(e){var r;t=iH(t,e),(r=t[0])==null||r.resume()}}}function iH(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function e5e(t){return t.filter(e=>e.tagName!=="A")}var t5e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},sy=new WeakMap,sC=new WeakMap,aC={},iI=0,kne=function(t){return t&&(t.host||kne(t.parentNode))},r5e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=kne(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},n5e=function(t,e,r,n){var i=r5e(e,Array.isArray(t)?t:[t]);aC[r]||(aC[r]=new WeakMap);var s=aC[r],a=[],o=new Set,l=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(o.has(f))d(f);else try{var p=f.getAttribute(n),g=p!==null&&p!=="false",m=(sy.get(f)||0)+1,v=(s.get(f)||0)+1;sy.set(f,m),s.set(f,v),a.push(f),m===1&&g&&sC.set(f,!0),v===1&&f.setAttribute(r,"true"),g||f.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return d(e),o.clear(),iI++,function(){a.forEach(function(h){var f=sy.get(h)-1,p=s.get(h)-1;sy.set(h,f),s.set(h,p),f||(sC.has(h)||h.removeAttribute(n),sC.delete(h)),p||h.removeAttribute(r)}),iI--,iI||(sy=new WeakMap,sy=new WeakMap,sC=new WeakMap,aC={})}},K3=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=t5e(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),n5e(n,i,r,"aria-hidden")):function(){return null}},Ud=function(){return Ud=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Ud.apply(this,arguments)};function One(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function i5e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var xT="right-scroll-bar-position",yT="width-before-scroll-bar",s5e="with-scroll-bars-hidden",a5e="--removed-body-scroll-bar-size";function sI(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function o5e(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var l5e=typeof window<"u"?j.useLayoutEffect:j.useEffect,sH=new WeakMap;function c5e(t,e){var r=o5e(null,function(n){return t.forEach(function(i){return sI(i,n)})});return l5e(function(){var n=sH.get(r);if(n){var i=new Set(n),s=new Set(t),a=r.current;i.forEach(function(o){s.has(o)||sI(o,null)}),s.forEach(function(o){i.has(o)||sI(o,a)})}sH.set(r,t)},[t]),r}function u5e(t){return t}function d5e(t,e){e===void 0&&(e=u5e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var a=e(s,n);return r.push(a),function(){r=r.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(n=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(o){return s(o)},filter:function(){return r}}},assignMedium:function(s){n=!0;var a=[];if(r.length){var o=r;r=[],o.forEach(s),a=r}var l=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),r={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),r}}}};return i}function h5e(t){t===void 0&&(t={});var e=d5e(null);return e.options=Ud({async:!0,ssr:!1},t),e}var Mne=function(t){var e=t.sideCar,r=One(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Ud({},r))};Mne.isSideCarExport=!0;function f5e(t,e){return t.useMedium(e),Mne}var Lne=h5e(),aI=function(){},Y3=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:aI,onWheelCapture:aI,onTouchMoveCapture:aI}),i=n[0],s=n[1],a=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,f=t.sideCar,p=t.noIsolation,g=t.inert,m=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,y=t.gapMode,w=One(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=f,A=c5e([r,e]),C=Ud(Ud({},w),i);return j.createElement(j.Fragment,null,d&&j.createElement(_,{sideCar:Lne,removeScrollBar:u,shards:h,noIsolation:p,inert:g,setCallbacks:s,allowPinchZoom:!!m,lockRef:r,gapMode:y}),a?j.cloneElement(j.Children.only(o),Ud(Ud({},C),{ref:A})):j.createElement(x,Ud({},C,{className:l,ref:A}),o))});Y3.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Y3.classNames={fullWidth:yT,zeroRight:xT};var p5e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function m5e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=p5e();return e&&t.setAttribute("nonce",e),t}function g5e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function v5e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var x5e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=m5e())&&(g5e(e,r),v5e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},y5e=function(){var t=x5e();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},Ine=function(){var t=y5e(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},b5e={left:0,top:0,right:0,gap:0},oI=function(t){return parseInt(t||"",10)||0},w5e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[oI(r),oI(n),oI(i)]},_5e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return b5e;var e=w5e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},S5e=Ine(),c1="data-scroll-locked",A5e=function(t,e,r,n){var i=t.left,s=t.top,a=t.right,o=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(s5e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(o,"px ").concat(n,`;
  }
  body[`).concat(c1,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(o,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(xT,` {
    right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(yT,` {
    margin-right: `).concat(o,"px ").concat(n,`;
  }
  
  .`).concat(xT," .").concat(xT,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(yT," .").concat(yT,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(c1,`] {
    `).concat(a5e,": ").concat(o,`px;
  }
`)},aH=function(){var t=parseInt(document.body.getAttribute(c1)||"0",10);return isFinite(t)?t:0},j5e=function(){j.useEffect(function(){return document.body.setAttribute(c1,(aH()+1).toString()),function(){var t=aH()-1;t<=0?document.body.removeAttribute(c1):document.body.setAttribute(c1,t.toString())}},[])},N5e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;j5e();var s=j.useMemo(function(){return _5e(i)},[i]);return j.createElement(S5e,{styles:A5e(s,!e,i,r?"":"!important")})},ZD=!1;if(typeof window<"u")try{var oC=Object.defineProperty({},"passive",{get:function(){return ZD=!0,!0}});window.addEventListener("test",oC,oC),window.removeEventListener("test",oC,oC)}catch{ZD=!1}var ay=ZD?{passive:!1}:!1,E5e=function(t){return t.tagName==="TEXTAREA"},Rne=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!E5e(t)&&r[e]==="visible")},C5e=function(t){return Rne(t,"overflowY")},T5e=function(t){return Rne(t,"overflowX")},oH=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=Dne(t,n);if(i){var s=Fne(t,n),a=s[1],o=s[2];if(a>o)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},P5e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},k5e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},Dne=function(t,e){return t==="v"?C5e(e):T5e(e)},Fne=function(t,e){return t==="v"?P5e(e):k5e(e)},O5e=function(t,e){return t==="h"&&e==="rtl"?-1:1},M5e=function(t,e,r,n,i){var s=O5e(t,window.getComputedStyle(e).direction),a=s*n,o=r.target,l=e.contains(o),u=!1,d=a>0,h=0,f=0;do{var p=Fne(t,o),g=p[0],m=p[1],v=p[2],x=m-v-s*g;(g||x)&&Dne(t,o)&&(h+=x,f+=g),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&(Math.abs(h)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(u=!0),u},lC=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lH=function(t){return[t.deltaX,t.deltaY]},cH=function(t){return t&&"current"in t?t.current:t},L5e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},I5e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},R5e=0,oy=[];function D5e(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),i=j.useState(R5e++)[0],s=j.useState(Ine)[0],a=j.useRef(t);j.useEffect(function(){a.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=i5e([t.lockRef.current],(t.shards||[]).map(cH),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=j.useCallback(function(m,v){if("touches"in m&&m.touches.length===2||m.type==="wheel"&&m.ctrlKey)return!a.current.allowPinchZoom;var x=lC(m),y=r.current,w="deltaX"in m?m.deltaX:y[0]-x[0],_="deltaY"in m?m.deltaY:y[1]-x[1],A,C=m.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in m&&N==="h"&&C.type==="range")return!1;var E=oH(N,C);if(!E)return!0;if(E?A=N:(A=N==="v"?"h":"v",E=oH(N,C)),!E)return!1;if(!n.current&&"changedTouches"in m&&(w||_)&&(n.current=A),!A)return!0;var P=n.current||A;return M5e(P,v,m,P==="h"?w:_,!0)},[]),l=j.useCallback(function(m){var v=m;if(!(!oy.length||oy[oy.length-1]!==s)){var x="deltaY"in v?lH(v):lC(v),y=e.current.filter(function(A){return A.name===v.type&&(A.target===v.target||v.target===A.shadowParent)&&L5e(A.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var w=(a.current.shards||[]).map(cH).filter(Boolean).filter(function(A){return A.contains(v.target)}),_=w.length>0?o(v,w[0]):!a.current.noIsolation;_&&v.cancelable&&v.preventDefault()}}},[]),u=j.useCallback(function(m,v,x,y){var w={name:m,delta:v,target:x,should:y,shadowParent:F5e(x)};e.current.push(w),setTimeout(function(){e.current=e.current.filter(function(_){return _!==w})},1)},[]),d=j.useCallback(function(m){r.current=lC(m),n.current=void 0},[]),h=j.useCallback(function(m){u(m.type,lH(m),m.target,o(m,t.lockRef.current))},[]),f=j.useCallback(function(m){u(m.type,lC(m),m.target,o(m,t.lockRef.current))},[]);j.useEffect(function(){return oy.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,ay),document.addEventListener("touchmove",l,ay),document.addEventListener("touchstart",d,ay),function(){oy=oy.filter(function(m){return m!==s}),document.removeEventListener("wheel",l,ay),document.removeEventListener("touchmove",l,ay),document.removeEventListener("touchstart",d,ay)}},[]);var p=t.removeScrollBar,g=t.inert;return j.createElement(j.Fragment,null,g?j.createElement(s,{styles:I5e(i)}):null,p?j.createElement(N5e,{gapMode:t.gapMode}):null)}function F5e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $5e=f5e(Lne,D5e);var fN=j.forwardRef(function(t,e){return j.createElement(Y3,Ud({},t,{ref:e,sideCar:$5e}))});fN.classNames=Y3.classNames;var dB="Popover",[$ne,o0t]=vo(dB,[m0]),pN=m0(),[B5e,x0]=$ne(dB),Bne=t=>{const{__scopePopover:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=pN(e),l=j.useRef(null),[u,d]=j.useState(!1),[h=!1,f]=Uc({prop:n,defaultProp:i,onChange:s});return c.jsx(j3,{...o,children:c.jsx(B5e,{scope:e,contentId:Lc(),triggerRef:l,open:h,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(p=>!p),[f]),hasCustomAnchor:u,onCustomAnchorAdd:j.useCallback(()=>d(!0),[]),onCustomAnchorRemove:j.useCallback(()=>d(!1),[]),modal:a,children:r})})};Bne.displayName=dB;var Une="PopoverAnchor",U5e=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=x0(Une,r),s=pN(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return j.useEffect(()=>(a(),()=>o()),[a,o]),c.jsx(aN,{...s,...n,ref:e})});U5e.displayName=Une;var zne="PopoverTrigger",qne=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=x0(zne,r),s=pN(r),a=br(e,i.triggerRef),o=c.jsx(Ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Kne(i.open),...n,ref:a,onClick:mt(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:c.jsx(aN,{asChild:!0,...s,children:o})});qne.displayName=zne;var hB="PopoverPortal",[z5e,q5e]=$ne(hB,{forceMount:void 0}),Wne=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=x0(hB,e);return c.jsx(z5e,{scope:e,forceMount:r,children:c.jsx(ws,{present:r||s.open,children:c.jsx(Uw,{asChild:!0,container:i,children:n})})})};Wne.displayName=hB;var iw="PopoverContent",Hne=j.forwardRef((t,e)=>{const r=q5e(iw,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=x0(iw,t.__scopePopover);return c.jsx(ws,{present:n||s.open,children:s.modal?c.jsx(W5e,{...i,ref:e}):c.jsx(H5e,{...i,ref:e})})});Hne.displayName=iw;var W5e=j.forwardRef((t,e)=>{const r=x0(iw,t.__scopePopover),n=j.useRef(null),i=br(e,n),s=j.useRef(!1);return j.useEffect(()=>{const a=n.current;if(a)return K3(a)},[]),c.jsx(fN,{as:Go,allowPinchZoom:!0,children:c.jsx(Vne,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:mt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,u=o.button===2||l;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:mt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),H5e=j.forwardRef((t,e)=>{const r=x0(iw,t.__scopePopover),n=j.useRef(!1),i=j.useRef(!1);return c.jsx(Vne,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Vne=j.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onInteractOutside:d,...h}=t,f=x0(iw,r),p=pN(r);return G3(),c.jsx(hN,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(mx,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:c.jsx(N3,{"data-state":Kne(f.open),role:"dialog",id:f.contentId,...p,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Gne="PopoverClose",V5e=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=x0(Gne,r);return c.jsx(Ut.button,{type:"button",...n,ref:e,onClick:mt(t.onClick,()=>i.onOpenChange(!1))})});V5e.displayName=Gne;var G5e="PopoverArrow",K5e=j.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=pN(r);return c.jsx(E3,{...i,...n,ref:e})});K5e.displayName=G5e;function Kne(t){return t?"open":"closed"}var Y5e=Bne,X5e=qne,Q5e=Wne,Yne=Hne;const zm=Y5e,qm=X5e,Nf=j.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>c.jsx(Q5e,{children:c.jsx(Yne,{ref:i,align:e,sideOffset:r,className:He("z-50 w-72 rounded-md border bg-background p-4 text-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Nf.displayName=Yne.displayName;function mr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Xo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function to(t,e){const r=mr(t);return isNaN(e)?Xo(t,NaN):(e&&r.setDate(r.getDate()+e),r)}function Vu(t,e){const r=mr(t);if(isNaN(e))return Xo(t,NaN);if(!e)return r;const n=r.getDate(),i=Xo(t,r.getTime());i.setMonth(r.getMonth()+e+1,0);const s=i.getDate();return n>=s?i:(r.setFullYear(i.getFullYear(),i.getMonth(),n),r)}const fB=6048e5,J5e=864e5,cC=43200,uH=1440;let Z5e={};function Jw(){return Z5e}function ih(t,e){var o,l,u,d;const r=Jw(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=mr(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Yv(t){return ih(t,{weekStartsOn:1})}function Xne(t){const e=mr(t),r=e.getFullYear(),n=Xo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Yv(n),s=Xo(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Yv(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function sw(t){const e=mr(t);return e.setHours(0,0,0,0),e}function aw(t){const e=mr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function zd(t,e){const r=sw(t),n=sw(e),i=+r-aw(r),s=+n-aw(n);return Math.round((i-s)/J5e)}function eje(t){const e=Xne(t),r=Xo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Yv(r)}function e6(t,e){const r=e*7;return to(t,r)}function tje(t,e){return Vu(t,e*12)}function rje(t){let e;return t.forEach(function(r){const n=mr(r);(e===void 0||e<n||isNaN(Number(n)))&&(e=n)}),e||new Date(NaN)}function nje(t){let e;return t.forEach(r=>{const n=mr(r);(!e||e>n||isNaN(+n))&&(e=n)}),e||new Date(NaN)}function bT(t,e){const r=mr(t),n=mr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function ije(t){return Xo(t,Date.now())}function Bo(t,e){const r=sw(t),n=sw(e);return+r==+n}function pB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function sje(t){if(!pB(t)&&typeof t!="number")return!1;const e=mr(t);return!isNaN(Number(e))}function ow(t,e){const r=mr(t),n=mr(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function aje(t,e,r){const n=ih(t,r),i=ih(e,r),s=+n-aw(n),a=+i-aw(i);return Math.round((s-a)/fB)}function oje(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function lje(t,e){return+mr(t)-+mr(e)}function cje(t){const e=mr(t);return e.setHours(23,59,59,999),e}function X3(t){const e=mr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function uje(t){const e=mr(t);return+cje(e)==+X3(e)}function dje(t,e){const r=mr(t),n=mr(e),i=bT(r,n),s=Math.abs(ow(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=bT(r,n)===-i;uje(mr(t))&&s===1&&bT(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function hje(t,e,r){const n=lje(t,e)/1e3;return oje(r==null?void 0:r.roundingMethod)(n)}function Ho(t){const e=mr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Qne(t){const e=mr(t),r=Xo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}function mB(t,e){var o,l,u,d;const r=Jw(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=mr(t),s=i.getDay(),a=(s<n?-7:0)+6-(s-n);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function Jne(t){return mB(t,{weekStartsOn:1})}const fje={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pje=(t,e,r)=>{let n;const i=fje[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function lI(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const mje={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gje={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},vje={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xje={date:lI({formats:mje,defaultWidth:"full"}),time:lI({formats:gje,defaultWidth:"full"}),dateTime:lI({formats:vje,defaultWidth:"full"})},yje={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bje=(t,e,r,n)=>yje[t];function a_(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const wje={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},_je={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Sje={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Aje={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},jje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nje={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Eje=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cje={ordinalNumber:Eje,era:a_({values:wje,defaultWidth:"wide"}),quarter:a_({values:_je,defaultWidth:"wide",argumentCallback:t=>t-1}),month:a_({values:Sje,defaultWidth:"wide"}),day:a_({values:Aje,defaultWidth:"wide"}),dayPeriod:a_({values:jje,defaultWidth:"wide",formattingValues:Nje,defaultFormattingWidth:"wide"})};function o_(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Pje(o,h=>h.test(a)):Tje(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function Tje(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Pje(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function kje(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Oje=/^(\d+)(th|st|nd|rd)?/i,Mje=/\d+/i,Lje={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ije={any:[/^b/i,/^(a|c)/i]},Rje={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Dje={any:[/1/i,/2/i,/3/i,/4/i]},Fje={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$je={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bje={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Uje={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zje={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qje={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wje={ordinalNumber:kje({matchPattern:Oje,parsePattern:Mje,valueCallback:t=>parseInt(t,10)}),era:o_({matchPatterns:Lje,defaultMatchWidth:"wide",parsePatterns:Ije,defaultParseWidth:"any"}),quarter:o_({matchPatterns:Rje,defaultMatchWidth:"wide",parsePatterns:Dje,defaultParseWidth:"any",valueCallback:t=>t+1}),month:o_({matchPatterns:Fje,defaultMatchWidth:"wide",parsePatterns:$je,defaultParseWidth:"any"}),day:o_({matchPatterns:Bje,defaultMatchWidth:"wide",parsePatterns:Uje,defaultParseWidth:"any"}),dayPeriod:o_({matchPatterns:zje,defaultMatchWidth:"any",parsePatterns:qje,defaultParseWidth:"any"})},gB={code:"en-US",formatDistance:pje,formatLong:xje,formatRelative:bje,localize:Cje,match:Wje,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Hje(t){const e=mr(t);return zd(e,Qne(e))+1}function Zne(t){const e=mr(t),r=+Yv(e)-+eje(e);return Math.round(r/fB)+1}function eie(t,e){var d,h,f,p;const r=mr(t),n=r.getFullYear(),i=Jw(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=Xo(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=ih(a,e),l=Xo(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=ih(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Vje(t,e){var o,l,u,d;const r=Jw(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=eie(t,e),s=Xo(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ih(s,e)}function tie(t,e){const r=mr(t),n=+ih(r,e)-+Vje(r,e);return Math.round(n/fB)+1}function vn(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const jp={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return vn(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):vn(r+1,2)},d(t,e){return vn(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return vn(t.getHours()%12||12,e.length)},H(t,e){return vn(t.getHours(),e.length)},m(t,e){return vn(t.getMinutes(),e.length)},s(t,e){return vn(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return vn(i,e.length)}},ly={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},dH={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return jp.y(t,e)},Y:function(t,e,r,n){const i=eie(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return vn(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):vn(s,e.length)},R:function(t,e){const r=Xne(t);return vn(r,e.length)},u:function(t,e){const r=t.getFullYear();return vn(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return vn(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return vn(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return jp.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return vn(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=tie(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):vn(i,e.length)},I:function(t,e,r){const n=Zne(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):vn(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):jp.d(t,e)},D:function(t,e,r){const n=Hje(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):vn(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return vn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return vn(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return vn(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=ly.noon:n===0?i=ly.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=ly.evening:n>=12?i=ly.afternoon:n>=4?i=ly.morning:i=ly.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return jp.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):jp.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):vn(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):vn(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):jp.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):jp.s(t,e)},S:function(t,e){return jp.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return fH(n);case"XXXX":case"XX":return Q0(n);case"XXXXX":case"XXX":default:return Q0(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return fH(n);case"xxxx":case"xx":return Q0(n);case"xxxxx":case"xxx":default:return Q0(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+hH(n,":");case"OOOO":default:return"GMT"+Q0(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+hH(n,":");case"zzzz":default:return"GMT"+Q0(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return vn(n,e.length)},T:function(t,e,r){const n=t.getTime();return vn(n,e.length)}};function hH(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+vn(s,2)}function fH(t,e){return t%60===0?(t>0?"-":"+")+vn(Math.abs(t)/60,2):Q0(t,e)}function Q0(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=vn(Math.trunc(n/60),2),s=vn(n%60,2);return r+i+e+s}const pH=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},rie=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Gje=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return pH(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",pH(n,e)).replace("{{time}}",rie(i,e))},Kje={p:rie,P:Gje},Yje=/^D+$/,Xje=/^Y+$/,Qje=["D","DD","YY","YYYY"];function Jje(t){return Yje.test(t)}function Zje(t){return Xje.test(t)}function eNe(t,e,r){const n=tNe(t,e,r);if(console.warn(n),Qje.includes(t))throw new RangeError(n)}function tNe(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,iNe=/^'([^]*?)'?$/,sNe=/''/g,aNe=/[a-zA-Z]/;function ai(t,e,r){var d,h,f,p,g,m,v,x;const n=Jw(),i=(r==null?void 0:r.locale)??n.locale??gB,s=(r==null?void 0:r.firstWeekContainsDate)??((h=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=(r==null?void 0:r.weekStartsOn)??((m=(g=r==null?void 0:r.locale)==null?void 0:g.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(v=n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??0,o=mr(t);if(!sje(o))throw new RangeError("Invalid time value");let l=e.match(nNe).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=Kje[w];return _(y,i.formatLong)}return y}).join("").match(rNe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:oNe(y)};if(dH[w])return{isToken:!0,value:y};if(w.match(aNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const w=y.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Zje(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Jje(w))&&eNe(w,e,String(t));const _=dH[w[0]];return _(o,w,i.localize,u)}).join("")}function oNe(t){const e=t.match(iNe);return e?e[1].replace(sNe,"'"):t}function lNe(t,e,r){const n=Jw(),i=(r==null?void 0:r.locale)??n.locale??gB,s=2520,a=bT(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,u;a>0?(l=mr(e),u=mr(t)):(l=mr(t),u=mr(e));const d=hje(u,l),h=(aw(u)-aw(l))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<uH){const g=Math.round(f/60);return i.formatDistance("aboutXHours",g,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<cC){const g=Math.round(f/uH);return i.formatDistance("xDays",g,o)}else if(f<cC*2)return p=Math.round(f/cC),i.formatDistance("aboutXMonths",p,o)}if(p=dje(u,l),p<12){const g=Math.round(f/cC);return i.formatDistance("xMonths",g,o)}else{const g=p%12,m=Math.trunc(p/12);return g<3?i.formatDistance("aboutXYears",m,o):g<9?i.formatDistance("overXYears",m,o):i.formatDistance("almostXYears",m+1,o)}}function lw(t,e){return lNe(t,ije(t),e)}function cNe(t){const e=mr(t),r=e.getFullYear(),n=e.getMonth(),i=Xo(t,0);return i.setFullYear(r,n+1,0),i.setHours(0,0,0,0),i.getDate()}function uNe(t){return Math.trunc(+mr(t)/1e3)}function dNe(t){const e=mr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function hNe(t,e){return aje(dNe(t),Ho(t),e)+1}function t6(t,e){const r=mr(t),n=mr(e);return r.getTime()>n.getTime()}function nie(t,e){const r=mr(t),n=mr(e);return+r<+n}function vB(t,e){const r=mr(t),n=mr(e);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function fNe(t,e){const r=mr(t),n=mr(e);return r.getFullYear()===n.getFullYear()}function cI(t,e){return to(t,-e)}function uI(t,e){const r=mr(t),n=r.getFullYear(),i=r.getDate(),s=Xo(t,0);s.setFullYear(n,e,15),s.setHours(0,0,0,0);const a=cNe(s);return r.setMonth(e,Math.min(i,a)),r}function mH(t,e){const r=mr(t);return isNaN(+r)?Xo(t,NaN):(r.setFullYear(e),r)}const pNe=t=>{switch(t){case"test_assignment":return c.jsx(ia,{className:"h-4 w-4"});case"test_result":return c.jsx(b3,{className:"h-4 w-4"});case"deadline":return c.jsx(za,{className:"h-4 w-4"});case"announcement":return c.jsx(OP,{className:"h-4 w-4"});case"message":return c.jsx(Gv,{className:"h-4 w-4"});default:return c.jsx(OP,{className:"h-4 w-4"})}},gH=t=>{switch(t){case"test_assignment":return"bg-blue-500/10 text-blue-500 border-blue-200";case"test_result":return"bg-green-500/10 text-green-500 border-green-200";case"deadline":return"bg-red-500/10 text-red-500 border-red-200";case"announcement":return"bg-purple-500/10 text-purple-500 border-purple-200";case"message":return"bg-orange-500/10 text-orange-500 border-orange-200";default:return"bg-gray-500/10 text-gray-500 border-gray-200"}},r6=()=>{const{user:t}=is(),{toast:e}=Kr(),[r,n]=j.useState([]),[i,s]=j.useState(0),[a,o]=j.useState(!1);j.useEffect(()=>{t&&(l(),u())},[t]);const l=async()=>{if(t){o(!0);try{const{data:p,error:g}=await je.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);if(g)throw g;n(p||[]),s((p==null?void 0:p.filter(m=>!m.is_read).length)||0)}catch(p){console.error("Error fetching notifications:",p),e({title:"Error",description:"Failed to load notifications",variant:"destructive"})}finally{o(!1)}}},u=()=>{if(!t)return;const p=je.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},g=>{const m=g.new;n(v=>[m,...v]),s(v=>v+1),e({title:m.title,description:m.message})}).subscribe();return()=>{je.removeChannel(p)}},d=async p=>{try{const{error:g}=await je.from("notifications").update({is_read:!0}).eq("id",p);if(g)throw g;n(m=>m.map(v=>v.id===p?{...v,is_read:!0}:v)),s(m=>Math.max(0,m-1))}catch(g){console.error("Error marking notification as read:",g)}},h=async()=>{if(t)try{const{error:p}=await je.from("notifications").update({is_read:!0}).eq("user_id",t.id).eq("is_read",!1);if(p)throw p;n(g=>g.map(m=>({...m,is_read:!0}))),s(0)}catch(p){console.error("Error marking all notifications as read:",p)}},f=async p=>{try{const{error:g}=await je.from("notifications").delete().eq("id",p);if(g)throw g;n(m=>m.filter(v=>v.id!==p)),s(m=>{const v=r.find(x=>x.id===p);return v&&!v.is_read?m-1:m})}catch(g){console.error("Error deleting notification:",g)}};return c.jsxs(zm,{children:[c.jsx(qm,{asChild:!0,children:c.jsxs(Ge,{variant:"outline",size:"sm",className:"relative",children:[i>0?c.jsx(yye,{className:"h-4 w-4"}):c.jsx(OP,{className:"h-4 w-4"}),i>0&&c.jsx(Pt,{variant:"destructive",className:"absolute -top-2 -right-2 h-4 w-4 p-0 flex items-center justify-center text-xs",children:i>99?"99+":i})]})}),c.jsx(Nf,{className:"w-80 p-0",align:"end",children:c.jsxs(Oe,{className:"border-0 shadow-none",children:[c.jsx(tt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(it,{className:"text-base",children:"Notifications"}),i>0&&c.jsx(Ge,{variant:"ghost",size:"sm",onClick:h,className:"h-8 text-xs",children:"Mark all read"})]})}),c.jsx(Ie,{className:"p-0",children:c.jsx(Wf,{className:"h-96",children:a?c.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Loading..."}):r.length===0?c.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"No notifications yet"}):c.jsx("div",{className:"space-y-1",children:r.map(p=>c.jsx("div",{className:`p-3 hover:bg-muted/50 transition-colors border-l-2 ${p.is_read?"border-transparent opacity-75":gH(p.type)}`,children:c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex items-start gap-2 flex-1",children:[c.jsx("div",{className:`p-1 rounded ${gH(p.type)}`,children:pNe(p.type)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm",children:p.title}),c.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:p.message}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[lw(new Date(p.created_at))," ago"]})]})]}),c.jsxs("div",{className:"flex gap-1",children:[!p.is_read&&c.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>d(p.id),className:"h-6 w-6 p-0",children:c.jsx(Bf,{className:"h-3 w-3"})}),c.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>f(p.id),className:"h-6 w-6 p-0 text-destructive hover:text-destructive",children:c.jsx(rh,{className:"h-3 w-3"})})]})]})},p.id))})})})]})})]})},dI=768;function mNe(){const[t,e]=j.useState(void 0);return j.useEffect(()=>{const r=window.matchMedia(`(max-width: ${dI-1}px)`),n=()=>{e(window.innerWidth<dI)};return r.addEventListener("change",n),e(window.innerWidth<dI),()=>r.removeEventListener("change",n)},[]),!!t}var xB="Dialog",[iie,sie]=vo(xB),[gNe,Ju]=iie(xB),aie=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=j.useRef(null),l=j.useRef(null),[u=!1,d]=Uc({prop:n,defaultProp:i,onChange:s});return c.jsx(gNe,{scope:e,triggerRef:o,contentRef:l,contentId:Lc(),titleId:Lc(),descriptionId:Lc(),open:u,onOpenChange:d,onOpenToggle:j.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};aie.displayName=xB;var oie="DialogTrigger",lie=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ju(oie,r),s=br(e,i.triggerRef);return c.jsx(Ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":wB(i.open),...n,ref:s,onClick:mt(t.onClick,i.onOpenToggle)})});lie.displayName=oie;var yB="DialogPortal",[vNe,cie]=iie(yB,{forceMount:void 0}),uie=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Ju(yB,e);return c.jsx(vNe,{scope:e,forceMount:r,children:j.Children.map(n,a=>c.jsx(ws,{present:r||s.open,children:c.jsx(Uw,{asChild:!0,container:i,children:a})}))})};uie.displayName=yB;var HP="DialogOverlay",die=j.forwardRef((t,e)=>{const r=cie(HP,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Ju(HP,t.__scopeDialog);return s.modal?c.jsx(ws,{present:n||s.open,children:c.jsx(xNe,{...i,ref:e})}):null});die.displayName=HP;var xNe=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ju(HP,r);return c.jsx(fN,{as:Go,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Ut.div,{"data-state":wB(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Xv="DialogContent",hie=j.forwardRef((t,e)=>{const r=cie(Xv,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Ju(Xv,t.__scopeDialog);return c.jsx(ws,{present:n||s.open,children:s.modal?c.jsx(yNe,{...i,ref:e}):c.jsx(bNe,{...i,ref:e})})});hie.displayName=Xv;var yNe=j.forwardRef((t,e)=>{const r=Ju(Xv,t.__scopeDialog),n=j.useRef(null),i=br(e,r.contentRef,n);return j.useEffect(()=>{const s=n.current;if(s)return K3(s)},[]),c.jsx(fie,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:mt(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:mt(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:mt(t.onFocusOutside,s=>s.preventDefault())})}),bNe=j.forwardRef((t,e)=>{const r=Ju(Xv,t.__scopeDialog),n=j.useRef(!1),i=j.useRef(!1);return c.jsx(fie,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(n.current||(o=r.triggerRef.current)==null||o.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{var l,u;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((u=r.triggerRef.current)==null?void 0:u.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),fie=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=Ju(Xv,r),l=j.useRef(null),u=br(e,l);return G3(),c.jsxs(c.Fragment,{children:[c.jsx(hN,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(mx,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":wB(o.open),...a,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(_Ne,{titleId:o.titleId}),c.jsx(ANe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),bB="DialogTitle",pie=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ju(bB,r);return c.jsx(Ut.h2,{id:i.titleId,...n,ref:e})});pie.displayName=bB;var mie="DialogDescription",gie=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ju(mie,r);return c.jsx(Ut.p,{id:i.descriptionId,...n,ref:e})});gie.displayName=mie;var vie="DialogClose",xie=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Ju(vie,r);return c.jsx(Ut.button,{type:"button",...n,ref:e,onClick:mt(t.onClick,()=>i.onOpenChange(!1))})});xie.displayName=vie;function wB(t){return t?"open":"closed"}var yie="DialogTitleWarning",[wNe,bie]=Mxe(yie,{contentName:Xv,titleName:bB,docsSlug:"dialog"}),_Ne=({titleId:t})=>{const e=bie(yie),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},SNe="DialogDescriptionWarning",ANe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${bie(SNe).contentName}}.`;return j.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},_B=aie,wie=lie,SB=uie,mN=die,gN=hie,vN=pie,xN=gie,Q3=xie;const jNe=_B,NNe=SB,_ie=j.forwardRef(({className:t,...e},r)=>c.jsx(mN,{className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));_ie.displayName=mN.displayName;const ENe=gx("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Sie=j.forwardRef(({side:t="right",className:e,children:r,...n},i)=>c.jsxs(NNe,{children:[c.jsx(_ie,{}),c.jsxs(gN,{ref:i,className:He(ENe({side:t}),e),...n,children:[r,c.jsxs(Q3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(rh,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Sie.displayName=gN.displayName;const CNe=j.forwardRef(({className:t,...e},r)=>c.jsx(vN,{ref:r,className:He("text-lg font-semibold text-foreground",t),...e}));CNe.displayName=vN.displayName;const TNe=j.forwardRef(({className:t,...e},r)=>c.jsx(xN,{ref:r,className:He("text-sm text-muted-foreground",t),...e}));TNe.displayName=xN.displayName;function Wy({className:t,...e}){return c.jsx("div",{className:He("animate-pulse rounded-md bg-muted",t),...e})}const PNe="sidebar:state",kNe=60*60*24*7,ONe="16rem",MNe="18rem",LNe="3rem",INe="b",Aie=j.createContext(null);function J3(){const t=j.useContext(Aie);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const Z3=j.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:r,className:n,style:i,children:s,...a},o)=>{const l=mNe(),[u,d]=j.useState(!1),[h,f]=j.useState(t),p=e??h,g=j.useCallback(y=>{const w=typeof y=="function"?y(p):y;r?r(w):f(w),document.cookie=`${PNe}=${w}; path=/; max-age=${kNe}`},[r,p]),m=j.useCallback(()=>l?d(y=>!y):g(y=>!y),[l,g,d]);j.useEffect(()=>{const y=w=>{w.key===INe&&(w.metaKey||w.ctrlKey)&&(w.preventDefault(),m())};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[m]);const v=p?"expanded":"collapsed",x=j.useMemo(()=>({state:v,open:p,setOpen:g,isMobile:l,openMobile:u,setOpenMobile:d,toggleSidebar:m}),[v,p,g,l,u,d,m]);return c.jsx(Aie.Provider,{value:x,children:c.jsx(O3,{delayDuration:0,children:c.jsx("div",{style:{"--sidebar-width":ONe,"--sidebar-width-icon":LNe,...i},className:He("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",n),ref:o,...a,children:s})})})});Z3.displayName="SidebarProvider";const eO=j.forwardRef(({side:t="left",variant:e="sidebar",collapsible:r="offcanvas",className:n,children:i,...s},a)=>{const{isMobile:o,state:l,openMobile:u,setOpenMobile:d}=J3();return r==="none"?c.jsx("div",{className:He("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",n),ref:a,...s,children:i}):o?c.jsx(jNe,{open:u,onOpenChange:d,...s,children:c.jsx(Sie,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":MNe},side:t,children:c.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):c.jsxs("div",{ref:a,className:"group peer hidden md:block text-sidebar-foreground","data-state":l,"data-collapsible":l==="collapsed"?r:"","data-variant":e,"data-side":t,children:[c.jsx("div",{className:He("duration-200 relative w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),c.jsx("div",{className:He("duration-200 absolute top-[65px] bottom-0 z-10 hidden w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",n),...s,children:c.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});eO.displayName="Sidebar";const jie=j.forwardRef(({className:t,onClick:e,...r},n)=>{const{toggleSidebar:i}=J3();return c.jsxs(Ge,{ref:n,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:He("h-7 w-7 px-3 py-2",t),onClick:s=>{e==null||e(s),i()},...r,children:[c.jsx(kye,{}),c.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});jie.displayName="SidebarTrigger";const RNe=j.forwardRef(({className:t,...e},r)=>{const{toggleSidebar:n}=J3();return c.jsx("button",{ref:r,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:n,title:"Toggle Sidebar",className:He("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});RNe.displayName="SidebarRail";const tO=j.forwardRef(({className:t,...e},r)=>c.jsx("main",{ref:r,className:He("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));tO.displayName="SidebarInset";const DNe=j.forwardRef(({className:t,...e},r)=>c.jsx(pr,{ref:r,"data-sidebar":"input",className:He("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));DNe.displayName="SidebarInput";const FNe=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"header",className:He("flex flex-col gap-2 p-2",t),...e}));FNe.displayName="SidebarHeader";const $Ne=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"footer",className:He("flex flex-col gap-2 p-2",t),...e}));$Ne.displayName="SidebarFooter";const BNe=j.forwardRef(({className:t,...e},r)=>c.jsx(cN,{ref:r,"data-sidebar":"separator",className:He("mx-2 w-auto bg-sidebar-border",t),...e}));BNe.displayName="SidebarSeparator";const rO=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"content",className:He("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));rO.displayName="SidebarContent";const nO=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"group",className:He("relative flex w-full min-w-0 flex-col p-2",t),...e}));nO.displayName="SidebarGroup";const UNe=j.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?Go:"div";return c.jsx(i,{ref:n,"data-sidebar":"group-label",className:He("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...r})});UNe.displayName="SidebarGroupLabel";const zNe=j.forwardRef(({className:t,asChild:e=!1,...r},n)=>{const i=e?Go:"button";return c.jsx(i,{ref:n,"data-sidebar":"group-action",className:He("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...r})});zNe.displayName="SidebarGroupAction";const iO=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"group-content",className:He("w-full text-sm",t),...e}));iO.displayName="SidebarGroupContent";const sO=j.forwardRef(({className:t,...e},r)=>c.jsx("ul",{ref:r,"data-sidebar":"menu",className:He("flex w-full min-w-0 flex-col gap-1",t),...e}));sO.displayName="SidebarMenu";const aO=j.forwardRef(({className:t,...e},r)=>c.jsx("li",{ref:r,"data-sidebar":"menu-item",className:He("group/menu-item relative",t),...e}));aO.displayName="SidebarMenuItem";const qNe=gx("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),oO=j.forwardRef(({asChild:t=!1,isActive:e=!1,variant:r="default",size:n="default",tooltip:i,className:s,...a},o)=>{const l=t?Go:"button",{isMobile:u,state:d}=J3(),h=c.jsx(l,{ref:o,"data-sidebar":"menu-button","data-size":n,"data-active":e,className:He(qNe({variant:r,size:n}),s),...a});return i?(typeof i=="string"&&(i={children:i}),c.jsxs(DD,{children:[c.jsx(FD,{asChild:!0,children:h}),c.jsx(FP,{side:"right",align:"center",hidden:d!=="collapsed"||u,...i})]})):h});oO.displayName="SidebarMenuButton";const WNe=j.forwardRef(({className:t,asChild:e=!1,showOnHover:r=!1,...n},i)=>{const s=e?Go:"button";return c.jsx(s,{ref:i,"data-sidebar":"menu-action",className:He("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...n})});WNe.displayName="SidebarMenuAction";const HNe=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{ref:r,"data-sidebar":"menu-badge",className:He("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));HNe.displayName="SidebarMenuBadge";const VNe=j.forwardRef(({className:t,showIcon:e=!1,...r},n)=>{const i=j.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return c.jsxs("div",{ref:n,"data-sidebar":"menu-skeleton",className:He("rounded-md h-8 flex gap-2 px-2 items-center",t),...r,children:[e&&c.jsx(Wy,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),c.jsx(Wy,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});VNe.displayName="SidebarMenuSkeleton";const GNe=j.forwardRef(({className:t,...e},r)=>c.jsx("ul",{ref:r,"data-sidebar":"menu-sub",className:He("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));GNe.displayName="SidebarMenuSub";const KNe=j.forwardRef(({...t},e)=>c.jsx("li",{ref:e,...t}));KNe.displayName="SidebarMenuSubItem";const YNe=j.forwardRef(({asChild:t=!1,size:e="md",isActive:r,className:n,...i},s)=>{const a=t?Go:"a";return c.jsx(a,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":r,className:He("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",n),...i})});YNe.displayName="SidebarMenuSubButton";var n6=["Enter"," "],XNe=["ArrowDown","PageUp","Home"],Nie=["ArrowUp","PageDown","End"],QNe=[...XNe,...Nie],JNe={ltr:[...n6,"ArrowRight"],rtl:[...n6,"ArrowLeft"]},ZNe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},yN="Menu",[_A,eEe,tEe]=p3(yN),[xx,Eie]=vo(yN,[tEe,m0,Yw]),lO=m0(),Cie=Yw(),[rEe,yx]=xx(yN),[nEe,bN]=xx(yN),Tie=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:a=!0}=t,o=lO(e),[l,u]=j.useState(null),d=j.useRef(!1),h=li(s),f=Kw(i);return j.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),c.jsx(j3,{...o,children:c.jsx(rEe,{scope:e,open:r,onOpenChange:h,content:l,onContentChange:u,children:c.jsx(nEe,{scope:e,onClose:j.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:f,modal:a,children:n})})})};Tie.displayName=yN;var iEe="MenuAnchor",AB=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=lO(r);return c.jsx(aN,{...i,...n,ref:e})});AB.displayName=iEe;var jB="MenuPortal",[sEe,Pie]=xx(jB,{forceMount:void 0}),kie=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=yx(jB,e);return c.jsx(sEe,{scope:e,forceMount:r,children:c.jsx(ws,{present:r||s.open,children:c.jsx(Uw,{asChild:!0,container:i,children:n})})})};kie.displayName=jB;var Ic="MenuContent",[aEe,NB]=xx(Ic),Oie=j.forwardRef((t,e)=>{const r=Pie(Ic,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=yx(Ic,t.__scopeMenu),a=bN(Ic,t.__scopeMenu);return c.jsx(_A.Provider,{scope:t.__scopeMenu,children:c.jsx(ws,{present:n||s.open,children:c.jsx(_A.Slot,{scope:t.__scopeMenu,children:a.modal?c.jsx(oEe,{...i,ref:e}):c.jsx(lEe,{...i,ref:e})})})})}),oEe=j.forwardRef((t,e)=>{const r=yx(Ic,t.__scopeMenu),n=j.useRef(null),i=br(e,n);return j.useEffect(()=>{const s=n.current;if(s)return K3(s)},[]),c.jsx(EB,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:mt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),lEe=j.forwardRef((t,e)=>{const r=yx(Ic,t.__scopeMenu);return c.jsx(EB,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),EB=j.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,disableOutsideScroll:g,...m}=t,v=yx(Ic,r),x=bN(Ic,r),y=lO(r),w=Cie(r),_=eEe(r),[A,C]=j.useState(null),N=j.useRef(null),E=br(e,N,v.onContentChange),P=j.useRef(0),L=j.useRef(""),O=j.useRef(0),k=j.useRef(null),D=j.useRef("right"),F=j.useRef(0),z=g?fN:j.Fragment,U=g?{as:Go,allowPinchZoom:!0}:void 0,H=X=>{var ae,pe;const ne=L.current+X,fe=_().filter(le=>!le.disabled),I=document.activeElement,q=(ae=fe.find(le=>le.ref.current===I))==null?void 0:ae.textValue,V=fe.map(le=>le.textValue),K=bEe(V,ne,q),Y=(pe=fe.find(le=>le.textValue===K))==null?void 0:pe.ref.current;(function le(ye){L.current=ye,window.clearTimeout(P.current),ye!==""&&(P.current=window.setTimeout(()=>le(""),1e3))})(ne),Y&&setTimeout(()=>Y.focus())};j.useEffect(()=>()=>window.clearTimeout(P.current),[]),G3();const B=j.useCallback(X=>{var fe,I;return D.current===((fe=k.current)==null?void 0:fe.side)&&_Ee(X,(I=k.current)==null?void 0:I.area)},[]);return c.jsx(aEe,{scope:r,searchRef:L,onItemEnter:j.useCallback(X=>{B(X)&&X.preventDefault()},[B]),onItemLeave:j.useCallback(X=>{var ne;B(X)||((ne=N.current)==null||ne.focus(),C(null))},[B]),onTriggerLeave:j.useCallback(X=>{B(X)&&X.preventDefault()},[B]),pointerGraceTimerRef:O,onPointerGraceIntentChange:j.useCallback(X=>{k.current=X},[]),children:c.jsx(z,{...U,children:c.jsx(hN,{asChild:!0,trapped:i,onMountAutoFocus:mt(s,X=>{var ne;X.preventDefault(),(ne=N.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:c.jsx(mx,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:f,onDismiss:p,children:c.jsx(J$,{asChild:!0,...w,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:C,onEntryFocus:mt(l,X=>{x.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(N3,{role:"menu","aria-orientation":"vertical","data-state":Kie(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...m,ref:E,style:{outline:"none",...m.style},onKeyDown:mt(m.onKeyDown,X=>{const fe=X.target.closest("[data-radix-menu-content]")===X.currentTarget,I=X.ctrlKey||X.altKey||X.metaKey,q=X.key.length===1;fe&&(X.key==="Tab"&&X.preventDefault(),!I&&q&&H(X.key));const V=N.current;if(X.target!==V||!QNe.includes(X.key))return;X.preventDefault();const Y=_().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);Nie.includes(X.key)&&Y.reverse(),xEe(Y)}),onBlur:mt(t.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(P.current),L.current="")}),onPointerMove:mt(t.onPointerMove,SA(X=>{const ne=X.target,fe=F.current!==X.clientX;if(X.currentTarget.contains(ne)&&fe){const I=X.clientX>F.current?"right":"left";D.current=I,F.current=X.clientX}}))})})})})})})});Oie.displayName=Ic;var cEe="MenuGroup",CB=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Ut.div,{role:"group",...n,ref:e})});CB.displayName=cEe;var uEe="MenuLabel",Mie=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Ut.div,{...n,ref:e})});Mie.displayName=uEe;var VP="MenuItem",vH="menu.itemSelect",cO=j.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=j.useRef(null),a=bN(VP,t.__scopeMenu),o=NB(VP,t.__scopeMenu),l=br(e,s),u=j.useRef(!1),d=()=>{const h=s.current;if(!r&&h){const f=new CustomEvent(vH,{bubbles:!0,cancelable:!0});h.addEventListener(vH,p=>n==null?void 0:n(p),{once:!0}),k$(h,f),f.defaultPrevented?u.current=!1:a.onClose()}};return c.jsx(Lie,{...i,ref:l,disabled:r,onClick:mt(t.onClick,d),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),u.current=!0},onPointerUp:mt(t.onPointerUp,h=>{var f;u.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:mt(t.onKeyDown,h=>{const f=o.searchRef.current!=="";r||f&&h.key===" "||n6.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});cO.displayName=VP;var Lie=j.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,a=NB(VP,r),o=Cie(r),l=j.useRef(null),u=br(e,l),[d,h]=j.useState(!1),[f,p]=j.useState("");return j.useEffect(()=>{const g=l.current;g&&p((g.textContent??"").trim())},[s.children]),c.jsx(_A.ItemSlot,{scope:r,disabled:n,textValue:i??f,children:c.jsx(Z$,{asChild:!0,...o,focusable:!n,children:c.jsx(Ut.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:mt(t.onPointerMove,SA(g=>{n?a.onItemLeave(g):(a.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:mt(t.onPointerLeave,SA(g=>a.onItemLeave(g))),onFocus:mt(t.onFocus,()=>h(!0)),onBlur:mt(t.onBlur,()=>h(!1))})})})}),dEe="MenuCheckboxItem",Iie=j.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return c.jsx(Bie,{scope:t.__scopeMenu,checked:r,children:c.jsx(cO,{role:"menuitemcheckbox","aria-checked":GP(r)?"mixed":r,...i,ref:e,"data-state":PB(r),onSelect:mt(i.onSelect,()=>n==null?void 0:n(GP(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Iie.displayName=dEe;var Rie="MenuRadioGroup",[hEe,fEe]=xx(Rie,{value:void 0,onValueChange:()=>{}}),Die=j.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=li(n);return c.jsx(hEe,{scope:t.__scopeMenu,value:r,onValueChange:s,children:c.jsx(CB,{...i,ref:e})})});Die.displayName=Rie;var Fie="MenuRadioItem",$ie=j.forwardRef((t,e)=>{const{value:r,...n}=t,i=fEe(Fie,t.__scopeMenu),s=r===i.value;return c.jsx(Bie,{scope:t.__scopeMenu,checked:s,children:c.jsx(cO,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":PB(s),onSelect:mt(n.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,r)},{checkForDefaultPrevented:!1})})})});$ie.displayName=Fie;var TB="MenuItemIndicator",[Bie,pEe]=xx(TB,{checked:!1}),Uie=j.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=pEe(TB,r);return c.jsx(ws,{present:n||GP(s.checked)||s.checked===!0,children:c.jsx(Ut.span,{...i,ref:e,"data-state":PB(s.checked)})})});Uie.displayName=TB;var mEe="MenuSeparator",zie=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return c.jsx(Ut.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});zie.displayName=mEe;var gEe="MenuArrow",qie=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=lO(r);return c.jsx(E3,{...i,...n,ref:e})});qie.displayName=gEe;var vEe="MenuSub",[l0t,Wie]=xx(vEe),R_="MenuSubTrigger",Hie=j.forwardRef((t,e)=>{const r=yx(R_,t.__scopeMenu),n=bN(R_,t.__scopeMenu),i=Wie(R_,t.__scopeMenu),s=NB(R_,t.__scopeMenu),a=j.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=j.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return j.useEffect(()=>d,[d]),j.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),l(null)}},[o,l]),c.jsx(AB,{asChild:!0,...u,children:c.jsx(Lie,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":Kie(r.open),...t,ref:f3(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:mt(t.onPointerMove,SA(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:mt(t.onPointerLeave,SA(h=>{var p,g;d();const f=(p=r.content)==null?void 0:p.getBoundingClientRect();if(f){const m=(g=r.content)==null?void 0:g.dataset.side,v=m==="right",x=v?-5:5,y=f[v?"left":"right"],w=f[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:f.top},{x:w,y:f.top},{x:w,y:f.bottom},{x:y,y:f.bottom}],side:m}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:mt(t.onKeyDown,h=>{var p;const f=s.searchRef.current!=="";t.disabled||f&&h.key===" "||JNe[n.dir].includes(h.key)&&(r.onOpenChange(!0),(p=r.content)==null||p.focus(),h.preventDefault())})})})});Hie.displayName=R_;var Vie="MenuSubContent",Gie=j.forwardRef((t,e)=>{const r=Pie(Ic,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=yx(Ic,t.__scopeMenu),a=bN(Ic,t.__scopeMenu),o=Wie(Vie,t.__scopeMenu),l=j.useRef(null),u=br(e,l);return c.jsx(_A.Provider,{scope:t.__scopeMenu,children:c.jsx(ws,{present:n||s.open,children:c.jsx(_A.Slot,{scope:t.__scopeMenu,children:c.jsx(EB,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;a.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:mt(t.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:mt(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:mt(t.onKeyDown,d=>{var p;const h=d.currentTarget.contains(d.target),f=ZNe[a.dir].includes(d.key);h&&f&&(s.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});Gie.displayName=Vie;function Kie(t){return t?"open":"closed"}function GP(t){return t==="indeterminate"}function PB(t){return GP(t)?"indeterminate":t?"checked":"unchecked"}function xEe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function yEe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function bEe(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=yEe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const l=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function wEe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s].x,l=e[s].y,u=e[a].x,d=e[a].y;l>n!=d>n&&r<(u-o)*(n-l)/(d-l)+o&&(i=!i)}return i}function _Ee(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return wEe(r,e)}function SA(t){return e=>e.pointerType==="mouse"?t(e):void 0}var SEe=Tie,AEe=AB,jEe=kie,NEe=Oie,EEe=CB,CEe=Mie,TEe=cO,PEe=Iie,kEe=Die,OEe=$ie,MEe=Uie,LEe=zie,IEe=qie,REe=Hie,DEe=Gie,kB="DropdownMenu",[FEe,c0t]=vo(kB,[Eie]),yo=Eie(),[$Ee,Yie]=FEe(kB),Xie=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=yo(e),u=j.useRef(null),[d=!1,h]=Uc({prop:i,defaultProp:s,onChange:a});return c.jsx($Ee,{scope:e,triggerId:Lc(),triggerRef:u,contentId:Lc(),open:d,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(f=>!f),[h]),modal:o,children:c.jsx(SEe,{...l,open:d,onOpenChange:h,dir:n,modal:o,children:r})})};Xie.displayName=kB;var Qie="DropdownMenuTrigger",Jie=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=Yie(Qie,r),a=yo(r);return c.jsx(AEe,{asChild:!0,...a,children:c.jsx(Ut.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:f3(e,s.triggerRef),onPointerDown:mt(t.onPointerDown,o=>{!n&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:mt(t.onKeyDown,o=>{n||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});Jie.displayName=Qie;var BEe="DropdownMenuPortal",Zie=t=>{const{__scopeDropdownMenu:e,...r}=t,n=yo(e);return c.jsx(jEe,{...n,...r})};Zie.displayName=BEe;var ese="DropdownMenuContent",tse=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Yie(ese,r),s=yo(r),a=j.useRef(!1);return c.jsx(NEe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:mt(t.onCloseAutoFocus,o=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:mt(t.onInteractOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});tse.displayName=ese;var UEe="DropdownMenuGroup",zEe=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(EEe,{...i,...n,ref:e})});zEe.displayName=UEe;var qEe="DropdownMenuLabel",rse=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(CEe,{...i,...n,ref:e})});rse.displayName=qEe;var WEe="DropdownMenuItem",nse=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(TEe,{...i,...n,ref:e})});nse.displayName=WEe;var HEe="DropdownMenuCheckboxItem",ise=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(PEe,{...i,...n,ref:e})});ise.displayName=HEe;var VEe="DropdownMenuRadioGroup",GEe=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(kEe,{...i,...n,ref:e})});GEe.displayName=VEe;var KEe="DropdownMenuRadioItem",sse=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(OEe,{...i,...n,ref:e})});sse.displayName=KEe;var YEe="DropdownMenuItemIndicator",ase=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(MEe,{...i,...n,ref:e})});ase.displayName=YEe;var XEe="DropdownMenuSeparator",ose=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(LEe,{...i,...n,ref:e})});ose.displayName=XEe;var QEe="DropdownMenuArrow",JEe=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(IEe,{...i,...n,ref:e})});JEe.displayName=QEe;var ZEe="DropdownMenuSubTrigger",lse=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(REe,{...i,...n,ref:e})});lse.displayName=ZEe;var eCe="DropdownMenuSubContent",cse=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=yo(r);return c.jsx(DEe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});cse.displayName=eCe;var tCe=Xie,rCe=Jie,nCe=Zie,use=tse,dse=rse,hse=nse,fse=ise,pse=sse,mse=ase,gse=ose,vse=lse,xse=cse;const i6=tCe,s6=rCe,iCe=j.forwardRef(({className:t,inset:e,children:r,...n},i)=>c.jsxs(vse,{ref:i,className:He("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,c.jsx(eN,{className:"ml-auto h-4 w-4"})]}));iCe.displayName=vse.displayName;const sCe=j.forwardRef(({className:t,...e},r)=>c.jsx(xse,{ref:r,className:He("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-background p-1 text-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));sCe.displayName=xse.displayName;const KP=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>c.jsx(nCe,{children:c.jsx(use,{ref:n,sideOffset:e,className:He("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-background p-1 text-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));KP.displayName=use.displayName;const u1=j.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(hse,{ref:n,className:He("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));u1.displayName=hse.displayName;const aCe=j.forwardRef(({className:t,children:e,checked:r,...n},i)=>c.jsxs(fse,{ref:i,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(mse,{children:c.jsx(Bf,{className:"h-4 w-4"})})}),e]}));aCe.displayName=fse.displayName;const oCe=j.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(pse,{ref:n,className:He("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(mse,{children:c.jsx(vte,{className:"h-2 w-2 fill-current"})})}),e]}));oCe.displayName=pse.displayName;const a6=j.forwardRef(({className:t,inset:e,...r},n)=>c.jsx(dse,{ref:n,className:He("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));a6.displayName=dse.displayName;const o6=j.forwardRef(({className:t,...e},r)=>c.jsx(gse,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));o6.displayName=gse.displayName;const OB=({currentRole:t,onRoleChange:e,activeTabName:r,activeTabIcon:n})=>{j.useState(!1);const{profile:i,signOut:s}=is(),a=()=>i!=null&&i.full_name?i.full_name.charAt(0).toUpperCase():i!=null&&i.email?i.email.charAt(0).toUpperCase():"U",o={admin:{icon:aa,label:"Admin",color:"bg-gradient-primary",features:["All Access","User Management","AI Configuration"]},parent:{icon:ns,label:"Parent",color:"bg-gradient-success",features:["Create Papers","Upload Documents","View Results"]},child:{icon:Fa,label:"Child",color:"bg-quiz",features:["Take Tests","View Results","Study Mode"]}};return c.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-card border-b shadow-sm",children:c.jsxs("div",{className:"flex justify-between items-center h-14 md:h-16",children:[c.jsx("div",{className:"flex items-center justify-between pl-2 sm:pl-4 md:w-64 md:pl-4",children:c.jsxs("div",{className:"flex items-center gap-3 max-w-16",children:[c.jsx(jie,{}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("div",{className:"w-7 h-7 bg-gradient-primary rounded-lg flex items-center justify-center",children:c.jsx($d,{className:"w-4 h-4 text-primary-foreground"})}),c.jsx("span",{className:"text-lg font-bold text-foreground",children:"mQuiz"})]})]})}),r&&n&&c.jsxs("div",{className:"hidden md:flex items-center space-x-2 flex-1 justify-center",children:[ue.createElement(n,{className:"w-4 h-4 md:w-5 md:h-5 text-muted-foreground"}),c.jsx("span",{className:"text-sm md:text-lg font-medium text-foreground",children:r})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-4 pr-4 sm:pr-6 lg:pr-4",children:[c.jsx(r6,{}),i&&c.jsxs(i6,{children:[c.jsx(s6,{asChild:!0,children:c.jsx(Ge,{variant:"outline",size:"sm",className:"w-8 h-8 rounded-full p-0",children:c.jsx("span",{className:"text-sm font-semibold",children:a()})})}),c.jsxs(KP,{align:"end",className:"w-56",children:[c.jsx(a6,{className:"font-normal",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none",children:i.full_name||i.email}),t&&c.jsx(Pt,{variant:"secondary",className:"text-xs w-fit",children:o[t].label})]})}),c.jsx(o6,{}),c.jsxs(u1,{onClick:s,className:"text-destructive cursor-pointer",children:[c.jsx(nW,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]}),c.jsxs("div",{className:"md:hidden flex items-center space-x-4 pr-4",children:[c.jsx(r6,{}),i&&c.jsxs(i6,{children:[c.jsx(s6,{asChild:!0,children:c.jsx(Ge,{variant:"outline",size:"sm",className:"w-8 h-8 rounded-full p-0",children:c.jsx("span",{className:"text-sm font-semibold",children:a()})})}),c.jsxs(KP,{align:"end",className:"w-56",children:[c.jsx(a6,{className:"font-normal",children:c.jsxs("div",{className:"flex flex-col space-y-1",children:[c.jsx("p",{className:"text-sm font-medium leading-none",children:i.full_name||i.email}),t&&c.jsx(Pt,{variant:"secondary",className:"text-xs w-fit",children:o[t].label})]})}),c.jsx(o6,{}),c.jsxs(u1,{onClick:s,className:"text-destructive cursor-pointer",children:[c.jsx(nW,{className:"w-4 h-4 mr-2"}),"Sign out"]})]})]})]})]})})},Hf=_B,MB=wie,lCe=SB,yse=j.forwardRef(({className:t,...e},r)=>c.jsx(mN,{ref:r,className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));yse.displayName=mN.displayName;const sh=j.forwardRef(({className:t,children:e,hideClose:r,...n},i)=>c.jsxs(lCe,{children:[c.jsx(yse,{}),c.jsxs(gN,{ref:i,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,!r&&c.jsxs(Q3,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(rh,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));sh.displayName=gN.displayName;const Gu=({className:t,...e})=>c.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Gu.displayName="DialogHeader";const l6=({className:t,...e})=>c.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});l6.displayName="DialogFooter";const Ku=j.forwardRef(({className:t,...e},r)=>c.jsx(vN,{ref:r,className:He("text-lg font-semibold leading-none tracking-tight",t),...e}));Ku.displayName=vN.displayName;const r0=j.forwardRef(({className:t,...e},r)=>c.jsx(xN,{ref:r,className:He("text-sm text-muted-foreground",t),...e}));r0.displayName=xN.displayName;function uO(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var LB="Switch",[cCe,u0t]=vo(LB),[uCe,dCe]=cCe(LB),bse=j.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:u,form:d,...h}=t,[f,p]=j.useState(null),g=br(e,w=>p(w)),m=j.useRef(!1),v=f?d||!!f.closest("form"):!0,[x=!1,y]=Uc({prop:i,defaultProp:s,onChange:u});return c.jsxs(uCe,{scope:r,checked:x,disabled:o,children:[c.jsx(Ut.button,{type:"button",role:"switch","aria-checked":x,"aria-required":a,"data-state":Sse(x),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:g,onClick:mt(t.onClick,w=>{y(_=>!_),v&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})}),v&&c.jsx(hCe,{control:f,bubbles:!m.current,name:n,value:l,checked:x,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});bse.displayName=LB;var wse="SwitchThumb",_se=j.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=dCe(wse,r);return c.jsx(Ut.span,{"data-state":Sse(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});_se.displayName=wse;var hCe=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=j.useRef(null),a=uO(r),o=A3(e);return j.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==r&&h){const f=new Event("click",{bubbles:n});h.call(l,r),l.dispatchEvent(f)}},[a,r,n]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Sse(t){return t?"checked":"unchecked"}var Ase=bse,fCe=_se;const La=j.forwardRef(({className:t,...e},r)=>c.jsx(Ase,{className:He("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:c.jsx(fCe,{className:He("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));La.displayName=Ase.displayName;var IB="Checkbox",[pCe,d0t]=vo(IB),[mCe,gCe]=pCe(IB),jse=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:u,form:d,...h}=t,[f,p]=j.useState(null),g=br(e,_=>p(_)),m=j.useRef(!1),v=f?d||!!f.closest("form"):!0,[x=!1,y]=Uc({prop:i,defaultProp:s,onChange:u}),w=j.useRef(x);return j.useEffect(()=>{const _=f==null?void 0:f.form;if(_){const A=()=>y(w.current);return _.addEventListener("reset",A),()=>_.removeEventListener("reset",A)}},[f,y]),c.jsxs(mCe,{scope:r,state:x,disabled:o,children:[c.jsx(Ut.button,{type:"button",role:"checkbox","aria-checked":Wm(x)?"mixed":x,"aria-required":a,"data-state":Cse(x),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:g,onKeyDown:mt(t.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:mt(t.onClick,_=>{y(A=>Wm(A)?!0:!A),v&&(m.current=_.isPropagationStopped(),m.current||_.stopPropagation())})}),v&&c.jsx(vCe,{control:f,bubbles:!m.current,name:n,value:l,checked:x,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Wm(s)?!1:s})]})});jse.displayName=IB;var Nse="CheckboxIndicator",Ese=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=gCe(Nse,r);return c.jsx(ws,{present:n||Wm(s.state)||s.state===!0,children:c.jsx(Ut.span,{"data-state":Cse(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Ese.displayName=Nse;var vCe=t=>{const{control:e,checked:r,bubbles:n=!0,defaultChecked:i,...s}=t,a=j.useRef(null),o=uO(r),l=A3(e);j.useEffect(()=>{const d=a.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(o!==r&&p){const g=new Event("click",{bubbles:n});d.indeterminate=Wm(r),p.call(d,Wm(r)?!1:r),d.dispatchEvent(g)}},[o,r,n]);const u=j.useRef(Wm(r)?!1:r);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??u.current,...s,tabIndex:-1,ref:a,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wm(t){return t==="indeterminate"}function Cse(t){return Wm(t)?"indeterminate":t?"checked":"unchecked"}var Tse=jse,xCe=Ese;const co=j.forwardRef(({className:t,...e},r)=>c.jsx(Tse,{ref:r,className:He("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(xCe,{className:He("flex items-center justify-center text-current"),children:c.jsx(Bf,{className:"h-4 w-4"})})}));co.displayName=Tse.displayName;var yCe=[" ","Enter","ArrowUp","ArrowDown"],bCe=[" ","Enter"],wN="Select",[dO,hO,wCe]=p3(wN),[Zw,h0t]=vo(wN,[wCe,m0]),fO=m0(),[_Ce,y0]=Zw(wN),[SCe,ACe]=Zw(wN),Pse=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:g}=t,m=fO(e),[v,x]=j.useState(null),[y,w]=j.useState(null),[_,A]=j.useState(!1),C=Kw(u),[N=!1,E]=Uc({prop:n,defaultProp:i,onChange:s}),[P,L]=Uc({prop:a,defaultProp:o,onChange:l}),O=j.useRef(null),k=v?g||!!v.closest("form"):!0,[D,F]=j.useState(new Set),z=Array.from(D).map(U=>U.props.value).join(";");return c.jsx(j3,{...m,children:c.jsxs(_Ce,{required:p,scope:e,trigger:v,onTriggerChange:x,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:A,contentId:Lc(),value:P,onValueChange:L,open:N,onOpenChange:E,dir:C,triggerPointerDownPosRef:O,disabled:f,children:[c.jsx(dO.Provider,{scope:e,children:c.jsx(SCe,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(U=>{F(H=>new Set(H).add(U))},[]),onNativeOptionRemove:j.useCallback(U=>{F(H=>{const B=new Set(H);return B.delete(U),B})},[]),children:r})}),k?c.jsxs(tae,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:P,onChange:U=>L(U.target.value),disabled:f,form:g,children:[P===void 0?c.jsx("option",{value:""}):null,Array.from(D)]},z):null]})})};Pse.displayName=wN;var kse="SelectTrigger",Ose=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=fO(r),a=y0(kse,r),o=a.disabled||n,l=br(e,a.onTriggerChange),u=hO(r),d=j.useRef("touch"),[h,f,p]=rae(m=>{const v=u().filter(w=>!w.disabled),x=v.find(w=>w.value===a.value),y=nae(v,m,x);y!==void 0&&a.onValueChange(y.value)}),g=m=>{o||(a.onOpenChange(!0),p()),m&&(a.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return c.jsx(aN,{asChild:!0,...s,children:c.jsx(Ut.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":eae(a.value)?"":void 0,...i,ref:l,onClick:mt(i.onClick,m=>{m.currentTarget.focus(),d.current!=="mouse"&&g(m)}),onPointerDown:mt(i.onPointerDown,m=>{d.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:mt(i.onKeyDown,m=>{const v=h.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&f(m.key),!(v&&m.key===" ")&&yCe.includes(m.key)&&(g(),m.preventDefault())})})})});Ose.displayName=kse;var Mse="SelectValue",Lse=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:a="",...o}=t,l=y0(Mse,r),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,h=br(e,l.onValueNodeChange);return bs(()=>{u(d)},[u,d]),c.jsx(Ut.span,{...o,ref:h,style:{pointerEvents:"none"},children:eae(l.value)?c.jsx(c.Fragment,{children:a}):s})});Lse.displayName=Mse;var jCe="SelectIcon",Ise=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return c.jsx(Ut.span,{"aria-hidden":!0,...i,ref:e,children:n||""})});Ise.displayName=jCe;var NCe="SelectPortal",Rse=t=>c.jsx(Uw,{asChild:!0,...t});Rse.displayName=NCe;var Qv="SelectContent",Dse=j.forwardRef((t,e)=>{const r=y0(Qv,t.__scopeSelect),[n,i]=j.useState();if(bs(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?px.createPortal(c.jsx(Fse,{scope:t.__scopeSelect,children:c.jsx(dO.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),s):null}return c.jsx($se,{...t,ref:e})});Dse.displayName=Qv;var lu=10,[Fse,b0]=Zw(Qv),ECe="SelectContentImpl",$se=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=t,y=y0(Qv,r),[w,_]=j.useState(null),[A,C]=j.useState(null),N=br(e,ae=>_(ae)),[E,P]=j.useState(null),[L,O]=j.useState(null),k=hO(r),[D,F]=j.useState(!1),z=j.useRef(!1);j.useEffect(()=>{if(w)return K3(w)},[w]),G3();const U=j.useCallback(ae=>{const[pe,...le]=k().map(we=>we.ref.current),[ye]=le.slice(-1),Se=document.activeElement;for(const we of ae)if(we===Se||(we==null||we.scrollIntoView({block:"nearest"}),we===pe&&A&&(A.scrollTop=0),we===ye&&A&&(A.scrollTop=A.scrollHeight),we==null||we.focus(),document.activeElement!==Se))return},[k,A]),H=j.useCallback(()=>U([E,w]),[U,E,w]);j.useEffect(()=>{D&&H()},[D,H]);const{onOpenChange:B,triggerPointerDownPosRef:X}=y;j.useEffect(()=>{if(w){let ae={x:0,y:0};const pe=ye=>{var Se,we;ae={x:Math.abs(Math.round(ye.pageX)-(((Se=X.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((we=X.current)==null?void 0:we.y)??0))}},le=ye=>{ae.x<=10&&ae.y<=10?ye.preventDefault():w.contains(ye.target)||B(!1),document.removeEventListener("pointermove",pe),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",le,{capture:!0})}}},[w,B,X]),j.useEffect(()=>{const ae=()=>B(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[B]);const[ne,fe]=rae(ae=>{const pe=k().filter(Se=>!Se.disabled),le=pe.find(Se=>Se.ref.current===document.activeElement),ye=nae(pe,ae,le);ye&&setTimeout(()=>ye.ref.current.focus())}),I=j.useCallback((ae,pe,le)=>{const ye=!z.current&&!le;(y.value!==void 0&&y.value===pe||ye)&&(P(ae),ye&&(z.current=!0))},[y.value]),q=j.useCallback(()=>w==null?void 0:w.focus(),[w]),V=j.useCallback((ae,pe,le)=>{const ye=!z.current&&!le;(y.value!==void 0&&y.value===pe||ye)&&O(ae)},[y.value]),K=n==="popper"?c6:Bse,Y=K===c6?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return c.jsx(Fse,{scope:r,content:w,viewport:A,onViewportChange:C,itemRefCallback:I,selectedItem:E,onItemLeave:q,itemTextRefCallback:V,focusSelectedItem:H,selectedItemText:L,position:n,isPositioned:D,searchRef:ne,children:c.jsx(fN,{as:Go,allowPinchZoom:!0,children:c.jsx(hN,{asChild:!0,trapped:y.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:mt(i,ae=>{var pe;(pe=y.trigger)==null||pe.focus({preventScroll:!0}),ae.preventDefault()}),children:c.jsx(mx,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:c.jsx(K,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ae=>ae.preventDefault(),...x,...Y,onPlaced:()=>F(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:mt(x.onKeyDown,ae=>{const pe=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!pe&&ae.key.length===1&&fe(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let ye=k().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Se=ae.target,we=ye.indexOf(Se);ye=ye.slice(we+1)}setTimeout(()=>U(ye)),ae.preventDefault()}})})})})})})});$se.displayName=ECe;var CCe="SelectItemAlignedPosition",Bse=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=y0(Qv,r),a=b0(Qv,r),[o,l]=j.useState(null),[u,d]=j.useState(null),h=br(e,N=>d(N)),f=hO(r),p=j.useRef(!1),g=j.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=a,w=j.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&m&&v&&x){const N=s.trigger.getBoundingClientRect(),E=u.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),L=x.getBoundingClientRect();if(s.dir!=="rtl"){const Se=L.left-E.left,we=P.left-Se,We=N.left-we,Ve=N.width+We,ke=Math.max(Ve,E.width),Q=window.innerWidth-lu,_e=JD(we,[lu,Math.max(lu,Q-ke)]);o.style.minWidth=Ve+"px",o.style.left=_e+"px"}else{const Se=E.right-L.right,we=window.innerWidth-P.right-Se,We=window.innerWidth-N.right-we,Ve=N.width+We,ke=Math.max(Ve,E.width),Q=window.innerWidth-lu,_e=JD(we,[lu,Math.max(lu,Q-ke)]);o.style.minWidth=Ve+"px",o.style.right=_e+"px"}const O=f(),k=window.innerHeight-lu*2,D=m.scrollHeight,F=window.getComputedStyle(u),z=parseInt(F.borderTopWidth,10),U=parseInt(F.paddingTop,10),H=parseInt(F.borderBottomWidth,10),B=parseInt(F.paddingBottom,10),X=z+U+D+B+H,ne=Math.min(v.offsetHeight*5,X),fe=window.getComputedStyle(m),I=parseInt(fe.paddingTop,10),q=parseInt(fe.paddingBottom,10),V=N.top+N.height/2-lu,K=k-V,Y=v.offsetHeight/2,ae=v.offsetTop+Y,pe=z+U+ae,le=X-pe;if(pe<=V){const Se=O.length>0&&v===O[O.length-1].ref.current;o.style.bottom="0px";const we=u.clientHeight-m.offsetTop-m.offsetHeight,We=Math.max(K,Y+(Se?q:0)+we+H),Ve=pe+We;o.style.height=Ve+"px"}else{const Se=O.length>0&&v===O[0].ref.current;o.style.top="0px";const We=Math.max(V,z+m.offsetTop+(Se?I:0)+Y)+le;o.style.height=We+"px",m.scrollTop=pe-V+m.offsetTop}o.style.margin=`${lu}px 0`,o.style.minHeight=ne+"px",o.style.maxHeight=k+"px",n==null||n(),requestAnimationFrame(()=>p.current=!0)}},[f,s.trigger,s.valueNode,o,u,m,v,x,s.dir,n]);bs(()=>w(),[w]);const[_,A]=j.useState();bs(()=>{u&&A(window.getComputedStyle(u).zIndex)},[u]);const C=j.useCallback(N=>{N&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return c.jsx(PCe,{scope:r,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:C,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(Ut.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Bse.displayName=CCe;var TCe="SelectPopperPosition",c6=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=lu,...s}=t,a=fO(r);return c.jsx(N3,{...a,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c6.displayName=TCe;var[PCe,RB]=Zw(Qv,{}),u6="SelectViewport",Use=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=b0(u6,r),a=RB(u6,r),o=br(e,s.onViewportChange),l=j.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),c.jsx(dO.Slot,{scope:r,children:c.jsx(Ut.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:mt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&h){const p=Math.abs(l.current-d.scrollTop);if(p>0){const g=window.innerHeight-lu*2,m=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),x=Math.max(m,v);if(x<g){const y=x+p,w=Math.min(g,y),_=y-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});Use.displayName=u6;var zse="SelectGroup",[kCe,OCe]=Zw(zse),MCe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Lc();return c.jsx(kCe,{scope:r,id:i,children:c.jsx(Ut.div,{role:"group","aria-labelledby":i,...n,ref:e})})});MCe.displayName=zse;var qse="SelectLabel",Wse=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=OCe(qse,r);return c.jsx(Ut.div,{id:i.id,...n,ref:e})});Wse.displayName=qse;var YP="SelectItem",[LCe,Hse]=Zw(YP),Vse=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...a}=t,o=y0(YP,r),l=b0(YP,r),u=o.value===n,[d,h]=j.useState(s??""),[f,p]=j.useState(!1),g=br(e,y=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,y,n,i)}),m=Lc(),v=j.useRef("touch"),x=()=>{i||(o.onValueChange(n),o.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(LCe,{scope:r,value:n,disabled:i,textId:m,isSelected:u,onItemTextChange:j.useCallback(y=>{h(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:c.jsx(dO.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:c.jsx(Ut.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:g,onFocus:mt(a.onFocus,()=>p(!0)),onBlur:mt(a.onBlur,()=>p(!1)),onClick:mt(a.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:mt(a.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:mt(a.onPointerDown,y=>{v.current=y.pointerType}),onPointerMove:mt(a.onPointerMove,y=>{var w;v.current=y.pointerType,i?(w=l.onItemLeave)==null||w.call(l):v.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:mt(a.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:mt(a.onKeyDown,y=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(bCe.includes(y.key)&&x(),y.key===" "&&y.preventDefault())})})})})});Vse.displayName=YP;var D_="SelectItemText",Gse=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,a=y0(D_,r),o=b0(D_,r),l=Hse(D_,r),u=ACe(D_,r),[d,h]=j.useState(null),f=br(e,x=>h(x),l.onItemTextChange,x=>{var y;return(y=o.itemTextRefCallback)==null?void 0:y.call(o,x,l.value,l.disabled)}),p=d==null?void 0:d.textContent,g=j.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=u;return bs(()=>(m(g),()=>v(g)),[m,v,g]),c.jsxs(c.Fragment,{children:[c.jsx(Ut.span,{id:l.textId,...s,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?px.createPortal(s.children,a.valueNode):null]})});Gse.displayName=D_;var Kse="SelectItemIndicator",Yse=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return Hse(Kse,r).isSelected?c.jsx(Ut.span,{"aria-hidden":!0,...n,ref:e}):null});Yse.displayName=Kse;var d6="SelectScrollUpButton",Xse=j.forwardRef((t,e)=>{const r=b0(d6,t.__scopeSelect),n=RB(d6,t.__scopeSelect),[i,s]=j.useState(!1),a=br(e,n.onScrollButtonChange);return bs(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?c.jsx(Jse,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});Xse.displayName=d6;var h6="SelectScrollDownButton",Qse=j.forwardRef((t,e)=>{const r=b0(h6,t.__scopeSelect),n=RB(h6,t.__scopeSelect),[i,s]=j.useState(!1),a=br(e,n.onScrollButtonChange);return bs(()=>{if(r.viewport&&r.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=r.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[r.viewport,r.isPositioned]),i?c.jsx(Jse,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=r;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});Qse.displayName=h6;var Jse=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=b0("SelectScrollButton",r),a=j.useRef(null),o=hO(r),l=j.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return j.useEffect(()=>()=>l(),[l]),bs(()=>{var d;const u=o().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),c.jsx(Ut.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:mt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(n,50))}),onPointerMove:mt(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(n,50))}),onPointerLeave:mt(i.onPointerLeave,()=>{l()})})}),ICe="SelectSeparator",Zse=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return c.jsx(Ut.div,{"aria-hidden":!0,...n,ref:e})});Zse.displayName=ICe;var f6="SelectArrow",RCe=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=fO(r),s=y0(f6,r),a=b0(f6,r);return s.open&&a.position==="popper"?c.jsx(E3,{...i,...n,ref:e}):null});RCe.displayName=f6;function eae(t){return t===""||t===void 0}var tae=j.forwardRef((t,e)=>{const{value:r,...n}=t,i=j.useRef(null),s=br(e,i),a=uO(r);return j.useEffect(()=>{const o=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==r&&d){const h=new Event("change",{bubbles:!0});d.call(o,r),o.dispatchEvent(h)}},[a,r]),c.jsx(Zj,{asChild:!0,children:c.jsx("select",{...n,ref:s,defaultValue:r})})});tae.displayName="BubbleSelect";function rae(t){const e=li(t),r=j.useRef(""),n=j.useRef(0),i=j.useCallback(a=>{const o=r.current+a;e(o),function l(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function nae(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let a=DCe(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==r));const l=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==r?l:void 0}function DCe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var FCe=Pse,iae=Ose,$Ce=Lse,BCe=Ise,UCe=Rse,sae=Dse,zCe=Use,aae=Wse,oae=Vse,qCe=Gse,WCe=Yse,lae=Xse,cae=Qse,uae=Zse;const Ur=FCe,zr=$Ce,Rr=j.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(iae,{ref:n,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,c.jsx(BCe,{asChild:!0,children:c.jsx(mte,{className:"h-4 w-4 opacity-50"})})]}));Rr.displayName=iae.displayName;const dae=j.forwardRef(({className:t,...e},r)=>c.jsx(lae,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(_ye,{className:"h-4 w-4"})}));dae.displayName=lae.displayName;const hae=j.forwardRef(({className:t,...e},r)=>c.jsx(cae,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(mte,{className:"h-4 w-4"})}));hae.displayName=cae.displayName;const Dr=j.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>c.jsx(UCe,{children:c.jsxs(sae,{ref:i,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-background text-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[c.jsx(dae,{}),c.jsx(zCe,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(hae,{})]})}));Dr.displayName=sae.displayName;const HCe=j.forwardRef(({className:t,...e},r)=>c.jsx(aae,{ref:r,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));HCe.displayName=aae.displayName;const pt=j.forwardRef(({className:t,children:e,...r},n)=>c.jsxs(oae,{ref:n,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(WCe,{children:c.jsx(Bf,{className:"h-4 w-4"})})}),c.jsx(qCe,{children:e})]}));pt.displayName=oae.displayName;const VCe=j.forwardRef(({className:t,...e},r)=>c.jsx(uae,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));VCe.displayName=uae.displayName;const fae=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(null),a=async()=>{try{n(!0),s(null);const{data:d}=await je.auth.getUser();if(!d.user)throw new Error("Not authenticated");const{data:h,error:f}=await je.from("classes_parent").select("*").eq("parent_id",d.user.id).eq("is_active",!0).order("display_order");if(f)throw f;e(h||[])}catch(d){s(d.message)}finally{n(!1)}};return j.useEffect(()=>{a()},[]),{classes:t,isLoading:r,error:i,refetch:a,addClass:async(d,h)=>{const{data:f}=await je.auth.getUser();if(!f.user)throw new Error("Not authenticated");const p=Math.max(...t.map(m=>m.display_order),0),{error:g}=await je.from("classes_parent").insert({parent_id:f.user.id,class_name:d,class_key:h,display_order:p+1});if(g)throw g;await a()},updateClass:async(d,h)=>{const{error:f}=await je.from("classes_parent").update(h).eq("id",d);if(f)throw f;await a()},deleteClass:async d=>{const{error:h}=await je.from("classes_parent").update({is_active:!1}).eq("id",d);if(h)throw h;await a()}}},pae=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(null),a=async()=>{try{n(!0),s(null);const{data:d}=await je.auth.getUser();if(!d.user)throw new Error("Not authenticated");const{data:h,error:f}=await je.from("subjects_parent").select("*").eq("parent_id",d.user.id).eq("is_active",!0).order("subject_name");if(f)throw f;e(h||[])}catch(d){s(d.message)}finally{n(!1)}};return j.useEffect(()=>{a()},[]),{subjects:t,isLoading:r,error:i,refetch:a,addSubject:async(d,h)=>{const{data:f}=await je.auth.getUser();if(!f.user)throw new Error("Not authenticated");const{error:p}=await je.from("subjects_parent").insert({parent_id:f.user.id,subject_name:d,description:h||null});if(p)throw p;await a()},updateSubject:async(d,h)=>{const{error:f}=await je.from("subjects_parent").update(h).eq("id",d);if(f)throw f;await a()},deleteSubject:async d=>{const{error:h}=await je.from("subjects_parent").update({is_active:!1}).eq("id",d);if(h)throw h;await a()}}},GCe=({isOpen:t,onClose:e,childId:r,childName:n,onUpdate:i})=>{var O;const{classes:s,isLoading:a}=fae(),{subjects:o,isLoading:l}=pae(),[u,d]=j.useState(""),[h,f]=j.useState(""),[p,g]=j.useState([]),[m,v]=j.useState([]),[x,y]=j.useState(!0),[w,_]=j.useState(!1),{toast:A}=Kr();j.useEffect(()=>{t&&C()},[r,t]);const C=async()=>{try{const{data:k}=await je.auth.getUser();if(!k.user)return;const{data:D,error:F}=await je.from("child_class_assignments").select("class_parent_id").eq("child_id",r).eq("parent_id",k.user.id).eq("is_current",!0).maybeSingle();if(F)throw F;const z=(D==null?void 0:D.class_parent_id)||"";d(z),f(z);const{data:U,error:H}=await je.from("child_subject_assignments").select("subject_parent_id").eq("child_id",r).eq("parent_id",k.user.id).eq("is_current",!0);if(H)throw H;const B=(U==null?void 0:U.map(X=>X.subject_parent_id))||[];g(B),v(B)}catch(k){console.error("Error fetching academic data:",k),A({title:"Error loading academic profile",description:k.message,variant:"destructive"})}finally{y(!1)}},N=(k,D)=>{v(D?F=>[...F,k]:F=>F.filter(z=>z!==k))},E=async()=>{var k;if(!h){A({title:"Please select a class",variant:"destructive"});return}_(!0);try{const{data:D}=await je.auth.getUser();if(!D.user)throw new Error("Not authenticated");const F=new Date().getFullYear().toString();await je.from("child_class_assignments").delete().eq("child_id",r).eq("parent_id",D.user.id).eq("academic_year",F);const{error:z}=await je.from("child_class_assignments").insert({child_id:r,parent_id:D.user.id,class_parent_id:h,is_current:!0,academic_year:F});if(z)throw z;if(await je.from("child_subject_assignments").delete().eq("child_id",r).eq("parent_id",D.user.id).eq("academic_year",F),m.length>0){const H=m.map(X=>({child_id:r,parent_id:D.user.id,subject_parent_id:X,is_current:!0,academic_year:F})),{error:B}=await je.from("child_subject_assignments").insert(H);if(B)throw B}d(h),g(m);const U=(k=s.find(H=>H.id===h))==null?void 0:k.class_name;A({title:"Academic profile updated",description:`${n} assigned to ${U} with ${m.length} subjects`}),i==null||i(),e()}catch(D){A({title:"Failed to update academic profile",description:D.message,variant:"destructive"})}finally{_(!1)}};if(x||a||l)return c.jsx(Hf,{open:t,onOpenChange:e,children:c.jsxs(sh,{className:"max-w-4xl",children:[c.jsx(Gu,{children:c.jsxs(Ku,{className:"text-xl",children:["Academic Profile - ",n]})}),c.jsx("div",{className:"text-center py-8",children:"Loading academic profile..."})]})});const P=h!==u||JSON.stringify(m.sort())!==JSON.stringify(p.sort()),L=(O=s.find(k=>k.id===u))==null?void 0:O.class_name;return c.jsx(Hf,{open:t,onOpenChange:e,children:c.jsxs(sh,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[c.jsx(Gu,{children:c.jsxs(Ku,{className:"text-xl",children:["Academic Profile - ",n]})}),c.jsx(cN,{className:"my-4"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-3",children:[u&&c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Class:"}),c.jsx(Pt,{variant:"secondary",children:L||"Unknown Class"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Select Class Level:"}),c.jsxs(Ur,{value:h,onValueChange:f,children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select a class level"})}),c.jsx(Dr,{children:s.map(k=>c.jsx(pt,{value:k.id,children:k.class_name},k.id))})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[p.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Currently Assigned:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(k=>{const D=o.find(F=>F.id===k);return c.jsx(Pt,{variant:"secondary",children:(D==null?void 0:D.subject_name)||"Unknown Subject"},k)})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-sm font-medium",children:"Select Subjects:"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:o.map(k=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(co,{id:`subject-${k.id}`,checked:m.includes(k.id),onCheckedChange:D=>N(k.id,D)}),c.jsx("label",{htmlFor:`subject-${k.id}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:k.subject_name})]},k.id))})]}),m.length===0&&c.jsx("div",{className:"text-sm text-muted-foreground",children:"No subjects selected. The child will not have access to any subject-specific content."})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(Ge,{onClick:E,disabled:w||!P,children:w?c.jsx(c.Fragment,{children:"Saving..."}):c.jsxs(c.Fragment,{children:[c.jsx(Jb,{className:"h-4 w-4 mr-2"}),"Save Changes"]})}),c.jsxs(Ge,{variant:"outline",onClick:e,children:[c.jsx(rh,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]})})},KCe=({onChildrenUpdate:t})=>{const[e,r]=j.useState([]),[n,i]=j.useState(!0),[s,a]=j.useState(!1),[o,l]=j.useState(""),[u,d]=j.useState(""),[h,f]=j.useState(!1),[p,g]=j.useState(null),[m,v]=j.useState(null),[x,y]=j.useState(!1),{toast:w}=Kr();j.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:E}=await je.auth.getUser();if(!E.user){console.log("ChildrenManagement: No authenticated user");return}console.log("ChildrenManagement: Fetching children for parent:",E.user.id);const{data:P,error:L}=await je.from("parent_child_relationships").select(`
          child_id
        `).eq("parent_id",E.user.id);if(console.log("ChildrenManagement: Relationships query result:",{relationships:P,relError:L}),L)throw L;if(P&&P.length>0){const O=P.map(z=>z.child_id);console.log("ChildrenManagement: Found child IDs:",O),console.log("ChildrenManagement: About to query profiles with childIds:",O);const{data:k,error:D}=await je.from("profiles").select("*").in("user_id",O);if(console.log("ChildrenManagement: Children profiles query result:",{childrenData:k,childrenError:D}),console.log("ChildrenManagement: Current user ID:",E.user.id),D)throw D;y(!0);const F=await Promise.all((k||[]).map(async z=>{var X;const U=new Date().getFullYear().toString(),{data:H}=await je.from("child_class_assignments").select("class_parent_id, classes_parent(class_name)").eq("child_id",z.user_id).eq("parent_id",E.user.id).eq("is_current",!0).eq("academic_year",U).maybeSingle(),{data:B}=await je.from("child_subject_assignments").select("subject_parent_id, subjects_parent(subject_name)").eq("child_id",z.user_id).eq("parent_id",E.user.id).eq("is_current",!0).eq("academic_year",U);return{...z,class_name:(X=H==null?void 0:H.classes_parent)==null?void 0:X.class_name,subject_names:(B==null?void 0:B.map(ne=>{var fe;return(fe=ne.subjects_parent)==null?void 0:fe.subject_name}).filter(Boolean))||[]}}));y(!1),r(F)}else console.log("ChildrenManagement: No relationships found"),r([])}catch(E){console.error("ChildrenManagement: Error fetching children:",E),w({title:"Error fetching children",description:E.message,variant:"destructive"})}finally{i(!1)}},A=async()=>{if(!o||!u){w({title:"Missing information",description:"Please provide both email and name for the child.",variant:"destructive"});return}a(!0);try{const{data:{session:E}}=await je.auth.getSession();if(!E)throw new Error("Not authenticated");const{data:P,error:L}=await je.functions.invoke("create-child-account",{body:{email:o,fullName:u}});if(L)throw L;if(P.error)throw new Error(P.error);w({title:"Child added successfully",description:`${u} has been added to your children list.`}),l(""),d(""),f(!1),_(),t==null||t()}catch(E){w({title:"Failed to add child",description:E.message,variant:"destructive"})}finally{a(!1)}},C=async(E,P)=>{if(confirm(`Are you sure you want to remove ${P} from your children list?`))try{const{data:L}=await je.auth.getUser();if(!L.user)throw new Error("Not authenticated");const{error:O}=await je.from("parent_child_relationships").delete().eq("parent_id",L.user.id).eq("child_id",E);if(O)throw O;w({title:"Child removed",description:`${P} has been removed from your children list.`}),_(),t==null||t()}catch(L){w({title:"Failed to remove child",description:L.message,variant:"destructive"})}},N=async(E,P)=>{v(E);try{const{error:L}=await je.from("profiles").update({is_approved:!P}).eq("user_id",E);if(L)throw L;w({title:"Status updated",description:`Child account is now ${P?"inactive":"active"}`}),_()}catch(L){w({title:"Failed to update status",description:L.message,variant:"destructive"})}finally{v(null)}};return n?c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center",children:"Loading children..."})})}):c.jsxs(Oe,{className:"border-none shadow-lg bg-gradient-to-br from-background to-accent/5",children:[c.jsx(tt,{className:"pb-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between items-start md:items-center",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsxs(it,{className:"flex items-center text-2xl font-bold bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:[c.jsx(ns,{className:"w-6 h-6 mr-3 text-primary"}),"Children Management"]}),c.jsx(Xt,{className:"text-base",children:"Manage and monitor your children's academic profiles"})]}),c.jsxs(Hf,{open:h,onOpenChange:f,children:[c.jsx(MB,{asChild:!0,children:c.jsxs(Ge,{className:"shadow-md hover:shadow-lg transition-all duration-300 hover:scale-105",children:[c.jsx(Qb,{className:"w-4 h-4 mr-2"}),"Add Child"]})}),c.jsxs(sh,{children:[c.jsxs(Gu,{children:[c.jsx(Ku,{children:"Add New Child"}),c.jsx(r0,{children:"Add a child account to manage their tests and progress."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"childName",children:"Child's Full Name"}),c.jsx(pr,{id:"childName",value:u,onChange:E=>d(E.target.value),placeholder:"Enter child's full name"})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"childEmail",children:"Child's Email"}),c.jsx(pr,{id:"childEmail",type:"email",value:o,onChange:E=>l(E.target.value),placeholder:"Enter child's email address"})]}),c.jsxs(Ko,{children:[c.jsx(vg,{className:"h-4 w-4"}),c.jsx(Yo,{children:"If the child doesn't have an account, we'll create one and send login instructions to their email."})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(Ge,{onClick:A,disabled:s||!o||!u,className:"flex-1",children:s?c.jsxs(c.Fragment,{children:[c.jsx(Ui,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Fye,{className:"w-4 h-4 mr-2"}),"Add Child"]})}),c.jsx(Ge,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]})]})]})]})}),c.jsx(Ie,{className:"pt-2",children:e.length===0?c.jsxs("div",{className:"text-center py-16 px-4",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-gradient-to-br from-primary/20 to-accent/20 flex items-center justify-center",children:c.jsx(ns,{className:"w-10 h-10 text-primary"})}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No children added yet"}),c.jsx("p",{className:"text-muted-foreground max-w-sm mx-auto",children:"Start by adding your children to create and assign personalized tests."})]}):c.jsx("div",{className:"grid gap-4 md:grid-cols-1 xl:grid-cols-2",children:e.map(E=>{var P,L;return c.jsx("div",{className:"group relative overflow-hidden rounded-xl border bg-card hover:shadow-xl transition-all duration-300 hover:scale-[1.02]",children:c.jsxs("div",{className:"relative p-5 flex flex-col h-full",children:[c.jsxs("div",{className:"space-y-4 flex-1",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-primary to-primary/60 rounded-2xl flex items-center justify-center text-white font-bold text-xl shadow-lg",children:((P=E.full_name)==null?void 0:P.charAt(0))||((L=E.email)==null?void 0:L.charAt(0))||"?"}),E.is_approved&&c.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-card flex items-center justify-center",children:c.jsx(qu,{className:"w-3 h-3 text-white"})})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-semibold text-lg truncate",children:E.full_name||"Unnamed Child"}),c.jsxs("p",{className:"text-sm text-muted-foreground flex items-center gap-1 truncate",children:[c.jsx(Uf,{className:"w-3.5 h-3.5 flex-shrink-0"}),E.email]}),c.jsx("div",{className:"flex items-center gap-2 mt-2",children:m===E.user_id?c.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[c.jsx(Ui,{className:"w-3.5 h-3.5 animate-spin"}),c.jsx("span",{children:"Updating..."})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:E.is_approved?"Active":"Inactive"}),c.jsx(La,{checked:E.is_approved,onCheckedChange:()=>N(E.user_id,E.is_approved),className:"scale-90",disabled:m!==null})]})})]})]}),x?c.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t text-xs text-muted-foreground",children:[c.jsx(Ui,{className:"w-3.5 h-3.5 animate-spin"}),c.jsx("span",{children:"Loading academic info..."})]}):(E.class_name||E.subject_names&&E.subject_names.length>0)&&c.jsxs("div",{className:"space-y-2 pt-3 border-t",children:[E.class_name&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(mT,{className:"w-4 h-4 text-primary flex-shrink-0"}),c.jsx(Pt,{variant:"outline",className:"text-xs font-medium",children:E.class_name})]}),E.subject_names&&E.subject_names.length>0&&c.jsx("div",{className:"flex flex-wrap gap-1.5",children:E.subject_names.map((O,k)=>c.jsx(Pt,{variant:"secondary",className:"text-xs",children:O},k))})]})]}),c.jsxs("div",{className:"flex gap-2 pt-4 mt-auto",children:[c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>g(E),className:"flex-1 hover:bg-primary hover:text-primary-foreground transition-colors",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Manage Profile"]}),c.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>C(E.user_id,E.full_name||E.email||"Child"),className:"text-destructive hover:bg-destructive hover:text-destructive-foreground transition-colors",children:c.jsx(qw,{className:"w-4 h-4"})})]})]})},E.id)})})}),p&&c.jsx(GCe,{isOpen:!!p,onClose:()=>g(null),childId:p.user_id,childName:p.full_name||p.email||"Child",onUpdate:()=>{y(!0),_()}})]})},mae=({label:t="Select Pages",availablePages:e,selectedPages:r,onChange:n,disabled:i,className:s,pagesPerView:a=15,disabledPages:o=[],maxSelectable:l,onLimitExceeded:u})=>{const[d,h]=j.useState(0),f=e.length,p=Math.max(0,Math.ceil(f/a)-1),g=Math.max(0,d)*a,m=e.slice(g,g+a),v=new Set(o),x=e.filter(E=>!v.has(E));x.length>0&&x.every(E=>r.includes(E));const y=(E,P)=>{if(!v.has(E))if(P){if(l!==void 0&&!r.includes(E)&&r.length>=l){u==null||u();return}n([...new Set([...r,E])])}else n(r.filter(L=>L!==E))},w=()=>{h(E=>Math.max(0,E-1))},_=()=>{h(E=>Math.min(p,E+1))},A=r.length>0?`${r.length}${l?`/${l}`:""} selected`:"Choose pages",N=(E=>{if(!E||E.length===0)return"None";const P=[...new Set(E)].sort((D,F)=>D-F),L=[];let O=P[0],k=P[0];for(let D=1;D<P.length;D++){const F=P[D];F===k+1?k=F:(L.push(O===k?`${O}`:`${O}-${k}`),O=k=F)}return L.push(O===k?`${O}`:`${O}-${k}`),L.join(", ")})(r);return c.jsxs(zm,{children:[c.jsx(qm,{asChild:!0,children:c.jsxs(Ge,{type:"button",variant:"outline",disabled:i,className:He("justify-between",s),children:[c.jsx("span",{className:"truncate",children:t}),c.jsx("span",{className:"ml-2 text-muted-foreground",children:A})]})}),c.jsxs(Nf,{align:"start",className:"z-50 bg-background border shadow-md w-80 p-0",children:[c.jsxs("div",{className:"border-b px-3 py-2 text-xs text-muted-foreground",children:[c.jsx("span",{className:"font-medium",children:"Selected:"})," ",N]}),c.jsx(Wf,{className:"max-h-64",children:c.jsx("div",{className:"grid grid-cols-3 gap-2 p-3",children:m.map(E=>{const P=v.has(E);return c.jsxs("label",{className:He("flex items-center gap-2 text-sm",P&&"opacity-50 cursor-not-allowed"),children:[c.jsx(co,{id:`page-${E}`,checked:r.includes(E),onCheckedChange:L=>y(E,!!L),disabled:P,"aria-disabled":P}),c.jsxs("span",{children:["Page ",E]})]},E)})})}),c.jsxs("div",{className:"border-t px-3 py-2 flex items-center justify-between",children:[c.jsxs(Ge,{type:"button",variant:"ghost",size:"sm",onClick:w,onMouseDown:E=>E.preventDefault(),disabled:d===0,"aria-label":"Previous pages",children:[c.jsx(x3,{className:"h-4 w-4 mr-1"}),"Previous"]}),c.jsxs(Ge,{type:"button",variant:"ghost",size:"sm",onClick:_,onMouseDown:E=>E.preventDefault(),disabled:d>=p,"aria-label":"Next pages",children:["Next",c.jsx(eN,{className:"h-4 w-4 ml-1"})]})]})]})]})},gae=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(null);j.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0),s(null);const{data:f}=await je.auth.getUser();if(!f.user)throw new Error("Not authenticated");const{data:p,error:g}=await je.from("child_subject_assignments").select(`
          subject_parent_id,
          child_id,
          subjects_parent (
            id,
            subject_name
          )
        `).eq("parent_id",f.user.id).eq("is_current",!0);if(g)throw g;e(p||[])}catch(f){console.error("Error fetching child subjects:",f),s(f.message)}finally{n(!1)}},o=()=>[...new Set(t.map(p=>p.subject_parent_id))].map(p=>{var m;const g=t.find(v=>v.subject_parent_id===p);return{id:p,subject_name:((m=g==null?void 0:g.subjects_parent)==null?void 0:m.subject_name)||"Unknown Subject"}}),l=f=>t.filter(p=>p.child_id===f).map(p=>{var g;return{id:p.subject_parent_id,name:((g=p.subjects_parent)==null?void 0:g.subject_name)||"Unknown Subject"}}),u=()=>[...new Set(t.map(f=>f.subject_parent_id))],d=f=>t.filter(p=>p.child_id===f).map(p=>p.subject_parent_id),h=()=>{a()};return{childSubjects:t,uniqueSubjects:o(),getSubjectsForChild:l,getSubjectIds:u,getSubjectIdsForChild:d,isLoading:r,error:i,refetch:h}},vae=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(null);j.useEffect(()=>{a()},[]);const a=async()=>{try{n(!0),s(null);const{data:d}=await je.auth.getUser();if(!d.user)throw new Error("Not authenticated");const{data:h,error:f}=await je.from("child_class_assignments").select(`
          class_parent_id,
          child_id,
          classes_parent (
            id,
            class_name,
            class_key
          )
        `).eq("parent_id",d.user.id).eq("is_current",!0);if(f)throw f;e(h||[])}catch(d){console.error("Error fetching child classes:",d),s(d.message)}finally{n(!1)}},o=()=>[...new Set(t.map(h=>h.class_parent_id))].map(h=>{var p,g;const f=t.find(m=>m.class_parent_id===h);return{id:h,class_name:((p=f==null?void 0:f.classes_parent)==null?void 0:p.class_name)||"Unknown Class",class_key:((g=f==null?void 0:f.classes_parent)==null?void 0:g.class_key)||""}}),l=d=>t.filter(h=>h.child_id===d).map(h=>{var f,p;return{id:h.class_parent_id,name:((f=h.classes_parent)==null?void 0:f.class_name)||"Unknown Class",key:((p=h.classes_parent)==null?void 0:p.class_key)||""}}),u=()=>{a()};return{childClasses:t,uniqueClasses:o(),getClassesForChild:l,isLoading:r,error:i,refetch:u}};function YCe(t){return new Worker("/assets/pdf.worker-Dotjn-5V.js",{name:t==null?void 0:t.name})}var yS={};yS.d=(t,e)=>{for(var r in e)yS.o(e,r)&&!yS.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})};yS.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var gr=globalThis.pdfjsLib={};yS.d(gr,{AbortException:()=>n0,AnnotationEditorLayer:()=>_F,AnnotationEditorParamsType:()=>Vr,AnnotationEditorType:()=>Or,AnnotationEditorUIManager:()=>Zv,AnnotationLayer:()=>WPe,AnnotationMode:()=>Up,ColorPicker:()=>tk,DOMSVGFactory:()=>HB,DrawLayer:()=>jF,FeatureTest:()=>uo,GlobalWorkerOptions:()=>xf,ImageKind:()=>wT,InvalidPDFException:()=>m6,MissingPDFException:()=>AA,OPS:()=>hu,OutputScale:()=>v6,PDFDataRangeTransport:()=>yoe,PDFDateString:()=>UB,PDFWorker:()=>h1,PasswordResponses:()=>ZCe,PermissionFlag:()=>JCe,PixelsPerInch:()=>i0,RenderingCancelledException:()=>$B,TextLayer:()=>jA,TouchManager:()=>ZP,UnexpectedResponseException:()=>XP,Util:()=>Gt,VerbosityLevel:()=>pO,XfaLayer:()=>woe,build:()=>APe,createValidAbsoluteUrl:()=>nTe,fetchData:()=>xO,getDocument:()=>mPe,getFilenameFromUrl:()=>hTe,getPdfFilenameFromUrl:()=>fTe,getXfaPageViewport:()=>pTe,isDataScheme:()=>yO,isPdfFile:()=>BB,noContextMenu:()=>Yu,normalizeUnicode:()=>cTe,setLayerDimensions:()=>Jv,shadow:()=>$r,stopEvent:()=>Fl,version:()=>SPe});const Ia=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),xae=[1,0,0,1,0,0],p6=[.001,0,0,.001,0,0],XCe=1e7,hI=1.35,El={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Up={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},QCe="pdfjs_internal_editor_",Or={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Vr={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},JCe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ba={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},wT={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ls={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},l_={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},pO={ERRORS:0,WARNINGS:1,INFOS:5},hu={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},ZCe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let mO=pO.WARNINGS;function eTe(t){Number.isInteger(t)&&(mO=t)}function tTe(){return mO}function gO(t){mO>=pO.INFOS&&console.log(`Info: ${t}`)}function Mr(t){mO>=pO.WARNINGS&&console.log(`Warning: ${t}`)}function Mn(t){throw new Error(t)}function Qi(t,e){t||Mn(e)}function rTe(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function nTe(t,e=null,r=null){if(!t)return null;try{if(r&&typeof t=="string"){if(r.addDefaultProtocol&&t.startsWith("www.")){const i=t.match(/\./g);(i==null?void 0:i.length)>=2&&(t=`http://${t}`)}if(r.tryConvertEncoding)try{t=lTe(t)}catch{}}const n=e?new URL(t,e):new URL(t);if(rTe(n))return n}catch{}return null}function $r(t,e,r,n=!1){return Object.defineProperty(t,e,{value:r,enumerable:!n,configurable:!0,writable:!1}),r}const w0=function(){function e(r,n){this.message=r,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class xH extends w0{constructor(e,r){super(e,"PasswordException"),this.code=r}}class fI extends w0{constructor(e,r){super(e,"UnknownErrorException"),this.details=r}}class m6 extends w0{constructor(e){super(e,"InvalidPDFException")}}class AA extends w0{constructor(e){super(e,"MissingPDFException")}}class XP extends w0{constructor(e,r){super(e,"UnexpectedResponseException"),this.status=r}}class iTe extends w0{constructor(e){super(e,"FormatError")}}class n0 extends w0{constructor(e){super(e,"AbortException")}}function yae(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&Mn("Invalid argument for bytesToString");const e=t.length,r=8192;if(e<r)return String.fromCharCode.apply(null,t);const n=[];for(let i=0;i<e;i+=r){const s=Math.min(i+r,e),a=t.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function vO(t){typeof t!="string"&&Mn("Invalid argument for stringToBytes");const e=t.length,r=new Uint8Array(e);for(let n=0;n<e;++n)r[n]=t.charCodeAt(n)&255;return r}function sTe(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function DB(t){const e=Object.create(null);for(const[r,n]of t)e[r]=n;return e}function aTe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function oTe(){try{return new Function(""),!0}catch{return!1}}class uo{static get isLittleEndian(){return $r(this,"isLittleEndian",aTe())}static get isEvalSupported(){return $r(this,"isEvalSupported",oTe())}static get isOffscreenCanvasSupported(){return $r(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return $r(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?$r(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):$r(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,r;return $r(this,"isCSSRoundSupported",(r=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:r.call(e,"width: round(1.5px, 1px)"))}}const pI=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Lf,_T,g6;class Gt{static makeHexColor(e,r,n){return`#${pI[e]}${pI[r]}${pI[n]}`}static scaleMinMax(e,r){let n;e[0]?(e[0]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[0],r[2]*=e[0],e[3]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[3],r[3]*=e[3]):(n=r[0],r[0]=r[1],r[1]=n,n=r[2],r[2]=r[3],r[3]=n,e[1]<0&&(n=r[1],r[1]=r[3],r[3]=n),r[1]*=e[1],r[3]*=e[1],e[2]<0&&(n=r[0],r[0]=r[2],r[2]=n),r[0]*=e[2],r[2]*=e[2]),r[0]+=e[4],r[1]+=e[5],r[2]+=e[4],r[3]+=e[5]}static transform(e,r){return[e[0]*r[0]+e[2]*r[1],e[1]*r[0]+e[3]*r[1],e[0]*r[2]+e[2]*r[3],e[1]*r[2]+e[3]*r[3],e[0]*r[4]+e[2]*r[5]+e[4],e[1]*r[4]+e[3]*r[5]+e[5]]}static applyTransform(e,r){const n=e[0]*r[0]+e[1]*r[2]+r[4],i=e[0]*r[1]+e[1]*r[3]+r[5];return[n,i]}static applyInverseTransform(e,r){const n=r[0]*r[3]-r[1]*r[2],i=(e[0]*r[3]-e[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n,s=(-e[0]*r[1]+e[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[i,s]}static getAxialAlignedBoundingBox(e,r){const n=this.applyTransform(e,r),i=this.applyTransform(e.slice(2,4),r),s=this.applyTransform([e[0],e[3]],r),a=this.applyTransform([e[2],e[1]],r);return[Math.min(n[0],i[0],s[0],a[0]),Math.min(n[1],i[1],s[1],a[1]),Math.max(n[0],i[0],s[0],a[0]),Math.max(n[1],i[1],s[1],a[1])]}static inverseTransform(e){const r=e[0]*e[3]-e[1]*e[2];return[e[3]/r,-e[1]/r,-e[2]/r,e[0]/r,(e[2]*e[5]-e[4]*e[3])/r,(e[4]*e[1]-e[5]*e[0])/r]}static singularValueDecompose2dScale(e){const r=[e[0],e[2],e[1],e[3]],n=e[0]*r[0]+e[1]*r[2],i=e[0]*r[1]+e[1]*r[3],s=e[2]*r[0]+e[3]*r[2],a=e[2]*r[1]+e[3]*r[3],o=(n+a)/2,l=Math.sqrt((n+a)**2-4*(n*a-s*i))/2,u=o+l||1,d=o-l||1;return[Math.sqrt(u),Math.sqrt(d)]}static normalizeRect(e){const r=e.slice(0);return e[0]>e[2]&&(r[0]=e[2],r[2]=e[0]),e[1]>e[3]&&(r[1]=e[3],r[3]=e[1]),r}static intersect(e,r){const n=Math.max(Math.min(e[0],e[2]),Math.min(r[0],r[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(r[0],r[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(r[1],r[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(r[1],r[3]));return s>a?null:[n,s,i,a]}static bezierBoundingBox(e,r,n,i,s,a,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],r,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],r,l)):u=[Math.min(e,o),Math.min(r,l),Math.max(e,o),Math.max(r,l)],te(this,Lf,g6).call(this,e,n,s,o,r,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),u),te(this,Lf,g6).call(this,e,n,s,o,r,i,a,l,3*(-r+3*(i-a)+l),6*(r-2*i+a),3*(i-r),u),u}}Lf=new WeakSet,_T=function(e,r,n,i,s,a,o,l,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,g=h*(h*(h*e+3*u*r)+3*f*n)+p*i,m=h*(h*(h*s+3*u*a)+3*f*o)+p*l;d[0]=Math.min(d[0],g),d[1]=Math.min(d[1],m),d[2]=Math.max(d[2],g),d[3]=Math.max(d[3],m)},g6=function(e,r,n,i,s,a,o,l,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&te(this,Lf,_T).call(this,e,r,n,i,s,a,o,l,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const g=Math.sqrt(p),m=2*u;te(this,Lf,_T).call(this,e,r,n,i,s,a,o,l,(-d+g)/m,f),te(this,Lf,_T).call(this,e,r,n,i,s,a,o,l,(-d-g)/m,f)},ee(Gt,Lf);function lTe(t){return decodeURIComponent(escape(t))}let mI=null,yH=null;function cTe(t){return mI||(mI=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,yH=new Map([["","t"]])),t.replaceAll(mI,(e,r,n)=>r?r.normalize("NFKC"):yH.get(n))}function uTe(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),yae(t)}const FB="pdfjs_internal_id_";function dTe(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(yae(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(r=>{r(t(...e))})});const Lh="http://www.w3.org/2000/svg",hg=class hg{};dt(hg,"CSS",96),dt(hg,"PDF",72),dt(hg,"PDF_TO_CSS_UNITS",hg.CSS/hg.PDF);let i0=hg;async function xO(t,e="text"){if(F_(t,document.baseURI)){const r=await fetch(t);if(!r.ok)throw new Error(r.statusText);switch(e){case"arraybuffer":return r.arrayBuffer();case"blob":return r.blob();case"json":return r.json()}return r.text()}return new Promise((r,n)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":r(i.response);return}r(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class _N{constructor({viewBox:e,userUnit:r,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=r,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=r;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let g,m,v,x;d===0?(g=Math.abs(u-e[1])*n+s,m=Math.abs(l-e[0])*n+a,v=(e[3]-e[1])*n,x=(e[2]-e[0])*n):(g=Math.abs(l-e[0])*n+s,m=Math.abs(u-e[1])*n+a,v=(e[2]-e[0])*n,x=(e[3]-e[1])*n),this.transform=[d*n,h*n,f*n,p*n,g-d*n*l-f*n*u,m-h*n*l-p*n*u],this.width=v,this.height=x}get rawDims(){const{userUnit:e,viewBox:r}=this,n=r.map(i=>i*e);return $r(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:e=this.scale,rotation:r=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new _N({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,r){return Gt.applyTransform([e,r],this.transform)}convertToViewportRectangle(e){const r=Gt.applyTransform([e[0],e[1]],this.transform),n=Gt.applyTransform([e[2],e[3]],this.transform);return[r[0],r[1],n[0],n[1]]}convertToPdfPoint(e,r){return Gt.applyInverseTransform([e,r],this.transform)}}class $B extends w0{constructor(e,r=0){super(e,"RenderingCancelledException"),this.extraDelay=r}}function yO(t){const e=t.length;let r=0;for(;r<e&&t[r].trim()==="";)r++;return t.substring(r,r+5).toLowerCase()==="data:"}function BB(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function hTe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function fTe(t,e="document.pdf"){if(typeof t!="string")return e;if(yO(t))return Mr('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=r.exec(t);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class bH{constructor(){dt(this,"started",Object.create(null));dt(this,"times",[])}time(e){e in this.started&&Mr(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Mr(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let r=0;for(const{name:n}of this.times)r=Math.max(n.length,r);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(r)} ${s-i}ms
`);return e.join("")}}function F_(t,e){try{const{protocol:r}=e?new URL(t,e):new URL(t);return r==="http:"||r==="https:"}catch{return!1}}function Yu(t){t.preventDefault()}function Fl(t){t.preventDefault(),t.stopPropagation()}var S5;class UB{static toDateObject(e){if(!e||typeof e!="string")return null;b(this,S5)||G(this,S5,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const r=b(this,S5).exec(e);if(!r)return null;const n=parseInt(r[1],10);let i=parseInt(r[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(r[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(r[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(r[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(r[6],10);l=l>=0&&l<=59?l:0;const u=r[7]||"Z";let d=parseInt(r[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(r[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(a+=d,o+=h):u==="+"&&(a-=d,o-=h),new Date(Date.UTC(n,i,s,a,o,l))}}S5=new WeakMap,ee(UB,S5);function pTe(t,{scale:e=1,rotation:r=0}){const{width:n,height:i}=t.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new _N({viewBox:s,userUnit:1,scale:e,rotation:r})}function zB(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Mr(`Not a valid color format: "${t}"`),[0,0,0])}function mTe(t){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const r of t.keys()){e.style.color=r;const n=window.getComputedStyle(e).color;t.set(r,zB(n))}e.remove()}function ii(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform();return[e,r,n,i,s,a]}function cd(t){const{a:e,b:r,c:n,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,r,n,i,s,a]}function Jv(t,e,r=!1,n=!0){if(e instanceof _N){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=uo.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,h=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!r||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}n&&t.setAttribute("data-main-rotation",e.rotation)}class v6{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var Kp,Tg,mu,Pg,A5,j5,O4,bae,fo,wae,_ae,ST,Sae,y6;const zh=class zh{constructor(e){ee(this,fo);ee(this,Kp,null);ee(this,Tg,null);ee(this,mu);ee(this,Pg,null);ee(this,A5,null);G(this,mu,e),b(zh,j5)||G(zh,j5,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=G(this,Kp,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const r=b(this,mu)._uiManager._signal;e.addEventListener("contextmenu",Yu,{signal:r}),e.addEventListener("pointerdown",te(zh,O4,bae),{signal:r});const n=G(this,Pg,document.createElement("div"));n.className="buttons",e.append(n);const i=b(this,mu).toolbarPosition;if(i){const{style:s}=e,a=b(this,mu)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return te(this,fo,Sae).call(this),e}get div(){return b(this,Kp)}hide(){var e;b(this,Kp).classList.add("hidden"),(e=b(this,Tg))==null||e.hideDropdown()}show(){var e;b(this,Kp).classList.remove("hidden"),(e=b(this,A5))==null||e.shown()}async addAltText(e){const r=await e.render();te(this,fo,ST).call(this,r),b(this,Pg).prepend(r,b(this,fo,y6)),G(this,A5,e)}addColorPicker(e){G(this,Tg,e);const r=e.renderButton();te(this,fo,ST).call(this,r),b(this,Pg).prepend(r,b(this,fo,y6))}remove(){var e;b(this,Kp).remove(),(e=b(this,Tg))==null||e.destroy(),G(this,Tg,null)}};Kp=new WeakMap,Tg=new WeakMap,mu=new WeakMap,Pg=new WeakMap,A5=new WeakMap,j5=new WeakMap,O4=new WeakSet,bae=function(e){e.stopPropagation()},fo=new WeakSet,wae=function(e){b(this,mu)._focusEventsAllowed=!1,Fl(e)},_ae=function(e){b(this,mu)._focusEventsAllowed=!0,Fl(e)},ST=function(e){const r=b(this,mu)._uiManager._signal;e.addEventListener("focusin",te(this,fo,wae).bind(this),{capture:!0,signal:r}),e.addEventListener("focusout",te(this,fo,_ae).bind(this),{capture:!0,signal:r}),e.addEventListener("contextmenu",Yu,{signal:r})},Sae=function(){const{editorType:e,_uiManager:r}=b(this,mu),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",b(zh,j5)[e]),te(this,fo,ST).call(this,n),n.addEventListener("click",i=>{r.delete()},{signal:r._signal}),b(this,Pg).append(n)},y6=function(){const e=document.createElement("div");return e.className="divider",e},ee(zh,O4),ee(zh,j5,null);let x6=zh;var N5,kg,Og,d0,Aae,jae,Nae;class gTe{constructor(e){ee(this,d0);ee(this,N5,null);ee(this,kg,null);ee(this,Og);G(this,Og,e)}show(e,r,n){const[i,s]=te(this,d0,jae).call(this,r,n),{style:a}=b(this,kg)||G(this,kg,te(this,d0,Aae).call(this));e.append(b(this,kg)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){b(this,kg).remove()}}N5=new WeakMap,kg=new WeakMap,Og=new WeakMap,d0=new WeakSet,Aae=function(){const e=G(this,kg,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Yu,{signal:b(this,Og)._signal});const r=G(this,N5,document.createElement("div"));return r.className="buttons",e.append(r),te(this,d0,Nae).call(this),e},jae=function(e,r){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(r?s.width:0);if(a>n){i=o,n=a;continue}r?o>i&&(i=o):o<i&&(i=o)}return[r?1-i:i,n]},Nae=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const r=document.createElement("span");e.append(r),r.className="visuallyHidden",r.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=b(this,Og)._signal;e.addEventListener("contextmenu",Yu,{signal:n}),e.addEventListener("click",()=>{b(this,Og).highlightSelection("floating_button")},{signal:n}),b(this,N5).append(e)};function QP(t,e,r){for(const n of r)e.addEventListener(n,t[n].bind(t))}var M4;class vTe{constructor(){ee(this,M4,0)}get id(){return`${QCe}${Ns(this,M4)._++}`}}M4=new WeakMap;var $1,E5,ja,B1,AT;const oz=class oz{constructor(){ee(this,B1);ee(this,$1,uTe());ee(this,E5,0);ee(this,ja,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return $r(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:r,name:n,size:i,type:s}=e;return te(this,B1,AT).call(this,`${r}_${n}_${i}_${s}`,e)}async getFromUrl(e){return te(this,B1,AT).call(this,e,e)}async getFromBlob(e,r){const n=await r;return te(this,B1,AT).call(this,e,n)}async getFromId(e){b(this,ja)||G(this,ja,new Map);const r=b(this,ja).get(e);if(!r)return null;if(r.bitmap)return r.refCounter+=1,r;if(r.file)return this.getFromFile(r.file);if(r.blobPromise){const{blobPromise:n}=r;return delete r.blobPromise,this.getFromBlob(r.id,n)}return this.getFromUrl(r.url)}getFromCanvas(e,r){b(this,ja)||G(this,ja,new Map);let n=b(this,ja).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(r.width,r.height);return i.getContext("2d").drawImage(r,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${b(this,$1)}_${Ns(this,E5)._++}`,refCounter:1,isSvg:!1},b(this,ja).set(e,n),b(this,ja).set(n.id,n),n}getSvgUrl(e){const r=b(this,ja).get(e);return r!=null&&r.isSvg?r.svgUrl:null}deleteId(e){var i;b(this,ja)||G(this,ja,new Map);const r=b(this,ja).get(e);if(!r||(r.refCounter-=1,r.refCounter!==0))return;const{bitmap:n}=r;if(!r.url&&!r.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),r.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),r.bitmap=null}isValidId(e){return e.startsWith(`image_${b(this,$1)}_`)}};$1=new WeakMap,E5=new WeakMap,ja=new WeakMap,B1=new WeakSet,AT=async function(e,r){b(this,ja)||G(this,ja,new Map);let n=b(this,ja).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${b(this,$1)}_${Ns(this,E5)._++}`,refCounter:0,isSvg:!1});let i;if(typeof r=="string"?(n.url=r,i=await xO(r,"blob")):r instanceof File?i=n.file=r:r instanceof Blob&&(i=r),i.type==="image/svg+xml"){const s=oz._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,d)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,u()},a.onload=async()=>{const h=n.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Mr(i),n=null}return b(this,ja).set(e,n),n&&b(this,ja).set(n.id,n),n};let b6=oz;var Mi,Yp,C5,di;class xTe{constructor(e=128){ee(this,Mi,[]);ee(this,Yp,!1);ee(this,C5);ee(this,di,-1);G(this,C5,e)}add({cmd:e,undo:r,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),b(this,Yp))return;const l={cmd:e,undo:r,post:n,type:s};if(b(this,di)===-1){b(this,Mi).length>0&&(b(this,Mi).length=0),G(this,di,0),b(this,Mi).push(l);return}if(a&&b(this,Mi)[b(this,di)].type===s){o&&(l.undo=b(this,Mi)[b(this,di)].undo),b(this,Mi)[b(this,di)]=l;return}const u=b(this,di)+1;u===b(this,C5)?b(this,Mi).splice(0,1):(G(this,di,u),u<b(this,Mi).length&&b(this,Mi).splice(u)),b(this,Mi).push(l)}undo(){if(b(this,di)===-1)return;G(this,Yp,!0);const{undo:e,post:r}=b(this,Mi)[b(this,di)];e(),r==null||r(),G(this,Yp,!1),G(this,di,b(this,di)-1)}redo(){if(b(this,di)<b(this,Mi).length-1){G(this,di,b(this,di)+1),G(this,Yp,!0);const{cmd:e,post:r}=b(this,Mi)[b(this,di)];e(),r==null||r(),G(this,Yp,!1)}}hasSomethingToUndo(){return b(this,di)!==-1}hasSomethingToRedo(){return b(this,di)<b(this,Mi).length-1}cleanType(e){if(b(this,di)!==-1){for(let r=b(this,di);r>=0;r--)if(b(this,Mi)[r].type!==e){b(this,Mi).splice(r+1,b(this,di)-r),G(this,di,r);return}b(this,Mi).length=0,G(this,di,-1)}}destroy(){G(this,Mi,null)}}Mi=new WeakMap,Yp=new WeakMap,C5=new WeakMap,di=new WeakMap;var L4,Eae;class SN{constructor(e){ee(this,L4);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:r}=uo.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");r&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!r&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,r){if(!this.allKeys.has(r.key))return;const n=this.callbacks.get(te(this,L4,Eae).call(this,r));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,r)||(i.bind(e,...a,r)(),s||Fl(r))}}L4=new WeakSet,Eae=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const r=this.buffer.join("+");return this.buffer.length=0,r};const I4=class I4{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return mTe(e),$r(this,"_colors",e)}convert(e){const r=zB(e);if(!window.matchMedia("(forced-colors: active)").matches)return r;for(const[n,i]of this._colors)if(i.every((s,a)=>s===r[a]))return I4._colorsMapping.get(n);return r}getHexCode(e){const r=this._colors.get(e);return r?Gt.makeHexColor(...r):e}};dt(I4,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let w6=I4;var U1,pl,hs,Vs,z1,Vh,q1,vc,Xp,Mg,W1,Lg,_d,gu,Ig,T5,P5,H1,k5,Sd,Qp,V1,Jp,Ad,R4,Zp,O5,em,Rg,M5,L5,Es,pn,Gh,Dg,I5,R5,tm,jd,Kh,D5,xc,Nt,jT,_6,Cae,Tae,NT,Pae,kae,Oae,S6,Mae,A6,j6,Lae,Ka,Ih,Iae,Rae,N6,Dae,$_,E6;const Jy=class Jy{constructor(e,r,n,i,s,a,o,l,u,d,h,f,p){ee(this,Nt);ee(this,U1,new AbortController);ee(this,pl,null);ee(this,hs,new Map);ee(this,Vs,new Map);ee(this,z1,null);ee(this,Vh,null);ee(this,q1,null);ee(this,vc,new xTe);ee(this,Xp,null);ee(this,Mg,null);ee(this,W1,0);ee(this,Lg,new Set);ee(this,_d,null);ee(this,gu,null);ee(this,Ig,new Set);dt(this,"_editorUndoBar",null);ee(this,T5,!1);ee(this,P5,!1);ee(this,H1,!1);ee(this,k5,null);ee(this,Sd,null);ee(this,Qp,null);ee(this,V1,null);ee(this,Jp,!1);ee(this,Ad,null);ee(this,R4,new vTe);ee(this,Zp,!1);ee(this,O5,!1);ee(this,em,null);ee(this,Rg,null);ee(this,M5,null);ee(this,L5,null);ee(this,Es,Or.NONE);ee(this,pn,new Set);ee(this,Gh,null);ee(this,Dg,null);ee(this,I5,null);ee(this,R5,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ee(this,tm,[0,0]);ee(this,jd,null);ee(this,Kh,null);ee(this,D5,null);ee(this,xc,null);const g=this._signal=b(this,U1).signal;G(this,Kh,e),G(this,D5,r),G(this,z1,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:g}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),i._on("setpreference",this.onSetPreference.bind(this),{signal:g}),i._on("switchannotationeditorparams",m=>this.updateParams(m.type,m.value),{signal:g}),te(this,Nt,Pae).call(this),te(this,Nt,Lae).call(this),te(this,Nt,S6).call(this),G(this,Vh,s.annotationStorage),G(this,k5,s.filterFactory),G(this,Dg,a),G(this,V1,o||null),G(this,T5,l),G(this,P5,u),G(this,H1,d),G(this,L5,h||null),this.viewParameters={realScale:i0.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=f||null,this._supportsPinchToZoom=p!==!1}static get _keyboardManager(){const e=Jy.prototype,r=a=>b(a,Kh).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return $r(this,"_keyboardManager",new SN([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&b(a,Kh).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&b(a,Kh).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:r}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:r}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:r}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:r}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:r}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:r}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:r}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:r}]]))}destroy(){var e,r,n,i,s;(e=b(this,xc))==null||e.resolve(),G(this,xc,null),(r=b(this,U1))==null||r.abort(),G(this,U1,null),this._signal=null;for(const a of b(this,Vs).values())a.destroy();b(this,Vs).clear(),b(this,hs).clear(),b(this,Ig).clear(),G(this,pl,null),b(this,pn).clear(),b(this,vc).destroy(),(n=b(this,z1))==null||n.destroy(),(i=b(this,Ad))==null||i.hide(),G(this,Ad,null),b(this,Sd)&&(clearTimeout(b(this,Sd)),G(this,Sd,null)),b(this,jd)&&(clearTimeout(b(this,jd)),G(this,jd,null)),(s=this._editorUndoBar)==null||s.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return b(this,L5)}get useNewAltTextFlow(){return b(this,P5)}get useNewAltTextWhenAddingImage(){return b(this,H1)}get hcmFilter(){return $r(this,"hcmFilter",b(this,Dg)?b(this,k5).addHCMFilter(b(this,Dg).foreground,b(this,Dg).background):"none")}get direction(){return $r(this,"direction",getComputedStyle(b(this,Kh)).direction)}get highlightColors(){return $r(this,"highlightColors",b(this,V1)?new Map(b(this,V1).split(",").map(e=>e.split("=").map(r=>r.trim()))):null)}get highlightColorNames(){return $r(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),G(this,Mg,e)}setMainHighlightColorPicker(e){G(this,M5,e)}editAltText(e,r=!1){var n;(n=b(this,z1))==null||n.editAltText(this,e,r)}switchToMode(e,r){this._eventBus.on("annotationeditormodechanged",r,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,r){this._eventBus.dispatch("setpreference",{source:this,name:e,value:r})}onSetPreference({name:e,value:r}){switch(e){case"enableNewAltTextWhenAddingImage":G(this,H1,r);break}}onPageChanging({pageNumber:e}){G(this,W1,e-1)}focusMainContainer(){b(this,Kh).focus()}findParent(e,r){for(const n of b(this,Vs).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&r>=s&&r<=s+o)return n}return null}disableUserSelect(e=!1){b(this,D5).classList.toggle("noUserSelect",e)}addShouldRescale(e){b(this,Ig).add(e)}removeShouldRescale(e){b(this,Ig).delete(e)}onScaleChanging({scale:e}){var r;this.commitOrRemove(),this.viewParameters.realScale=e*i0.PDF_TO_CSS_UNITS;for(const n of b(this,Ig))n.onScaleChanging();(r=b(this,Mg))==null||r.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=r,o=r.toString(),u=te(this,Nt,jT).call(this,r).closest(".textLayer"),d=this.getSelectionBoxes(u);if(!d)return;r.empty();const h=te(this,Nt,_6).call(this,u),f=b(this,Es)===Or.NONE,p=()=>{h==null||h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:o}),f&&this.showAllEditors("highlight",!0,!0)};if(f){this.switchToMode(Or.HIGHLIGHT,p);return}p()}addToAnnotationStorage(e){!e.isEmpty()&&b(this,Vh)&&!b(this,Vh).has(e.id)&&b(this,Vh).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,b(this,Jp)&&(G(this,Jp,!1),te(this,Nt,NT).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const r of b(this,pn))if(r.div.contains(e)){G(this,Rg,[r,e]),r._focusEventsAllowed=!1;break}}focus(){if(!b(this,Rg))return;const[e,r]=b(this,Rg);G(this,Rg,null),r.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),r.focus()}addEditListeners(){te(this,Nt,S6).call(this),te(this,Nt,A6).call(this)}removeEditListeners(){te(this,Nt,Mae).call(this),te(this,Nt,j6).call(this)}dragOver(e){for(const{type:r}of e.dataTransfer.items)for(const n of b(this,gu))if(n.isHandlingMimeForPasting(r)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const r of e.dataTransfer.items)for(const n of b(this,gu))if(n.isHandlingMimeForPasting(r.type)){n.paste(r,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=b(this,pl))==null||n.commitOrRemove(),!this.hasSelection)return;const r=[];for(const i of b(this,pn)){const s=i.serialize(!0);s&&r.push(s)}r.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(r))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:r}=e;for(const s of r.items)for(const a of b(this,gu))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=r.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Mr(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const u=await i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)te(this,Nt,N6).call(this,l);te(this,Nt,E6).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Mr(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),b(this,Es)!==Or.NONE&&!this.isEditorHandlingKeyboard&&Jy._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,b(this,Jp)&&(G(this,Jp,!1),te(this,Nt,NT).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(te(this,Nt,kae).call(this),te(this,Nt,A6).call(this),te(this,Nt,Ka).call(this,{isEditing:b(this,Es)!==Or.NONE,isEmpty:te(this,Nt,$_).call(this),hasSomethingToUndo:b(this,vc).hasSomethingToUndo(),hasSomethingToRedo:b(this,vc).hasSomethingToRedo(),hasSelectedEditor:!1})):(te(this,Nt,Oae).call(this),te(this,Nt,j6).call(this),te(this,Nt,Ka).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!b(this,gu)){G(this,gu,e);for(const r of b(this,gu))te(this,Nt,Ih).call(this,r.defaultPropertiesToUpdate)}}getId(){return b(this,R4).id}get currentLayer(){return b(this,Vs).get(b(this,W1))}getLayer(e){return b(this,Vs).get(e)}get currentPageIndex(){return b(this,W1)}addLayer(e){b(this,Vs).set(e.pageIndex,e),b(this,Zp)?e.enable():e.disable()}removeLayer(e){b(this,Vs).delete(e.pageIndex)}async updateMode(e,r=null,n=!1){var i;if(b(this,Es)!==e&&!(b(this,xc)&&(await b(this,xc).promise,!b(this,xc)))){if(G(this,xc,Promise.withResolvers()),G(this,Es,e),e===Or.NONE){this.setEditingState(!1),te(this,Nt,Rae).call(this),(i=this._editorUndoBar)==null||i.hide(),b(this,xc).resolve();return}this.setEditingState(!0),await te(this,Nt,Iae).call(this),this.unselectAll();for(const s of b(this,Vs).values())s.updateMode(e);if(!r){n&&this.addNewEditorFromKeyboard(),b(this,xc).resolve();return}for(const s of b(this,hs).values())s.annotationElementId===r?(this.setSelected(s),s.enterInEditMode()):s.unselect();b(this,xc).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==b(this,Es)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,r){var n;if(b(this,gu)){switch(e){case Vr.CREATE:this.currentLayer.addNewEditor();return;case Vr.HIGHLIGHT_DEFAULT_COLOR:(n=b(this,M5))==null||n.updateColor(r);break;case Vr.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(b(this,I5)||G(this,I5,new Map)).set(e,r),this.showAllEditors("highlight",r);break}for(const i of b(this,pn))i.updateParams(e,r);for(const i of b(this,gu))i.updateDefaultParams(e,r)}}showAllEditors(e,r,n=!1){var s;for(const a of b(this,hs).values())a.editorType===e&&a.show(r);(((s=b(this,I5))==null?void 0:s.get(Vr.HIGHLIGHT_SHOW_ALL))??!0)!==r&&te(this,Nt,Ih).call(this,[[Vr.HIGHLIGHT_SHOW_ALL,r]])}enableWaiting(e=!1){if(b(this,O5)!==e){G(this,O5,e);for(const r of b(this,Vs).values())e?r.disableClick():r.enableClick(),r.div.classList.toggle("waiting",e)}}getEditors(e){const r=[];for(const n of b(this,hs).values())n.pageIndex===e&&r.push(n);return r}getEditor(e){return b(this,hs).get(e)}addEditor(e){b(this,hs).set(e.id,e)}removeEditor(e){var r;e.div.contains(document.activeElement)&&(b(this,Sd)&&clearTimeout(b(this,Sd)),G(this,Sd,setTimeout(()=>{this.focusMainContainer(),G(this,Sd,null)},0))),b(this,hs).delete(e.id),this.unselect(e),(!e.annotationElementId||!b(this,Lg).has(e.annotationElementId))&&((r=b(this,Vh))==null||r.remove(e.id))}addDeletedAnnotationElement(e){b(this,Lg).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return b(this,Lg).has(e)}removeDeletedAnnotationElement(e){b(this,Lg).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){b(this,pl)!==e&&(G(this,pl,e),e&&te(this,Nt,Ih).call(this,e.propertiesToUpdate))}updateUI(e){b(this,Nt,Dae)===e&&te(this,Nt,Ih).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){te(this,Nt,Ih).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(b(this,pn).has(e)){b(this,pn).delete(e),e.unselect(),te(this,Nt,Ka).call(this,{hasSelectedEditor:this.hasSelection});return}b(this,pn).add(e),e.select(),te(this,Nt,Ih).call(this,e.propertiesToUpdate),te(this,Nt,Ka).call(this,{hasSelectedEditor:!0})}setSelected(e){var r;(r=b(this,Mg))==null||r.commitOrRemove();for(const n of b(this,pn))n!==e&&n.unselect();b(this,pn).clear(),b(this,pn).add(e),e.select(),te(this,Nt,Ih).call(this,e.propertiesToUpdate),te(this,Nt,Ka).call(this,{hasSelectedEditor:!0})}isSelected(e){return b(this,pn).has(e)}get firstSelectedEditor(){return b(this,pn).values().next().value}unselect(e){e.unselect(),b(this,pn).delete(e),te(this,Nt,Ka).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return b(this,pn).size!==0}get isEnterHandled(){return b(this,pn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;b(this,vc).undo(),te(this,Nt,Ka).call(this,{hasSomethingToUndo:b(this,vc).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:te(this,Nt,$_).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){b(this,vc).redo(),te(this,Nt,Ka).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:b(this,vc).hasSomethingToRedo(),isEmpty:te(this,Nt,$_).call(this)})}addCommands(e){b(this,vc).add(e),te(this,Nt,Ka).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:te(this,Nt,$_).call(this)})}cleanUndoStack(e){b(this,vc).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const r=e?[e]:[...b(this,pn)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,r.length===1?r[0].editorType:r.length);for(const o of r)o.remove()},i=()=>{for(const a of r)te(this,Nt,N6).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=b(this,pl))==null||e.commitOrRemove()}hasSomethingToControl(){return b(this,pl)||this.hasSelection}selectAll(){for(const e of b(this,pn))e.commit();te(this,Nt,E6).call(this,b(this,hs).values())}unselectAll(){var e;if(!(b(this,pl)&&(b(this,pl).commitOrRemove(),b(this,Es)!==Or.NONE))&&!((e=b(this,Mg))!=null&&e.commitOrRemove())&&this.hasSelection){for(const r of b(this,pn))r.unselect();b(this,pn).clear(),te(this,Nt,Ka).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,r,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;b(this,tm)[0]+=e,b(this,tm)[1]+=r;const[i,s]=b(this,tm),a=[...b(this,pn)],o=1e3;b(this,jd)&&clearTimeout(b(this,jd)),G(this,jd,setTimeout(()=>{G(this,jd,null),b(this,tm)[0]=b(this,tm)[1]=0,this.addCommands({cmd:()=>{for(const l of a)b(this,hs).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of a)b(this,hs).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,r)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),G(this,_d,new Map);for(const e of b(this,pn))b(this,_d).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!b(this,_d))return!1;this.disableUserSelect(!1);const e=b(this,_d);G(this,_d,null);let r=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,r||(r=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!r)return!1;const n=(i,s,a,o)=>{if(b(this,hs).has(i.id)){const l=b(this,Vs).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,r){if(b(this,_d))for(const n of b(this,_d).keys())n.drag(e,r)}rebuild(e){if(e.parent===null){const r=this.getLayer(e.pageIndex);r?(r.changeParent(e),r.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||b(this,pn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return b(this,pl)===e}getActive(){return b(this,pl)}getMode(){return b(this,Es)}get imageManager(){return $r(this,"imageManager",new b6)}getSelectionBoxes(e){if(!e)return null;const r=document.getSelection();for(let u=0,d=r.rangeCount;u<d;u++)if(!e.contains(r.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,f)=>({x:(d-i)/a,y:1-(u+h-n)/s,width:f/a,height:h/s});break;case"180":o=(u,d,h,f)=>({x:1-(u+h-n)/s,y:1-(d+f-i)/a,width:h/s,height:f/a});break;case"270":o=(u,d,h,f)=>({x:1-(d+f-i)/a,y:(u-n)/s,width:f/a,height:h/s});break;default:o=(u,d,h,f)=>({x:(u-n)/s,y:(d-i)/a,width:h/s,height:f/a});break}const l=[];for(let u=0,d=r.rangeCount;u<d;u++){const h=r.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:g,height:m}of h.getClientRects())g===0||m===0||l.push(o(f,p,g,m))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:r}){(b(this,q1)||G(this,q1,new Map)).set(e,r)}removeChangedExistingAnnotation({annotationElementId:e}){var r;(r=b(this,q1))==null||r.delete(e)}renderAnnotationElement(e){var i;const r=(i=b(this,q1))==null?void 0:i.get(e.data.id);if(!r)return;const n=b(this,Vh).getRawValue(r);n&&(b(this,Es)===Or.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};U1=new WeakMap,pl=new WeakMap,hs=new WeakMap,Vs=new WeakMap,z1=new WeakMap,Vh=new WeakMap,q1=new WeakMap,vc=new WeakMap,Xp=new WeakMap,Mg=new WeakMap,W1=new WeakMap,Lg=new WeakMap,_d=new WeakMap,gu=new WeakMap,Ig=new WeakMap,T5=new WeakMap,P5=new WeakMap,H1=new WeakMap,k5=new WeakMap,Sd=new WeakMap,Qp=new WeakMap,V1=new WeakMap,Jp=new WeakMap,Ad=new WeakMap,R4=new WeakMap,Zp=new WeakMap,O5=new WeakMap,em=new WeakMap,Rg=new WeakMap,M5=new WeakMap,L5=new WeakMap,Es=new WeakMap,pn=new WeakMap,Gh=new WeakMap,Dg=new WeakMap,I5=new WeakMap,R5=new WeakMap,tm=new WeakMap,jd=new WeakMap,Kh=new WeakMap,D5=new WeakMap,xc=new WeakMap,Nt=new WeakSet,jT=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},_6=function(e){const{currentLayer:r}=this;if(r.hasTextLayer(e))return r;for(const n of b(this,Vs).values())if(n.hasTextLayer(e))return n;return null},Cae=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=te(this,Nt,jT).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(b(this,Ad)||G(this,Ad,new gTe(this)),b(this,Ad).show(n,i,this.direction==="ltr"))},Tae=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){b(this,Gh)&&((s=b(this,Ad))==null||s.hide(),G(this,Gh,null),te(this,Nt,Ka).call(this,{hasSelectedText:!1}));return}const{anchorNode:r}=e;if(r===b(this,Gh))return;const i=te(this,Nt,jT).call(this,e).closest(".textLayer");if(!i){b(this,Gh)&&((a=b(this,Ad))==null||a.hide(),G(this,Gh,null),te(this,Nt,Ka).call(this,{hasSelectedText:!1}));return}if((o=b(this,Ad))==null||o.hide(),G(this,Gh,r),te(this,Nt,Ka).call(this,{hasSelectedText:!0}),!(b(this,Es)!==Or.HIGHLIGHT&&b(this,Es)!==Or.NONE)&&(b(this,Es)===Or.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),G(this,Jp,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=b(this,Es)===Or.HIGHLIGHT?te(this,Nt,_6).call(this,i):null;l==null||l.toggleDrawing();const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),f.type==="pointerup"&&te(this,Nt,NT).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}},NT=function(e=""){b(this,Es)===Or.HIGHLIGHT?this.highlightSelection(e):b(this,T5)&&te(this,Nt,Cae).call(this)},Pae=function(){document.addEventListener("selectionchange",te(this,Nt,Tae).bind(this),{signal:this._signal})},kae=function(){if(b(this,Qp))return;G(this,Qp,new AbortController);const e=this.combinedSignal(b(this,Qp));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},Oae=function(){var e;(e=b(this,Qp))==null||e.abort(),G(this,Qp,null)},S6=function(){if(b(this,em))return;G(this,em,new AbortController);const e=this.combinedSignal(b(this,em));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},Mae=function(){var e;(e=b(this,em))==null||e.abort(),G(this,em,null)},A6=function(){if(b(this,Xp))return;G(this,Xp,new AbortController);const e=this.combinedSignal(b(this,Xp));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},j6=function(){var e;(e=b(this,Xp))==null||e.abort(),G(this,Xp,null)},Lae=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Ka=function(e){Object.entries(e).some(([n,i])=>b(this,R5)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(b(this,R5),e)}),b(this,Es)===Or.HIGHLIGHT&&e.hasSelectedEditor===!1&&te(this,Nt,Ih).call(this,[[Vr.HIGHLIGHT_FREE,!0]]))},Ih=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},Iae=async function(){if(!b(this,Zp)){G(this,Zp,!0);const e=[];for(const r of b(this,Vs).values())e.push(r.enable());await Promise.all(e);for(const r of b(this,hs).values())r.enable()}},Rae=function(){if(this.unselectAll(),b(this,Zp)){G(this,Zp,!1);for(const e of b(this,Vs).values())e.disable();for(const e of b(this,hs).values())e.disable()}},N6=function(e){const r=b(this,Vs).get(e.pageIndex);r?r.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},Dae=function(){let e=null;for(e of b(this,pn));return e},$_=function(){if(b(this,hs).size===0)return!0;if(b(this,hs).size===1)for(const e of b(this,hs).values())return e.isEmpty();return!1},E6=function(e){for(const r of b(this,pn))r.unselect();b(this,pn).clear();for(const r of e)r.isEmpty()||(b(this,pn).add(r),r.select());te(this,Nt,Ka).call(this,{hasSelectedEditor:this.hasSelection})},dt(Jy,"TRANSLATE_SMALL",1),dt(Jy,"TRANSLATE_BIG",10);let Zv=Jy;var Cs,Nd,vu,G1,Ed,ml,K1,Cd,ko,Yh,Fg,Td,rm,Ru,B_,ET;const Ya=class Ya{constructor(e){ee(this,Ru);ee(this,Cs,null);ee(this,Nd,!1);ee(this,vu,null);ee(this,G1,null);ee(this,Ed,null);ee(this,ml,null);ee(this,K1,!1);ee(this,Cd,null);ee(this,ko,null);ee(this,Yh,null);ee(this,Fg,null);ee(this,Td,!1);G(this,ko,e),G(this,Td,e._uiManager.useNewAltTextFlow),b(Ya,rm)||G(Ya,rm,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ya._l10n??(Ya._l10n=e)}async render(){const e=G(this,vu,document.createElement("button"));e.className="altText",e.tabIndex="0";const r=G(this,G1,document.createElement("span"));e.append(r),b(this,Td)?(e.classList.add("new"),e.setAttribute("data-l10n-id",b(Ya,rm).missing),r.setAttribute("data-l10n-id",b(Ya,rm)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=b(this,ko)._uiManager._signal;e.addEventListener("contextmenu",Yu,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),b(this,ko)._uiManager.editAltText(b(this,ko)),b(this,Td)&&b(this,ko)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:b(this,Ru,B_)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(G(this,K1,!0),i(s))},{signal:n}),await te(this,Ru,ET).call(this),e}finish(){b(this,vu)&&(b(this,vu).focus({focusVisible:b(this,K1)}),G(this,K1,!1))}isEmpty(){return b(this,Td)?b(this,Cs)===null:!b(this,Cs)&&!b(this,Nd)}hasData(){return b(this,Td)?b(this,Cs)!==null||!!b(this,Yh):this.isEmpty()}get guessedText(){return b(this,Yh)}async setGuessedText(e){b(this,Cs)===null&&(G(this,Yh,e),G(this,Fg,await Ya._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),te(this,Ru,ET).call(this))}toggleAltTextBadge(e=!1){var r;if(!b(this,Td)||b(this,Cs)){(r=b(this,Cd))==null||r.remove(),G(this,Cd,null);return}if(!b(this,Cd)){const n=G(this,Cd,document.createElement("div"));n.className="noAltTextBadge",b(this,ko).div.append(n)}b(this,Cd).classList.toggle("hidden",!e)}serialize(e){let r=b(this,Cs);return!e&&b(this,Yh)===r&&(r=b(this,Fg)),{altText:r,decorative:b(this,Nd),guessedText:b(this,Yh),textWithDisclaimer:b(this,Fg)}}get data(){return{altText:b(this,Cs),decorative:b(this,Nd)}}set data({altText:e,decorative:r,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(G(this,Yh,n),G(this,Fg,i)),!(b(this,Cs)===e&&b(this,Nd)===r)&&(s||(G(this,Cs,e),G(this,Nd,r)),te(this,Ru,ET).call(this))}toggle(e=!1){b(this,vu)&&(!e&&b(this,ml)&&(clearTimeout(b(this,ml)),G(this,ml,null)),b(this,vu).disabled=!e)}shown(){b(this,ko)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:b(this,Ru,B_)}})}destroy(){var e,r;(e=b(this,vu))==null||e.remove(),G(this,vu,null),G(this,G1,null),G(this,Ed,null),(r=b(this,Cd))==null||r.remove(),G(this,Cd,null)}};Cs=new WeakMap,Nd=new WeakMap,vu=new WeakMap,G1=new WeakMap,Ed=new WeakMap,ml=new WeakMap,K1=new WeakMap,Cd=new WeakMap,ko=new WeakMap,Yh=new WeakMap,Fg=new WeakMap,Td=new WeakMap,rm=new WeakMap,Ru=new WeakSet,B_=function(){return b(this,Cs)&&"added"||b(this,Cs)===null&&this.guessedText&&"review"||"missing"},ET=async function(){var i,s,a;const e=b(this,vu);if(!e)return;if(b(this,Td)){if(e.classList.toggle("done",!!b(this,Cs)),e.setAttribute("data-l10n-id",b(Ya,rm)[b(this,Ru,B_)]),(i=b(this,G1))==null||i.setAttribute("data-l10n-id",b(Ya,rm)[`${b(this,Ru,B_)}-label`]),!b(this,Cs)){(s=b(this,Ed))==null||s.remove();return}}else{if(!b(this,Cs)&&!b(this,Nd)){e.classList.remove("done"),(a=b(this,Ed))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let r=b(this,Ed);if(!r){G(this,Ed,r=document.createElement("span")),r.className="tooltip",r.setAttribute("role","tooltip"),r.id=`alt-text-tooltip-${b(this,ko).id}`;const o=100,l=b(this,ko)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(b(this,ml)),G(this,ml,null)},{once:!0}),e.addEventListener("mouseenter",()=>{G(this,ml,setTimeout(()=>{G(this,ml,null),b(this,Ed).classList.add("show"),b(this,ko)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;b(this,ml)&&(clearTimeout(b(this,ml)),G(this,ml,null)),(u=b(this,Ed))==null||u.classList.remove("show")},{signal:l})}b(this,Nd)?r.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(r.removeAttribute("data-l10n-id"),r.textContent=b(this,Cs)),r.parentNode||e.append(r);const n=b(this,ko).getImageForAltText();n==null||n.setAttribute("aria-describedby",r.id)},ee(Ya,rm,null),dt(Ya,"_l10n",null);let JP=Ya;var F5,$g,$5,B5,U5,z5,q5,Y1,Xh,Bg,nm,Jf,Fae,$ae,C6;const lz=class lz{constructor({container:e,isPinchingDisabled:r=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){ee(this,Jf);ee(this,F5);ee(this,$g,!1);ee(this,$5,null);ee(this,B5);ee(this,U5);ee(this,z5);ee(this,q5);ee(this,Y1);ee(this,Xh,null);ee(this,Bg);ee(this,nm,null);G(this,F5,e),G(this,$5,n),G(this,B5,r),G(this,U5,i),G(this,z5,s),G(this,q5,a),G(this,Bg,new AbortController),G(this,Y1,AbortSignal.any([o,b(this,Bg).signal])),e.addEventListener("touchstart",te(this,Jf,Fae).bind(this),{passive:!1,signal:b(this,Y1)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return $r(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=b(this,Bg))==null||e.abort(),G(this,Bg,null)}};F5=new WeakMap,$g=new WeakMap,$5=new WeakMap,B5=new WeakMap,U5=new WeakMap,z5=new WeakMap,q5=new WeakMap,Y1=new WeakMap,Xh=new WeakMap,Bg=new WeakMap,nm=new WeakMap,Jf=new WeakSet,Fae=function(e){var i,s,a;if((i=b(this,B5))!=null&&i.call(this)||e.touches.length<2)return;if(!b(this,nm)){G(this,nm,new AbortController);const o=AbortSignal.any([b(this,Y1),b(this,nm).signal]),l=b(this,F5),u={signal:o,passive:!1};l.addEventListener("touchmove",te(this,Jf,$ae).bind(this),u),l.addEventListener("touchend",te(this,Jf,C6).bind(this),u),l.addEventListener("touchcancel",te(this,Jf,C6).bind(this),u),(s=b(this,U5))==null||s.call(this)}if(Fl(e),e.touches.length!==2||(a=b(this,$5))!=null&&a.call(this)){G(this,Xh,null);return}let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]),G(this,Xh,{touch0X:r.screenX,touch0Y:r.screenY,touch1X:n.screenX,touch1Y:n.screenY})},$ae=function(e){var _;if(!b(this,Xh)||e.touches.length!==2)return;let[r,n]=e.touches;r.identifier>n.identifier&&([r,n]=[n,r]);const{screenX:i,screenY:s}=r,{screenX:a,screenY:o}=n,l=b(this,Xh),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=l,p=h-u,g=f-d,m=a-i,v=o-s,x=Math.hypot(m,v)||1,y=Math.hypot(p,g)||1;if(!b(this,$g)&&Math.abs(y-x)<=lz.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,e.preventDefault(),!b(this,$g)){G(this,$g,!0);return}const w=[(i+a)/2,(s+o)/2];(_=b(this,z5))==null||_.call(this,w,y,x)},C6=function(e){var r;b(this,nm).abort(),G(this,nm,null),(r=b(this,q5))==null||r.call(this),b(this,Xh)&&(e.preventDefault(),G(this,Xh,null),G(this,$g,!1))};let ZP=lz;var Ug,xu,Qn,X1,im,W5,zg,Gs,qg,Qh,sm,H5,Wg,gl,V5,Hg,Jh,Pd,Q1,J1,yc,Vg,G5,D4,nr,T6,K5,P6,CT,Bae,Uae,k6,TT,O6,zae,qae,Wae,M6,Hae,L6,Vae,Gae,Kae,I6,U_;const Lr=class Lr{constructor(e){ee(this,nr);ee(this,Ug,null);ee(this,xu,null);ee(this,Qn,null);ee(this,X1,!1);ee(this,im,null);ee(this,W5,"");ee(this,zg,!1);ee(this,Gs,null);ee(this,qg,null);ee(this,Qh,null);ee(this,sm,null);ee(this,H5,"");ee(this,Wg,!1);ee(this,gl,null);ee(this,V5,!1);ee(this,Hg,!1);ee(this,Jh,!1);ee(this,Pd,null);ee(this,Q1,0);ee(this,J1,0);ee(this,yc,null);ee(this,Vg,null);dt(this,"_editToolbar",null);dt(this,"_initialOptions",Object.create(null));dt(this,"_initialData",null);dt(this,"_isVisible",!0);dt(this,"_uiManager",null);dt(this,"_focusEventsAllowed",!0);ee(this,G5,!1);ee(this,D4,Lr._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:r,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=r,this.pageRotation=(360+r-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Lr.prototype._resizeWithKeyboard,r=Zv.TRANSLATE_SMALL,n=Zv.TRANSLATE_BIG;return $r(this,"_resizerKeyboardManager",new SN([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-r,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[r,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-r]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,r]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Lr.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return $r(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const r=new yTe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});r.annotationElementId=e.annotationElementId,r.deleted=!0,r._uiManager.addToAnnotationStorage(r)}static initialize(e,r){if(Lr._l10n??(Lr._l10n=e),Lr._l10nResizer||(Lr._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Lr._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Lr._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,r){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,r){Mn("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return b(this,G5)}set _isDraggable(e){var r;G(this,G5,e),(r=this.div)==null||r.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,r]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*r/(e*2),this.y+=this.width*e/(r*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*r/(e*2),this.y-=this.width*e/(r*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=b(this,D4)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):te(this,nr,U_).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(b(this,Wg)?G(this,Wg,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const r=e.relatedTarget;r!=null&&r.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,r,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(r+i)/a,this.fixAndSetPosition()}translate(e,r){te(this,nr,T6).call(this,this.parentDimensions,e,r)}translateInPage(e,r){b(this,gl)||G(this,gl,[this.x,this.y,this.width,this.height]),te(this,nr,T6).call(this,this.pageDimensions,e,r),this.div.scrollIntoView({block:"nearest"})}drag(e,r){b(this,gl)||G(this,gl,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=r/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:d}=n;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,r){}_onTranslated(e,r){}get _hasBeenMoved(){return!!b(this,gl)&&(b(this,gl)[0]!==this.x||b(this,gl)[1]!==this.y)}get _hasBeenResized(){return!!b(this,gl)&&(b(this,gl)[2]!==this.width||b(this,gl)[3]!==this.height)}getBaseTranslation(){const[e,r]=this.parentDimensions,{_borderLineWidth:n}=Lr,i=n/e,s=n/r;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:r},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(n-o,s)),a=Math.max(0,Math.min(i-l,a));break;case 90:s=Math.max(0,Math.min(n-l,s)),a=Math.min(i,Math.max(o,a));break;case 180:s=Math.min(n,Math.max(o,s)),a=Math.min(i,Math.max(l,a));break;case 270:s=Math.min(n,Math.max(l,s)),a=Math.max(0,Math.min(i-o,a));break}this.x=s/=n,this.y=a/=i;const[u,d]=this.getBaseTranslation();s+=u,a+=d,r.left=`${(100*s).toFixed(2)}%`,r.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,r){var n;return te(n=Lr,K5,P6).call(n,e,r,this.parentRotation)}pageTranslationToScreen(e,r){var n;return te(n=Lr,K5,P6).call(n,e,r,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[r,n]}=this;return[r*e,n*e]}setDims(e,r){const[n,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/n).toFixed(2)}%`,b(this,zg)||(s.height=`${(100*r/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:r,width:n}=e,i=n.endsWith("%"),s=!b(this,zg)&&r.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!b(this,zg)&&!s&&(e.height=`${(100*parseFloat(r)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=b(this,Qn))==null||e.finish()}async addEditToolbar(){return this._editToolbar||b(this,Hg)?this._editToolbar:(this._editToolbar=new x6(this),this.div.append(this._editToolbar.render()),b(this,Qn)&&await this._editToolbar.addAltText(b(this,Qn)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=b(this,Qn))==null||e.destroy())}addContainer(e){var n;const r=(n=this._editToolbar)==null?void 0:n.div;r?r.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){b(this,Qn)||(JP.initialize(Lr._l10n),G(this,Qn,new JP(this)),b(this,Ug)&&(b(this,Qn).data=b(this,Ug),G(this,Ug,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=b(this,Qn))==null?void 0:e.data}set altTextData(e){b(this,Qn)&&(b(this,Qn).data=e)}get guessedAltText(){var e;return(e=b(this,Qn))==null?void 0:e.guessedText}async setGuessedAltText(e){var r;await((r=b(this,Qn))==null?void 0:r.setGuessedText(e))}serializeAltText(e){var r;return(r=b(this,Qn))==null?void 0:r.serialize(e)}hasAltText(){return!!b(this,Qn)&&!b(this,Qn).isEmpty()}hasAltTextData(){var e;return((e=b(this,Qn))==null?void 0:e.hasData())??!1}render(){var s;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=b(this,X1)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),te(this,nr,L6).call(this);const[e,r]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*r/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/r).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),QP(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(b(this,Vg)||G(this,Vg,new ZP({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:te(this,nr,zae).bind(this),onPinching:te(this,nr,qae).bind(this),onPinchEnd:te(this,nr,Wae).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),this.div}pointerdown(e){const{isMac:r}=uo.platform;if(e.button!==0||e.ctrlKey&&r){e.preventDefault();return}if(G(this,Wg,!0),this._isDraggable){te(this,nr,Hae).call(this,e);return}te(this,nr,M6).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){b(this,Pd)&&clearTimeout(b(this,Pd)),G(this,Pd,setTimeout(()=>{var e;G(this,Pd,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,r,n){e.changeParent(this),this.x=r,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,r,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,d=r/i,h=this.x*s,f=this.y*a,p=this.width*s,g=this.height*a;switch(n){case 0:return[h+u+o,a-f-d-g+l,h+u+p+o,a-f-d+l];case 90:return[h+d+o,a-f+u+l,h+d+g+o,a-f+u+p+l];case 180:return[h-u-p+o,a-f+d+l,h-u+o,a-f+d+g+l];case 270:return[h-d-g+o,a-f-u-p+l,h-d+o,a-f-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,r){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,r-a,o,l];case 90:return[n,r-i,l,o];case 180:return[s,r-i,o,l];case 270:return[s,r-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){G(this,Hg,!0)}disableEditMode(){G(this,Hg,!1)}isInEditMode(){return b(this,Hg)}shouldGetKeyboardEvents(){return b(this,Jh)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:r,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return r<a&&i>0&&e<s&&n>0}rebuild(){te(this,nr,L6).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,r=null){Mn("An editor must be serializable")}static async deserialize(e,r,n){const i=new this.prototype.constructor({parent:r,id:r.getNextId(),uiManager:n});i.rotation=e.rotation,G(i,Ug,e.accessibilityData);const[s,a]=i.pageDimensions,[o,l,u,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,r;if((e=b(this,sm))==null||e.abort(),G(this,sm,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),b(this,Pd)&&(clearTimeout(b(this,Pd)),G(this,Pd,null)),te(this,nr,U_).call(this),this.removeEditToolbar(),b(this,yc)){for(const n of b(this,yc).values())clearTimeout(n);G(this,yc,null)}this.parent=null,(r=b(this,Vg))==null||r.destroy(),G(this,Vg,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(te(this,nr,Bae).call(this),b(this,Gs).classList.remove("hidden"),QP(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),G(this,Qh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const r=b(this,Gs).children;if(!b(this,xu)){G(this,xu,Array.from(r));const a=te(this,nr,Vae).bind(this),o=te(this,nr,Gae).bind(this),l=this._uiManager._signal;for(const u of b(this,xu)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",te(this,nr,Kae).bind(this,d),{signal:l}),u.setAttribute("data-l10n-id",Lr._l10nResizer[d])}}const n=b(this,xu)[0];let i=0;for(const a of r){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(b(this,xu).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)b(this,Gs).append(b(this,Gs).firstChild);else if(s>i)for(let o=0;o<s-i;o++)b(this,Gs).firstChild.before(b(this,Gs).lastChild);let a=0;for(const o of r){const u=b(this,xu)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Lr._l10nResizer[u])}}te(this,nr,I6).call(this,0),G(this,Jh,!0),b(this,Gs).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,r){b(this,Jh)&&te(this,nr,O6).call(this,b(this,H5),{deltaX:e,deltaY:r,fromKeyboard:!0})}_stopResizingWithKeyboard(){te(this,nr,U_).call(this),this.div.focus()}select(){var e,r,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(r=this._editToolbar)==null||r.show(),(n=b(this,Qn))==null||n.toggleAltTextBadge(!1)}unselect(){var e,r,n,i,s;(e=b(this,Gs))==null||e.classList.add("hidden"),(r=this.div)==null||r.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=b(this,Qn))==null||s.toggleAltTextBadge(!0)}updateParams(e,r){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return b(this,V5)}set isEditing(e){G(this,V5,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,r){G(this,zg,!0);const n=e/r,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,r=!1){if(r){b(this,yc)||G(this,yc,new Map);const{action:n}=e;let i=b(this,yc).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),b(this,yc).delete(n),b(this,yc).size===0&&G(this,yc,null)},Lr._telemetryTimeout),b(this,yc).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),G(this,X1,!1)}disable(){this.div&&(this.div.tabIndex=-1),G(this,X1,!0)}renderAnnotationElement(e){let r=e.container.querySelector(".annotationContent");if(!r)r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),e.container.prepend(r);else if(r.nodeName==="CANVAS"){const n=r;r=document.createElement("div"),r.classList.add("annotationContent",this.editorType),n.before(r)}return r}resetAnnotationElement(e){const{firstChild:r}=e.container;(r==null?void 0:r.nodeName)==="DIV"&&r.classList.contains("annotationContent")&&r.remove()}};Ug=new WeakMap,xu=new WeakMap,Qn=new WeakMap,X1=new WeakMap,im=new WeakMap,W5=new WeakMap,zg=new WeakMap,Gs=new WeakMap,qg=new WeakMap,Qh=new WeakMap,sm=new WeakMap,H5=new WeakMap,Wg=new WeakMap,gl=new WeakMap,V5=new WeakMap,Hg=new WeakMap,Jh=new WeakMap,Pd=new WeakMap,Q1=new WeakMap,J1=new WeakMap,yc=new WeakMap,Vg=new WeakMap,G5=new WeakMap,D4=new WeakMap,nr=new WeakSet,T6=function([e,r],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/r,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},K5=new WeakSet,P6=function(e,r,n){switch(n){case 90:return[r,-e];case 180:return[-e,-r];case 270:return[-r,e];default:return[e,r]}},CT=function(e){switch(e){case 90:{const[r,n]=this.pageDimensions;return[0,-r/n,n/r,0]}case 180:return[-1,0,0,-1];case 270:{const[r,n]=this.pageDimensions;return[0,r/n,-n/r,0]}default:return[1,0,0,1]}},Bae=function(){if(b(this,Gs))return;G(this,Gs,document.createElement("div")),b(this,Gs).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],r=this._uiManager._signal;for(const n of e){const i=document.createElement("div");b(this,Gs).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",te(this,nr,Uae).bind(this,n),{signal:r}),i.addEventListener("contextmenu",Yu,{signal:r}),i.tabIndex=-1}this.div.prepend(b(this,Gs))},Uae=function(e,r){var d;r.preventDefault();const{isMac:n}=uo.platform;if(r.button!==0||r.ctrlKey&&n)return;(d=b(this,Qn))==null||d.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,G(this,qg,[r.screenX,r.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",te(this,nr,O6).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Fl,{passive:!1,signal:a}),window.addEventListener("contextmenu",Yu,{signal:a}),G(this,Qh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(r.target).cursor;const u=()=>{var h;s.abort(),this.parent.togglePointerEvents(!0),(h=b(this,Qn))==null||h.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,te(this,nr,TT).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},k6=function(e,r,n,i){this.width=n,this.height=i,this.x=e,this.y=r;const[s,a]=this.parentDimensions;this.setDims(s*n,a*i),this.fixAndSetPosition(),this._onResized()},TT=function(){if(!b(this,Qh))return;const{savedX:e,savedY:r,savedWidth:n,savedHeight:i}=b(this,Qh);G(this,Qh,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===r&&o===n&&l===i||this.addCommands({cmd:te(this,nr,k6).bind(this,s,a,o,l),undo:te(this,nr,k6).bind(this,e,r,n,i),mustExec:!0})},O6=function(e,r){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=Lr.MIN_SIZE/n,d=Lr.MIN_SIZE/i,h=te(this,nr,CT).call(this,this.rotation),f=(U,H)=>[h[0]*U+h[2]*H,h[1]*U+h[3]*H],p=te(this,nr,CT).call(this,360-this.rotation),g=(U,H)=>[p[0]*U+p[2]*H,p[1]*U+p[3]*H];let m,v,x=!1,y=!1;switch(e){case"topLeft":x=!0,m=(U,H)=>[0,0],v=(U,H)=>[U,H];break;case"topMiddle":m=(U,H)=>[U/2,0],v=(U,H)=>[U/2,H];break;case"topRight":x=!0,m=(U,H)=>[U,0],v=(U,H)=>[0,H];break;case"middleRight":y=!0,m=(U,H)=>[U,H/2],v=(U,H)=>[0,H/2];break;case"bottomRight":x=!0,m=(U,H)=>[U,H],v=(U,H)=>[0,0];break;case"bottomMiddle":m=(U,H)=>[U/2,H],v=(U,H)=>[U/2,0];break;case"bottomLeft":x=!0,m=(U,H)=>[0,H],v=(U,H)=>[U,0];break;case"middleLeft":y=!0,m=(U,H)=>[0,H/2],v=(U,H)=>[U,H/2];break}const w=m(o,l),_=v(o,l);let A=f(..._);const C=Lr._round(s+A[0]),N=Lr._round(a+A[1]);let E=1,P=1,L,O;if(r.fromKeyboard)({deltaX:L,deltaY:O}=r);else{const{screenX:U,screenY:H}=r,[B,X]=b(this,qg);[L,O]=this.screenToPageTranslation(U-B,H-X),b(this,qg)[0]=U,b(this,qg)[1]=H}if([L,O]=g(L/n,O/i),x){const U=Math.hypot(o,l);E=P=Math.max(Math.min(Math.hypot(_[0]-w[0]-L,_[1]-w[1]-O)/U,1/o,1/l),u/o,d/l)}else y?E=Math.max(u,Math.min(1,Math.abs(_[0]-w[0]-L)))/o:P=Math.max(d,Math.min(1,Math.abs(_[1]-w[1]-O)))/l;const k=Lr._round(o*E),D=Lr._round(l*P);A=f(...v(k,D));const F=C-A[0],z=N-A[1];b(this,gl)||G(this,gl,[this.x,this.y,this.width,this.height]),this.width=k,this.height=D,this.x=F,this.y=z,this.setDims(n*k,i*D),this.fixAndSetPosition(),this._onResizing()},zae=function(){var e;G(this,Qh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=b(this,Qn))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},qae=function(e,r,n){let s=.7*(n/r)+1-.7;if(s===1)return;const a=te(this,nr,CT).call(this,this.rotation),o=(C,N)=>[a[0]*C+a[2]*N,a[1]*C+a[3]*N],[l,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,g=Lr.MIN_SIZE/l,m=Lr.MIN_SIZE/u;s=Math.max(Math.min(s,1/f,1/p),g/f,m/p);const v=Lr._round(f*s),x=Lr._round(p*s);if(v===f&&x===p)return;b(this,gl)||G(this,gl,[d,h,f,p]);const y=o(f/2,p/2),w=Lr._round(d+y[0]),_=Lr._round(h+y[1]),A=o(v/2,x/2);this.x=w-A[0],this.y=_-A[1],this.width=v,this.height=x,this.setDims(l*v,u*x),this.fixAndSetPosition(),this._onResizing()},Wae=function(){var e;(e=b(this,Qn))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),te(this,nr,TT).call(this)},M6=function(e){const{isMac:r}=uo.platform;e.ctrlKey&&!r||e.shiftKey||e.metaKey&&r?this.parent.toggleSelected(this):this.parent.setSelected(this)},Hae=function(e){const{isSelected:r}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),G(this,im,null),G(this,Wg,!1),this._uiManager.endDragSession()||te(this,nr,M6).call(this,u),n&&this._onStopDragging()};r&&(G(this,Q1,e.clientX),G(this,J1,e.clientY),G(this,im,e.pointerId),G(this,W5,e.pointerType),window.addEventListener("pointermove",u=>{n||(n=!0,this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==b(this,im)){Fl(u);return}const[p,g]=this.screenToPageTranslation(d-b(this,Q1),h-b(this,J1));G(this,Q1,d),G(this,J1,h),this._uiManager.dragSelectedEditors(p,g)},a),window.addEventListener("touchmove",Fl,a),window.addEventListener("pointerdown",u=>{u.pointerType===b(this,W5)&&(b(this,Vg)||u.isPrimary)&&o(u),Fl(u)},a));const l=u=>{if(!b(this,im)||b(this,im)===u.pointerId){o(u);return}Fl(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},L6=function(){if(b(this,sm)||!this.div)return;G(this,sm,new AbortController);const e=this._uiManager.combinedSignal(b(this,sm));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},Vae=function(e){Lr._resizerKeyboardManager.exec(this,e)},Gae=function(e){var r;b(this,Jh)&&((r=e.relatedTarget)==null?void 0:r.parentNode)!==b(this,Gs)&&te(this,nr,U_).call(this)},Kae=function(e){G(this,H5,b(this,Jh)?e:"")},I6=function(e){if(b(this,xu))for(const r of b(this,xu))r.tabIndex=e},U_=function(){G(this,Jh,!1),te(this,nr,I6).call(this,-1),te(this,nr,TT).call(this)},ee(Lr,K5),dt(Lr,"_l10n",null),dt(Lr,"_l10nResizer",null),dt(Lr,"_borderLineWidth",-1),dt(Lr,"_colorManager",new w6),dt(Lr,"_zIndex",1),dt(Lr,"_telemetryTimeout",1e3);let pi=Lr;class yTe extends pi{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const wH=3285377520,uc=4294901760,ud=65535;class Yae{constructor(e){this.h1=e?e&4294967295:wH,this.h2=e?e&4294967295:wH}update(e){let r,n;if(typeof e=="string"){r=new Uint8Array(e.length*2),n=0;for(let m=0,v=e.length;m<v;m++){const x=e.charCodeAt(m);x<=255?r[n++]=x:(r[n++]=x>>>8,r[n++]=x&255)}}else if(ArrayBuffer.isView(e))r=e.slice(),n=r.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(r.buffer,0,i);let o=0,l=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&ud,g=f&ud;for(let m=0;m<i;m++)m&1?(o=a[m],o=o*h&uc|o*p&ud,o=o<<15|o>>>17,o=o*f&uc|o*g&ud,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[m],l=l*h&uc|l*p&ud,l=l<<15|l>>>17,l=l*f&uc|l*g&ud,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=r[i*4+2]<<16;case 2:o^=r[i*4+1]<<8;case 1:o^=r[i*4],o=o*h&uc|o*p&ud,o=o<<15|o>>>17,o=o*f&uc|o*g&ud,i&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,r=this.h2;return e^=r>>>1,e=e*3981806797&uc|e*36045&ud,r=r*4283543511&uc|((r<<16|e>>>16)*2950163797&uc)>>>16,e^=r>>>1,e=e*444984403&uc|e*60499&ud,r=r*3301882366&uc|((r<<16|e>>>16)*3120437893&uc)>>>16,e^=r>>>1,(e>>>0).toString(16).padStart(8,"0")+(r>>>0).toString(16).padStart(8,"0")}}const R6=Object.freeze({map:null,hash:"",transfer:void 0});var Gg,Kg,Ts,F4,Xae;class qB{constructor(){ee(this,F4);ee(this,Gg,!1);ee(this,Kg,null);ee(this,Ts,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,r){const n=b(this,Ts).get(e);return n===void 0?r:Object.assign(r,n)}getRawValue(e){return b(this,Ts).get(e)}remove(e){if(b(this,Ts).delete(e),b(this,Ts).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const r of b(this,Ts).values())if(r instanceof pi)return;this.onAnnotationEditor(null)}}setValue(e,r){const n=b(this,Ts).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(r))n[s]!==a&&(i=!0,n[s]=a);else i=!0,b(this,Ts).set(e,r);i&&te(this,F4,Xae).call(this),r instanceof pi&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(r.constructor._type)}has(e){return b(this,Ts).has(e)}getAll(){return b(this,Ts).size>0?DB(b(this,Ts)):null}setAll(e){for(const[r,n]of Object.entries(e))this.setValue(r,n)}get size(){return b(this,Ts).size}resetModified(){b(this,Gg)&&(G(this,Gg,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Qae(this)}get serializable(){if(b(this,Ts).size===0)return R6;const e=new Map,r=new Yae,n=[],i=Object.create(null);let s=!1;for(const[a,o]of b(this,Ts)){const l=o instanceof pi?o.serialize(!1,i):o;l&&(e.set(a,l),r.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:r.hexdigest(),transfer:n}:R6}get editorStats(){let e=null;const r=new Map;for(const n of b(this,Ts).values()){if(!(n instanceof pi))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;r.has(s)||r.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const d=u.get(l)??0;u.set(l,d+1)}}for(const[n,i]of r)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){G(this,Kg,null)}get modifiedIds(){if(b(this,Kg))return b(this,Kg);const e=[];for(const r of b(this,Ts).values())!(r instanceof pi)||!r.annotationElementId||!r.serialize()||e.push(r.annotationElementId);return G(this,Kg,{ids:new Set(e),hash:e.join(",")})}}Gg=new WeakMap,Kg=new WeakMap,Ts=new WeakMap,F4=new WeakSet,Xae=function(){b(this,Gg)||(G(this,Gg,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Y5;class Qae extends qB{constructor(r){super();ee(this,Y5);const{map:n,hash:i,transfer:s}=r.serializable,a=structuredClone(n,s?{transfer:s}:null);G(this,Y5,{map:a,hash:i,transfer:s})}get print(){Mn("Should not call PrintAnnotationStorage.print")}get serializable(){return b(this,Y5)}get modifiedIds(){return $r(this,"modifiedIds",{ids:new Set,hash:""})}}Y5=new WeakMap;var Z1;class bTe{constructor({ownerDocument:e=globalThis.document,styleElement:r=null}){ee(this,Z1,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const r=this.styleElement.sheet;r.insertRule(e,r.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),b(this,Z1).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:r}){if(!(!e||b(this,Z1).has(e.loadedName))){if(Qi(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:s}=e,a=new FontFace(n,i,s);this.addNativeFontFace(a);try{await a.load(),b(this,Z1).add(n),r==null||r(e)}catch{Mr(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}Mn("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Mr(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const r=e.createFontFaceRule();if(r){if(this.insertRule(r),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var r;const e=!!((r=this._document)!=null&&r.fonts);return $r(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(Ia||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),$r(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function r(){for(Qi(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:r,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return $r(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,r){function n(_,A){return _.charCodeAt(A)<<24|_.charCodeAt(A+1)<<16|_.charCodeAt(A+2)<<8|_.charCodeAt(A+3)&255}function i(_,A,C,N){const E=_.substring(0,A),P=_.substring(A+C);return E+N+P}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function d(_,A){if(++u>30){Mr("Load test font never loaded."),A();return}if(l.font="30px "+_,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){A();return}setTimeout(d.bind(null,_,A))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=i(f,976,h.length,h);const g=16,m=1482184792;let v=n(f,g);for(s=0,a=h.length-3;s<a;s+=4)v=v-m+n(h,s)|0;s<h.length&&(v=v-m+n(h+"XXX",s)|0),f=i(f,g,4,sTe(v));const x=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${h}";src:${x}}`;this.insertRule(y);const w=this._document.createElement("div");w.style.visibility="hidden",w.style.width=w.style.height="10px",w.style.position="absolute",w.style.top=w.style.left="0px";for(const _ of[e.loadedName,h]){const A=this._document.createElement("span");A.textContent="Hi",A.style.fontFamily=_,w.append(A)}this._document.body.append(w),d(h,()=>{w.remove(),r.complete()})}}Z1=new WeakMap;class wTe{constructor(e,{disableFontFace:r=!1,fontExtraProperties:n=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=r===!0,this.fontExtraProperties=n===!0,this._inspectFont=i}createNativeFontFace(){var r;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(r=this._inspectFont)==null||r.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${dTe(this.data)});`;let r;if(!this.cssFontInfo)r=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),r=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),r}getPathGenerator(e,r){if(this.compiledGlyphs[r]!==void 0)return this.compiledGlyphs[r];const n=this.loadedName+"_path_"+r;let i;try{i=e.get(n)}catch(a){Mr(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[r]=s}}const uC={DATA:1,ERROR:2},Gi={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _H(){}function To(t){if(t instanceof n0||t instanceof m6||t instanceof AA||t instanceof xH||t instanceof XP||t instanceof fI)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Mn('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new n0(t.message);case"InvalidPDFException":return new m6(t.message);case"MissingPDFException":return new AA(t.message);case"PasswordException":return new xH(t.message,t.code);case"UnexpectedResponseException":return new XP(t.message,t.status);case"UnknownErrorException":return new fI(t.message,t.details)}return new fI(t.message,t.toString())}var eb,Fc,Jae,Zae,eoe,PT;class z_{constructor(e,r,n){ee(this,Fc);ee(this,eb,new AbortController);this.sourceName=e,this.targetName=r,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",te(this,Fc,Jae).bind(this),{signal:b(this,eb).signal})}on(e,r){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=r}send(e,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:r},n)}sendWithPromise(e,r,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:r},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,r,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:r,desiredSize:u.desiredSize},i),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:Gi.PULL,streamId:s,desiredSize:u.desiredSize}),d.promise},cancel:u=>{Qi(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:Gi.CANCEL,streamId:s,reason:To(u)}),d.promise}},n)}destroy(){var e;(e=b(this,eb))==null||e.abort(),G(this,eb,null)}}eb=new WeakMap,Fc=new WeakSet,Jae=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){te(this,Fc,eoe).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===uC.DATA)i.resolve(e.data);else if(e.callback===uC.ERROR)i.reject(To(e.reason));else throw new Error("Unexpected callback case");return}const r=this.actionHandler[e.action];if(!r)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(r,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:uC.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:uC.ERROR,callbackId:e.callbackId,reason:To(a)})});return}if(e.streamId){te(this,Fc,Zae).call(this,e);return}r(e.data)},Zae=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:Gi.ENQUEUE,streamId:r,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Gi.CLOSE,streamId:r}),delete a.streamSinks[r])},error(u){Qi(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:Gi.ERROR,streamId:r,reason:To(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[r]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Gi.START_COMPLETE,streamId:r,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:Gi.START_COMPLETE,streamId:r,reason:To(u)})})},eoe=function(e){const r=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[r],o=this.streamSinks[r];switch(e.stream){case Gi.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(To(e.reason));break;case Gi.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(To(e.reason));break;case Gi.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:Gi.PULL_COMPLETE,streamId:r,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||_H).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Gi.PULL_COMPLETE,streamId:r,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:Gi.PULL_COMPLETE,streamId:r,reason:To(u)})});break;case Gi.ENQUEUE:if(Qi(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Gi.CLOSE:if(Qi(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),te(this,Fc,PT).call(this,a,r);break;case Gi.ERROR:Qi(a,"error should have stream controller"),a.controller.error(To(e.reason)),te(this,Fc,PT).call(this,a,r);break;case Gi.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(To(e.reason)),te(this,Fc,PT).call(this,a,r);break;case Gi.CANCEL:if(!o)break;const l=To(e.reason);Promise.try(o.onCancel||_H,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:Gi.CANCEL_COMPLETE,streamId:r,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:Gi.CANCEL_COMPLETE,streamId:r,reason:To(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}},PT=async function(e,r){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[r]};var X5;class toe{constructor({enableHWA:e=!1}){ee(this,X5,!1);G(this,X5,e)}create(e,r){if(e<=0||r<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,r);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!b(this,X5)})}}reset(e,r,n){if(!e.canvas)throw new Error("Canvas is not specified");if(r<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=r,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,r){Mn("Abstract method `_createCanvas` called.")}}X5=new WeakMap;class _Te extends toe{constructor({ownerDocument:e=globalThis.document,enableHWA:r=!1}){super({enableHWA:r}),this._document=e}_createCanvas(e,r){const n=this._document.createElement("canvas");return n.width=e,n.height=r,n}}class roe{constructor({baseUrl:e=null,isCompressed:r=!0}){this.baseUrl=e,this.isCompressed=r}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const r=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(r).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${r}`)})}async _fetch(e){Mn("Abstract method `_fetch` called.")}}class noe extends roe{async _fetch(e){const r=await xO(e,this.isCompressed?"arraybuffer":"text");return r instanceof ArrayBuffer?new Uint8Array(r):vO(r)}}class ioe{addFilter(e){return"none"}addHCMFilter(e,r){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,r,n,i,s){return"none"}destroy(e=!1){}}var Yg,tb,Zh,ef,Na,Xg,Qg,It,wa,q_,wy,kT,_y,soe,D6,Sy,W_,H_,F6,V_;class STe extends ioe{constructor({docId:r,ownerDocument:n=globalThis.document}){super();ee(this,It);ee(this,Yg);ee(this,tb);ee(this,Zh);ee(this,ef);ee(this,Na);ee(this,Xg);ee(this,Qg,0);G(this,ef,r),G(this,Na,n)}addFilter(r){if(!r)return"none";let n=b(this,It,wa).get(r);if(n)return n;const[i,s,a]=te(this,It,kT).call(this,r),o=r.length===1?i:`${i}${s}${a}`;if(n=b(this,It,wa).get(o),n)return b(this,It,wa).set(r,n),n;const l=`g_${b(this,ef)}_transfer_map_${Ns(this,Qg)._++}`,u=te(this,It,_y).call(this,l);b(this,It,wa).set(r,u),b(this,It,wa).set(o,u);const d=te(this,It,Sy).call(this,l);return te(this,It,H_).call(this,i,s,a,d),u}addHCMFilter(r,n){var g;const i=`${r}-${n}`,s="base";let a=b(this,It,q_).get(s);if((a==null?void 0:a.key)===i||(a?((g=a.filter)==null||g.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},b(this,It,q_).set(s,a)),!r||!n))return a.url;const o=te(this,It,V_).call(this,r);r=Gt.makeHexColor(...o);const l=te(this,It,V_).call(this,n);if(n=Gt.makeHexColor(...l),b(this,It,wy).style.color="",r==="#000000"&&n==="#ffffff"||r===n)return a.url;const u=new Array(256);for(let m=0;m<=255;m++){const v=m/255;u[m]=v<=.03928?v/12.92:((v+.055)/1.055)**2.4}const d=u.join(","),h=`g_${b(this,ef)}_hcm_filter`,f=a.filter=te(this,It,Sy).call(this,h);te(this,It,H_).call(this,d,d,d,f),te(this,It,D6).call(this,f);const p=(m,v)=>{const x=o[m]/255,y=l[m]/255,w=new Array(v+1);for(let _=0;_<=v;_++)w[_]=x+_/v*(y-x);return w.join(",")};return te(this,It,H_).call(this,p(0,5),p(1,5),p(2,5),f),a.url=te(this,It,_y).call(this,h),a.url}addAlphaFilter(r){let n=b(this,It,wa).get(r);if(n)return n;const[i]=te(this,It,kT).call(this,[r]),s=`alpha_${i}`;if(n=b(this,It,wa).get(s),n)return b(this,It,wa).set(r,n),n;const a=`g_${b(this,ef)}_alpha_map_${Ns(this,Qg)._++}`,o=te(this,It,_y).call(this,a);b(this,It,wa).set(r,o),b(this,It,wa).set(s,o);const l=te(this,It,Sy).call(this,a);return te(this,It,F6).call(this,i,l),o}addLuminosityFilter(r){let n=b(this,It,wa).get(r||"luminosity");if(n)return n;let i,s;if(r?([i]=te(this,It,kT).call(this,[r]),s=`luminosity_${i}`):s="luminosity",n=b(this,It,wa).get(s),n)return b(this,It,wa).set(r,n),n;const a=`g_${b(this,ef)}_luminosity_map_${Ns(this,Qg)._++}`,o=te(this,It,_y).call(this,a);b(this,It,wa).set(r,o),b(this,It,wa).set(s,o);const l=te(this,It,Sy).call(this,a);return te(this,It,soe).call(this,l),r&&te(this,It,F6).call(this,i,l),o}addHighlightHCMFilter(r,n,i,s,a){var y;const o=`${n}-${i}-${s}-${a}`;let l=b(this,It,q_).get(r);if((l==null?void 0:l.key)===o||(l?((y=l.filter)==null||y.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},b(this,It,q_).set(r,l)),!n||!i))return l.url;const[u,d]=[n,i].map(te(this,It,V_).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,g]=[s,a].map(te(this,It,V_).bind(this));f<h&&([h,f,p,g]=[f,h,g,p]),b(this,It,wy).style.color="";const m=(w,_,A)=>{const C=new Array(256),N=(f-h)/A,E=w/255,P=(_-w)/(255*A);let L=0;for(let O=0;O<=A;O++){const k=Math.round(h+O*N),D=E+O*P;for(let F=L;F<=k;F++)C[F]=D;L=k+1}for(let O=L;O<256;O++)C[O]=C[L-1];return C.join(",")},v=`g_${b(this,ef)}_hcm_${r}_filter`,x=l.filter=te(this,It,Sy).call(this,v);return te(this,It,D6).call(this,x),te(this,It,H_).call(this,m(p[0],g[0],5),m(p[1],g[1],5),m(p[2],g[2],5),x),l.url=te(this,It,_y).call(this,v),l.url}destroy(r=!1){var n,i,s,a;r&&((n=b(this,Xg))!=null&&n.size)||((i=b(this,Zh))==null||i.parentNode.parentNode.remove(),G(this,Zh,null),(s=b(this,tb))==null||s.clear(),G(this,tb,null),(a=b(this,Xg))==null||a.clear(),G(this,Xg,null),G(this,Qg,0))}}Yg=new WeakMap,tb=new WeakMap,Zh=new WeakMap,ef=new WeakMap,Na=new WeakMap,Xg=new WeakMap,Qg=new WeakMap,It=new WeakSet,wa=function(){return b(this,tb)||G(this,tb,new Map)},q_=function(){return b(this,Xg)||G(this,Xg,new Map)},wy=function(){if(!b(this,Zh)){const r=b(this,Na).createElement("div"),{style:n}=r;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=b(this,Na).createElementNS(Lh,"svg");i.setAttribute("width",0),i.setAttribute("height",0),G(this,Zh,b(this,Na).createElementNS(Lh,"defs")),r.append(i),i.append(b(this,Zh)),b(this,Na).body.append(r)}return b(this,Zh)},kT=function(r){if(r.length===1){const u=r[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[n,i,s]=r,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=n[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},_y=function(r){if(b(this,Yg)===void 0){G(this,Yg,"");const n=b(this,Na).URL;n!==b(this,Na).baseURI&&(yO(n)?Mr('#createUrl: ignore "data:"-URL for performance reasons.'):G(this,Yg,n.split("#",1)[0]))}return`url(${b(this,Yg)}#${r})`},soe=function(r){const n=b(this,Na).createElementNS(Lh,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),r.append(n)},D6=function(r){const n=b(this,Na).createElementNS(Lh,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),r.append(n)},Sy=function(r){const n=b(this,Na).createElementNS(Lh,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",r),b(this,It,wy).append(n),n},W_=function(r,n,i){const s=b(this,Na).createElementNS(Lh,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),r.append(s)},H_=function(r,n,i,s){const a=b(this,Na).createElementNS(Lh,"feComponentTransfer");s.append(a),te(this,It,W_).call(this,a,"feFuncR",r),te(this,It,W_).call(this,a,"feFuncG",n),te(this,It,W_).call(this,a,"feFuncB",i)},F6=function(r,n){const i=b(this,Na).createElementNS(Lh,"feComponentTransfer");n.append(i),te(this,It,W_).call(this,i,"feFuncA",r)},V_=function(r){return b(this,It,wy).style.color=r,zB(getComputedStyle(b(this,It,wy)).getPropertyValue("color"))};class aoe{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const r=`${this.baseUrl}${e}`;return this._fetch(r).catch(n=>{throw new Error(`Unable to load font data at: ${r}`)})}async _fetch(e){Mn("Abstract method `_fetch` called.")}}class ooe extends aoe{async _fetch(e){const r=await xO(e,"arraybuffer");return new Uint8Array(r)}}Ia&&Mr("Please use the `legacy` build in Node.js environments.");async function loe(t){const r=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(r)}class ATe extends ioe{}class jTe extends toe{_createCanvas(e,r){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,r)}}class NTe extends roe{async _fetch(e){return loe(e)}}class ETe extends aoe{async _fetch(e){return loe(e)}}const ka={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function $6(t,e){if(!e)return;const r=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],r,n),t.clip(i)}class WB{getPattern(){Mn("Abstract method `getPattern` called.")}}class CTe extends WB{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let r;this._type==="axial"?r=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(r=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)r.addColorStop(n[0],n[1]);return r}getPattern(e,r,n,i){let s;if(i===ka.STROKE||i===ka.FILL){const a=r.current.getClippedPathBoundingBox(i,ii(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=r.cachedCanvases.getCanvas("pattern",o,l),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),n=Gt.transform(n,[1,0,0,1,a[0],a[1]]),d.transform(...r.baseTransform),this.matrix&&d.transform(...this.matrix),$6(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(n);s.setTransform(h)}else $6(e,this._bbox),s=this._createGradient(e);return s}}function gI(t,e,r,n,i,s,a,o){const l=e.coords,u=e.colors,d=t.data,h=t.width*4;let f;l[r+1]>l[n+1]&&(f=r,r=n,n=f,f=s,s=a,a=f),l[n+1]>l[i+1]&&(f=n,n=i,i=f,f=a,a=o,o=f),l[r+1]>l[n+1]&&(f=r,r=n,n=f,f=s,s=a,a=f);const p=(l[r]+e.offsetX)*e.scaleX,g=(l[r+1]+e.offsetY)*e.scaleY,m=(l[n]+e.offsetX)*e.scaleX,v=(l[n+1]+e.offsetY)*e.scaleY,x=(l[i]+e.offsetX)*e.scaleX,y=(l[i+1]+e.offsetY)*e.scaleY;if(g>=y)return;const w=u[s],_=u[s+1],A=u[s+2],C=u[a],N=u[a+1],E=u[a+2],P=u[o],L=u[o+1],O=u[o+2],k=Math.round(g),D=Math.round(y);let F,z,U,H,B,X,ne,fe;for(let I=k;I<=D;I++){if(I<v){const ae=I<g?0:(g-I)/(g-v);F=p-(p-m)*ae,z=w-(w-C)*ae,U=_-(_-N)*ae,H=A-(A-E)*ae}else{let ae;I>y?ae=1:v===y?ae=0:ae=(v-I)/(v-y),F=m-(m-x)*ae,z=C-(C-P)*ae,U=N-(N-L)*ae,H=E-(E-O)*ae}let q;I<g?q=0:I>y?q=1:q=(g-I)/(g-y),B=p-(p-x)*q,X=w-(w-P)*q,ne=_-(_-L)*q,fe=A-(A-O)*q;const V=Math.round(Math.min(F,B)),K=Math.round(Math.max(F,B));let Y=h*I+V*4;for(let ae=V;ae<=K;ae++)q=(F-ae)/(F-B),q<0?q=0:q>1&&(q=1),d[Y++]=z-(z-X)*q|0,d[Y++]=U-(U-ne)*q|0,d[Y++]=H-(H-fe)*q|0,d[Y++]=255}}function TTe(t,e,r){const n=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,u=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<u;h++,d++)gI(t,r,n[d],n[d+1],n[d+o],i[d],i[d+1],i[d+o]),gI(t,r,n[d+o+1],n[d+1],n[d+o],i[d+o+1],i[d+1],i[d+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)gI(t,r,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class PTe extends WB{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,r,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,g=d/f,m={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/p,scaleY:1/g},v=h+2*2,x=f+2*2,y=n.getCanvas("mesh",v,x),w=y.context,_=w.createImageData(h,f);if(r){const C=_.data;for(let N=0,E=C.length;N<E;N+=4)C[N]=r[0],C[N+1]=r[1],C[N+2]=r[2],C[N+3]=255}for(const C of this._figures)TTe(_,C,m);return w.putImageData(_,2,2),{canvas:y.canvas,offsetX:o-2*p,offsetY:l-2*g,scaleX:p,scaleY:g}}getPattern(e,r,n,i){$6(e,this._bbox);let s;if(i===ka.SHADING)s=Gt.singularValueDecompose2dScale(ii(e));else if(s=Gt.singularValueDecompose2dScale(r.baseTransform),this.matrix){const o=Gt.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===ka.SHADING?null:this._background,r.cachedCanvases);return i!==ka.SHADING&&(e.setTransform(...r.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class kTe extends WB{getPattern(){return"hotpink"}}function OTe(t){switch(t[0]){case"RadialAxial":return new CTe(t);case"Mesh":return new PTe(t);case"Dummy":return new kTe}throw new Error(`Unknown IR type: ${t[0]}`)}const SH={COLORED:1,UNCOLORED:2},$4=class $4{constructor(e,r,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=r,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:r,operatorList:n,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),gO("TilingType: "+s);const d=r[0],h=r[1],f=r[2],p=r[3],g=f-d,m=p-h,v=Gt.singularValueDecompose2dScale(this.matrix),x=Gt.singularValueDecompose2dScale(this.baseTransform),y=v[0]*x[0],w=v[1]*x[1];let _=g,A=m,C=!1,N=!1;const E=Math.ceil(l*y),P=Math.ceil(u*w),L=Math.ceil(g*y),O=Math.ceil(m*w);E>=L?_=l:C=!0,P>=O?A=u:N=!0;const k=this.getSizeAndScale(_,this.ctx.canvas.width,y),D=this.getSizeAndScale(A,this.ctx.canvas.height,w),F=e.cachedCanvases.getCanvas("pattern",k.size,D.size),z=F.context,U=o.createCanvasGraphics(z);if(U.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(U,i,a),z.translate(-k.scale*d,-D.scale*h),U.transform(k.scale,0,0,D.scale,0,0),z.save(),this.clipBbox(U,d,h,f,p),U.baseTransform=ii(U.ctx),U.executeOperatorList(n),U.endDrawing(),z.restore(),C||N){const H=F.canvas;C&&(_=l),N&&(A=u);const B=this.getSizeAndScale(_,this.ctx.canvas.width,y),X=this.getSizeAndScale(A,this.ctx.canvas.height,w),ne=B.size,fe=X.size,I=e.cachedCanvases.getCanvas("pattern-workaround",ne,fe),q=I.context,V=C?Math.floor(g/l):0,K=N?Math.floor(m/u):0;for(let Y=0;Y<=V;Y++)for(let ae=0;ae<=K;ae++)q.drawImage(H,ne*Y,fe*ae,ne,fe,0,0,ne,fe);return{canvas:I.canvas,scaleX:B.scale,scaleY:X.scale,offsetX:d,offsetY:h}}return{canvas:F.canvas,scaleX:k.scale,scaleY:D.scale,offsetX:d,offsetY:h}}getSizeAndScale(e,r,n){const i=Math.max($4.MAX_PATTERN_SIZE,r);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,r,n,i,s){const a=i-r,o=s-n;e.ctx.rect(r,n,a,o),e.current.updateRectMinMax(ii(e.ctx),[r,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,r,n){const i=e.ctx,s=e.current;switch(r){case SH.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case SH.UNCOLORED:const o=Gt.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new iTe(`Unsupported paint type: ${r}`)}}getPattern(e,r,n,i){let s=n;i!==ka.SHADING&&(s=Gt.transform(s,r.baseTransform),this.matrix&&(s=Gt.transform(s,this.matrix)));const a=this.createPatternCanvas(r);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};dt($4,"MAX_PATTERN_SIZE",3e3);let B6=$4;function MTe({src:t,srcPos:e=0,dest:r,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=uo.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],d=n>>3,h=n&7,f=t.length;r=new Uint32Array(r.buffer);let p=0;for(let g=0;g<i;g++){for(const v=e+d;e<v;e++){const x=e<f?t[e]:255;r[p++]=x&128?u:l,r[p++]=x&64?u:l,r[p++]=x&32?u:l,r[p++]=x&16?u:l,r[p++]=x&8?u:l,r[p++]=x&4?u:l,r[p++]=x&2?u:l,r[p++]=x&1?u:l}if(h===0)continue;const m=e<f?t[e++]:255;for(let v=0;v<h;v++)r[p++]=m&1<<7-v?u:l}return{srcPos:e,destPos:p}}const AH=16,jH=100,LTe=15,NH=10,EH=1e3,Lo=16;function ITe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},t.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},t.transform=function(n,i,s,a,o,l){e.transform(n,i,s,a,o,l),this.__originalTransform(n,i,s,a,o,l)},t.setTransform=function(n,i,s,a,o,l){e.setTransform(n,i,s,a,o,l),this.__originalSetTransform(n,i,s,a,o,l)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(r,n){e.moveTo(r,n),this.__originalMoveTo(r,n)},t.lineTo=function(r,n){e.lineTo(r,n),this.__originalLineTo(r,n)},t.bezierCurveTo=function(r,n,i,s,a,o){e.bezierCurveTo(r,n,i,s,a,o),this.__originalBezierCurveTo(r,n,i,s,a,o)},t.rect=function(r,n,i,s){e.rect(r,n,i,s),this.__originalRect(r,n,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class RTe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,r,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,r,n)):(i=this.canvasFactory.create(r,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const r=this.cache[e];this.canvasFactory.destroy(r),delete this.cache[e]}}}function dC(t,e,r,n,i,s,a,o,l,u){const[d,h,f,p,g,m]=ii(t);if(h===0&&f===0){const y=a*d+g,w=Math.round(y),_=o*p+m,A=Math.round(_),C=(a+l)*d+g,N=Math.abs(Math.round(C)-w)||1,E=(o+u)*p+m,P=Math.abs(Math.round(E)-A)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(p),w,A),t.drawImage(e,r,n,i,s,0,0,N,P),t.setTransform(d,h,f,p,g,m),[N,P]}if(d===0&&p===0){const y=o*f+g,w=Math.round(y),_=a*h+m,A=Math.round(_),C=(o+u)*f+g,N=Math.abs(Math.round(C)-w)||1,E=(a+l)*h+m,P=Math.abs(Math.round(E)-A)||1;return t.setTransform(0,Math.sign(h),Math.sign(f),0,w,A),t.drawImage(e,r,n,i,s,0,0,P,N),t.setTransform(d,h,f,p,g,m),[P,N]}t.drawImage(e,r,n,i,s,a,o,l,u);const v=Math.hypot(d,h),x=Math.hypot(f,p);return[v*l,x*u]}function DTe(t){const{width:e,height:r}=t;if(e>EH||r>EH)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(r+1)),o,l,u;const d=e+7&-8;let h=new Uint8Array(d*r),f=0;for(const x of t.data){let y=128;for(;y>0;)h[f++]=x&y?0:255,y>>=1}let p=0;for(f=0,h[f]!==0&&(a[0]=1,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(a[l]=h[f]?2:1,++p),f++;for(h[f]!==0&&(a[l]=2,++p),o=1;o<r;o++){f=o*d,u=o*s,h[f-d]!==h[f]&&(a[u]=h[f]?1:8,++p);let x=(h[f]?4:0)+(h[f-d]?8:0);for(l=1;l<e;l++)x=(x>>2)+(h[f+1]?4:0)+(h[f-d+1]?8:0),i[x]&&(a[u+l]=i[x],++p),f++;if(h[f-d]!==h[f]&&(a[u+l]=h[f]?2:4,++p),p>n)return null}for(f=d*(r-1),u=o*s,h[f]!==0&&(a[u]=8,++p),l=1;l<e;l++)h[f]!==h[f+1]&&(a[u+l]=h[f]?4:8,++p),f++;if(h[f]!==0&&(a[u+l]=4,++p),p>n)return null;const g=new Int32Array([0,s,-1,0,-s,0,0,0,1]),m=new Path2D;for(o=0;p&&o<=r;o++){let x=o*s;const y=x+e;for(;x<y&&!a[x];)x++;if(x===y)continue;m.moveTo(x%s,o);const w=x;let _=a[x];do{const A=g[_];do x+=A;while(!a[x]);const C=a[x];C!==5&&C!==10?(_=C,a[x]=0):(_=C&51*_>>4,a[x]&=_>>2|_<<2),m.lineTo(x%s,x/s|0),a[x]||--p}while(w!==x);--o}return h=null,a=null,function(x){x.save(),x.scale(1/e,-1/r),x.translate(0,-r),x.fill(m),x.beginPath(),x.restore()}}class CH{constructor(e,r){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=xae,this.textMatrixScale=1,this.fontMatrix=p6,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ba.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,r])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,r){this.x=e,this.y=r}updatePathMinMax(e,r,n){[r,n]=Gt.applyTransform([r,n],e),this.minX=Math.min(this.minX,r),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,r),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,r){const n=Gt.applyTransform(r,e),i=Gt.applyTransform(r.slice(2),e),s=Gt.applyTransform([r[0],r[3]],e),a=Gt.applyTransform([r[2],r[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,r){Gt.scaleMinMax(e,r),this.minX=Math.min(this.minX,r[0]),this.minY=Math.min(this.minY,r[1]),this.maxX=Math.max(this.maxX,r[2]),this.maxY=Math.max(this.maxY,r[3])}updateCurvePathMinMax(e,r,n,i,s,a,o,l,u,d){const h=Gt.bezierBoundingBox(r,n,i,s,a,o,l,u,d);d||this.updateRectMinMax(e,h)}getPathBoundingBox(e=ka.FILL,r=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===ka.STROKE){r||Mn("Stroke bounding box must include transform.");const i=Gt.singularValueDecompose2dScale(r),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;n[0]-=s,n[1]-=a,n[2]+=s,n[3]+=a}return n}updateClipFromPath(){const e=Gt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ka.FILL,r=null){return Gt.intersect(this.clipBox,this.getPathBoundingBox(e,r))}}function TH(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const r=e.height,n=e.width,i=r%Lo,s=(r-i)/Lo,a=i===0?s:s+1,o=t.createImageData(n,Lo);let l=0,u;const d=e.data,h=o.data;let f,p,g,m;if(e.kind===wT.GRAYSCALE_1BPP){const v=d.byteLength,x=new Uint32Array(h.buffer,0,h.byteLength>>2),y=x.length,w=n+7>>3,_=4294967295,A=uo.isLittleEndian?4278190080:255;for(f=0;f<a;f++){for(g=f<s?Lo:i,u=0,p=0;p<g;p++){const C=v-l;let N=0;const E=C>w?n:C*8-7,P=E&-8;let L=0,O=0;for(;N<P;N+=8)O=d[l++],x[u++]=O&128?_:A,x[u++]=O&64?_:A,x[u++]=O&32?_:A,x[u++]=O&16?_:A,x[u++]=O&8?_:A,x[u++]=O&4?_:A,x[u++]=O&2?_:A,x[u++]=O&1?_:A;for(;N<E;N++)L===0&&(O=d[l++],L=128),x[u++]=O&L?_:A,L>>=1}for(;u<y;)x[u++]=0;t.putImageData(o,0,f*Lo)}}else if(e.kind===wT.RGBA_32BPP){for(p=0,m=n*Lo*4,f=0;f<s;f++)h.set(d.subarray(l,l+m)),l+=m,t.putImageData(o,0,p),p+=Lo;f<a&&(m=n*i*4,h.set(d.subarray(l,l+m)),t.putImageData(o,0,p))}else if(e.kind===wT.RGB_24BPP)for(g=Lo,m=n*g,f=0;f<a;f++){for(f>=s&&(g=i,m=n*g),u=0,p=m;p--;)h[u++]=d[l++],h[u++]=d[l++],h[u++]=d[l++],h[u++]=255;t.putImageData(o,0,f*Lo)}else throw new Error(`bad image kind: ${e.kind}`)}function PH(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const r=e.height,n=e.width,i=r%Lo,s=(r-i)/Lo,a=i===0?s:s+1,o=t.createImageData(n,Lo);let l=0;const u=e.data,d=o.data;for(let h=0;h<a;h++){const f=h<s?Lo:i;({srcPos:l}=MTe({src:u,srcPos:l,dest:d,width:n,height:f,nonBlackColor:0})),t.putImageData(o,0,h*Lo)}}function c_(t,e){const r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of r)t[n]!==void 0&&(e[n]=t[n]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function hC(t){if(t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0),!Ia){const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}}function kH(t,e){if(e)return!0;const r=Gt.singularValueDecompose2dScale(t);r[0]=Math.fround(r[0]),r[1]=Math.fround(r[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*i0.PDF_TO_CSS_UNITS);return r[0]<=n&&r[1]<=n}const FTe=["butt","round","square"],$Te=["miter","round","bevel"],BTe={},OH={};var Qu,U6,z6,q6;const cz=class cz{constructor(e,r,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u){ee(this,Qu);this.ctx=e,this.current=new CH(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=r,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new RTe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,r=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):r}beginDrawing({transform:e,viewport:r,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...ii(this.compositeCtx))}this.ctx.save(),hC(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...r.transform),this.viewportScale=r.scale,this.baseTransform=ii(this.ctx)}executeOperatorList(e,r,n,i){const s=e.argsArray,a=e.fnArray;let o=r||0;const l=s.length;if(l===o)return o;const u=l-o>NH&&typeof n=="function",d=u?Date.now()+LTe:0;let h=0;const f=this.commonObjs,p=this.objs;let g;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(g=a[o],g!==hu.dependency)this[g].apply(this,s[o]);else for(const m of s[o]){const v=m.startsWith("g_")?f:p;if(!v.has(m))return v.get(m,n),o}if(o++,o===l)return o;if(u&&++h>NH){if(Date.now()>d)return n(),o;h=0}}}endDrawing(){te(this,Qu,U6).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const r of e.values())typeof HTMLCanvasElement<"u"&&r instanceof HTMLCanvasElement&&(r.width=r.height=0);e.clear()}this._cachedBitmapsMap.clear(),te(this,Qu,z6).call(this)}_scaleImage(e,r){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(r[0],r[1]),1),a=Math.max(Math.hypot(r[2],r[3]),1),o=n,l=i,u="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let f=o,p=l;s>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/f),a>2&&l>1&&(p=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,o,l,0,0,f,p),e=d.canvas,o=f,l=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const r=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=ii(r);let l,u,d,h;if((e.bitmap||e.data)&&e.count>1){const E=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(E),l||(l=new Map,this._cachedBitmapsMap.set(E,l));const P=l.get(u);if(P&&!a){const L=Math.round(Math.min(o[0],o[2])+o[4]),O=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:P,offsetX:L,offsetY:O}}d=P}d||(h=this.cachedCanvases.getCanvas("maskCanvas",n,i),PH(h.context,e));let f=Gt.transform(o,[1/n,0,0,-1/i,0,0]);f=Gt.transform(f,[1,0,0,1,0,-i]);const[p,g,m,v]=Gt.getAxialAlignedBoundingBox([0,0,n,i],f),x=Math.round(m-p)||1,y=Math.round(v-g)||1,w=this.cachedCanvases.getCanvas("fillCanvas",x,y),_=w.context,A=p,C=g;_.translate(-A,-C),_.transform(...f),d||(d=this._scaleImage(h.canvas,cd(_)),d=d.img,l&&a&&l.set(u,d)),_.imageSmoothingEnabled=kH(ii(_),e.interpolate),dC(_,d,0,0,d.width,d.height,0,0,n,i),_.globalCompositeOperation="source-in";const N=Gt.transform(cd(_),[1,0,0,1,-A,-C]);return _.fillStyle=a?s.getPattern(r,this,N,ka.FILL):s,_.fillRect(0,0,n,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,w.canvas)),{canvas:w.canvas,offsetX:Math.round(A),offsetY:Math.round(C)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=FTe[e]}setLineJoin(e){this.ctx.lineJoin=$Te[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,r){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=r)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[r,n]of e)switch(r){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,r=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,r);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...ii(this.suspendedCtx)),c_(this.suspendedCtx,s),ITe(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),c_(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const r=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,r,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,r,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(r.context,n,o,l,r.subtype,r.backdrop,r.transferMap,s,a,r.offsetX,r.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,r,n,i,s,a,o,l,u,d,h){let f=e.canvas,p=l-d,g=u-h;if(a){const v=Gt.makeHexColor(...a);if(p<0||g<0||p+n>f.width||g+i>f.height){const x=this.cachedCanvases.getCanvas("maskExtension",n,i),y=x.context;y.drawImage(f,-p,-g),y.globalCompositeOperation="destination-atop",y.fillStyle=v,y.fillRect(0,0,n,i),y.globalCompositeOperation="source-over",f=x.canvas,p=g=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const x=new Path2D;x.rect(p,g,n,i),e.clip(x),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(p,g,n,i),e.restore()}}r.save(),r.globalAlpha=1,r.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?r.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(r.filter=this.filterFactory.addLuminosityFilter(o));const m=new Path2D;m.rect(l,u,n,i),r.clip(m),r.globalCompositeOperation="destination-in",r.drawImage(f,p,g,n,i,l,u,n,i),r.restore()}save(){this.inSMaskMode?(c_(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),c_(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,r,n,i,s,a){this.ctx.transform(e,r,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,r,n){const i=this.ctx,s=this.current;let a=s.x,o=s.y,l,u;const d=ii(i),h=d[0]===0&&d[3]===0||d[1]===0&&d[2]===0,f=h?n.slice(0):null;for(let p=0,g=0,m=e.length;p<m;p++)switch(e[p]|0){case hu.rectangle:a=r[g++],o=r[g++];const v=r[g++],x=r[g++],y=a+v,w=o+x;i.moveTo(a,o),v===0||x===0?i.lineTo(y,w):(i.lineTo(y,o),i.lineTo(y,w),i.lineTo(a,w)),h||s.updateRectMinMax(d,[a,o,y,w]),i.closePath();break;case hu.moveTo:a=r[g++],o=r[g++],i.moveTo(a,o),h||s.updatePathMinMax(d,a,o);break;case hu.lineTo:a=r[g++],o=r[g++],i.lineTo(a,o),h||s.updatePathMinMax(d,a,o);break;case hu.curveTo:l=a,u=o,a=r[g+4],o=r[g+5],i.bezierCurveTo(r[g],r[g+1],r[g+2],r[g+3],a,o),s.updateCurvePathMinMax(d,l,u,r[g],r[g+1],r[g+2],r[g+3],a,o,f),g+=6;break;case hu.curveTo2:l=a,u=o,i.bezierCurveTo(a,o,r[g],r[g+1],r[g+2],r[g+3]),s.updateCurvePathMinMax(d,l,u,a,o,r[g],r[g+1],r[g+2],r[g+3],f),a=r[g+2],o=r[g+3],g+=4;break;case hu.curveTo3:l=a,u=o,a=r[g+2],o=r[g+3],i.bezierCurveTo(r[g],r[g+1],a,o,a,o),s.updateCurvePathMinMax(d,l,u,r[g],r[g+1],a,o,a,o,f),g+=4;break;case hu.closePath:i.closePath();break}h&&s.updateScalingPathMinMax(d,f),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const r=this.ctx,n=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(r.save(),r.strokeStyle=n.getPattern(r,this,cd(r),ka.STROKE),this.rescaleAndStroke(!1),r.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),r.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(r.save(),r.fillStyle=n.getPattern(r,this,cd(r),ka.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(r.fill("evenodd"),this.pendingEOFill=!1):r.fill()),s&&r.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=BTe}eoClip(){this.pendingClip=OH}beginText(){this.current.textMatrix=xae,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,r=this.ctx;if(e===void 0){r.beginPath();return}const n=new Path2D,i=r.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:l,path:u}of e)n.addPath(u,new DOMMatrix(s).preMultiplySelf(i).translate(a,o).scale(l,-l));r.clip(n),r.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,r){var d;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||p6,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Mr("Invalid font matrix for font "+e),r<0?(r=-r,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=r,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=((d=n.systemFontInfo)==null?void 0:d.css)||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let u=r;r<AH?u=AH:r>jH&&(u=jH),this.current.fontSizeScale=r/u,this.ctx.font=`${l} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,r){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,r){this.setLeading(-r),this.moveText(e,r)}setTextMatrix(e,r,n,i,s,a){this.current.textMatrix=[e,r,n,i,s,a],this.current.textMatrixScale=Math.hypot(e,r),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,r,n,i,s){const a=this.ctx,o=this.current,l=o.font,u=o.textRenderingMode,d=o.fontSize/o.fontSizeScale,h=u&ba.FILL_STROKE_MASK,f=!!(u&ba.ADD_TO_PATH_FLAG),p=o.patternFill&&!l.missingFile,g=o.patternStroke&&!l.missingFile;let m;if((l.disableFontFace||f||p||g)&&(m=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||p||g){if(a.save(),a.translate(r,n),a.scale(d,-d),h===ba.FILL||h===ba.FILL_STROKE)if(i){const v=a.getTransform();a.setTransform(...i),a.fill(te(this,Qu,q6).call(this,m,v,i))}else a.fill(m);if(h===ba.STROKE||h===ba.FILL_STROKE)if(s){const v=a.getTransform();a.setTransform(...s),a.stroke(te(this,Qu,q6).call(this,m,v,s))}else a.lineWidth/=d,a.stroke(m);a.restore()}else(h===ba.FILL||h===ba.FILL_STROKE)&&a.fillText(e,r,n),(h===ba.STROKE||h===ba.FILL_STROKE)&&a.strokeText(e,r,n);f&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ii(a),x:r,y:n,fontSize:d,path:m})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const r=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<r.length;i+=4)if(r[i]>0&&r[i]<255){n=!0;break}return $r(this,"isFontSubpixelAAEnabled",n)}showText(e){const r=this.current,n=r.font;if(n.isType3Font)return this.showType3Text(e);const i=r.fontSize;if(i===0)return;const s=this.ctx,a=r.fontSizeScale,o=r.charSpacing,l=r.wordSpacing,u=r.fontDirection,d=r.textHScale*u,h=e.length,f=n.vertical,p=f?1:-1,g=n.defaultVMetrics,m=i*r.fontMatrix[0],v=r.textRenderingMode===ba.FILL&&!n.disableFontFace&&!r.patternFill;s.save(),s.transform(...r.textMatrix),s.translate(r.x,r.y+r.textRise),u>0?s.scale(d,-1):s.scale(d,1);let x,y;if(r.patternFill){s.save();const N=r.fillColor.getPattern(s,this,cd(s),ka.FILL);x=ii(s),s.restore(),s.fillStyle=N}if(r.patternStroke){s.save();const N=r.strokeColor.getPattern(s,this,cd(s),ka.STROKE);y=ii(s),s.restore(),s.strokeStyle=N}let w=r.lineWidth;const _=r.textMatrixScale;if(_===0||w===0){const N=r.textRenderingMode&ba.FILL_STROKE_MASK;(N===ba.STROKE||N===ba.FILL_STROKE)&&(w=this.getSinglePixelWidth())}else w/=_;if(a!==1&&(s.scale(a,a),w/=a),s.lineWidth=w,n.isInvalidPDFjsFont){const N=[];let E=0;for(const P of e)N.push(P.unicode),E+=P.width;s.fillText(N.join(""),0,0),r.x+=E*m*d,s.restore(),this.compose();return}let A=0,C;for(C=0;C<h;++C){const N=e[C];if(typeof N=="number"){A+=p*N*i/1e3;continue}let E=!1;const P=(N.isSpace?l:0)+o,L=N.fontChar,O=N.accent;let k,D,F=N.width;if(f){const U=N.vmetric||g,H=-(N.vmetric?U[1]:F*.5)*m,B=U[2]*m;F=U?-U[0]:F,k=H/a,D=(A+B)/a}else k=A/a,D=0;if(n.remeasure&&F>0){const U=s.measureText(L).width*1e3/i*a;if(F<U&&this.isFontSubpixelAAEnabled){const H=F/U;E=!0,s.save(),s.scale(H,1),k/=H}else F!==U&&(k+=(F-U)/2e3*i/a)}if(this.contentVisible&&(N.isInFont||n.missingFile)){if(v&&!O)s.fillText(L,k,D);else if(this.paintChar(L,k,D,x,y),O){const U=k+i*O.offset.x/a,H=D-i*O.offset.y/a;this.paintChar(O.fontChar,U,H,x,y)}}const z=f?F*m-P*u:F*m+P*u;A+=z,E&&s.restore()}f?r.y-=A:r.x+=A*d,s.restore(),this.compose()}showType3Text(e){const r=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,u=n.wordSpacing,d=n.textHScale*a,h=n.fontMatrix||p6,f=e.length,p=n.textRenderingMode===ba.INVISIBLE;let g,m,v,x;if(!(p||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),r.transform(...n.textMatrix),r.translate(n.x,n.y),r.scale(d,a),g=0;g<f;++g){if(m=e[g],typeof m=="number"){x=o*m*s/1e3,this.ctx.translate(x,0),n.x+=x*d;continue}const y=(m.isSpace?u:0)+l,w=i.charProcOperatorList[m.operatorListId];if(!w){Mr(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),r.scale(s,s),r.transform(...h),this.executeOperatorList(w),this.restore()),v=Gt.applyTransform([m.width,0],h)[0]*s+y,r.translate(v,0),n.x+=v*d}r.restore(),this.processingType3=null}}setCharWidth(e,r){}setCharWidthAndBounds(e,r,n,i,s,a){this.ctx.rect(n,i,s-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let r;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||ii(this.ctx),s={createCanvasGraphics:a=>new cz(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};r=new B6(e,n,this.ctx,s,i)}else r=this._getPattern(e[1],e[2]);return r}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,r,n){this.ctx.strokeStyle=this.current.strokeColor=Gt.makeHexColor(e,r,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,r,n){this.ctx.fillStyle=this.current.fillColor=Gt.makeHexColor(e,r,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,r=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=OTe(this.getObject(e)),this.cachedPatterns.set(e,n)),r&&(n.matrix=r),n}shadingFill(e){if(!this.contentVisible)return;const r=this.ctx;this.save();const n=this._getPattern(e);r.fillStyle=n.getPattern(r,this,cd(r),ka.SHADING);const i=cd(r);if(i){const{width:s,height:a}=r.canvas,[o,l,u,d]=Gt.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,l,u-o,d-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Mn("Should not call beginInlineImage")}beginImageData(){Mn("Should not call beginImageData")}paintFormXObjectBegin(e,r){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=ii(this.ctx),r)){const n=r[2]-r[0],i=r[3]-r[1];this.ctx.rect(r[0],r[1],n,i),this.current.updateRectMinMax(ii(this.ctx),r),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;e.isolated||gO("TODO: Support non-isolated groups."),e.knockout&&Mr("Knockout groups not supported.");const n=ii(r);if(e.matrix&&r.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=Gt.getAxialAlignedBoundingBox(e.bbox,ii(r));const s=[0,0,r.canvas.width,r.canvas.height];i=Gt.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let d="groupAt"+this.groupLevel;e.smask&&(d+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(d,l,u),f=h.context;f.translate(-a,-o),f.transform(...n),e.smask?this.smaskStack.push({canvas:h.canvas,context:f,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(r.setTransform(1,0,0,1,0,0),r.translate(a,o),r.save()),c_(r,f),this.ctx=f,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=ii(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=Gt.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],i);this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,r,n,i,s){if(te(this,Qu,U6).call(this),hC(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const a=r[2]-r[0],o=r[3]-r[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=r[0],n[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=a,r[3]=o;const[l,u]=Gt.singularValueDecompose2dScale(ii(this.ctx)),{viewportScale:d}=this,h=Math.ceil(a*this.outputScaleX*d),f=Math.ceil(o*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,f);const{canvas:p,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(e,p),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),hC(this.ctx)}else hC(this.ctx),this.endPath(),this.ctx.rect(r[0],r[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new CH(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),te(this,Qu,z6).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const r=e.count;e=this.getObject(e.data,e),e.count=r;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=DTe(e)),i.compiled)){i.compiled(n);return}const s=this._createMaskCanvas(e),a=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,r,n=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=ii(o);o.transform(r,n,i,s,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let d=0,h=a.length;d<h;d+=2){const f=Gt.transform(l,[r,n,i,s,a[d],a[d+1]]),[p,g]=Gt.applyTransform([0,0],f);o.drawImage(u.canvas,p,g)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const r=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:u}=s,d=this.cachedCanvases.getCanvas("maskCanvas",o,l),h=d.context;h.save();const f=this.getObject(a,s);PH(h,f),h.globalCompositeOperation="source-in",h.fillStyle=i?n.getPattern(h,this,cd(r),ka.FILL):n,h.fillRect(0,0,o,l),h.restore(),r.save(),r.transform(...u),r.scale(1,-1),dC(r,d.canvas,0,0,o,l,0,-1,1,1),r.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const r=this.getObject(e);if(!r){Mr("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)}paintImageXObjectRepeat(e,r,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Mr("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let u=0,d=i.length;u<d;u+=2)l.push({transform:[r,0,0,n,i[u],i[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:r,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(r,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const r=e.width,n=e.height,i=this.ctx;if(this.save(),!Ia){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/r,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",r,n).context;TH(l,e),s=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(s,cd(i));i.imageSmoothingEnabled=kH(ii(i),e.interpolate),dC(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,r,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,r){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;TH(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of r)n.save(),n.transform(...s.transform),n.scale(1,-1),dC(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,r){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,r){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(r||(this.pendingClip===OH?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=ii(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const r=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/r}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:r,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(r),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/u;else{const d=l*e,h=u*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(r*s-n*i),u=Math.hypot(r,n),d=Math.hypot(i,s);if(e===0)a=d/l,o=u/l;else{const h=e*l;a=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:r}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(r.lineWidth=n||1,i===1&&s===1){r.stroke();return}const a=r.getLineDash();if(e&&r.save(),r.scale(i,s),a.length>0){const o=Math.max(i,s);r.setLineDash(a.map(l=>l/o)),r.lineDashOffset/=o}r.stroke(),e&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Qu=new WeakSet,U6=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},z6=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const r=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=r}}},q6=function(e,r,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(r)),i};let d1=cz;for(const t in hu)d1.prototype[t]!==void 0&&(d1.prototype[hu[t]]=d1.prototype[t]);var Q5,J5;class xf{static get workerPort(){return b(this,Q5)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");G(this,Q5,e)}static get workerSrc(){return b(this,J5)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");G(this,J5,e)}}Q5=new WeakMap,J5=new WeakMap,ee(xf,Q5,null),ee(xf,J5,"");var Jg,Z5;class UTe{constructor({parsedData:e,rawData:r}){ee(this,Jg);ee(this,Z5);G(this,Jg,e),G(this,Z5,r)}getRaw(){return b(this,Z5)}get(e){return b(this,Jg).get(e)??null}getAll(){return DB(b(this,Jg))}has(e){return b(this,Jg).has(e)}}Jg=new WeakMap,Z5=new WeakMap;const Ay=Symbol("INTERNAL");var ej,tj,rj,rb;class zTe{constructor(e,{name:r,intent:n,usage:i,rbGroups:s}){ee(this,ej,!1);ee(this,tj,!1);ee(this,rj,!1);ee(this,rb,!0);G(this,ej,!!(e&El.DISPLAY)),G(this,tj,!!(e&El.PRINT)),this.name=r,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(b(this,rj))return b(this,rb);if(!b(this,rb))return!1;const{print:e,view:r}=this.usage;return b(this,ej)?(r==null?void 0:r.viewState)!=="OFF":b(this,tj)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,r,n=!1){e!==Ay&&Mn("Internal method `_setVisible` called."),G(this,rj,n),G(this,rb,r)}}ej=new WeakMap,tj=new WeakMap,rj=new WeakMap,rb=new WeakMap;var am,mn,nb,ib,nj,W6;class qTe{constructor(e,r=El.DISPLAY){ee(this,nj);ee(this,am,null);ee(this,mn,new Map);ee(this,nb,null);ee(this,ib,null);if(this.renderingIntent=r,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,G(this,ib,e.order);for(const n of e.groups)b(this,mn).set(n.id,new zTe(r,n));if(e.baseState==="OFF")for(const n of b(this,mn).values())n._setVisible(Ay,!1);for(const n of e.on)b(this,mn).get(n)._setVisible(Ay,!0);for(const n of e.off)b(this,mn).get(n)._setVisible(Ay,!1);G(this,nb,this.getHash())}}isVisible(e){if(b(this,mn).size===0)return!0;if(!e)return gO("Optional content group not defined."),!0;if(e.type==="OCG")return b(this,mn).has(e.id)?b(this,mn).get(e.id).visible:(Mr(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return te(this,nj,W6).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const r of e.ids){if(!b(this,mn).has(r))return Mr(`Optional content group not found: ${r}`),!0;if(b(this,mn).get(r).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const r of e.ids){if(!b(this,mn).has(r))return Mr(`Optional content group not found: ${r}`),!0;if(!b(this,mn).get(r).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const r of e.ids){if(!b(this,mn).has(r))return Mr(`Optional content group not found: ${r}`),!0;if(!b(this,mn).get(r).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const r of e.ids){if(!b(this,mn).has(r))return Mr(`Optional content group not found: ${r}`),!0;if(b(this,mn).get(r).visible)return!1}return!0}return Mr(`Unknown optional content policy ${e.policy}.`),!0}return Mr(`Unknown group type ${e.type}.`),!0}setVisibility(e,r=!0,n=!0){var s;const i=b(this,mn).get(e);if(!i){Mr(`Optional content group not found: ${e}`);return}if(n&&r&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=b(this,mn).get(o))==null||s._setVisible(Ay,!1,!0));i._setVisible(Ay,!!r,!0),G(this,am,null)}setOCGState({state:e,preserveRB:r}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=b(this,mn).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!s.visible,r);break}}G(this,am,null)}get hasInitialVisibility(){return b(this,nb)===null||this.getHash()===b(this,nb)}getOrder(){return b(this,mn).size?b(this,ib)?b(this,ib).slice():[...b(this,mn).keys()]:null}getGroups(){return b(this,mn).size>0?DB(b(this,mn)):null}getGroup(e){return b(this,mn).get(e)||null}getHash(){if(b(this,am)!==null)return b(this,am);const e=new Yae;for(const[r,n]of b(this,mn))e.update(`${r}:${n.visible}`);return G(this,am,e.hexdigest())}}am=new WeakMap,mn=new WeakMap,nb=new WeakMap,ib=new WeakMap,nj=new WeakSet,W6=function(e){const r=e.length;if(r<2)return!0;const n=e[0];for(let i=1;i<r;i++){const s=e[i];let a;if(Array.isArray(s))a=te(this,nj,W6).call(this,s);else if(b(this,mn).has(s))a=b(this,mn).get(s).visible;else return Mr(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class WTe{constructor(e,{disableRange:r=!1,disableStream:n=!1}){Qi(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!r,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:r}){const n=r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength?r.buffer:new Uint8Array(r).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});Qi(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var r,n,i,s;e.total===void 0?(n=(r=this._rangeReaders[0])==null?void 0:r.onProgress)==null||n.call(r,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const r=this._rangeReaders.indexOf(e);r>=0&&this._rangeReaders.splice(r,1)}getFullReader(){Qi(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new HTe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new VTe(this,e,r);return this._pdfDataRangeTransport.requestDataRange(e,r),this._rangeReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class HTe{constructor(e,r,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=BB(i)?i:null,this._queuedChunks=r||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class VTe{constructor(e,r,n){this._stream=e,this._begin=r,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function GTe(t){let e=!0,r=n("filename\\*","i").exec(t);if(r){r=r[1];let d=o(r);return d=unescape(d),d=l(d),d=u(d),s(d)}if(r=a(t),r){const d=u(r);return s(d)}if(r=n("filename","i").exec(t),r){r=r[1];let d=o(r);return d=u(d),s(d)}function n(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=vO(h);h=f.decode(p),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let f;const p=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,m,v,x]=f;if(m=parseInt(m,10),m in h){if(m===0)break;continue}h[m]=[v,x]}const g=[];for(let m=0;m<h.length&&m in h;++m){let[v,x]=h[m];x=o(x),v&&(x=unescape(x),m===0&&(x=l(x))),g.push(x)}return g.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),g=d.slice(h+1).replace(/^[^']*'/,"");return i(f,g)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,g){if(p==="q"||p==="Q")return g=g.replaceAll("_"," "),g=g.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,v){return String.fromCharCode(parseInt(v,16))}),i(f,g);try{g=atob(g)}catch{}return i(f,g)})}return""}function coe(t,e){const r=new Headers;if(!t||!e||typeof e!="object")return r;for(const n in e){const i=e[n];i!==void 0&&r.append(n,i)}return r}function bO(t){try{return new URL(t).origin}catch{}return null}function uoe({responseHeaders:t,isHttp:e,rangeChunkSize:r,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*r)||n||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function doe(t){const e=t.get("Content-Disposition");if(e){let r=GTe(e);if(r.includes("%"))try{r=decodeURIComponent(r)}catch{}if(BB(r))return r}return null}function wO(t,e){return t===404||t===0&&e.startsWith("file:")?new AA('Missing PDF "'+e+'".'):new XP(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t)}function hoe(t){return t===200||t===206}function foe(t,e,r){return{method:"GET",headers:t,signal:r.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function poe(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Mr(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class MH{constructor(e){dt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=coe(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qi(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new KTe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new YTe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class KTe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const r=e.source;this._withCredentials=r.withCredentials||!1,this._contentLength=r.length,this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange;const n=new Headers(e.headers),i=r.url;fetch(i,foe(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=bO(s.url),!hoe(s.status))throw wO(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=uoe({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=doe(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new n0("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:poe(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}class YTe{constructor(e,r,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${r}-${n-1}`);const a=i.url;fetch(a,foe(s,this._withCredentials,this._abortController)).then(o=>{const l=bO(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!hoe(o.status))throw wO(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:r}=await this._reader.read();return r?{value:e,done:r}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:poe(e),done:!1})}cancel(e){var r;(r=this._reader)==null||r.cancel(e),this._abortController.abort()}}const vI=200,xI=206;function XTe(t){const e=t.response;return typeof e!="string"?e:vO(e).buffer}class QTe{constructor({url:e,httpHeaders:r,withCredentials:n}){dt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=coe(this.isHttp,r),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const r=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:r};r.open("GET",this.url),r.withCredentials=this.withCredentials;for(const[s,a]of this.headers)r.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(r.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=xI):i.expectedStatus=vI,r.responseType="arraybuffer",Qi(e.onError,"Expected `onError` callback to be provided."),r.onerror=()=>{e.onError(r.status)},r.onreadystatechange=this.onStateChange.bind(this,n),r.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,r.send(null),n}onProgress(e,r){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,r))}onStateChange(e,r){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||vI;if(!(s===vI&&n.expectedStatus===xI)&&s!==n.expectedStatus){n.onError(i.status);return}const o=XTe(i);if(s===xI){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?n.onDone({begin:parseInt(u[1],10),chunk:o}):(Mr('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const r=this.pendingRequests[e].xhr;delete this.pendingRequests[e],r.abort()}}class JTe{constructor(e){this._source=e,this._manager=new QTe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const r=this._rangeRequestReaders.indexOf(e);r>=0&&this._rangeRequestReaders.splice(r,1)}getFullReader(){return Qi(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ZTe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,r){const n=new ePe(this._manager,e,r);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class ZTe{constructor(e,r){this._manager=e,this._url=r.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=r.disableRange||!1,this._contentLength=r.length,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,r=this._manager.getRequestXhr(e);this._manager._responseOrigin=bO(r.responseURL);const n=r.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=uoe({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=doe(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=wO(e,this._url),this._headersCapability.reject(this._storedError);for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var r;(r=this.onProgress)==null||r.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ePe{constructor(e,r,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:r,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var r;const e=bO((r=this._manager.getRequestXhr(this._requestId))==null?void 0:r.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const r=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:r,done:!1}):this._queuedChunk=r,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=wO(e,this._url));for(const r of this._requests)r.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var r;this.isStreamingSupported||(r=this.onProgress)==null||r.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const r=this._queuedChunk;return this._queuedChunk=null,{value:r,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const tPe=/^[a-z][a-z0-9\-+.]+:/i;function rPe(t){if(tPe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class nPe{constructor(e){this.source=e,this.url=rPe(e.url),Qi(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Qi(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new iPe(this),this._fullRequestReader}getRangeReader(e,r){if(r<=this._progressiveDataLength)return null;const n=new sPe(this,e,r);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var r;(r=this._fullRequestReader)==null||r.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class iPe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const r=e.source;this._contentLength=r.length,this._loaded=0,this._filename=null,this._disableRange=r.disableRange||!1,this._rangeChunkSize=r.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!r.disableStream,this._isRangeSupported=!r.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new AA(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new n0("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class sPe{constructor(e,r,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:r,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",r=>{this._error(r)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const aPe=1e5,Eo=30,oPe=.8;var CJ,om,Oo,ij,sj,Zg,tf,aj,oj,ev,sb,ab,lm,ob,lj,lb,tv,cj,uj,rv,nv,dj,cm,cb,Zf,moe,goe,H6,Kl,OT,V6,voe,xoe;const us=class us{constructor({textContentSource:e,container:r,viewport:n}){ee(this,Zf);ee(this,om,Promise.withResolvers());ee(this,Oo,null);ee(this,ij,!1);ee(this,sj,!!((CJ=globalThis.FontInspector)!=null&&CJ.enabled));ee(this,Zg,null);ee(this,tf,null);ee(this,aj,0);ee(this,oj,0);ee(this,ev,null);ee(this,sb,null);ee(this,ab,0);ee(this,lm,0);ee(this,ob,Object.create(null));ee(this,lj,[]);ee(this,lb,null);ee(this,tv,[]);ee(this,cj,new WeakMap);ee(this,uj,null);var l;if(e instanceof ReadableStream)G(this,lb,e);else if(typeof e=="object")G(this,lb,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');G(this,Oo,G(this,sb,r)),G(this,lm,n.scale*(globalThis.devicePixelRatio||1)),G(this,ab,n.rotation),G(this,tf,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;G(this,uj,[1,0,0,-1,-a,o+s]),G(this,oj,i),G(this,aj,s),te(l=us,Kl,voe).call(l),Jv(r,n),b(this,om).promise.finally(()=>{b(us,cb).delete(this),G(this,tf,null),G(this,ob,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:r}=uo.platform;return $r(this,"fontFamilyMap",new Map([["sans-serif",`${e&&r?"Calibri, ":""}sans-serif`],["monospace",`${e&&r?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{b(this,ev).read().then(({value:r,done:n})=>{if(n){b(this,om).resolve();return}b(this,Zg)??G(this,Zg,r.lang),Object.assign(b(this,ob),r.styles),te(this,Zf,moe).call(this,r.items),e()},b(this,om).reject)};return G(this,ev,b(this,lb).getReader()),b(us,cb).add(this),e(),b(this,om).promise}update({viewport:e,onBefore:r=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==b(this,ab)&&(r==null||r(),G(this,ab,i),Jv(b(this,sb),{rotation:i})),n!==b(this,lm)){r==null||r(),G(this,lm,n);const a={div:null,properties:null,ctx:te(s=us,Kl,OT).call(s,b(this,Zg))};for(const o of b(this,tv))a.properties=b(this,cj).get(o),a.div=o,te(this,Zf,H6).call(this,a)}}cancel(){var r;const e=new n0("TextLayer task cancelled.");(r=b(this,ev))==null||r.cancel(e).catch(()=>{}),G(this,ev,null),b(this,om).reject(e)}get textDivs(){return b(this,tv)}get textContentItemsStr(){return b(this,lj)}static cleanup(){if(!(b(this,cb).size>0)){b(this,rv).clear();for(const{canvas:e}of b(this,nv).values())e.remove();b(this,nv).clear()}}};om=new WeakMap,Oo=new WeakMap,ij=new WeakMap,sj=new WeakMap,Zg=new WeakMap,tf=new WeakMap,aj=new WeakMap,oj=new WeakMap,ev=new WeakMap,sb=new WeakMap,ab=new WeakMap,lm=new WeakMap,ob=new WeakMap,lj=new WeakMap,lb=new WeakMap,tv=new WeakMap,cj=new WeakMap,uj=new WeakMap,rv=new WeakMap,nv=new WeakMap,dj=new WeakMap,cm=new WeakMap,cb=new WeakMap,Zf=new WeakSet,moe=function(e){var i,s;if(b(this,ij))return;(s=b(this,tf)).ctx??(s.ctx=te(i=us,Kl,OT).call(i,b(this,Zg)));const r=b(this,tv),n=b(this,lj);for(const a of e){if(r.length>aPe){Mr("Ignoring additional textDivs for performance reasons."),G(this,ij,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=b(this,Oo);G(this,Oo,document.createElement("span")),b(this,Oo).classList.add("markedContent"),a.id!==null&&b(this,Oo).setAttribute("id",`${a.id}`),o.append(b(this,Oo))}else a.type==="endMarkedContent"&&G(this,Oo,b(this,Oo).parentNode);continue}n.push(a.str),te(this,Zf,goe).call(this,a)}},goe=function(e){var m;const r=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};b(this,tv).push(r);const i=Gt.transform(b(this,uj),e.transform);let s=Math.atan2(i[1],i[0]);const a=b(this,ob)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=b(this,sj)&&a.fontSubstitution||a.fontFamily;o=us.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*te(m=us,Kl,xoe).call(m,o,b(this,Zg));let d,h;s===0?(d=i[4],h=i[5]-u):(d=i[4]+u*Math.sin(s),h=i[5]-u*Math.cos(s));const f="calc(var(--scale-factor)*",p=r.style;b(this,Oo)===b(this,sb)?(p.left=`${(100*d/b(this,oj)).toFixed(2)}%`,p.top=`${(100*h/b(this,aj)).toFixed(2)}%`):(p.left=`${f}${d.toFixed(2)}px)`,p.top=`${f}${h.toFixed(2)}px)`),p.fontSize=`${f}${(b(us,cm)*l).toFixed(2)}px)`,p.fontFamily=o,n.fontSize=l,r.setAttribute("role","presentation"),r.textContent=e.str,r.dir=e.dir,b(this,sj)&&(r.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let g=!1;if(e.str.length>1)g=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),x=Math.abs(e.transform[3]);v!==x&&Math.max(v,x)/Math.min(v,x)>1.5&&(g=!0)}if(g&&(n.canvasWidth=a.vertical?e.height:e.width),b(this,cj).set(r,n),b(this,tf).div=r,b(this,tf).properties=n,te(this,Zf,H6).call(this,b(this,tf)),n.hasText&&b(this,Oo).append(r),n.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),b(this,Oo).append(v)}},H6=function(e){var o;const{div:r,properties:n,ctx:i}=e,{style:s}=r;let a="";if(b(us,cm)>1&&(a=`scale(${1/b(us,cm)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:d}=n;te(o=us,Kl,V6).call(o,i,d*b(this,lm),l);const{width:h}=i.measureText(r.textContent);h>0&&(a=`scaleX(${u*b(this,lm)/h}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Kl=new WeakSet,OT=function(e=null){let r=b(this,nv).get(e||(e=""));if(!r){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),r=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),b(this,nv).set(e,r),b(this,dj).set(r,{size:0,family:""})}return r},V6=function(e,r,n){const i=b(this,dj).get(e);r===i.size&&n===i.family||(e.font=`${r}px ${n}`,i.size=r,i.family=n)},voe=function(){if(b(this,cm)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),G(this,cm,e.getBoundingClientRect().height),e.remove()},xoe=function(e,r){const n=b(this,rv).get(e);if(n)return n;const i=te(this,Kl,OT).call(this,r);i.canvas.width=i.canvas.height=Eo,te(this,Kl,V6).call(this,i,Eo,e);const s=i.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const d=a/(a+o);return b(this,rv).set(e,d),i.canvas.width=i.canvas.height=0,d}i.strokeStyle="red",i.clearRect(0,0,Eo,Eo),i.strokeText("g",0,0);let l=i.getImageData(0,0,Eo,Eo).data;o=0;for(let d=l.length-1-3;d>=0;d-=4)if(l[d]>0){o=Math.ceil(d/4/Eo);break}i.clearRect(0,0,Eo,Eo),i.strokeText("A",0,Eo),l=i.getImageData(0,0,Eo,Eo).data,a=0;for(let d=0,h=l.length;d<h;d+=4)if(l[d]>0){a=Eo-Math.floor(d/4/Eo);break}i.canvas.width=i.canvas.height=0;const u=a?a/(a+o):oPe;return b(this,rv).set(e,u),u},ee(us,Kl),ee(us,rv,new Map),ee(us,nv,new Map),ee(us,dj,new WeakMap),ee(us,cm,null),ee(us,cb,new Set);let jA=us;class NA{static textContent(e){const r=[],n={items:r,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(NA.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&r.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const lPe=65536,cPe=100,uPe=5e3,dPe=Ia?jTe:_Te,hPe=Ia?NTe:noe,fPe=Ia?ATe:STe,pPe=Ia?ETe:ooe;function mPe(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new G6,{docId:r}=e,n=t.url?gPe(t.url):null,i=t.data?vPe(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof yoe?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:lPe;let d=t.worker instanceof h1?t.worker:null;const h=t.verbosity,f=typeof t.docBaseUrl=="string"&&!yO(t.docBaseUrl)?t.docBaseUrl:null,p=typeof t.cMapUrl=="string"?t.cMapUrl:null,g=t.cMapPacked!==!1,m=t.CMapReaderFactory||hPe,v=typeof t.standardFontDataUrl=="string"?t.standardFontDataUrl:null,x=t.StandardFontDataFactory||pPe,y=t.stopAtErrors!==!0,w=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,_=t.isEvalSupported!==!1,A=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Ia,C=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Ia&&(uo.platform.isFirefox||!globalThis.chrome),N=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,E=typeof t.disableFontFace=="boolean"?t.disableFontFace:Ia,P=t.fontExtraProperties===!0,L=t.enableXfa===!0,O=t.ownerDocument||globalThis.document,k=t.disableRange===!0,D=t.disableStream===!0,F=t.disableAutoFetch===!0,z=t.pdfBug===!0,U=t.CanvasFactory||dPe,H=t.FilterFactory||fPe,B=t.enableHWA===!0,X=l?l.length:t.length??NaN,ne=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Ia&&!E,fe=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:m===noe&&x===ooe&&p&&v&&F_(p,document.baseURI)&&F_(v,document.baseURI),I=null;eTe(h);const q={canvasFactory:new U({ownerDocument:O,enableHWA:B}),filterFactory:new H({docId:r,ownerDocument:O}),cMapReaderFactory:fe?null:new m({baseUrl:p,isCompressed:g}),standardFontDataFactory:fe?null:new x({baseUrl:v})};if(!d){const Y={verbosity:h,port:xf.workerPort};d=Y.port?h1.fromPort(Y):new h1(Y),e._worker=d}const V={docId:r,apiVersion:"4.10.38",data:i,password:o,disableAutoFetch:F,rangeChunkSize:u,length:X,docBaseUrl:f,enableXfa:L,evaluatorOptions:{maxImageSize:w,disableFontFace:E,ignoreErrors:y,isEvalSupported:_,isOffscreenCanvasSupported:A,isImageDecoderSupported:C,canvasMaxAreaInBytes:N,fontExtraProperties:P,useSystemFonts:ne,cMapUrl:fe?p:null,standardFontDataUrl:fe?v:null}},K={disableFontFace:E,fontExtraProperties:P,ownerDocument:O,pdfBug:z,styleElement:I,loadingParams:{disableAutoFetch:F,enableXfa:L}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Y=d.messageHandler.sendWithPromise("GetDocRequest",V,i?[i.buffer]:null);let ae;if(l)ae=new WTe(l,{disableRange:k,disableStream:D});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let pe;if(Ia)if(F_(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");pe=MH}else pe=nPe;else pe=F_(n)?MH:JTe;ae=new pe({url:n,length:X,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:k,disableStream:D})}return Y.then(pe=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const le=new z_(r,pe,d.port),ye=new wPe(le,e,ae,K,q);e._transport=ye,le.send("Ready",null)})}).catch(e._capability.reject),e}function gPe(t){if(t instanceof URL)return t.href;try{return new URL(t,window.location).href}catch{if(Ia&&typeof t=="string")return t}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function vPe(t){if(Ia&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return vO(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function LH(t){return typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0}var B4;const U4=class U4{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${Ns(U4,B4)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,r,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((r=this._transport)==null?void 0:r.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}};B4=new WeakMap,ee(U4,B4,0);let G6=U4;class yoe{constructor(e,r,n=!1,i=null){this.length=e,this.initialData=r,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,r){for(const n of this._rangeListeners)n(e,r)}onDataProgress(e,r){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,r)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const r of this._progressiveReadListeners)r(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,r){Mn("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xPe{constructor(e,r){this._pdfInfo=e,this._transport=r}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return $r(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(r)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var um,rf,Cc,jy,MT;class yPe{constructor(e,r,n,i=!1){ee(this,Cc);ee(this,um,null);ee(this,rf,!1);this._pageIndex=e,this._pageInfo=r,this._transport=n,this._stats=i?new bH:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new boe,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:r=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new _N({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:r,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:r}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,r)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return $r(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:r,intent:n="display",annotationMode:i=Up.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:d=null,isEditing:h=!1}){var _,A;(_=this._stats)==null||_.time("Overall");const f=this._transport.getRenderingIntent(n,i,d,h),{renderingIntent:p,cacheKey:g}=f;G(this,rf,!1),te(this,Cc,MT).call(this),o||(o=this._transport.getOptionalContentConfig(p));let m=this._intentStates.get(g);m||(m=Object.create(null),this._intentStates.set(g,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);const v=!!(p&El.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(A=this._stats)==null||A.time("Page Request"),this._pumpOperatorList(f));const x=C=>{var N;m.renderTasks.delete(y),(this._maybeCleanupAfterRender||v)&&G(this,rf,!0),te(this,Cc,jy).call(this,!v),C?(y.capability.reject(C),this._abortOperatorList({intentState:m,reason:C instanceof Error?C:new Error(C)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(N=globalThis.Stats)!=null&&N.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},y=new Y6({callback:x,params:{canvasContext:e,viewport:r,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:u});(m.renderTasks||(m.renderTasks=new Set)).add(y);const w=y.task;return Promise.all([m.displayReadyCapability.promise,o]).then(([C,N])=>{var E;if(this.destroyed){x();return}if((E=this._stats)==null||E.time("Rendering"),!(N.renderingIntent&p))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");y.initializeGraphics({transparency:C,optionalContentConfig:N}),y.operatorListChanged()}).catch(x),w}getOperatorList({intent:e="display",annotationMode:r=Up.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,r,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:r=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:r===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>NA.textContent(n));const r=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:u}){if(u){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=r.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const r of this._intentStates.values())if(this._abortOperatorList({intentState:r,reason:new Error("Page was destroyed."),force:!0}),!r.opListReadCapability)for(const n of r.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),G(this,rf,!1),te(this,Cc,MT).call(this),Promise.all(e)}cleanup(e=!1){G(this,rf,!0);const r=te(this,Cc,jy).call(this,!1);return e&&r&&this._stats&&(this._stats=new bH),r}_startRenderPage(e,r){var i,s;const n=this._intentStates.get(r);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,r){for(let n=0,i=e.length;n<i;n++)r.operatorList.fnArray.push(e.fnArray[n]),r.operatorList.argsArray.push(e.argsArray[n]);r.operatorList.lastChunk=e.lastChunk,r.operatorList.separateAnnots=e.separateAnnots;for(const n of r.renderTasks)n.operatorListChanged();e.lastChunk&&te(this,Cc,jy).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:r,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:r,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(r);u.streamReader=l;const d=()=>{l.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();te(this,Cc,jy).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:r,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(r instanceof $B){let i=cPe;r.extraDelay>0&&r.extraDelay<1e3&&(i+=r.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:r,force:!0})},i);return}}if(e.streamReader.cancel(new n0(r.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}um=new WeakMap,rf=new WeakMap,Cc=new WeakSet,jy=function(e=!1){if(te(this,Cc,MT).call(this),!b(this,rf)||this.destroyed)return!1;if(e)return G(this,um,setTimeout(()=>{G(this,um,null),te(this,Cc,jy).call(this,!1)},uPe)),!1;for(const{renderTasks:r,operatorList:n}of this._intentStates.values())if(r.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),G(this,rf,!1),!0},MT=function(){b(this,um)&&(clearTimeout(b(this,um)),G(this,um,null))};var nf,z4;class bPe{constructor(){ee(this,nf,new Map);ee(this,z4,Promise.resolve())}postMessage(e,r){const n={data:structuredClone(e,r?{transfer:r}:null)};b(this,z4).then(()=>{for(const[i]of b(this,nf))i.call(this,n)})}addEventListener(e,r,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Mr("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,r);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}b(this,nf).set(r,i)}removeEventListener(e,r){const n=b(this,nf).get(r);n==null||n(),b(this,nf).delete(r)}terminate(){for(const[,e]of b(this,nf))e==null||e();b(this,nf).clear()}}nf=new WeakMap,z4=new WeakMap;var q4,iv,sv,ub,LT,db,IT;const ni=class ni{constructor({name:e=null,port:r=null,verbosity:n=tTe()}={}){ee(this,ub);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,r){if((i=b(ni,sv))!=null&&i.has(r))throw new Error("Cannot use more than one PDFWorker per port.");(b(ni,sv)||G(ni,sv,new WeakMap)).set(r,this),this._initializeFromPort(r);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new z_("main","worker",e),this._messageHandler.on("ready",function(){}),te(this,ub,LT).call(this)}_initialize(){if(b(ni,iv)||b(ni,db,IT)){this._setupFakeWorker();return}let{workerSrc:e}=ni;try{ni._isSameOrigin(window.location.href,e)||(e=ni._createCDNWrapper(new URL(e,window.location).href));const r=new Worker(e,{type:"module"}),n=new z_("main","worker",r),i=()=>{s.abort(),n.destroy(),r.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;r.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=r,this._webWorker=r,te(this,ub,LT).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{gO("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){b(ni,iv)||(Mr("Setting up fake worker."),G(ni,iv,!0)),ni._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const r=new bPe;this._port=r;const n=`fake${Ns(ni,q4)._++}`,i=new z_(n+"_worker",n,r);e.setup(i,r),this._messageHandler=new z_(n,n+"_worker",r),te(this,ub,LT).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,r,n;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(r=b(ni,sv))==null||r.delete(this._port),this._port=null,(n=this._messageHandler)==null||n.destroy(),this._messageHandler=null}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const r=(n=b(this,sv))==null?void 0:n.get(e.port);if(r){if(r._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return r}return new ni(e)}static get workerSrc(){if(xf.workerSrc)return xf.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return $r(this,"_setupFakeWorkerGlobal",(async()=>b(this,db,IT)?b(this,db,IT):(await import(this.workerSrc)).WorkerMessageHandler)())}};q4=new WeakMap,iv=new WeakMap,sv=new WeakMap,ub=new WeakSet,LT=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},db=new WeakSet,IT=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ee(ni,db),ee(ni,q4,0),ee(ni,iv,!1),ee(ni,sv),Ia&&(G(ni,iv,!0),xf.workerSrc||(xf.workerSrc="./pdf.worker.mjs")),ni._isSameOrigin=(e,r)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(r,n);return n.origin===i.origin},ni._createCDNWrapper=e=>{const r=`await import("${e}");`;return URL.createObjectURL(new Blob([r],{type:"text/javascript"}))};let h1=ni;var sf,kd,hb,fb,af,av,G_;class wPe{constructor(e,r,n,i,s){ee(this,av);ee(this,sf,new Map);ee(this,kd,new Map);ee(this,hb,new Map);ee(this,fb,new Map);ee(this,af,null);this.messageHandler=e,this.loadingTask=r,this.commonObjs=new boe,this.fontLoader=new bTe({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return $r(this,"annotationStorage",new qB)}getRenderingIntent(e,r=Up.ENABLE,n=null,i=!1,s=!1){let a=El.DISPLAY,o=R6;switch(e){case"any":a=El.ANY;break;case"display":break;case"print":a=El.PRINT;break;default:Mr(`getRenderingIntent - invalid intent: ${e}`)}const l=a&El.PRINT&&n instanceof Qae?n:this.annotationStorage;switch(r){case Up.DISABLE:a+=El.ANNOTATIONS_DISABLE;break;case Up.ENABLE:break;case Up.ENABLE_FORMS:a+=El.ANNOTATIONS_FORMS;break;case Up.ENABLE_STORAGE:a+=El.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Mr(`getRenderingIntent - invalid annotationMode: ${r}`)}i&&(a+=El.IS_EDITING),s&&(a+=El.OPLIST);const{ids:u,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=b(this,af))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of b(this,kd).values())e.push(i._destroy());b(this,kd).clear(),b(this,hb).clear(),b(this,fb).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const r=this.messageHandler.sendWithPromise("Terminate",null);return e.push(r),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),b(this,sf).clear(),this.filterFactory.destroy(),jA.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new n0("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:r}=this;e.on("GetReader",(n,i)=>{Qi(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}Qi(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=r.onProgress)==null||o.call(r,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=r.onProgress)==null||u.call(r,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{Qi(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}Qi(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,r._capability.resolve(new xPe(n,this))}),e.on("DocException",n=>{r._capability.reject(To(n))}),e.on("PasswordRequest",n=>{G(this,af,Promise.withResolvers());try{if(!r.onPassword)throw To(n);const i=s=>{s instanceof Error?b(this,af).reject(s):b(this,af).resolve({password:s})};r.onPassword(i,n.code)}catch(i){b(this,af).reject(i)}return b(this,af).promise}),e.on("DataLoaded",n=>{var i;(i=r.onProgress)==null||i.call(r,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;b(this,kd).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const p=s.error;Mr(`Error during font loading: ${p}`),this.commonObjs.resolve(n,p);break}const d=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,h=new wTe(s,{disableFontFace:o,fontExtraProperties:l,inspectFont:d});this.fontLoader.bind(h).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&h.data&&(h.data=null),this.commonObjs.resolve(n,h)});break;case"CopyLocalImage":const{imageRef:f}=s;Qi(f,"The imageRef must be defined.");for(const p of b(this,kd).values())for(const[,g]of p.objs)if((g==null?void 0:g.ref)===f)return g.dataLen?(this.commonObjs.resolve(n,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var l;if(this.destroyed)return;const o=b(this,kd).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>XCe&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=r.onProgress)==null||i.call(r,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Mr("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},r).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const r=e-1,n=b(this,hb).get(r);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:r}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&b(this,fb).set(s.refStr,e);const a=new yPe(r,s,this,this._params.pdfBug);return b(this,kd).set(r,a),a});return b(this,hb).set(r,i),i}getPageIndex(e){return LH(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:r})}getFieldObjects(){return te(this,av,G_).call(this,"GetFieldObjects")}hasJSActions(){return te(this,av,G_).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return te(this,av,G_).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return te(this,av,G_).call(this,"GetOptionalContentConfig").then(r=>new qTe(r,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",r=b(this,sf).get(e);if(r)return r;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new UTe(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return b(this,sf).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const r of b(this,kd).values())if(!r.cleanup())throw new Error(`startCleanup: Page ${r.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),b(this,sf).clear(),this.filterFactory.destroy(!0),jA.cleanup()}}cachedPageNumber(e){if(!LH(e))return null;const r=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return b(this,fb).get(r)??null}}sf=new WeakMap,kd=new WeakMap,hb=new WeakMap,fb=new WeakMap,af=new WeakMap,av=new WeakSet,G_=function(e,r=null){const n=b(this,sf).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,r);return b(this,sf).set(e,i),i};const u_=Symbol("INITIAL_DATA");var vl,hj,K6;class boe{constructor(){ee(this,hj);ee(this,vl,Object.create(null))}get(e,r=null){if(r){const i=te(this,hj,K6).call(this,e);return i.promise.then(()=>r(i.data)),null}const n=b(this,vl)[e];if(!n||n.data===u_)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const r=b(this,vl)[e];return!!r&&r.data!==u_}delete(e){const r=b(this,vl)[e];return!r||r.data===u_?!1:(delete b(this,vl)[e],!0)}resolve(e,r=null){const n=te(this,hj,K6).call(this,e);n.data=r,n.resolve()}clear(){var e;for(const r in b(this,vl)){const{data:n}=b(this,vl)[r];(e=n==null?void 0:n.bitmap)==null||e.close()}G(this,vl,Object.create(null))}*[Symbol.iterator](){for(const e in b(this,vl)){const{data:r}=b(this,vl)[e];r!==u_&&(yield[e,r])}}}vl=new WeakMap,hj=new WeakSet,K6=function(e){var r;return(r=b(this,vl))[e]||(r[e]={...Promise.withResolvers(),data:u_})};var dm;class _Pe{constructor(e){ee(this,dm,null);G(this,dm,e),this.onContinue=null}get promise(){return b(this,dm).capability.promise}cancel(e=0){b(this,dm).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=b(this,dm).operatorList;if(!e)return!1;const{annotationCanvasMap:r}=b(this,dm);return e.form||e.canvas&&(r==null?void 0:r.size)>0}}dm=new WeakMap;var hm,ov;const fg=class fg{constructor({callback:e,params:r,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null}){ee(this,hm,null);this.callback=e,this.params=r,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new _Pe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:r}){var o,l;if(this.cancelled)return;if(this._canvas){if(b(fg,ov).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");b(fg,ov).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,background:a}=this.params;this.gfx=new d1(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:r},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,r=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),b(this,hm)&&(window.cancelAnimationFrame(b(this,hm)),G(this,hm,null)),b(fg,ov).delete(this._canvas),this.callback(e||new $B(`Rendering cancelled, page ${this._pageIndex+1}`,r))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?G(this,hm,window.requestAnimationFrame(()=>{G(this,hm,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),b(fg,ov).delete(this._canvas),this.callback())))}};hm=new WeakMap,ov=new WeakMap,ee(fg,ov,new WeakSet);let Y6=fg;const SPe="4.10.38",APe="f9bea397f";function IH(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function d_(t){return Math.max(0,Math.min(255,255*t))}class RH{static CMYK_G([e,r,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*r+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=d_(e),[e,e,e]}static G_HTML([e]){const r=IH(e);return`#${r}${r}${r}`}static RGB_G([e,r,n]){return["G",.3*e+.59*r+.11*n]}static RGB_rgb(e){return e.map(d_)}static RGB_HTML(e){return`#${e.map(IH).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,r,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,r+i)]}static CMYK_rgb([e,r,n,i]){return[d_(1-Math.min(1,e+i)),d_(1-Math.min(1,n+i)),d_(1-Math.min(1,r+i))]}static CMYK_HTML(e){const r=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(r)}static RGB_CMYK([e,r,n]){const i=1-e,s=1-r,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class jPe{create(e,r,n=!1){if(e<=0||r<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${r}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${r}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Mn("Abstract method `_createSVG` called.")}}class HB extends jPe{_createSVG(e){return document.createElementNS(Lh,e)}}class woe{static setupStorage(e,r,n,i,s){const a=i.getValue(r,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(r,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(r,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(r,{value:u})});break}}static setAttributes({html:e,element:r,storage:n=null,intent:i,linkService:s}){const{attributes:a}=r,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,r,n)}static render(e){var h,f;const r=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=p}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const p=document.createTextNode(i.value);a.append(p),o&&NA.shouldBuildText(i.name)&&u.push(p)}return{textDivs:u}}const d=[[i,-1,a]];for(;d.length>0;){const[p,g,m]=d.at(-1);if(g+1===p.children.length){d.pop();continue}const v=p.children[++d.at(-1)[1]];if(v===null)continue;const{name:x}=v;if(x==="#text"){const w=document.createTextNode(v.value);u.push(w),m.append(w);continue}const y=(h=v==null?void 0:v.attributes)!=null&&h.xmlns?document.createElementNS(v.attributes.xmlns,x):document.createElement(x);if(m.append(y),v.attributes&&this.setAttributes({html:y,element:v,storage:r,intent:s,linkService:n}),((f=v.children)==null?void 0:f.length)>0)d.push([v,-1,y]);else if(v.value){const w=document.createTextNode(v.value);o&&NA.shouldBuildText(x)&&u.push(w),y.append(w)}}for(const p of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const r=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=r,e.div.hidden=!1}}const AN=1e3,NPe=9,ex=new WeakSet;function Hm(t){return{width:t[2]-t[0],height:t[3]-t[1]}}class EPe{static create(e){switch(e.data.annotationType){case ls.LINK:return new _oe(e);case ls.TEXT:return new CPe(e);case ls.WIDGET:switch(e.data.fieldType){case"Tx":return new TPe(e);case"Btn":return e.data.radioButton?new joe(e):e.data.checkBox?new kPe(e):new OPe(e);case"Ch":return new MPe(e);case"Sig":return new PPe(e)}return new bx(e);case ls.POPUP:return new Q6(e);case ls.FREETEXT:return new Poe(e);case ls.LINE:return new IPe(e);case ls.SQUARE:return new RPe(e);case ls.CIRCLE:return new DPe(e);case ls.POLYLINE:return new koe(e);case ls.CARET:return new $Pe(e);case ls.INK:return new VB(e);case ls.POLYGON:return new FPe(e);case ls.HIGHLIGHT:return new Ooe(e);case ls.UNDERLINE:return new BPe(e);case ls.SQUIGGLY:return new UPe(e);case ls.STRIKEOUT:return new zPe(e);case ls.STAMP:return new Moe(e);case ls.FILEATTACHMENT:return new qPe(e);default:return new zi(e)}}}var lv,pb,mb,fj,X6;const uz=class uz{constructor(e,{isRenderable:r=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){ee(this,fj);ee(this,lv,null);ee(this,pb,!1);ee(this,mb,null);this.isRenderable=r,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,r&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:r,richText:n}){return!!(e!=null&&e.str||r!=null&&r.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return uz._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;b(this,lv)||G(this,lv,{rect:this.data.rect.slice(0)});const{rect:r}=e;r&&te(this,fj,X6).call(this,r),(n=b(this,mb))==null||n.popup.updateEdited(e)}resetEdited(){var e;b(this,lv)&&(te(this,fj,X6).call(this,b(this,lv).rect),(e=b(this,mb))==null||e.popup.resetEdited(),G(this,lv,null))}_createContainer(e){const{data:r,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",r.id),this instanceof bx||(s.tabIndex=AN);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,r.alternativeText&&(s.title=r.alternativeText),r.noRotate&&s.classList.add("norotate"),!r.rect||this instanceof Q6){const{rotation:m}=r;return!r.hasOwnCanvas&&m!==0&&this.setRotation(m,s),s}const{width:o,height:l}=Hm(r.rect);if(!e&&r.borderStyle.width>0){a.borderWidth=`${r.borderStyle.width}px`;const m=r.borderStyle.horizontalCornerRadius,v=r.borderStyle.verticalCornerRadius;if(m>0||v>0){const y=`calc(${m}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;a.borderRadius=y}else if(this instanceof joe){const y=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=y}switch(r.borderStyle.style){case l_.SOLID:a.borderStyle="solid";break;case l_.DASHED:a.borderStyle="dashed";break;case l_.BEVELED:Mr("Unimplemented border style: beveled");break;case l_.INSET:Mr("Unimplemented border style: inset");break;case l_.UNDERLINE:a.borderBottomStyle="solid";break}const x=r.borderColor||null;x?(G(this,pb,!0),a.borderColor=Gt.makeHexColor(x[0]|0,x[1]|0,x[2]|0)):a.borderWidth=0}const u=Gt.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=i.rawDims;a.left=`${100*(u[0]-f)/d}%`,a.top=`${100*(u[1]-p)/h}%`;const{rotation:g}=r;return r.hasOwnCanvas||g===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(g,s),s}setRotation(e,r=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=Hm(this.data.rect);let o,l;e%180===0?(o=100*s/n,l=100*a/i):(o=100*a/n,l=100*s/i),r.style.width=`${o}%`,r.style.height=`${l}%`,r.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(r,n,i)=>{const s=i.detail[r],a=s[0],o=s.slice(1);i.target.style[n]=RH[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:RH[`${a}_rgb`](o)})};return $r(this,"_commonActions",{display:r=>{const{display:n}=r.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:r=>{this.annotationStorage.setValue(this.data.id,{noPrint:!r.detail.print})},hidden:r=>{const{hidden:n}=r.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:r=>{setTimeout(()=>r.target.focus({preventScroll:!1}),0)},userName:r=>{r.target.title=r.detail.userName},readonly:r=>{r.target.disabled=r.detail.readonly},required:r=>{this._setRequired(r.target,r.detail.required)},bgColor:r=>{e("bgColor","backgroundColor",r)},fillColor:r=>{e("fillColor","backgroundColor",r)},fgColor:r=>{e("fgColor","color",r)},textColor:r=>{e("textColor","color",r)},borderColor:r=>{e("borderColor","borderColor",r)},strokeColor:r=>{e("strokeColor","borderColor",r)},rotation:r=>{const n=r.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,r){const n=this._commonActions;for(const i of Object.keys(r.detail)){const s=e[i]||n[i];s==null||s(r)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const r=this.annotationStorage.getRawValue(this.data.id);if(!r)return;const n=this._commonActions;for(const[i,s]of Object.entries(r)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete r[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[r,n,i,s]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){const[m,v,x,y]=e.subarray(2,6);if(i===m&&s===v&&r===x&&n===y)return}const{style:a}=this.container;let o;if(b(this,pb)){const{borderColor:m,borderWidth:v}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}const l=i-r,u=s-n,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0);const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),g=`clippath_${this.data.id}`;p.setAttribute("id",g),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let m=2,v=e.length;m<v;m+=8){const x=e[m],y=e[m+1],w=e[m+2],_=e[m+3],A=d.createElement("rect"),C=(w-r)/l,N=(s-y)/u,E=(x-w)/l,P=(y-_)/u;A.setAttribute("x",C),A.setAttribute("y",N),A.setAttribute("width",E),A.setAttribute("height",P),p.append(A),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${N}" width="${E}" height="${P}"/>`)}b(this,pb)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${g})`}_createPopup(){const{data:e}=this,r=G(this,mb,new Q6({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(r.render())}render(){Mn("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,r=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===r)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!ex.has(u)){Mr(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:u})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==r&&ex.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const r of e)r.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:r}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:r})})}};lv=new WeakMap,pb=new WeakMap,mb=new WeakMap,fj=new WeakSet,X6=function(e){const{container:{style:r},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e);const{width:u,height:d}=Hm(e);r.left=`${100*(e[0]-o)/s}%`,r.top=`${100*(a-e[3]+l)/a}%`,i===0?(r.width=`${100*u/s}%`,r.height=`${100*d/a}%`):this.setRotation(i)};let zi=uz;var Dl,J0,Soe,Aoe;class _oe extends zi{constructor(r,n=null){super(r,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});ee(this,Dl);this.isTooltipOnly=r.data.isTooltipOnly}render(){const{data:r,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",r.id);let s=!1;return r.url?(n.addLinkAttributes(i,r.url,r.newWindow),s=!0):r.action?(this._bindNamedAction(i,r.action),s=!0):r.attachment?(te(this,Dl,Soe).call(this,i,r.attachment,r.attachmentDest),s=!0):r.setOCGState?(te(this,Dl,Aoe).call(this,i,r.setOCGState),s=!0):r.dest?(this._bindLink(i,r.dest),s=!0):(r.actions&&(r.actions.Action||r.actions["Mouse Up"]||r.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,r),s=!0),r.resetForm?(this._bindResetFormAction(i,r.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(r,n){r.href=this.linkService.getDestinationHash(n),r.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&te(this,Dl,J0).call(this)}_bindNamedAction(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeNamedAction(n),!1),te(this,Dl,J0).call(this)}_bindJSAction(r,n){r.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(r[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}r.onclick||(r.onclick=()=>!1),te(this,Dl,J0).call(this)}_bindResetFormAction(r,n){const i=r.onclick;if(i||(r.href=this.linkService.getAnchorUrl("")),te(this,Dl,J0).call(this),!this._fieldObjects){Mr('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(r.onclick=()=>!1);return}r.onclick=()=>{var h;i==null||i();const{fields:s,refs:a,include:o}=n,l=[];if(s.length!==0||a.length!==0){const f=new Set(a);for(const p of s){const g=this._fieldObjects[p]||[];for(const{id:m}of g)f.add(m)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&l.push(g)}else for(const f of Object.values(this._fieldObjects))l.push(...f);const u=this.annotationStorage,d=[];for(const f of l){const{id:p}=f;switch(d.push(p),f.type){case"text":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}case"checkbox":case"radiobutton":{const m=f.defaultValue===f.exportValues;u.setValue(p,{value:m});break}case"combobox":case"listbox":{const m=f.defaultValue||"";u.setValue(p,{value:m});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!ex.has(g)){Mr(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Dl=new WeakSet,J0=function(){this.container.setAttribute("data-internal-link","")},Soe=function(r,n,i=null){r.href=this.linkService.getAnchorUrl(""),n.description&&(r.title=n.description),r.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,i),!1},te(this,Dl,J0).call(this)},Aoe=function(r,n){r.href=this.linkService.getAnchorUrl(""),r.onclick=()=>(this.linkService.executeSetOCGState(n),!1),te(this,Dl,J0).call(this)};class CPe extends zi{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class bx extends zi{render(){return this.container}showElementAndHideCanvas(e){var r;this.data.hasOwnCanvas&&(((r=e.previousSibling)==null?void 0:r.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return uo.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,r,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!r.focused||!a.relatedTarget)return;r.focused=!1}else if(n==="focus"){if(r.focused)return;r.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,r,n,i){var s,a,o;for(const[l,u]of n)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(r||(r={focused:!1})),this._setEventListener(e,r,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,r,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,r,"focus","Focus",null))}_setBackgroundColor(e){const r=this.data.backgroundColor||null;e.style.backgroundColor=r===null?"transparent":Gt.makeHexColor(r[0],r[1],r[2])}_setTextStyle(e){const r=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||NPe,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(hI*i))||1,h=u/d;a=Math.min(i,l(h/hI))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/hI))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=Gt.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=r[this.data.textAlignment])}_setRequired(e,r){r?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",r)}}class TPe extends bx{constructor(e){const r=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:r})}setPropertyOnSiblings(e,r,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[r]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,r=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(r,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(r,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),ex.add(n),n.setAttribute("data-element-id",r),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=AN,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",f=>{e.setValue(r,{value:f.target.value}),this.setPropertyOnSiblings(n,"value",f.target.value,"value"),d.formattedValue=null}),n.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue??"";n.value=d.userValue=p,d.formattedValue=null});let h=f=>{const{formattedValue:p}=d;p!=null&&(f.target.value=p),f.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",p=>{var m;if(d.focused)return;const{target:g}=p;d.userValue&&(g.value=d.userValue),d.lastCommittedValue=g.value,d.commitKey=1,(m=this.data.actions)!=null&&m.Focus||(d.focused=!0)}),n.addEventListener("updatefromsandbox",p=>{this.showElementAndHideCanvas(p.target);const g={value(m){d.userValue=m.detail.value??"",e.setValue(r,{value:d.userValue.toString()}),m.target.value=d.userValue},formattedValue(m){const{formattedValue:v}=m.detail;d.formattedValue=v,v!=null&&m.target!==document.activeElement&&(m.target.value=v),e.setValue(r,{formattedValue:v})},selRange(m){m.target.setSelectionRange(...m.detail.selRange)},charLimit:m=>{var w;const{charLimit:v}=m.detail,{target:x}=m;if(v===0){x.removeAttribute("maxLength");return}x.setAttribute("maxLength",v);let y=d.userValue;!y||y.length<=v||(y=y.slice(0,v),x.value=d.userValue=y,e.setValue(r,{value:y}),(w=this.linkService.eventBus)==null||w.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:y,willCommit:!0,commitKey:1,selStart:x.selectionStart,selEnd:x.selectionEnd}}))}};this._dispatchEventFromSandbox(g,p)}),n.addEventListener("keydown",p=>{var v;d.commitKey=1;let g=-1;if(p.key==="Escape"?g=0:p.key==="Enter"&&!this.data.multiLine?g=2:p.key==="Tab"&&(d.commitKey=3),g===-1)return;const{value:m}=p.target;d.lastCommittedValue!==m&&(d.lastCommittedValue=m,d.userValue=m,(v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:m,willCommit:!0,commitKey:g,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}}))});const f=h;h=null,n.addEventListener("blur",p=>{var m,v;if(!d.focused||!p.relatedTarget)return;(m=this.data.actions)!=null&&m.Blur||(d.focused=!1);const{value:g}=p.target;d.userValue=g,d.lastCommittedValue!==g&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:g,willCommit:!0,commitKey:d.commitKey,selStart:p.target.selectionStart,selEnd:p.target.selectionEnd}})),f(p)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",p=>{var A;d.lastCommittedValue=null;const{data:g,target:m}=p,{value:v,selectionStart:x,selectionEnd:y}=m;let w=x,_=y;switch(p.inputType){case"deleteWordBackward":{const C=v.substring(0,x).match(/\w*[^\w]*$/);C&&(w-=C[0].length);break}case"deleteWordForward":{const C=v.substring(x).match(/^[^\w]*\w*/);C&&(_+=C[0].length);break}case"deleteContentBackward":x===y&&(w-=1);break;case"deleteContentForward":x===y&&(_+=1);break}p.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:v,change:g||"",willCommit:!1,selStart:w,selEnd:_}})}),this._setEventListeners(n,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],p=>p.target.value)}if(h&&n.addEventListener("blur",h),this.data.comb){const p=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${p}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class PPe extends bx{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class kPe extends bx{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.exportValue===r.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return ex.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",r.exportValue),s.tabIndex=AN,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,n)){const d=l&&u.exportValue===r.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue||"Off";a.target.checked=o===r.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class joe extends bx{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,r=this.data,n=r.id;let i=e.getValue(n,{value:r.fieldValue===r.buttonValue}).value;if(typeof i=="string"&&(i=i!==r.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(r.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(ex.add(s),s.setAttribute("data-element-id",n),s.disabled=r.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=r.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=AN,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=r.defaultFieldValue;a.target.checked=o!=null&&o===r.buttonValue}),this.enableScripting&&this.hasJSActions){const a=r.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const d=a===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===n;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class OPe extends _oe{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const r=e.lastChild;return this.enableScripting&&this.hasJSActions&&r&&(this._setDefaultPropertiesFromJS(r),r.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class MPe extends bx{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,r=this.data.id,n=e.getValue(r,{value:this.data.fieldValue}),i=document.createElement("select");ex.add(i),i.setAttribute("data-element-id",r),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=AN;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of i.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,n.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=i;return p?Array.prototype.filter.call(f,g=>g.selected).map(g=>g[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let l=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(f){a==null||a();const p=f.detail.value,g=new Set(Array.isArray(p)?p:[p]);for(const m of i.options)m.selected=g.has(m.value);e.setValue(r,{value:o(!0)}),l=o(!1)},multipleSelection(f){i.multiple=!0},remove(f){const p=i.options,g=f.detail.remove;p[g].selected=!1,i.remove(g),p.length>0&&Array.prototype.findIndex.call(p,v=>v.selected)===-1&&(p[0].selected=!0),e.setValue(r,{value:o(!0),items:u(f)}),l=o(!1)},clear(f){for(;i.length!==0;)i.remove(0);e.setValue(r,{value:null,items:[]}),l=o(!1)},insert(f){const{index:p,displayValue:g,exportValue:m}=f.detail.insert,v=i.children[p],x=document.createElement("option");x.textContent=g,x.value=m,v?v.before(x):i.append(x),e.setValue(r,{value:o(!0),items:u(f)}),l=o(!1)},items(f){const{items:p}=f.detail;for(;i.length!==0;)i.remove(0);for(const g of p){const{displayValue:m,exportValue:v}=g,x=document.createElement("option");x.textContent=m,x.value=v,i.append(x)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(r,{value:o(!0),items:u(f)}),l=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const g of f.target.options)g.selected=p.has(g.index);e.setValue(r,{value:o(!0)}),l=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{var p;const h=o(!0),f=o(!1);e.setValue(r,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:r,name:"Keystroke",value:l,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(r,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class Q6 extends zi{constructor(e){const{data:r,elements:n}=e;super(e,{isRenderable:zi._hasPopupData(r)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new LPe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),r=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",r.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(n=>`${FB}${n}`).join(",")),this.container}}var gb,W4,H4,vb,cv,_i,of,xb,pj,mj,yb,lf,yu,cf,gj,uf,vj,uv,dv,Pn,RT,J6,Noe,Eoe,Coe,Toe,DT,FT,Z6;class LPe{constructor({container:e,color:r,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:d,open:h}){ee(this,Pn);ee(this,gb,te(this,Pn,Coe).bind(this));ee(this,W4,te(this,Pn,Z6).bind(this));ee(this,H4,te(this,Pn,FT).bind(this));ee(this,vb,te(this,Pn,DT).bind(this));ee(this,cv,null);ee(this,_i,null);ee(this,of,null);ee(this,xb,null);ee(this,pj,null);ee(this,mj,null);ee(this,yb,null);ee(this,lf,!1);ee(this,yu,null);ee(this,cf,null);ee(this,gj,null);ee(this,uf,null);ee(this,vj,null);ee(this,uv,null);ee(this,dv,!1);var f;G(this,_i,e),G(this,vj,i),G(this,of,a),G(this,uf,o),G(this,mj,l),G(this,cv,r),G(this,gj,u),G(this,yb,d),G(this,pj,n),G(this,xb,UB.toDateObject(s)),this.trigger=n.flatMap(p=>p.getElementsToTriggerPopup());for(const p of this.trigger)p.addEventListener("click",b(this,vb)),p.addEventListener("mouseenter",b(this,H4)),p.addEventListener("mouseleave",b(this,W4)),p.classList.add("popupTriggerArea");for(const p of n)(f=p.container)==null||f.addEventListener("keydown",b(this,gb));b(this,_i).hidden=!0,h&&te(this,Pn,DT).call(this)}render(){if(b(this,yu))return;const e=G(this,yu,document.createElement("div"));if(e.className="popup",b(this,cv)){const s=e.style.outlineColor=Gt.makeHexColor(...b(this,cv));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=Gt.makeHexColor(...b(this,cv).map(o=>Math.floor(.7*(255-o)+o)))}const r=document.createElement("span");r.className="header";const n=document.createElement("h1");if(r.append(n),{dir:n.dir,str:n.textContent}=b(this,vj),e.append(r),b(this,xb)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:b(this,xb).valueOf()})),r.append(s)}const i=b(this,Pn,RT);if(i)woe.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(b(this,of));e.append(s)}b(this,_i).append(e)}_formatContents({str:e,dir:r}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=r;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:r}){var n;b(this,uv)||G(this,uv,{contentsObj:b(this,of),richText:b(this,uf)}),e&&G(this,cf,null),r&&(G(this,uf,te(this,Pn,Eoe).call(this,r)),G(this,of,null)),(n=b(this,yu))==null||n.remove(),G(this,yu,null)}resetEdited(){var e;b(this,uv)&&({contentsObj:Ns(this,of)._,richText:Ns(this,uf)._}=b(this,uv),G(this,uv,null),(e=b(this,yu))==null||e.remove(),G(this,yu,null),G(this,cf,null))}forceHide(){G(this,dv,this.isVisible),b(this,dv)&&(b(this,_i).hidden=!0)}maybeShow(){b(this,dv)&&(b(this,yu)||te(this,Pn,FT).call(this),G(this,dv,!1),b(this,_i).hidden=!1)}get isVisible(){return b(this,_i).hidden===!1}}gb=new WeakMap,W4=new WeakMap,H4=new WeakMap,vb=new WeakMap,cv=new WeakMap,_i=new WeakMap,of=new WeakMap,xb=new WeakMap,pj=new WeakMap,mj=new WeakMap,yb=new WeakMap,lf=new WeakMap,yu=new WeakMap,cf=new WeakMap,gj=new WeakMap,uf=new WeakMap,vj=new WeakMap,uv=new WeakMap,dv=new WeakMap,Pn=new WeakSet,RT=function(){const e=b(this,uf),r=b(this,of);return e!=null&&e.str&&(!(r!=null&&r.str)||r.str===e.str)&&b(this,uf).html||null},J6=function(){var e,r,n;return((n=(r=(e=b(this,Pn,RT))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.fontSize)||0},Noe=function(){var e,r,n;return((n=(r=(e=b(this,Pn,RT))==null?void 0:e.attributes)==null?void 0:r.style)==null?void 0:n.color)||null},Eoe=function(e){const r=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:r}]}},i={style:{color:b(this,Pn,Noe),fontSize:b(this,Pn,J6)?`calc(${b(this,Pn,J6)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))r.push({name:"span",value:s,attributes:i});return n},Coe=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&b(this,lf))&&te(this,Pn,DT).call(this)},Toe=function(){if(b(this,cf)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:r,pageHeight:n,pageX:i,pageY:s}}}=b(this,mj);let a=!!b(this,yb),o=a?b(this,yb):b(this,gj);for(const g of b(this,pj))if(!o||Gt.intersect(g.data.rect,o)!==null){o=g.data.rect,a=!0;break}const l=Gt.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,f=l[1];G(this,cf,[100*(h-i)/r,100*(f-s)/n]);const{style:p}=b(this,_i);p.left=`${b(this,cf)[0]}%`,p.top=`${b(this,cf)[1]}%`},DT=function(){G(this,lf,!b(this,lf)),b(this,lf)?(te(this,Pn,FT).call(this),b(this,_i).addEventListener("click",b(this,vb)),b(this,_i).addEventListener("keydown",b(this,gb))):(te(this,Pn,Z6).call(this),b(this,_i).removeEventListener("click",b(this,vb)),b(this,_i).removeEventListener("keydown",b(this,gb)))},FT=function(){b(this,yu)||this.render(),this.isVisible?b(this,lf)&&b(this,_i).classList.add("focused"):(te(this,Pn,Toe).call(this),b(this,_i).hidden=!1,b(this,_i).style.zIndex=parseInt(b(this,_i).style.zIndex)+1e3)},Z6=function(){b(this,_i).classList.remove("focused"),!(b(this,lf)||!this.isVisible)&&(b(this,_i).hidden=!0,b(this,_i).style.zIndex=parseInt(b(this,_i).style.zIndex)-1e3)};class Poe extends zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Or.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const r of this.textContent){const n=document.createElement("span");n.textContent=r,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var xj;class IPe extends zi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ee(this,xj,null)}render(){this.container.classList.add("lineAnnotation");const r=this.data,{width:n,height:i}=Hm(r.rect),s=this.svgFactory.create(n,i,!0),a=G(this,xj,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",r.rect[2]-r.lineCoordinates[0]),a.setAttribute("y1",r.rect[3]-r.lineCoordinates[1]),a.setAttribute("x2",r.rect[2]-r.lineCoordinates[2]),a.setAttribute("y2",r.rect[3]-r.lineCoordinates[3]),a.setAttribute("stroke-width",r.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,xj)}addHighlightArea(){this.container.classList.add("highlightArea")}}xj=new WeakMap;var yj;class RPe extends zi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ee(this,yj,null)}render(){this.container.classList.add("squareAnnotation");const r=this.data,{width:n,height:i}=Hm(r.rect),s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=G(this,yj,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,yj)}addHighlightArea(){this.container.classList.add("highlightArea")}}yj=new WeakMap;var bj;class DPe extends zi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ee(this,bj,null)}render(){this.container.classList.add("circleAnnotation");const r=this.data,{width:n,height:i}=Hm(r.rect),s=this.svgFactory.create(n,i,!0),a=r.borderStyle.width,o=G(this,bj,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!r.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,bj)}addHighlightArea(){this.container.classList.add("highlightArea")}}bj=new WeakMap;var wj;class koe extends zi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ee(this,wj,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,vertices:n,borderStyle:i,popupRef:s}}=this;if(!n)return this.container;const{width:a,height:o}=Hm(r),l=this.svgFactory.create(a,o,!0);let u=[];for(let h=0,f=n.length;h<f;h+=2){const p=n[h]-r[0],g=r[3]-n[h+1];u.push(`${p},${g}`)}u=u.join(" ");const d=G(this,wj,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),l.append(d),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return b(this,wj)}addHighlightArea(){this.container.classList.add("highlightArea")}}wj=new WeakMap;class FPe extends koe{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class $Pe extends zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var _j,hv,Sj,eF;class VB extends zi{constructor(r){super(r,{isRenderable:!0,ignoreBorder:!0});ee(this,Sj);ee(this,_j,null);ee(this,hv,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Or.HIGHLIGHT:Or.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:r,rotation:n,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=te(this,Sj,eF).call(this,n,r),d=this.svgFactory.create(l,u,!0),h=G(this,_j,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",s.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let f=0,p=i.length;f<p;f++){const g=this.svgFactory.createElement(this.svgElementName);b(this,hv).push(g),g.setAttribute("points",i[f].join(",")),h.append(g)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(r){super.updateEdited(r);const{thickness:n,points:i,rect:s}=r,a=b(this,_j);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,l=b(this,hv).length;o<l;o++)b(this,hv)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:u}=te(this,Sj,eF).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return b(this,hv)}addHighlightArea(){this.container.classList.add("highlightArea")}}_j=new WeakMap,hv=new WeakMap,Sj=new WeakSet,eF=function(r,n){switch(r){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class Ooe extends zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Or.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class BPe extends zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class UPe extends zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class zPe extends zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Moe extends zi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Or.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Aj,jj,tF;class qPe extends zi{constructor(r){var i;super(r,{isRenderable:!0});ee(this,jj);ee(this,Aj,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:r,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",te(this,jj,tF).bind(this)),G(this,Aj,i);const{isMac:s}=uo.platform;return r.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&te(this,jj,tF).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),r.append(i),r}getElementsToTriggerPopup(){return b(this,Aj)}addHighlightArea(){this.container.classList.add("highlightArea")}}Aj=new WeakMap,jj=new WeakSet,tF=function(){var r;(r=this.downloadManager)==null||r.openOrDownloadData(this.content,this.filename)};var Nj,fv,pv,Ej,dx,Loe,rF;class WPe{constructor({div:e,accessibilityManager:r,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}){ee(this,dx);ee(this,Nj,null);ee(this,fv,null);ee(this,pv,new Map);ee(this,Ej,null);this.div=e,G(this,Nj,r),G(this,fv,n),G(this,Ej,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return b(this,pv).size>0}async render(e){var a;const{annotations:r}=e,n=this.div;Jv(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new HB,annotationStorage:e.annotationStorage||new qB,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of r){if(o.noHTML)continue;const l=o.annotationType===ls.POPUP;if(l){const h=i.get(o.id);if(!h)continue;s.elements=h}else{const{width:h,height:f}=Hm(o.rect);if(h<=0||f<=0)continue}s.data=o;const u=EPe.create(s);if(!u.isRenderable)continue;if(!l&&o.popupRef){const h=i.get(o.popupRef);h?h.push(u):i.set(o.popupRef,[u])}const d=u.render();o.hidden&&(d.style.visibility="hidden"),await te(this,dx,Loe).call(this,d,o.id),u._isEditable&&(b(this,pv).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}te(this,dx,rF).call(this)}update({viewport:e}){const r=this.div;this.viewport=e,Jv(r,{rotation:e.rotation}),te(this,dx,rF).call(this),r.hidden=!1}getEditableAnnotations(){return Array.from(b(this,pv).values())}getEditableAnnotation(e){return b(this,pv).get(e)}}Nj=new WeakMap,fv=new WeakMap,pv=new WeakMap,Ej=new WeakMap,dx=new WeakSet,Loe=async function(e,r){var a,o;const n=e.firstChild||e,i=n.id=`${FB}${r}`,s=await((a=b(this,Ej))==null?void 0:a.getAriaAttributes(i));if(s)for(const[l,u]of s)n.setAttribute(l,u);this.div.append(e),(o=b(this,Nj))==null||o.moveElementInDOM(this.div,e,n,!1)},rF=function(){if(!b(this,fv))return;const e=this.div;for(const[r,n]of b(this,fv)){const i=e.querySelector(`[data-annotation-id="${r}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}b(this,fv).clear()};const fC=/\r\n?|\n/g;var bu,xl,Cj,mv,yl,rs,Ioe,Roe,Doe,$T,If,BT,UT,Foe,iF,$oe;const Bn=class Bn extends pi{constructor(r){super({...r,name:"freeTextEditor"});ee(this,rs);ee(this,bu);ee(this,xl,"");ee(this,Cj,`${this.id}-editor`);ee(this,mv,null);ee(this,yl);G(this,bu,r.color||Bn._defaultColor||pi._defaultLineColor),G(this,yl,r.fontSize||Bn._defaultFontSize)}static get _keyboardManager(){const r=Bn.prototype,n=a=>a.isEmpty(),i=Zv.TRANSLATE_SMALL,s=Zv.TRANSLATE_BIG;return $r(this,"_keyboardManager",new SN([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],r.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],r.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],r._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],r._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],r._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],r._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],r._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],r._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],r._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],r._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(r,n){pi.initialize(r,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(r,n){switch(r){case Vr.FREETEXT_SIZE:Bn._defaultFontSize=n;break;case Vr.FREETEXT_COLOR:Bn._defaultColor=n;break}}updateParams(r,n){switch(r){case Vr.FREETEXT_SIZE:te(this,rs,Ioe).call(this,n);break;case Vr.FREETEXT_COLOR:te(this,rs,Roe).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Vr.FREETEXT_SIZE,Bn._defaultFontSize],[Vr.FREETEXT_COLOR,Bn._defaultColor||pi._defaultLineColor]]}get propertiesToUpdate(){return[[Vr.FREETEXT_SIZE,b(this,yl)],[Vr.FREETEXT_COLOR,b(this,bu)]]}_translateEmpty(r,n){this._uiManager.translateSelectedEditors(r,n,!0)}getInitialTranslation(){const r=this.parentScale;return[-Bn._internalPadding*r,-(Bn._internalPadding+b(this,yl))*r]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(Or.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),G(this,mv,new AbortController);const r=this._uiManager.combinedSignal(b(this,mv));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:r}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:r}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:r}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:r}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:r})}disableEditMode(){var r;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",b(this,Cj)),this._isDraggable=!0,(r=b(this,mv))==null||r.abort(),G(this,mv,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(r){this._focusEventsAllowed&&(super.focusin(r),r.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(r){var n;this.width||(this.enableEditMode(),r&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const r=b(this,xl),n=G(this,xl,te(this,rs,Doe).call(this).trimEnd());if(r===n)return;const i=s=>{if(G(this,xl,s),!s){this.remove();return}te(this,rs,UT).call(this),this._uiManager.rebuild(this),te(this,rs,$T).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(r)},mustExec:!1}),te(this,rs,$T).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(r){this.enterInEditMode()}keydown(r){r.target===this.div&&r.key==="Enter"&&(this.enterInEditMode(),r.preventDefault())}editorDivKeydown(r){Bn._keyboardManager.exec(this,r)}editorDivFocus(r){this.isEditing=!0}editorDivBlur(r){this.isEditing=!1}editorDivInput(r){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let r,n;this.width&&(r=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",b(this,Cj)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${b(this,yl)}px * var(--scale-factor))`,i.color=b(this,bu),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),QP(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let g,m;switch(this.rotation){case 0:g=r+(o[0]-f)/d,m=n+this.height-(o[1]-p)/h;break;case 90:g=r+(o[0]-f)/d,m=n-(o[1]-p)/h,[l,u]=[u,-l];break;case 180:g=r-this.width+(o[0]-f)/d,m=n-(o[1]-p)/h,[l,u]=[-l,-u];break;case 270:g=r+(o[0]-f-this.height*h)/d,m=n+(o[1]-p-this.width*d)/h,[l,u]=[-u,l];break}this.setAt(g*s,m*a,l,u)}else this.setAt(r*s,n*a,this.width*s,this.height*a);te(this,rs,UT).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(r){var g,m,v;const n=r.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;r.preventDefault();const s=te(g=Bn,If,iF).call(g,n.getData("text")||"").replaceAll(fC,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,d=[],h=[];if(l.nodeType===Node.TEXT_NODE){const x=l.parentElement;if(h.push(l.nodeValue.slice(u).replaceAll(fC,"")),x!==this.editorDiv){let y=d;for(const w of this.editorDiv.childNodes){if(w===x){y=h;continue}y.push(te(m=Bn,If,BT).call(m,w))}}d.push(l.nodeValue.slice(0,u).replaceAll(fC,""))}else if(l===this.editorDiv){let x=d,y=0;for(const w of this.editorDiv.childNodes)y++===u&&(x=h),x.push(te(v=Bn,If,BT).call(v,w))}G(this,xl,`${d.join(`
`)}${s}${h.join(`
`)}`),te(this,rs,UT).call(this);const f=new Range;let p=d.reduce((x,y)=>x+y.length,0);for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const y=x.nodeValue.length;if(p<=y){f.setStart(x,p),f.setEnd(x,p);break}p-=y}a.removeAllRanges(),a.addRange(f)}get contentDiv(){return this.editorDiv}static async deserialize(r,n,i){var o;let s=null;if(r instanceof Poe){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:d,rotation:h,id:f,popupRef:p},textContent:g,textPosition:m,parent:{page:{pageNumber:v}}}=r;if(!g||g.length===0)return null;s=r={annotationType:Or.FREETEXT,color:Array.from(u),fontSize:l,value:g.join(`
`),position:m,pageIndex:v-1,rect:d.slice(0),rotation:h,id:f,deleted:!1,popupRef:p}}const a=await super.deserialize(r,n,i);return G(a,yl,r.fontSize),G(a,bu,Gt.makeHexColor(...r.color)),G(a,xl,te(o=Bn,If,iF).call(o,r.value)),a.annotationElementId=r.id||null,a._initialData=s,a}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Bn._internalPadding*this.parentScale,i=this.getRect(n,n),s=pi._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:b(this,bu)),a={annotationType:Or.FREETEXT,color:s,fontSize:b(this,yl),value:te(this,rs,Foe).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return r?a:this.annotationElementId&&!te(this,rs,$oe).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(r){const n=super.renderAnnotationElement(r);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${b(this,yl)}px * var(--scale-factor))`,i.color=b(this,bu),n.replaceChildren();for(const a of b(this,xl).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const s=Bn._internalPadding*this.parentScale;return r.updateEdited({rect:this.getRect(s,s),popupContent:b(this,xl)}),n}resetAnnotationElement(r){super.resetAnnotationElement(r),r.resetEdited()}};bu=new WeakMap,xl=new WeakMap,Cj=new WeakMap,mv=new WeakMap,yl=new WeakMap,rs=new WeakSet,Ioe=function(r){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-b(this,yl))*this.parentScale),G(this,yl,s),te(this,rs,$T).call(this)},i=b(this,yl);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Roe=function(r){const n=s=>{G(this,bu,this.editorDiv.style.color=s)},i=b(this,bu);this.addCommands({cmd:n.bind(this,r),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Doe=function(){var i;const r=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(r.push(te(i=Bn,If,BT).call(i,s)),n=s);return r.join(`
`)},$T=function(){const[r,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/r,this.height=i.height/n):(this.width=i.height/r,this.height=i.width/n),this.fixAndSetPosition()},If=new WeakSet,BT=function(r){return(r.nodeType===Node.TEXT_NODE?r.nodeValue:r.innerText).replaceAll(fC,"")},UT=function(){if(this.editorDiv.replaceChildren(),!!b(this,xl))for(const r of b(this,xl).split(`
`)){const n=document.createElement("div");n.append(r?document.createTextNode(r):document.createElement("br")),this.editorDiv.append(n)}},Foe=function(){return b(this,xl).replaceAll(""," ")},iF=function(r){return r.replaceAll(" ","")},$oe=function(r){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||r.value!==n||r.fontSize!==i||r.color.some((o,l)=>o!==s[l])||r.pageIndex!==a},ee(Bn,If),dt(Bn,"_freeTextDefaultContent",""),dt(Bn,"_internalPadding",0),dt(Bn,"_defaultColor",null),dt(Bn,"_defaultFontSize",10),dt(Bn,"_type","freetext"),dt(Bn,"_editorType",Or.FREETEXT);let nF=Bn;class Dt{toSVGPath(){Mn("Abstract method `toSVGPath` must be implemented.")}get box(){Mn("Abstract getter `box` must be implemented.")}serialize(e,r){Mn("Abstract method `serialize` must be implemented.")}static _rescale(e,r,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=r+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,r,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=r+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,r,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=r+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,r,n,i,s){switch(s){case 90:return[1-r/n,e/i];case 180:return[1-e/n,1-r/i];case 270:return[r/n,1-e/i];default:return[e/n,r/i]}}static _normalizePagePoint(e,r,n){switch(n){case 90:return[1-r,e];case 180:return[1-e,1-r];case 270:return[r,1-e];default:return[e,r]}}static createBezierPoints(e,r,n,i,s,a){return[(e+5*n)/6,(r+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}dt(Dt,"PRECISION",1e-4);var bl,wu,bb,wb,Od,Fr,gv,vv,Tj,Pj,_b,Sb,fm,kj,V4,G4,ys,K_,Boe,Uoe,zoe,qoe,Woe,Hoe;const qh=class qh{constructor({x:e,y:r},n,i,s,a,o=0){ee(this,ys);ee(this,bl);ee(this,wu,[]);ee(this,bb);ee(this,wb);ee(this,Od,[]);ee(this,Fr,new Float32Array(18));ee(this,gv);ee(this,vv);ee(this,Tj);ee(this,Pj);ee(this,_b);ee(this,Sb);ee(this,fm,[]);G(this,bl,n),G(this,Sb,s*i),G(this,wb,a),b(this,Fr).set([NaN,NaN,NaN,NaN,e,r],6),G(this,bb,o),G(this,Pj,b(qh,kj)*i),G(this,Tj,b(qh,G4)*i),G(this,_b,i),b(this,fm).push(e,r)}isEmpty(){return isNaN(b(this,Fr)[8])}add({x:e,y:r}){var P;G(this,gv,e),G(this,vv,r);const[n,i,s,a]=b(this,bl);let[o,l,u,d]=b(this,Fr).subarray(8,12);const h=e-u,f=r-d,p=Math.hypot(h,f);if(p<b(this,Tj))return!1;const g=p-b(this,Pj),m=g/p,v=m*h,x=m*f;let y=o,w=l;o=u,l=d,u+=v,d+=x,(P=b(this,fm))==null||P.push(e,r);const _=-x/g,A=v/g,C=_*b(this,Sb),N=A*b(this,Sb);return b(this,Fr).set(b(this,Fr).subarray(2,8),0),b(this,Fr).set([u+C,d+N],4),b(this,Fr).set(b(this,Fr).subarray(14,18),12),b(this,Fr).set([u-C,d-N],16),isNaN(b(this,Fr)[6])?(b(this,Od).length===0&&(b(this,Fr).set([o+C,l+N],2),b(this,Od).push(NaN,NaN,NaN,NaN,(o+C-n)/s,(l+N-i)/a),b(this,Fr).set([o-C,l-N],14),b(this,wu).push(NaN,NaN,NaN,NaN,(o-C-n)/s,(l-N-i)/a)),b(this,Fr).set([y,w,o,l,u,d],6),!this.isEmpty()):(b(this,Fr).set([y,w,o,l,u,d],6),Math.abs(Math.atan2(w-l,y-o)-Math.atan2(x,v))<Math.PI/2?([o,l,u,d]=b(this,Fr).subarray(2,6),b(this,Od).push(NaN,NaN,NaN,NaN,((o+u)/2-n)/s,((l+d)/2-i)/a),[o,l,y,w]=b(this,Fr).subarray(14,18),b(this,wu).push(NaN,NaN,NaN,NaN,((y+o)/2-n)/s,((w+l)/2-i)/a),!0):([y,w,o,l,u,d]=b(this,Fr).subarray(0,6),b(this,Od).push(((y+5*o)/6-n)/s,((w+5*l)/6-i)/a,((5*o+u)/6-n)/s,((5*l+d)/6-i)/a,((o+u)/2-n)/s,((l+d)/2-i)/a),[u,d,o,l,y,w]=b(this,Fr).subarray(12,18),b(this,wu).push(((y+5*o)/6-n)/s,((w+5*l)/6-i)/a,((5*o+u)/6-n)/s,((5*l+d)/6-i)/a,((o+u)/2-n)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=b(this,Od),r=b(this,wu);if(isNaN(b(this,Fr)[6])&&!this.isEmpty())return te(this,ys,Boe).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);te(this,ys,zoe).call(this,n);for(let i=r.length-6;i>=6;i-=6)isNaN(r[i])?n.push(`L${r[i+4]} ${r[i+5]}`):n.push(`C${r[i]} ${r[i+1]} ${r[i+2]} ${r[i+3]} ${r[i+4]} ${r[i+5]}`);return te(this,ys,Uoe).call(this,n),n.join(" ")}newFreeDrawOutline(e,r,n,i,s,a){return new Voe(e,r,n,i,s,a)}getOutlines(){var h;const e=b(this,Od),r=b(this,wu),n=b(this,Fr),[i,s,a,o]=b(this,bl),l=new Float32Array((((h=b(this,fm))==null?void 0:h.length)??0)+2);for(let f=0,p=l.length-2;f<p;f+=2)l[f]=(b(this,fm)[f]-i)/a,l[f+1]=(b(this,fm)[f+1]-s)/o;if(l[l.length-2]=(b(this,gv)-i)/a,l[l.length-1]=(b(this,vv)-s)/o,isNaN(n[6])&&!this.isEmpty())return te(this,ys,qoe).call(this,l);const u=new Float32Array(b(this,Od).length+24+b(this,wu).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=te(this,ys,Hoe).call(this,u,d);for(let f=r.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(r[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=r[f+p],u[d+1]=r[f+p+1],d+=2}return te(this,ys,Woe).call(this,u,d),this.newFreeDrawOutline(u,l,b(this,bl),b(this,_b),b(this,bb),b(this,wb))}};bl=new WeakMap,wu=new WeakMap,bb=new WeakMap,wb=new WeakMap,Od=new WeakMap,Fr=new WeakMap,gv=new WeakMap,vv=new WeakMap,Tj=new WeakMap,Pj=new WeakMap,_b=new WeakMap,Sb=new WeakMap,fm=new WeakMap,kj=new WeakMap,V4=new WeakMap,G4=new WeakMap,ys=new WeakSet,K_=function(){const e=b(this,Fr).subarray(4,6),r=b(this,Fr).subarray(16,18),[n,i,s,a]=b(this,bl);return[(b(this,gv)+(e[0]-r[0])/2-n)/s,(b(this,vv)+(e[1]-r[1])/2-i)/a,(b(this,gv)+(r[0]-e[0])/2-n)/s,(b(this,vv)+(r[1]-e[1])/2-i)/a]},Boe=function(){const[e,r,n,i]=b(this,bl),[s,a,o,l]=te(this,ys,K_).call(this);return`M${(b(this,Fr)[2]-e)/n} ${(b(this,Fr)[3]-r)/i} L${(b(this,Fr)[4]-e)/n} ${(b(this,Fr)[5]-r)/i} L${s} ${a} L${o} ${l} L${(b(this,Fr)[16]-e)/n} ${(b(this,Fr)[17]-r)/i} L${(b(this,Fr)[14]-e)/n} ${(b(this,Fr)[15]-r)/i} Z`},Uoe=function(e){const r=b(this,wu);e.push(`L${r[4]} ${r[5]} Z`)},zoe=function(e){const[r,n,i,s]=b(this,bl),a=b(this,Fr).subarray(4,6),o=b(this,Fr).subarray(16,18),[l,u,d,h]=te(this,ys,K_).call(this);e.push(`L${(a[0]-r)/i} ${(a[1]-n)/s} L${l} ${u} L${d} ${h} L${(o[0]-r)/i} ${(o[1]-n)/s}`)},qoe=function(e){const r=b(this,Fr),[n,i,s,a]=b(this,bl),[o,l,u,d]=te(this,ys,K_).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(r[2]-n)/s,(r[3]-i)/a,NaN,NaN,NaN,NaN,(r[4]-n)/s,(r[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(r[16]-n)/s,(r[17]-i)/a,NaN,NaN,NaN,NaN,(r[14]-n)/s,(r[15]-i)/a],0),this.newFreeDrawOutline(h,e,b(this,bl),b(this,_b),b(this,bb),b(this,wb))},Woe=function(e,r){const n=b(this,wu);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],r),r+=6},Hoe=function(e,r){const n=b(this,Fr).subarray(4,6),i=b(this,Fr).subarray(16,18),[s,a,o,l]=b(this,bl),[u,d,h,f]=te(this,ys,K_).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],r),r+=24},ee(qh,kj,8),ee(qh,V4,2),ee(qh,G4,b(qh,kj)+b(qh,V4));let ek=qh;var Ab,xv,df,Oj,wl,Mj,Li,K4,Goe;class Voe extends Dt{constructor(r,n,i,s,a,o){super();ee(this,K4);ee(this,Ab);ee(this,xv,new Float32Array(4));ee(this,df);ee(this,Oj);ee(this,wl);ee(this,Mj);ee(this,Li);G(this,Li,r),G(this,wl,n),G(this,Ab,i),G(this,Mj,s),G(this,df,a),G(this,Oj,o),this.lastPoint=[NaN,NaN],te(this,K4,Goe).call(this,o);const[l,u,d,h]=b(this,xv);for(let f=0,p=r.length;f<p;f+=2)r[f]=(r[f]-l)/d,r[f+1]=(r[f+1]-u)/h;for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-l)/d,n[f+1]=(n[f+1]-u)/h}toSVGPath(){const r=[`M${b(this,Li)[4]} ${b(this,Li)[5]}`];for(let n=6,i=b(this,Li).length;n<i;n+=6){if(isNaN(b(this,Li)[n])){r.push(`L${b(this,Li)[n+4]} ${b(this,Li)[n+5]}`);continue}r.push(`C${b(this,Li)[n]} ${b(this,Li)[n+1]} ${b(this,Li)[n+2]} ${b(this,Li)[n+3]} ${b(this,Li)[n+4]} ${b(this,Li)[n+5]}`)}return r.push("Z"),r.join(" ")}serialize([r,n,i,s],a){const o=i-r,l=s-n;let u,d;switch(a){case 0:u=Dt._rescale(b(this,Li),r,s,o,-l),d=Dt._rescale(b(this,wl),r,s,o,-l);break;case 90:u=Dt._rescaleAndSwap(b(this,Li),r,n,o,l),d=Dt._rescaleAndSwap(b(this,wl),r,n,o,l);break;case 180:u=Dt._rescale(b(this,Li),i,n,-o,l),d=Dt._rescale(b(this,wl),i,n,-o,l);break;case 270:u=Dt._rescaleAndSwap(b(this,Li),i,s,-o,-l),d=Dt._rescaleAndSwap(b(this,wl),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return b(this,xv)}newOutliner(r,n,i,s,a,o=0){return new ek(r,n,i,s,a,o)}getNewOutline(r,n){const[i,s,a,o]=b(this,xv),[l,u,d,h]=b(this,Ab),f=a*d,p=o*h,g=i*d+l,m=s*h+u,v=this.newOutliner({x:b(this,wl)[0]*f+g,y:b(this,wl)[1]*p+m},b(this,Ab),b(this,Mj),r,b(this,Oj),n??b(this,df));for(let x=2;x<b(this,wl).length;x+=2)v.add({x:b(this,wl)[x]*f+g,y:b(this,wl)[x+1]*p+m});return v.getOutlines()}}Ab=new WeakMap,xv=new WeakMap,df=new WeakMap,Oj=new WeakMap,wl=new WeakMap,Mj=new WeakMap,Li=new WeakMap,K4=new WeakSet,Goe=function(r){const n=b(this,Li);let i=n[4],s=n[5],a=i,o=s,l=i,u=s,d=i,h=s;const f=r?Math.max:Math.min;for(let g=6,m=n.length;g<m;g+=6){if(isNaN(n[g]))a=Math.min(a,n[g+4]),o=Math.min(o,n[g+5]),l=Math.max(l,n[g+4]),u=Math.max(u,n[g+5]),h<n[g+5]?(d=n[g+4],h=n[g+5]):h===n[g+5]&&(d=f(d,n[g+4]));else{const v=Gt.bezierBoundingBox(i,s,...n.slice(g,g+6));a=Math.min(a,v[0]),o=Math.min(o,v[1]),l=Math.max(l,v[2]),u=Math.max(u,v[3]),h<v[3]?(d=v[2],h=v[3]):h===v[3]&&(d=f(d,v[2]))}i=n[g+4],s=n[g+5]}const p=b(this,xv);p[0]=a-b(this,df),p[1]=o-b(this,df),p[2]=l-a+2*b(this,df),p[3]=u-o+2*b(this,df),this.lastPoint=[d,h]};var Lj,Ij,pm,_u,po,Koe,zT,Yoe,Xoe,aF;class sF{constructor(e,r=0,n=0,i=!0){ee(this,po);ee(this,Lj);ee(this,Ij);ee(this,pm,[]);ee(this,_u,[]);let s=1/0,a=-1/0,o=1/0,l=-1/0;const d=10**-4;for(const{x,y,width:w,height:_}of e){const A=Math.floor((x-r)/d)*d,C=Math.ceil((x+w+r)/d)*d,N=Math.floor((y-r)/d)*d,E=Math.ceil((y+_+r)/d)*d,P=[A,N,E,!0],L=[C,N,E,!1];b(this,pm).push(P,L),s=Math.min(s,A),a=Math.max(a,C),o=Math.min(o,N),l=Math.max(l,E)}const h=a-s+2*n,f=l-o+2*n,p=s-n,g=o-n,m=b(this,pm).at(i?-1:-2),v=[m[0],m[2]];for(const x of b(this,pm)){const[y,w,_]=x;x[0]=(y-p)/h,x[1]=(w-g)/f,x[2]=(_-g)/f}G(this,Lj,new Float32Array([p,g,h,f])),G(this,Ij,v)}getOutlines(){b(this,pm).sort((r,n)=>r[0]-n[0]||r[1]-n[1]||r[2]-n[2]);const e=[];for(const r of b(this,pm))r[3]?(e.push(...te(this,po,aF).call(this,r)),te(this,po,Yoe).call(this,r)):(te(this,po,Xoe).call(this,r),e.push(...te(this,po,aF).call(this,r)));return te(this,po,Koe).call(this,e)}}Lj=new WeakMap,Ij=new WeakMap,pm=new WeakMap,_u=new WeakMap,po=new WeakSet,Koe=function(e){const r=[],n=new Set;for(const a of e){const[o,l,u]=a;r.push([o,l,a],[o,u,a])}r.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=r.length;a<o;a+=2){const l=r[a][2],u=r[a+1][2];l.push(u),u.push(l),n.add(l),n.add(u)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,u,d,h]=a;n.delete(a);let f=o,p=l;for(s=[o,u],i.push(s);;){let g;if(n.has(d))g=d;else if(n.has(h))g=h;else break;n.delete(g),[o,l,u,d,h]=g,f!==o&&(s.push(f,p,o,p===l?l:u),f=o),p=p===l?u:l}s.push(f,p)}return new HPe(i,b(this,Lj),b(this,Ij))},zT=function(e){const r=b(this,_u);let n=0,i=r.length-1;for(;n<=i;){const s=n+i>>1,a=r[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},Yoe=function([,e,r]){const n=te(this,po,zT).call(this,e);b(this,_u).splice(n,0,[e,r])},Xoe=function([,e,r]){const n=te(this,po,zT).call(this,e);for(let i=n;i<b(this,_u).length;i++){const[s,a]=b(this,_u)[i];if(s!==e)break;if(s===e&&a===r){b(this,_u).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=b(this,_u)[i];if(s!==e)break;if(s===e&&a===r){b(this,_u).splice(i,1);return}}},aF=function(e){const[r,n,i]=e,s=[[r,n,i]],a=te(this,po,zT).call(this,i);for(let o=0;o<a;o++){const[l,u]=b(this,_u)[o];for(let d=0,h=s.length;d<h;d++){const[,f,p]=s[d];if(!(u<=f||p<=l)){if(f>=l){if(p>u)s[d][1]=u;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,p>u&&s.push([r,u,p])}}}return s};var Rj,jb;class HPe extends Dt{constructor(r,n,i){super();ee(this,Rj);ee(this,jb);G(this,jb,r),G(this,Rj,n),this.lastPoint=i}toSVGPath(){const r=[];for(const n of b(this,jb)){let[i,s]=n;r.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(r.push(`V${l}`),s=l):l===s&&(r.push(`H${o}`),i=o)}r.push("Z")}return r.join(" ")}serialize([r,n,i,s],a){const o=[],l=i-r,u=s-n;for(const d of b(this,jb)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=r+d[f]*l,h[f+1]=s-d[f+1]*u;o.push(h)}return o}get box(){return b(this,Rj)}get classNamesForOutlining(){return["highlightOutline"]}}Rj=new WeakMap,jb=new WeakMap;class oF extends ek{newFreeDrawOutline(e,r,n,i,s,a){return new VPe(e,r,n,i,s,a)}}class VPe extends Voe{newOutliner(e,r,n,i,s,a=0){return new oF(e,r,n,i,s,a)}}var Su,yv,Nb,fs,Dj,Eb,Fj,$j,mm,Au,Cb,Bj,Tn,lF,cF,uF,Z0,Qoe,Mp;const Po=class Po{constructor({editor:e=null,uiManager:r=null}){ee(this,Tn);ee(this,Su,null);ee(this,yv,null);ee(this,Nb);ee(this,fs,null);ee(this,Dj,!1);ee(this,Eb,!1);ee(this,Fj,null);ee(this,$j);ee(this,mm,null);ee(this,Au,null);ee(this,Cb);var n;e?(G(this,Eb,!1),G(this,Cb,Vr.HIGHLIGHT_COLOR),G(this,Fj,e)):(G(this,Eb,!0),G(this,Cb,Vr.HIGHLIGHT_DEFAULT_COLOR)),G(this,Au,(e==null?void 0:e._uiManager)||r),G(this,$j,b(this,Au)._eventBus),G(this,Nb,(e==null?void 0:e.color)||((n=b(this,Au))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),b(Po,Bj)||G(Po,Bj,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return $r(this,"_keyboardManager",new SN([[["Escape","mac+Escape"],Po.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Po.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Po.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Po.prototype._moveToPrevious],[["Home","mac+Home"],Po.prototype._moveToBeginning],[["End","mac+End"],Po.prototype._moveToEnd]]))}renderButton(){const e=G(this,Su,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const r=b(this,Au)._signal;e.addEventListener("click",te(this,Tn,Z0).bind(this),{signal:r}),e.addEventListener("keydown",te(this,Tn,uF).bind(this),{signal:r});const n=G(this,yv,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=b(this,Nb),e.append(n),e}renderMainDropdown(){const e=G(this,fs,te(this,Tn,lF).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===b(this,Su)){te(this,Tn,Z0).call(this,e);return}const r=e.target.getAttribute("data-color");r&&te(this,Tn,cF).call(this,r,e)}_moveToNext(e){var r,n;if(!b(this,Tn,Mp)){te(this,Tn,Z0).call(this,e);return}if(e.target===b(this,Su)){(r=b(this,fs).firstChild)==null||r.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var r,n;if(e.target===((r=b(this,fs))==null?void 0:r.firstChild)||e.target===b(this,Su)){b(this,Tn,Mp)&&this._hideDropdownFromKeyboard();return}b(this,Tn,Mp)||te(this,Tn,Z0).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var r;if(!b(this,Tn,Mp)){te(this,Tn,Z0).call(this,e);return}(r=b(this,fs).firstChild)==null||r.focus()}_moveToEnd(e){var r;if(!b(this,Tn,Mp)){te(this,Tn,Z0).call(this,e);return}(r=b(this,fs).lastChild)==null||r.focus()}hideDropdown(){var e,r;(e=b(this,fs))==null||e.classList.add("hidden"),(r=b(this,mm))==null||r.abort(),G(this,mm,null)}_hideDropdownFromKeyboard(){var e;if(!b(this,Eb)){if(!b(this,Tn,Mp)){(e=b(this,Fj))==null||e.unselect();return}this.hideDropdown(),b(this,Su).focus({preventScroll:!0,focusVisible:b(this,Dj)})}}updateColor(e){if(b(this,yv)&&(b(this,yv).style.backgroundColor=e),!b(this,fs))return;const r=b(this,Au).highlightColors.values();for(const n of b(this,fs).children)n.setAttribute("aria-selected",r.next().value===e)}destroy(){var e,r;(e=b(this,Su))==null||e.remove(),G(this,Su,null),G(this,yv,null),(r=b(this,fs))==null||r.remove(),G(this,fs,null)}};Su=new WeakMap,yv=new WeakMap,Nb=new WeakMap,fs=new WeakMap,Dj=new WeakMap,Eb=new WeakMap,Fj=new WeakMap,$j=new WeakMap,mm=new WeakMap,Au=new WeakMap,Cb=new WeakMap,Bj=new WeakMap,Tn=new WeakSet,lF=function(){const e=document.createElement("div"),r=b(this,Au)._signal;e.addEventListener("contextmenu",Yu,{signal:r}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of b(this,Au).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",b(Po,Bj)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===b(this,Nb)),s.addEventListener("click",te(this,Tn,cF).bind(this,i),{signal:r}),e.append(s)}return e.addEventListener("keydown",te(this,Tn,uF).bind(this),{signal:r}),e},cF=function(e,r){r.stopPropagation(),b(this,$j).dispatch("switchannotationeditorparams",{source:this,type:b(this,Cb),value:e})},uF=function(e){Po._keyboardManager.exec(this,e)},Z0=function(e){if(b(this,Tn,Mp)){this.hideDropdown();return}if(G(this,Dj,e.detail===0),b(this,mm)||(G(this,mm,new AbortController),window.addEventListener("pointerdown",te(this,Tn,Qoe).bind(this),{signal:b(this,Au).combinedSignal(b(this,mm))})),b(this,fs)){b(this,fs).classList.remove("hidden");return}const r=G(this,fs,te(this,Tn,lF).call(this));b(this,Su).append(r)},Qoe=function(e){var r;(r=b(this,fs))!=null&&r.contains(e.target)||this.hideDropdown()},Mp=function(){return b(this,fs)&&!b(this,fs).classList.contains("hidden")},ee(Po,Bj,null);let tk=Po;var Tb,Uj,hf,bv,Pb,Mo,zj,qj,wv,bc,_l,Ks,kb,ff,Ea,Ob,wc,Wj,Er,dF,qT,Joe,Zoe,ele,hF,eg,Tc,Ny,tle,WT,Y_,rle,nle,ile,sle,ale;const ln=class ln extends pi{constructor(r){super({...r,name:"highlightEditor"});ee(this,Er);ee(this,Tb,null);ee(this,Uj,0);ee(this,hf);ee(this,bv,null);ee(this,Pb,null);ee(this,Mo,null);ee(this,zj,null);ee(this,qj,0);ee(this,wv,null);ee(this,bc,null);ee(this,_l,null);ee(this,Ks,!1);ee(this,kb,null);ee(this,ff);ee(this,Ea,null);ee(this,Ob,"");ee(this,wc);ee(this,Wj,"");this.color=r.color||ln._defaultColor,G(this,wc,r.thickness||ln._defaultThickness),G(this,ff,r.opacity||ln._defaultOpacity),G(this,hf,r.boxes||null),G(this,Wj,r.methodOfCreation||""),G(this,Ob,r.text||""),this._isDraggable=!1,r.highlightId>-1?(G(this,Ks,!0),te(this,Er,qT).call(this,r),te(this,Er,eg).call(this)):b(this,hf)&&(G(this,Tb,r.anchorNode),G(this,Uj,r.anchorOffset),G(this,zj,r.focusNode),G(this,qj,r.focusOffset),te(this,Er,dF).call(this),te(this,Er,eg).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const r=ln.prototype;return $r(this,"_keyboardManager",new SN([[["ArrowLeft","mac+ArrowLeft"],r._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],r._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],r._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],r._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:b(this,Ks)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:b(this,wc),methodOfCreation:b(this,Wj)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(r){return{numberOfColors:r.get("color").size}}static initialize(r,n){var i;pi.initialize(r,n),ln._defaultColor||(ln._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(r,n){switch(r){case Vr.HIGHLIGHT_DEFAULT_COLOR:ln._defaultColor=n;break;case Vr.HIGHLIGHT_THICKNESS:ln._defaultThickness=n;break}}translateInPage(r,n){}get toolbarPosition(){return b(this,kb)}updateParams(r,n){switch(r){case Vr.HIGHLIGHT_COLOR:te(this,Er,Joe).call(this,n);break;case Vr.HIGHLIGHT_THICKNESS:te(this,Er,Zoe).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Vr.HIGHLIGHT_DEFAULT_COLOR,ln._defaultColor],[Vr.HIGHLIGHT_THICKNESS,ln._defaultThickness]]}get propertiesToUpdate(){return[[Vr.HIGHLIGHT_COLOR,this.color||ln._defaultColor],[Vr.HIGHLIGHT_THICKNESS,b(this,wc)||ln._defaultThickness],[Vr.HIGHLIGHT_FREE,b(this,Ks)]]}async addEditToolbar(){const r=await super.addEditToolbar();return r?(this._uiManager.highlightColors&&(G(this,Pb,new tk({editor:this})),r.addColorPicker(b(this,Pb))),r):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(te(this,Er,Y_).call(this))}getBaseTranslation(){return[0,0]}getRect(r,n){return super.getRect(r,n,te(this,Er,Y_).call(this))}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),r&&this.div.focus()}remove(){te(this,Er,hF).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(te(this,Er,eg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?te(this,Er,hF).call(this):r&&(te(this,Er,eg).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),this.show(this._isVisible),n&&this.select()}rotate(r){var s,a,o;const{drawLayer:n}=this.parent;let i;b(this,Ks)?(r=(r-this.rotation+360)%360,i=te(s=ln,Tc,Ny).call(s,b(this,bc).box,r)):i=te(a=ln,Tc,Ny).call(a,[this.x,this.y,this.width,this.height],r),n.updateProperties(b(this,_l),{bbox:i,root:{"data-main-rotation":r}}),n.updateProperties(b(this,Ea),{bbox:te(o=ln,Tc,Ny).call(o,b(this,Mo).box,r),root:{"data-main-rotation":r}})}render(){if(this.div)return this.div;const r=super.render();b(this,Ob)&&(r.setAttribute("aria-label",b(this,Ob)),r.setAttribute("role","mark")),b(this,Ks)?r.classList.add("free"):this.div.addEventListener("keydown",te(this,Er,tle).bind(this),{signal:this._uiManager._signal});const n=G(this,wv,document.createElement("div"));r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=b(this,bv);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),QP(this,b(this,wv),["pointerover","pointerleave"]),this.enableEditing(),r}pointerover(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(b(this,Ea),{rootClass:{hovered:!0}})}pointerleave(){var r;this.isSelected||(r=this.parent)==null||r.drawLayer.updateProperties(b(this,Ea),{rootClass:{hovered:!1}})}_moveCaret(r){switch(this.parent.unselect(this),r){case 0:case 2:te(this,Er,WT).call(this,!0);break;case 1:case 3:te(this,Er,WT).call(this,!1);break}}select(){var r;super.select(),b(this,Ea)&&((r=this.parent)==null||r.drawLayer.updateProperties(b(this,Ea),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var r;super.unselect(),b(this,Ea)&&((r=this.parent)==null||r.drawLayer.updateProperties(b(this,Ea),{rootClass:{selected:!1}}),b(this,Ks)||te(this,Er,WT).call(this,!1))}get _mustFixPosition(){return!b(this,Ks)}show(r=this._isVisible){super.show(r),this.parent&&(this.parent.drawLayer.updateProperties(b(this,_l),{rootClass:{hidden:!r}}),this.parent.drawLayer.updateProperties(b(this,Ea),{rootClass:{hidden:!r}}))}static startHighlighting(r,n,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:d}=i.getBoundingClientRect(),h=new AbortController,f=r.combinedSignal(h),p=g=>{h.abort(),te(this,Tc,sle).call(this,r,g)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",Fl,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Yu,{signal:f}),i.addEventListener("pointermove",te(this,Tc,ile).bind(this,r),{signal:f}),this._freeHighlight=new oF({x:s,y:a},[o,l,u,d],r.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=r.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(r,n,i){var m,v,x,y;let s=null;if(r instanceof Ooe){const{data:{quadPoints:w,rect:_,rotation:A,id:C,color:N,opacity:E,popupRef:P},parent:{page:{pageNumber:L}}}=r;s=r={annotationType:Or.HIGHLIGHT,color:Array.from(N),opacity:E,quadPoints:w,boxes:null,pageIndex:L-1,rect:_.slice(0),rotation:A,id:C,deleted:!1,popupRef:P}}else if(r instanceof VB){const{data:{inkLists:w,rect:_,rotation:A,id:C,color:N,borderStyle:{rawWidth:E},popupRef:P},parent:{page:{pageNumber:L}}}=r;s=r={annotationType:Or.HIGHLIGHT,color:Array.from(N),thickness:E,inkLists:w,boxes:null,pageIndex:L-1,rect:_.slice(0),rotation:A,id:C,deleted:!1,popupRef:P}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=r,d=await super.deserialize(r,n,i);d.color=Gt.makeHexColor(...a),G(d,ff,u||1),l&&G(d,wc,r.thickness),d.annotationElementId=r.id||null,d._initialData=s;const[h,f]=d.pageDimensions,[p,g]=d.pageTranslation;if(o){const w=G(d,hf,[]);for(let _=0;_<o.length;_+=8)w.push({x:(o[_]-p)/h,y:1-(o[_+1]-g)/f,width:(o[_+2]-o[_])/h,height:(o[_+1]-o[_+5])/f});te(m=d,Er,dF).call(m),te(v=d,Er,eg).call(v),d.rotate(d.rotation)}else if(l){G(d,Ks,!0);const w=l[0],_={x:w[0]-p,y:f-(w[1]-g)},A=new oF(_,[0,0,h,f],1,b(d,wc)/2,!0,.001);for(let E=0,P=w.length;E<P;E+=2)_.x=w[E]-p,_.y=f-(w[E+1]-g),A.add(_);const{id:C,clipPathId:N}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);te(x=d,Er,qT).call(x,{highlightOutlines:A.getOutlines(),highlightId:C,clipPathId:N}),te(y=d,Er,eg).call(y)}return d}serialize(r=!1){if(this.isEmpty()||r)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=pi._colorManager.convert(this.color),s={annotationType:Or.HIGHLIGHT,color:i,opacity:b(this,ff),thickness:b(this,wc),quadPoints:te(this,Er,rle).call(this),outlines:te(this,Er,nle).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:te(this,Er,Y_).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!te(this,Er,ale).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Tb=new WeakMap,Uj=new WeakMap,hf=new WeakMap,bv=new WeakMap,Pb=new WeakMap,Mo=new WeakMap,zj=new WeakMap,qj=new WeakMap,wv=new WeakMap,bc=new WeakMap,_l=new WeakMap,Ks=new WeakMap,kb=new WeakMap,ff=new WeakMap,Ea=new WeakMap,Ob=new WeakMap,wc=new WeakMap,Wj=new WeakMap,Er=new WeakSet,dF=function(){const r=new sF(b(this,hf),.001);G(this,bc,r.getOutlines()),[this.x,this.y,this.width,this.height]=b(this,bc).box;const n=new sF(b(this,hf),.0025,.001,this._uiManager.direction==="ltr");G(this,Mo,n.getOutlines());const{lastPoint:i}=b(this,Mo);G(this,kb,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},qT=function({highlightOutlines:r,highlightId:n,clipPathId:i}){var h,f;if(G(this,bc,r),G(this,Mo,r.getNewOutline(b(this,wc)/2+1.5,.0025)),n>=0)G(this,_l,n),G(this,bv,i),this.parent.drawLayer.finalizeDraw(n,{bbox:r.box,path:{d:r.toSVGPath()}}),G(this,Ea,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:b(this,Mo).box,path:{d:b(this,Mo).toSVGPath()}},!0));else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(b(this,_l),{bbox:te(h=ln,Tc,Ny).call(h,b(this,bc).box,(p-this.rotation+360)%360),path:{d:r.toSVGPath()}}),this.parent.drawLayer.updateProperties(b(this,Ea),{bbox:te(f=ln,Tc,Ny).call(f,b(this,Mo).box,p),path:{d:b(this,Mo).toSVGPath()}})}const[a,o,l,u]=r.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[p,g]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*g/p,this.height=u*p/g;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*g/p,this.height=u*p/g;break}}const{lastPoint:d}=b(this,Mo);G(this,kb,[(d[0]-a)/l,(d[1]-o)/u])},Joe=function(r){const n=(a,o)=>{var l,u;this.color=a,G(this,ff,o),(l=this.parent)==null||l.drawLayer.updateProperties(b(this,_l),{root:{fill:a,"fill-opacity":o}}),(u=b(this,Pb))==null||u.updateColor(a)},i=this.color,s=b(this,ff);this.addCommands({cmd:n.bind(this,r,ln._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(r)},!0)},Zoe=function(r){const n=b(this,wc),i=s=>{G(this,wc,s),te(this,Er,ele).call(this,s)};this.addCommands({cmd:i.bind(this,r),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Vr.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:r},!0)},ele=function(r){if(!b(this,Ks))return;te(this,Er,qT).call(this,{highlightOutlines:b(this,bc).getNewOutline(r/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},hF=function(){b(this,_l)===null||!this.parent||(this.parent.drawLayer.remove(b(this,_l)),G(this,_l,null),this.parent.drawLayer.remove(b(this,Ea)),G(this,Ea,null))},eg=function(r=this.parent){b(this,_l)===null&&({id:Ns(this,_l)._,clipPathId:Ns(this,bv)._}=r.drawLayer.draw({bbox:b(this,bc).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":b(this,ff)},rootClass:{highlight:!0,free:b(this,Ks)},path:{d:b(this,bc).toSVGPath()}},!1,!0),G(this,Ea,r.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:b(this,Ks)},bbox:b(this,Mo).box,path:{d:b(this,Mo).toSVGPath()}},b(this,Ks))),b(this,wv)&&(b(this,wv).style.clipPath=b(this,bv)))},Tc=new WeakSet,Ny=function([r,n,i,s],a){switch(a){case 90:return[1-n-s,r,s,i];case 180:return[1-r-i,1-n-s,i,s];case 270:return[n,1-r-i,s,i]}return[r,n,i,s]},tle=function(r){ln._keyboardManager.exec(this,r)},WT=function(r){if(!b(this,Tb))return;const n=window.getSelection();r?n.setPosition(b(this,Tb),b(this,Uj)):n.setPosition(b(this,zj),b(this,qj))},Y_=function(){return b(this,Ks)?this.rotation:0},rle=function(){if(b(this,Ks))return null;const[r,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=b(this,hf),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:d,width:h,height:f}of a){const p=u*r+i,g=(1-d)*n+s;o[l]=o[l+4]=p,o[l+1]=o[l+3]=g,o[l+2]=o[l+6]=p+h*r,o[l+5]=o[l+7]=g-f*n,l+=8}return o},nle=function(r){return b(this,bc).serialize(r,te(this,Er,Y_).call(this))},ile=function(r,n){this._freeHighlight.add(n)&&r.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},sle=function(r,n){this._freeHighlight.isEmpty()?r.drawLayer.remove(this._freeHighlightId):r.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},ale=function(r){const{color:n}=this._initialData;return r.color.some((i,s)=>i!==n[s])},ee(ln,Tc),dt(ln,"_defaultColor",null),dt(ln,"_defaultOpacity",1),dt(ln,"_defaultThickness",12),dt(ln,"_type","highlight"),dt(ln,"_editorType",Or.HIGHLIGHT),dt(ln,"_freeHighlightId",-1),dt(ln,"_freeHighlight",null),dt(ln,"_freeHighlightClipId","");let rk=ln;var _v;class GPe{constructor(){ee(this,_v,Object.create(null))}updateProperty(e,r){this[e]=r,this.updateSVGProperty(e,r)}updateProperties(e){if(e)for(const[r,n]of Object.entries(e))this.updateProperty(r,n)}updateSVGProperty(e,r){b(this,_v)[e]=r}toSVGProperties(){const e=b(this,_v);return G(this,_v,Object.create(null)),{root:e}}reset(){G(this,_v,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Mn("Not implemented")}}_v=new WeakMap;var Sl,Mb,Ps,Sv,Av,gm,vm,xm,jv,Jr,pF,mF,gF,X_,ole,HT,Q_,Ey;const Bt=class Bt extends pi{constructor(r){super(r);ee(this,Jr);ee(this,Sl,null);ee(this,Mb);dt(this,"_drawId",null);G(this,Mb,r.mustBeCommitted||!1),r.drawOutlines&&(te(this,Jr,pF).call(this,r),te(this,Jr,X_).call(this))}static _mergeSVGProperties(r,n){const i=new Set(Object.keys(r));for(const[s,a]of Object.entries(n))i.has(s)?Object.assign(r[s],a):r[s]=a;return r}static getDefaultDrawingOptions(r){Mn("Not implemented")}static get typesMap(){Mn("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(r,n){const i=this.typesMap.get(r);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(b(Bt,Ps).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(r,n){const i=this.constructor.typesMap.get(r);i&&this._updateProperty(r,i,n)}static get defaultPropertiesToUpdate(){const r=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)r.push([i,n[s]]);return r}get propertiesToUpdate(){const r=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)r.push([i,n[s]]);return r}_updateProperty(r,n,i){const s=this._drawingOptions,a=s[n],o=l=>{var d;s.updateProperty(n,l);const u=b(this,Sl).updateProperty(n,l);u&&te(this,Jr,Q_).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:r,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties(b(this,Sl).getPathResizingSVGProperties(te(this,Jr,HT).call(this)),{bbox:te(this,Jr,Ey).call(this)}))}_onResized(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties(b(this,Sl).getPathResizedSVGProperties(te(this,Jr,HT).call(this)),{bbox:te(this,Jr,Ey).call(this)}))}_onTranslating(r,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:te(this,Jr,Ey).call(this,r,n)})}_onTranslated(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties(b(this,Sl).getPathTranslatedSVGProperties(te(this,Jr,HT).call(this),this.parentDimensions),{bbox:te(this,Jr,Ey).call(this)}))}_onStartDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(r){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,b(this,Mb)&&(G(this,Mb,!1),this.commit(),this.parent.setSelected(this),r&&this.isOnScreen&&this.div.focus())}remove(){te(this,Jr,gF).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(te(this,Jr,X_).call(this),te(this,Jr,Q_).call(this,b(this,Sl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(r){var i;let n=!1;this.parent&&!r?(this._uiManager.removeShouldRescale(this),te(this,Jr,gF).call(this)):r&&(this._uiManager.addShouldRescale(this),te(this,Jr,X_).call(this,r),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(r),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Bt._mergeSVGProperties({bbox:te(this,Jr,Ey).call(this)},b(this,Sl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&te(this,Jr,Q_).call(this,b(this,Sl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const r=super.render();r.classList.add("draw");const n=document.createElement("div");r.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),r}static createDrawerInstance(r,n,i,s,a){Mn("Not implemented")}static startDrawing(r,n,i,s){var v;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:d}=s;if(b(Bt,vm)&&b(Bt,vm)!==d)return;const{viewport:{rotation:h}}=r,{width:f,height:p}=a.getBoundingClientRect(),g=G(Bt,Sv,new AbortController),m=r.combinedSignal(g);if(b(Bt,gm)||G(Bt,gm,u),b(Bt,vm)??G(Bt,vm,d),window.addEventListener("pointerup",x=>{var y;b(Bt,gm)===x.pointerId?this._endDraw(x):(y=b(Bt,xm))==null||y.delete(x.pointerId)},{signal:m}),window.addEventListener("pointercancel",x=>{var y;b(Bt,gm)===x.pointerId?this._currentParent.endDrawingSession():(y=b(Bt,xm))==null||y.delete(x.pointerId)},{signal:m}),window.addEventListener("pointerdown",x=>{b(Bt,vm)===x.pointerType&&((b(Bt,xm)||G(Bt,xm,new Set)).add(x.pointerId),b(Bt,Ps).isCancellable()&&(b(Bt,Ps).removeLastElement(),b(Bt,Ps).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:m}),window.addEventListener("contextmenu",Yu,{signal:m}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:m}),a.addEventListener("touchmove",x=>{x.timeStamp===b(Bt,jv)&&Fl(x)},{signal:m}),r.toggleDrawing(),(v=n._editorUndoBar)==null||v.hide(),b(Bt,Ps)){r.drawLayer.updateProperties(this._currentDrawId,b(Bt,Ps).startNew(o,l,f,p,h));return}n.updateUIForDefaultProperties(this),G(Bt,Ps,this.createDrawerInstance(o,l,f,p,h)),G(Bt,Av,this.getDefaultDrawingOptions()),this._currentParent=r,{id:this._currentDrawId}=r.drawLayer.draw(this._mergeSVGProperties(b(Bt,Av).toSVGProperties(),b(Bt,Ps).defaultSVGProperties),!0,!1)}static _drawMove(r){var a;if(G(Bt,jv,-1),!b(Bt,Ps))return;const{offsetX:n,offsetY:i,pointerId:s}=r;if(b(Bt,gm)===s){if(((a=b(Bt,xm))==null?void 0:a.size)>=1){this._endDraw(r);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,b(Bt,Ps).add(n,i)),G(Bt,jv,r.timeStamp),Fl(r)}}static _cleanup(r){r&&(this._currentDrawId=-1,this._currentParent=null,G(Bt,Ps,null),G(Bt,Av,null),G(Bt,vm,null),G(Bt,jv,NaN)),b(Bt,Sv)&&(b(Bt,Sv).abort(),G(Bt,Sv,null),G(Bt,gm,NaN),G(Bt,xm,null))}static _endDraw(r){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),r&&n.drawLayer.updateProperties(this._currentDrawId,b(Bt,Ps).end(r.offsetX,r.offsetY)),this.supportMultipleDrawings){const i=b(Bt,Ps),s=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Vr.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(r){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Vr.DRAW_STEP),!b(Bt,Ps).isEmpty()){const{pageDimensions:[i,s],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:b(Bt,Ps).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:b(Bt,Av),mustBeCommitted:!r});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(r){}static deserializeDraw(r,n,i,s,a,o){Mn("Not implemented")}static async deserialize(r,n,i){var h,f;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=n.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,r),d=await super.deserialize(r,n,i);return d.createDrawingOptions(r),te(h=d,Jr,pF).call(h,{drawOutlines:u}),te(f=d,Jr,X_).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(r){const[n,i]=this.pageTranslation,[s,a]=this.pageDimensions;return b(this,Sl).serialize([n,i,s,a],r)}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Sl=new WeakMap,Mb=new WeakMap,Ps=new WeakMap,Sv=new WeakMap,Av=new WeakMap,gm=new WeakMap,vm=new WeakMap,xm=new WeakMap,jv=new WeakMap,Jr=new WeakSet,pF=function({drawOutlines:r,drawId:n,drawingOptions:i}){G(this,Sl,r),this._drawingOptions||(this._drawingOptions=i),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,r.defaultProperties)):this._drawId=te(this,Jr,mF).call(this,r,this.parent),te(this,Jr,Q_).call(this,r.box)},mF=function(r,n){const{id:i}=n.drawLayer.draw(Bt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),r.defaultSVGProperties),!1,!1);return i},gF=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},X_=function(r=this.parent){if(!(this._drawId!==null&&this.parent===r)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,r.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=te(this,Jr,mF).call(this,b(this,Sl),r)}},ole=function([r,n,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[n,1-r,i*(o/a),s*(a/o)];case 180:return[1-r,1-n,i,s];case 270:return[1-n,r,i*(o/a),s*(a/o)];default:return[r,n,i,s]}},HT=function(){const{x:r,y:n,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-n,r,i*(a/o),s*(o/a)];case 180:return[1-r,1-n,i,s];case 270:return[n,1-r,i*(a/o),s*(o/a)];default:return[r,n,i,s]}},Q_=function(r){if([this.x,this.y,this.width,this.height]=te(this,Jr,ole).call(this,r),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()},Ey=function(){const{x:r,y:n,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-n-s,r,s,i];case 2:return[1-r-i,1-n-s,i,s];case 3:return[n,1-r-i,s,i];case 4:return[r,n-i*(l/u),s*(u/l),i*(l/u)];case 5:return[1-n,r,i*(l/u),s*(u/l)];case 6:return[1-r-s*(u/l),1-n,s*(u/l),i*(l/u)];case 7:return[n-i*(l/u),1-r-s*(u/l),i*(l/u),s*(u/l)];case 8:return[r-i,n-s,i,s];case 9:return[1-n,r-i,s,i];case 10:return[1-r,1-n,i,s];case 11:return[n-s,1-r,s,i];case 12:return[r-s*(u/l),n,s*(u/l),i*(l/u)];case 13:return[1-n-i*(l/u),r-s*(u/l),i*(l/u),s*(u/l)];case 14:return[1-r,1-n-i*(l/u),s*(u/l),i*(l/u)];case 15:return[n,1-r,i*(l/u),s*(u/l)];default:return[r,n,i,s]}},dt(Bt,"_currentDrawId",-1),dt(Bt,"_currentParent",null),ee(Bt,Ps,null),ee(Bt,Sv,null),ee(Bt,Av,null),ee(Bt,gm,NaN),ee(Bt,vm,null),ee(Bt,xm,null),ee(Bt,jv,NaN),dt(Bt,"_INNER_MARGIN",3);let fF=Bt;var Md,ks,Os,Nv,Lb,Qa,Ys,_c,Ev,Cv,Tv,Ib,VT;class KPe{constructor(e,r,n,i,s,a){ee(this,Ib);ee(this,Md,new Float64Array(6));ee(this,ks);ee(this,Os);ee(this,Nv);ee(this,Lb);ee(this,Qa);ee(this,Ys,"");ee(this,_c,0);ee(this,Ev,new nk);ee(this,Cv);ee(this,Tv);G(this,Cv,n),G(this,Tv,i),G(this,Nv,s),G(this,Lb,a),[e,r]=te(this,Ib,VT).call(this,e,r);const o=G(this,ks,[NaN,NaN,NaN,NaN,e,r]);G(this,Qa,[e,r]),G(this,Os,[{line:o,points:b(this,Qa)}]),b(this,Md).set(o,0)}updateProperty(e,r){e==="stroke-width"&&G(this,Lb,r)}isEmpty(){return!b(this,Os)||b(this,Os).length===0}isCancellable(){return b(this,Qa).length<=10}add(e,r){[e,r]=te(this,Ib,VT).call(this,e,r);const[n,i,s,a]=b(this,Md).subarray(2,6),o=e-s,l=r-a;return Math.hypot(b(this,Cv)*o,b(this,Tv)*l)<=2?null:(b(this,Qa).push(e,r),isNaN(n)?(b(this,Md).set([s,a,e,r],2),b(this,ks).push(NaN,NaN,NaN,NaN,e,r),{path:{d:this.toSVGPath()}}):(isNaN(b(this,Md)[0])&&b(this,ks).splice(6,6),b(this,Md).set([n,i,s,a,e,r],0),b(this,ks).push(...Dt.createBezierPoints(n,i,s,a,e,r)),{path:{d:this.toSVGPath()}}))}end(e,r){const n=this.add(e,r);return n||(b(this,Qa).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,r,n,i,s){G(this,Cv,n),G(this,Tv,i),G(this,Nv,s),[e,r]=te(this,Ib,VT).call(this,e,r);const a=G(this,ks,[NaN,NaN,NaN,NaN,e,r]);G(this,Qa,[e,r]);const o=b(this,Os).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),b(this,Os).push({line:a,points:b(this,Qa)}),b(this,Md).set(a,0),G(this,_c,0),this.toSVGPath(),null}getLastElement(){return b(this,Os).at(-1)}setLastElement(e){return b(this,Os)?(b(this,Os).push(e),G(this,ks,e.line),G(this,Qa,e.points),G(this,_c,0),{path:{d:this.toSVGPath()}}):b(this,Ev).setLastElement(e)}removeLastElement(){if(!b(this,Os))return b(this,Ev).removeLastElement();b(this,Os).pop(),G(this,Ys,"");for(let e=0,r=b(this,Os).length;e<r;e++){const{line:n,points:i}=b(this,Os)[e];G(this,ks,n),G(this,Qa,i),G(this,_c,0),this.toSVGPath()}return{path:{d:b(this,Ys)}}}toSVGPath(){const e=Dt.svgRound(b(this,ks)[4]),r=Dt.svgRound(b(this,ks)[5]);if(b(this,Qa).length===2)return G(this,Ys,`${b(this,Ys)} M ${e} ${r} Z`),b(this,Ys);if(b(this,Qa).length<=6){const i=b(this,Ys).lastIndexOf("M");G(this,Ys,`${b(this,Ys).slice(0,i)} M ${e} ${r}`),G(this,_c,6)}if(b(this,Qa).length===4){const i=Dt.svgRound(b(this,ks)[10]),s=Dt.svgRound(b(this,ks)[11]);return G(this,Ys,`${b(this,Ys)} L ${i} ${s}`),G(this,_c,12),b(this,Ys)}const n=[];b(this,_c)===0&&(n.push(`M ${e} ${r}`),G(this,_c,6));for(let i=b(this,_c),s=b(this,ks).length;i<s;i+=6){const[a,o,l,u,d,h]=b(this,ks).slice(i,i+6).map(Dt.svgRound);n.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}return G(this,Ys,b(this,Ys)+n.join(" ")),G(this,_c,b(this,ks).length),b(this,Ys)}getOutlines(e,r,n,i){const s=b(this,Os).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),b(this,Ev).build(b(this,Os),e,r,n,b(this,Nv),b(this,Lb),i),G(this,Md,null),G(this,ks,null),G(this,Os,null),G(this,Ys,null),b(this,Ev)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Md=new WeakMap,ks=new WeakMap,Os=new WeakMap,Nv=new WeakMap,Lb=new WeakMap,Qa=new WeakMap,Ys=new WeakMap,_c=new WeakMap,Ev=new WeakMap,Cv=new WeakMap,Tv=new WeakMap,Ib=new WeakSet,VT=function(e,r){return Dt._normalizePoint(e,r,b(this,Cv),b(this,Tv),b(this,Nv))};var Ja,Hj,Vj,Al,Ld,Id,Rb,Db,Fb,ea,Rh,lle,cle,ule;const dz=class dz extends Dt{constructor(){super(...arguments);ee(this,ea);ee(this,Ja);ee(this,Hj,0);ee(this,Vj);ee(this,Al);ee(this,Ld);ee(this,Id);ee(this,Rb);ee(this,Db);ee(this,Fb)}build(r,n,i,s,a,o,l){G(this,Ld,n),G(this,Id,i),G(this,Rb,s),G(this,Db,a),G(this,Fb,o),G(this,Vj,l??0),G(this,Al,r),te(this,ea,cle).call(this)}setLastElement(r){return b(this,Al).push(r),{path:{d:this.toSVGPath()}}}removeLastElement(){return b(this,Al).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const r=[];for(const{line:n}of b(this,Al)){if(r.push(`M${Dt.svgRound(n[4])} ${Dt.svgRound(n[5])}`),n.length===6){r.push("Z");continue}if(n.length===12){r.push(`L${Dt.svgRound(n[10])} ${Dt.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[a,o,l,u,d,h]=n.subarray(i,i+6).map(Dt.svgRound);r.push(`C${a} ${o} ${l} ${u} ${d} ${h}`)}}return r.join("")}serialize([r,n,i,s],a){const o=[],l=[],[u,d,h,f]=te(this,ea,lle).call(this);let p,g,m,v,x,y,w,_,A;switch(b(this,Db)){case 0:A=Dt._rescale,p=r,g=n+s,m=i,v=-s,x=r+u*i,y=n+(1-d-f)*s,w=r+(u+h)*i,_=n+(1-d)*s;break;case 90:A=Dt._rescaleAndSwap,p=r,g=n,m=i,v=s,x=r+d*i,y=n+u*s,w=r+(d+f)*i,_=n+(u+h)*s;break;case 180:A=Dt._rescale,p=r+i,g=n,m=-i,v=s,x=r+(1-u-h)*i,y=n+d*s,w=r+(1-u)*i,_=n+(d+f)*s;break;case 270:A=Dt._rescaleAndSwap,p=r+i,g=n+s,m=-i,v=-s,x=r+(1-d-f)*i,y=n+(1-u-h)*s,w=r+(1-d)*i,_=n+(1-u)*s;break}for(const{line:C,points:N}of b(this,Al))o.push(A(C,p,g,m,v,a?new Array(C.length):null)),l.push(A(N,p,g,m,v,a?new Array(N.length):null));return{lines:o,points:l,rect:[x,y,w,_]}}static deserialize(r,n,i,s,a,{paths:{lines:o,points:l},rotation:u,thickness:d}){const h=[];let f,p,g,m,v;switch(u){case 0:v=Dt._rescale,f=-r/i,p=n/s+1,g=1/i,m=-1/s;break;case 90:v=Dt._rescaleAndSwap,f=-n/s,p=-r/i,g=1/s,m=1/i;break;case 180:v=Dt._rescale,f=r/i+1,p=-n/s,g=-1/i,m=1/s;break;case 270:v=Dt._rescaleAndSwap,f=n/s+1,p=r/i+1,g=-1/s,m=-1/i;break}if(!o){o=[];for(const y of l){const w=y.length;if(w===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1]]));continue}if(w===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1],NaN,NaN,NaN,NaN,y[2],y[3]]));continue}const _=new Float32Array(3*(w-2));o.push(_);let[A,C,N,E]=y.subarray(0,4);_.set([NaN,NaN,NaN,NaN,A,C],0);for(let P=4;P<w;P+=2){const L=y[P],O=y[P+1];_.set(Dt.createBezierPoints(A,C,N,E,L,O),(P-2)*3),[A,C,N,E]=[N,E,L,O]}}}for(let y=0,w=o.length;y<w;y++)h.push({line:v(o[y].map(_=>_??NaN),f,p,g,m),points:v(l[y].map(_=>_??NaN),f,p,g,m)});const x=new dz;return x.build(h,i,s,1,u,d,a),x}get box(){return b(this,Ja)}updateProperty(r,n){return r==="stroke-width"?te(this,ea,ule).call(this,n):null}updateParentDimensions([r,n],i){const[s,a]=te(this,ea,Rh).call(this);G(this,Ld,r),G(this,Id,n),G(this,Rb,i);const[o,l]=te(this,ea,Rh).call(this),u=o-s,d=l-a,h=b(this,Ja);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(r){return G(this,Hj,r),{path:{transform:this.rotationTransform}}}get viewBox(){return b(this,Ja).map(Dt.svgRound).join(" ")}get defaultProperties(){const[r,n]=b(this,Ja);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Dt.svgRound(r)} ${Dt.svgRound(n)}`}}}get rotationTransform(){const[,,r,n]=b(this,Ja);let i=0,s=0,a=0,o=0,l=0,u=0;switch(b(this,Hj)){case 90:s=n/r,a=-r/n,l=r;break;case 180:i=-1,o=-1,l=r,u=n;break;case 270:s=-n/r,a=r/n,u=n;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${Dt.svgRound(l)} ${Dt.svgRound(u)})`}getPathResizingSVGProperties([r,n,i,s]){const[a,o]=te(this,ea,Rh).call(this),[l,u,d,h]=b(this,Ja);if(Math.abs(d-a)<=Dt.PRECISION||Math.abs(h-o)<=Dt.PRECISION){const v=r+i/2-(l+d/2),x=n+s/2-(u+h/2);return{path:{"transform-origin":`${Dt.svgRound(r)} ${Dt.svgRound(n)}`,transform:`${this.rotationTransform} translate(${v} ${x})`}}}const f=(i-2*a)/(d-2*a),p=(s-2*o)/(h-2*o),g=d/i,m=h/s;return{path:{"transform-origin":`${Dt.svgRound(l)} ${Dt.svgRound(u)}`,transform:`${this.rotationTransform} scale(${g} ${m}) translate(${Dt.svgRound(a)} ${Dt.svgRound(o)}) scale(${f} ${p}) translate(${Dt.svgRound(-a)} ${Dt.svgRound(-o)})`}}}getPathResizedSVGProperties([r,n,i,s]){const[a,o]=te(this,ea,Rh).call(this),l=b(this,Ja),[u,d,h,f]=l;if(l[0]=r,l[1]=n,l[2]=i,l[3]=s,Math.abs(h-a)<=Dt.PRECISION||Math.abs(f-o)<=Dt.PRECISION){const x=r+i/2-(u+h/2),y=n+s/2-(d+f/2);for(const{line:w,points:_}of b(this,Al))Dt._translate(w,x,y,w),Dt._translate(_,x,y,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Dt.svgRound(r)} ${Dt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(i-2*a)/(h-2*a),g=(s-2*o)/(f-2*o),m=-p*(u+a)+r+a,v=-g*(d+o)+n+o;if(p!==1||g!==1||m!==0||v!==0)for(const{line:x,points:y}of b(this,Al))Dt._rescale(x,m,v,p,g,x),Dt._rescale(y,m,v,p,g,y);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Dt.svgRound(r)} ${Dt.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([r,n],i){const[s,a]=i,o=b(this,Ja),l=r-o[0],u=n-o[1];if(b(this,Ld)===s&&b(this,Id)===a)for(const{line:d,points:h}of b(this,Al))Dt._translate(d,l,u,d),Dt._translate(h,l,u,h);else{const d=b(this,Ld)/s,h=b(this,Id)/a;G(this,Ld,s),G(this,Id,a);for(const{line:f,points:p}of b(this,Al))Dt._rescale(f,l,u,d,h,f),Dt._rescale(p,l,u,d,h,p);o[2]*=d,o[3]*=h}return o[0]=r,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Dt.svgRound(r)} ${Dt.svgRound(n)}`}}}get defaultSVGProperties(){const r=b(this,Ja);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Dt.svgRound(r[0])} ${Dt.svgRound(r[1])}`,transform:this.rotationTransform||null},bbox:r}}};Ja=new WeakMap,Hj=new WeakMap,Vj=new WeakMap,Al=new WeakMap,Ld=new WeakMap,Id=new WeakMap,Rb=new WeakMap,Db=new WeakMap,Fb=new WeakMap,ea=new WeakSet,Rh=function(r=b(this,Fb)){const n=b(this,Vj)+r/2*b(this,Rb);return b(this,Db)%180===0?[n/b(this,Ld),n/b(this,Id)]:[n/b(this,Id),n/b(this,Ld)]},lle=function(){const[r,n,i,s]=b(this,Ja),[a,o]=te(this,ea,Rh).call(this,0);return[r+a,n+o,i-2*a,s-2*o]},cle=function(){const r=G(this,Ja,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of b(this,Al)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6){const[d,h]=s.subarray(l,l+2);r[0]=Math.min(r[0],d),r[1]=Math.min(r[1],h),r[2]=Math.max(r[2],d),r[3]=Math.max(r[3],h)}continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[d,h,f,p,g,m]=s.subarray(l,l+6);Gt.bezierBoundingBox(a,o,d,h,f,p,g,m,r),a=g,o=m}}const[n,i]=te(this,ea,Rh).call(this);r[0]=Math.min(1,Math.max(0,r[0]-n)),r[1]=Math.min(1,Math.max(0,r[1]-i)),r[2]=Math.min(1,Math.max(0,r[2]+n)),r[3]=Math.min(1,Math.max(0,r[3]+i)),r[2]-=r[0],r[3]-=r[1]},ule=function(r){const[n,i]=te(this,ea,Rh).call(this);G(this,Fb,r);const[s,a]=te(this,ea,Rh).call(this),[o,l]=[s-n,a-i],u=b(this,Ja);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};let nk=dz;var $b;const hz=class hz extends GPe{constructor(r){super();ee(this,$b);G(this,$b,r),super.updateProperties({fill:"none",stroke:pi._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(r,n){r==="stroke-width"&&(n??(n=this["stroke-width"]),n*=b(this,$b).realScale),super.updateSVGProperty(r,n)}clone(){const r=new hz(b(this,$b));return r.updateAll(this),r}};$b=new WeakMap;let vF=hz;var Y4,dle;const Zy=class Zy extends fF{constructor(r){super({...r,name:"inkEditor"});ee(this,Y4);this._willKeepAspectRatio=!0}static initialize(r,n){pi.initialize(r,n),this._defaultDrawingOptions=new vF(n.viewParameters)}static getDefaultDrawingOptions(r){const n=this._defaultDrawingOptions.clone();return n.updateProperties(r),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return $r(this,"typesMap",new Map([[Vr.INK_THICKNESS,"stroke-width"],[Vr.INK_COLOR,"stroke"],[Vr.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(r,n,i,s,a){return new KPe(r,n,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(r,n,i,s,a,o){return nk.deserialize(r,n,i,s,a,o)}static async deserialize(r,n,i){let s=null;if(r instanceof VB){const{data:{inkLists:o,rect:l,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:g},parent:{page:{pageNumber:m}}}=r;s=r={annotationType:Or.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:m-1,rect:l.slice(0),rotation:u,id:d,deleted:!1,popupRef:g}}const a=await super.deserialize(r,n,i);return a.annotationElementId=r.id||null,a._initialData=s,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:r,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(r,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const r=this._currentParent;r&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:r,thickness:n,opacity:i}){this._drawingOptions=Zy.getDefaultDrawingOptions({stroke:Gt.makeHexColor(...r),"stroke-width":n,"stroke-opacity":i})}serialize(r=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:s}=this.serializeDraw(r),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,u={annotationType:Or.INK,color:pi._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return r?u:this.annotationElementId&&!te(this,Y4,dle).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(r){const{points:n,rect:i}=this.serializeDraw(!1);return r.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n}),null}};Y4=new WeakSet,dle=function(r){const{color:n,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||r.color.some((o,l)=>o!==n[l])||r.thickness!==i||r.opacity!==s||r.pageIndex!==a},dt(Zy,"_type","ink"),dt(Zy,"_editorType",Or.INK),dt(Zy,"_defaultDrawingOptions",null);let xF=Zy;var hi,Xs,ym,pf,bm,Bb,Rd,Dd,jl,Ub,sn,J_,Z_,GT,bF,KT,wF,YT,hle;const GS=class GS extends pi{constructor(r){super({...r,name:"stampEditor"});ee(this,sn);ee(this,hi,null);ee(this,Xs,null);ee(this,ym,null);ee(this,pf,null);ee(this,bm,null);ee(this,Bb,"");ee(this,Rd,null);ee(this,Dd,null);ee(this,jl,!1);ee(this,Ub,!1);G(this,pf,r.bitmapUrl),G(this,bm,r.bitmapFile)}static initialize(r,n){pi.initialize(r,n)}static get supportedTypes(){return $r(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return $r(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(r){return this.supportedTypes.includes(r)}static paste(r,n){n.pasteEditor(Or.STAMP,{bitmapFile:r.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var r;return{type:"stamp",hasAltText:!!((r=this.altTextData)!=null&&r.altText)}}static computeTelemetryFinalData(r){const n=r.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(r=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=r||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),n&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var r;b(this,Xs)&&(G(this,hi,null),this._uiManager.imageManager.deleteId(b(this,Xs)),(r=b(this,Rd))==null||r.remove(),G(this,Rd,null),b(this,Dd)&&(clearTimeout(b(this,Dd)),G(this,Dd,null))),super.remove()}rebuild(){if(!this.parent){b(this,Xs)&&te(this,sn,GT).call(this);return}super.rebuild(),this.div!==null&&(b(this,Xs)&&b(this,Rd)===null&&te(this,sn,GT).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(r){this._isDraggable=!0,r&&this.div.focus()}isEmpty(){return!(b(this,ym)||b(this,hi)||b(this,pf)||b(this,bm)||b(this,Xs))}get isResizable(){return!0}render(){if(this.div)return this.div;let r,n;if(this.width&&(r=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),b(this,hi)?te(this,sn,bF).call(this):te(this,sn,GT).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(r*i,n*s,this.width*i,this.height*s)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;b(this,Dd)!==null&&clearTimeout(b(this,Dd)),G(this,Dd,setTimeout(()=>{G(this,Dd,null),te(this,sn,wF).call(this)},200))}copyCanvas(r,n,i=!1){var p;r||(r=224);const{width:s,height:a}=b(this,hi),o=new v6;let l=b(this,hi),u=s,d=a,h=null;if(n){if(s>n||a>n){const E=Math.min(n/s,n/a);u=Math.floor(s*E),d=Math.floor(a*E)}h=document.createElement("canvas");const g=h.width=Math.ceil(u*o.sx),m=h.height=Math.ceil(d*o.sy);b(this,jl)||(l=te(this,sn,KT).call(this,g,m));const v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let x="white",y="#cfcfd8";this._uiManager.hcmFilter!=="none"?y="black":(p=window.matchMedia)!=null&&p.call(window,"(prefers-color-scheme: dark)").matches&&(x="#8f8f9d",y="#42414d");const w=15,_=w*o.sx,A=w*o.sy,C=new OffscreenCanvas(_*2,A*2),N=C.getContext("2d");N.fillStyle=x,N.fillRect(0,0,_*2,A*2),N.fillStyle=y,N.fillRect(0,0,_,A),N.fillRect(_,A,_,A),v.fillStyle=v.createPattern(C,"repeat"),v.fillRect(0,0,g,m),v.drawImage(l,0,0,l.width,l.height,0,0,g,m)}let f=null;if(i){let g,m;if(o.symmetric&&l.width<r&&l.height<r)g=l.width,m=l.height;else if(l=b(this,hi),s>r||a>r){const y=Math.min(r/s,r/a);g=Math.floor(s*y),m=Math.floor(a*y),b(this,jl)||(l=te(this,sn,KT).call(this,g,m))}const x=new OffscreenCanvas(g,m).getContext("2d",{willReadFrequently:!0});x.drawImage(l,0,0,l.width,l.height,0,0,g,m),f={width:g,height:m,data:x.getImageData(0,0,g,m).data}}return{canvas:h,width:u,height:d,imageData:f}}getImageForAltText(){return b(this,Rd)}static async deserialize(r,n,i){var m;let s=null;if(r instanceof Moe){const{data:{rect:v,rotation:x,id:y,structParent:w,popupRef:_},container:A,parent:{page:{pageNumber:C}}}=r,N=A.querySelector("canvas"),E=i.imageManager.getFromCanvas(A.id,N);N.remove();const P=((m=await n._structTree.getAriaAttributes(`${FB}${y}`))==null?void 0:m.get("aria-label"))||"";s=r={annotationType:Or.STAMP,bitmapId:E.id,bitmap:E.bitmap,pageIndex:C-1,rect:v.slice(0),rotation:x,id:y,deleted:!1,accessibilityData:{decorative:!1,altText:P},isSvg:!1,structParent:w,popupRef:_}}const a=await super.deserialize(r,n,i),{rect:o,bitmap:l,bitmapUrl:u,bitmapId:d,isSvg:h,accessibilityData:f}=r;d&&i.imageManager.isValidId(d)?(G(a,Xs,d),l&&G(a,hi,l)):G(a,pf,u),G(a,jl,h);const[p,g]=a.pageDimensions;return a.width=(o[2]-o[0])/p,a.height=(o[3]-o[1])/g,a.annotationElementId=r.id||null,f&&(a.altTextData=f),a._initialData=s,G(a,Ub,!!s),a}serialize(r=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:Or.STAMP,bitmapId:b(this,Xs),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:b(this,jl),structTreeParentId:this._structTreeParentId};if(r)return i.bitmapUrl=te(this,sn,YT).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=te(this,sn,hle).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=b(this,jl)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(b(this,Xs)))n.stamps.set(b(this,Xs),{area:o,serialized:i}),i.bitmap=te(this,sn,YT).call(this,!1);else if(b(this,jl)){const l=n.stamps.get(b(this,Xs));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=te(this,sn,YT).call(this,!1))}return i}renderAnnotationElement(r){return r.updateEdited({rect:this.getRect(0,0)}),null}};hi=new WeakMap,Xs=new WeakMap,ym=new WeakMap,pf=new WeakMap,bm=new WeakMap,Bb=new WeakMap,Rd=new WeakMap,Dd=new WeakMap,jl=new WeakMap,Ub=new WeakMap,sn=new WeakSet,J_=function(r,n=!1){if(!r){this.remove();return}G(this,hi,r.bitmap),n||(G(this,Xs,r.id),G(this,jl,r.isSvg)),r.file&&G(this,Bb,r.file.name),te(this,sn,bF).call(this)},Z_=function(){if(G(this,ym,null),this._uiManager.enableWaiting(!1),!!b(this,Rd)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&b(this,hi)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&b(this,hi)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},GT=function(){if(b(this,Xs)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(b(this,Xs)).then(i=>te(this,sn,J_).call(this,i,!0)).finally(()=>te(this,sn,Z_).call(this));return}if(b(this,pf)){const i=b(this,pf);G(this,pf,null),this._uiManager.enableWaiting(!0),G(this,ym,this._uiManager.imageManager.getFromUrl(i).then(s=>te(this,sn,J_).call(this,s)).finally(()=>te(this,sn,Z_).call(this)));return}if(b(this,bm)){const i=b(this,bm);G(this,bm,null),this._uiManager.enableWaiting(!0),G(this,ym,this._uiManager.imageManager.getFromFile(i).then(s=>te(this,sn,J_).call(this,s)).finally(()=>te(this,sn,Z_).call(this)));return}const r=document.createElement("input");r.type="file",r.accept=GS.supportedTypesStr;const n=this._uiManager._signal;G(this,ym,new Promise(i=>{r.addEventListener("change",async()=>{if(!r.files||r.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(r.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),te(this,sn,J_).call(this,s)}i()},{signal:n}),r.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>te(this,sn,Z_).call(this))),r.click()},bF=function(){var h;const{div:r}=this;let{width:n,height:i}=b(this,hi);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const f=Math.min(o*s/n,o*a/i);n*=f,i*=f}const[l,u]=this.parentDimensions;this.setDims(n*l/s,i*u/a),this._uiManager.enableWaiting(!1);const d=G(this,Rd,document.createElement("canvas"));d.setAttribute("role","img"),this.addContainer(d),this.width=n/s,this.height=i/a,(h=this._initialOptions)!=null&&h.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(r.hidden=!1),te(this,sn,wF).call(this),b(this,Ub)||(this.parent.addUndoableEditor(this),G(this,Ub,!0)),this._reportTelemetry({action:"inserted_image"}),b(this,Bb)&&d.setAttribute("aria-label",b(this,Bb))},KT=function(r,n){const{width:i,height:s}=b(this,hi);let a=i,o=s,l=b(this,hi);for(;a>2*r||o>2*n;){const u=a,d=o;a>2*r&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(a,o);h.getContext("2d").drawImage(l,0,0,u,d,0,0,a,o),l=h.transferToImageBitmap()}return l},wF=function(){const[r,n]=this.parentDimensions,{width:i,height:s}=this,a=new v6,o=Math.ceil(i*r*a.sx),l=Math.ceil(s*n*a.sy),u=b(this,Rd);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const d=b(this,jl)?b(this,hi):te(this,sn,KT).call(this,o,l),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,l)},YT=function(r){if(r){if(b(this,jl)){const s=this._uiManager.imageManager.getSvgUrl(b(this,Xs));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=b(this,hi),n.getContext("2d").drawImage(b(this,hi),0,0),n.toDataURL()}if(b(this,jl)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*i0.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*i0.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(b(this,hi),0,0,b(this,hi).width,b(this,hi).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(b(this,hi))},hle=function(r){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=r.pageIndex===n,a=(((o=r.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},dt(GS,"_type","stamp"),dt(GS,"_editorType",Or.STAMP);let yF=GS;var Pv,zb,Fd,wm,mf,Sc,_m,qb,kv,ju,gf,Ca,vf,Vt,Sm,si,fle,hd,SF,AF,XT;const cu=class cu{constructor({uiManager:e,pageIndex:r,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:d}){ee(this,si);ee(this,Pv);ee(this,zb,!1);ee(this,Fd,null);ee(this,wm,null);ee(this,mf,null);ee(this,Sc,new Map);ee(this,_m,!1);ee(this,qb,!1);ee(this,kv,!1);ee(this,ju,null);ee(this,gf,null);ee(this,Ca,null);ee(this,vf,null);ee(this,Vt);const h=[...b(cu,Sm).values()];if(!cu._initialized){cu._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),G(this,Vt,e),this.pageIndex=r,this.div=n,G(this,Pv,s),G(this,Fd,a),this.viewport=u,G(this,Ca,l),this.drawLayer=o,this._structTree=i,b(this,Vt).addLayer(this)}get isEmpty(){return b(this,Sc).size===0}get isInvisible(){return this.isEmpty&&b(this,Vt).getMode()===Or.NONE}updateToolbar(e){b(this,Vt).updateToolbar(e)}updateMode(e=b(this,Vt).getMode()){switch(te(this,si,XT).call(this),e){case Or.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Or.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Or.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:r}=this.div;for(const n of b(cu,Sm).values())r.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var r;return e===((r=b(this,Ca))==null?void 0:r.div)}setEditingState(e){b(this,Vt).setEditingState(e)}addCommands(e){b(this,Vt).addCommands(e)}cleanUndoStack(e){b(this,Vt).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var r;(r=b(this,Fd))==null||r.div.classList.toggle("disabled",!e)}async enable(){G(this,kv,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of b(this,Sc).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(b(this,Vt).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!b(this,Fd)){G(this,kv,!1);return}const r=b(this,Fd).getEditableAnnotations();for(const n of r){if(n.hide(),b(this,Vt).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}G(this,kv,!1)}disable(){var i;G(this,qb,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,r=new Map;for(const s of b(this,Sc).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else r.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(b(this,Fd)){const s=b(this,Fd).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(b(this,Vt).isDeletedAnnotationElement(o))continue;let l=r.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(b(this,Vt).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}te(this,si,XT).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of b(cu,Sm).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),G(this,qb,!1)}getEditableAnnotation(e){var r;return((r=b(this,Fd))==null?void 0:r.getEditableAnnotation(e))||null}setActiveEditor(e){b(this,Vt).getActive()!==e&&b(this,Vt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=b(this,Ca))!=null&&e.div&&!b(this,vf)){G(this,vf,new AbortController);const r=b(this,Vt).combinedSignal(b(this,vf));b(this,Ca).div.addEventListener("pointerdown",te(this,si,fle).bind(this),{signal:r}),b(this,Ca).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=b(this,Ca))!=null&&e.div&&b(this,vf)&&(b(this,vf).abort(),G(this,vf,null),b(this,Ca).div.classList.remove("highlighting"))}enableClick(){if(b(this,wm))return;G(this,wm,new AbortController);const e=b(this,Vt).combinedSignal(b(this,wm));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const r=this.pointerup.bind(this);this.div.addEventListener("pointerup",r,{signal:e}),this.div.addEventListener("pointercancel",r,{signal:e})}disableClick(){var e;(e=b(this,wm))==null||e.abort(),G(this,wm,null)}attach(e){b(this,Sc).set(e.id,e);const{annotationElementId:r}=e;r&&b(this,Vt).isDeletedAnnotationElement(r)&&b(this,Vt).removeDeletedAnnotationElement(e)}detach(e){var r;b(this,Sc).delete(e.id),(r=b(this,Pv))==null||r.removePointerInTextLayer(e.contentDiv),!b(this,qb)&&e.annotationElementId&&b(this,Vt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),b(this,Vt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var r;e.parent!==this&&(e.parent&&e.annotationElementId&&(b(this,Vt).addDeletedAnnotationElement(e.annotationElementId),pi.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(r=e.parent)==null||r.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),b(this,Vt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const r=e.render();this.div.append(r),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!b(this,kv)),b(this,Vt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:r}=document;e.div.contains(r)&&!b(this,mf)&&(e._focusEventsAllowed=!1,G(this,mf,setTimeout(()=>{G(this,mf,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:b(this,Vt)._signal}),r.focus())},0))),e._structTreeParentId=(n=b(this,Pv))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const r=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:r,undo:n,mustExec:!1})}getNextId(){return b(this,Vt).getId()}combinedSignal(e){return b(this,Vt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=b(this,si,hd))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,r){b(this,Vt).updateToolbar(e),b(this,Vt).updateMode(e);const{offsetX:n,offsetY:i}=te(this,si,AF).call(this),s=this.getNextId(),a=te(this,si,SF).call(this,{parent:this,id:s,x:n,y:i,uiManager:b(this,Vt),isCentered:!0,...r});a&&this.add(a)}async deserialize(e){var r;return await((r=b(cu,Sm).get(e.annotationType??e.annotationEditorType))==null?void 0:r.deserialize(e,this,b(this,Vt)))||null}createAndAddNewEditor(e,r,n={}){const i=this.getNextId(),s=te(this,si,SF).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:b(this,Vt),isCentered:r,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(te(this,si,AF).call(this),!0)}setSelected(e){b(this,Vt).setSelected(e)}toggleSelected(e){b(this,Vt).toggleSelected(e)}unselect(e){b(this,Vt).unselect(e)}pointerup(e){var n;const{isMac:r}=uo.platform;if(!(e.button!==0||e.ctrlKey&&r)&&e.target===this.div&&b(this,_m)&&(G(this,_m,!1),!((n=b(this,si,hd))!=null&&n.isDrawer&&b(this,si,hd).supportMultipleDrawings))){if(!b(this,zb)){G(this,zb,!0);return}if(b(this,Vt).getMode()===Or.STAMP){b(this,Vt).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var i;if(b(this,Vt).getMode()===Or.HIGHLIGHT&&this.enableTextSelection(),b(this,_m)){G(this,_m,!1);return}const{isMac:r}=uo.platform;if(e.button!==0||e.ctrlKey&&r||e.target!==this.div)return;if(G(this,_m,!0),(i=b(this,si,hd))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=b(this,Vt).getActive();G(this,zb,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus(),b(this,ju)){b(this,si,hd).startDrawing(this,b(this,Vt),!1,e);return}b(this,Vt).setCurrentDrawingSession(this),G(this,ju,new AbortController);const r=b(this,Vt).combinedSignal(b(this,ju));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(G(this,gf,null),this.commitOrRemove())},{signal:r}),b(this,si,hd).startDrawing(this,b(this,Vt),!1,e)}pause(e){if(e){const{activeElement:r}=document;this.div.contains(r)&&G(this,gf,r);return}b(this,gf)&&setTimeout(()=>{var r;(r=b(this,gf))==null||r.focus(),G(this,gf,null)},0)}endDrawingSession(e=!1){return b(this,ju)?(b(this,Vt).setCurrentDrawingSession(null),b(this,ju).abort(),G(this,ju,null),G(this,gf,null),b(this,si,hd).endDrawing(e)):null}findNewParent(e,r,n){const i=b(this,Vt).findParent(r,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return b(this,ju)?(this.endDrawingSession(),!0):!1}onScaleChanging(){b(this,ju)&&b(this,si,hd).onScaleChangingWhenDrawing(this)}destroy(){var e,r;this.commitOrRemove(),((e=b(this,Vt).getActive())==null?void 0:e.parent)===this&&(b(this,Vt).commitOrRemove(),b(this,Vt).setActiveEditor(null)),b(this,mf)&&(clearTimeout(b(this,mf)),G(this,mf,null));for(const n of b(this,Sc).values())(r=b(this,Pv))==null||r.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,b(this,Sc).clear(),b(this,Vt).removeLayer(this)}render({viewport:e}){this.viewport=e,Jv(this.div,e);for(const r of b(this,Vt).getEditors(this.pageIndex))this.add(r),r.rebuild();this.updateMode()}update({viewport:e}){b(this,Vt).commitOrRemove(),te(this,si,XT).call(this);const r=this.viewport.rotation,n=e.rotation;if(this.viewport=e,Jv(this.div,{rotation:n}),r!==n)for(const i of b(this,Sc).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:r}=this.viewport.rawDims;return[e,r]}get scale(){return b(this,Vt).viewParameters.realScale}};Pv=new WeakMap,zb=new WeakMap,Fd=new WeakMap,wm=new WeakMap,mf=new WeakMap,Sc=new WeakMap,_m=new WeakMap,qb=new WeakMap,kv=new WeakMap,ju=new WeakMap,gf=new WeakMap,Ca=new WeakMap,vf=new WeakMap,Vt=new WeakMap,Sm=new WeakMap,si=new WeakSet,fle=function(e){b(this,Vt).unselectAll();const{target:r}=e;if(r===b(this,Ca).div||(r.getAttribute("role")==="img"||r.classList.contains("endOfContent"))&&b(this,Ca).div.contains(r)){const{isMac:n}=uo.platform;if(e.button!==0||e.ctrlKey&&n)return;b(this,Vt).showAllEditors("highlight",!0,!0),b(this,Ca).div.classList.add("free"),this.toggleDrawing(),rk.startHighlighting(this,b(this,Vt).direction==="ltr",{target:b(this,Ca).div,x:e.x,y:e.y}),b(this,Ca).div.addEventListener("pointerup",()=>{b(this,Ca).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:b(this,Vt)._signal}),e.preventDefault()}},hd=function(){return b(cu,Sm).get(b(this,Vt).getMode())},SF=function(e){const r=b(this,si,hd);return r?new r.prototype.constructor(e):null},AF=function(){const{x:e,y:r,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,r),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,r+i),u=(s+o)/2-e,d=(a+l)/2-r,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},XT=function(){for(const e of b(this,Sc).values())e.isEmpty()&&e.remove()},dt(cu,"_initialized",!1),ee(cu,Sm,new Map([nF,xF,yF,rk].map(e=>[e._editorType,e])));let _F=cu;var Nu,Gj,Za,Ov,X4,ple,ch,NF,mle,EF;const Sa=class Sa{constructor({pageIndex:e}){ee(this,ch);ee(this,Nu,null);ee(this,Gj,0);ee(this,Za,new Map);ee(this,Ov,new Map);this.pageIndex=e}setParent(e){if(!b(this,Nu)){G(this,Nu,e);return}if(b(this,Nu)!==e){if(b(this,Za).size>0)for(const r of b(this,Za).values())r.remove(),e.append(r);G(this,Nu,e)}}static get _svgFactory(){return $r(this,"_svgFactory",new HB)}draw(e,r=!1,n=!1){const i=Ns(this,Gj)._++,s=te(this,ch,NF).call(this),a=Sa._svgFactory.createElement("defs");s.append(a);const o=Sa._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),r&&b(this,Ov).set(i,o);const u=n?te(this,ch,mle).call(this,a,l):null,d=Sa._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),b(this,Za).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,r){const n=Ns(this,Gj)._++,i=te(this,ch,NF).call(this),s=Sa._svgFactory.createElement("defs");i.append(s);const a=Sa._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(r){const h=Sa._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${n}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const f=Sa._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Sa._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Sa._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const d=u.cloneNode();return i.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),b(this,Za).set(n,i),n}finalizeDraw(e,r){b(this,Ov).delete(e),this.updateProperties(e,r)}updateProperties(e,r){var l;if(!r)return;const{root:n,bbox:i,rootClass:s,path:a}=r,o=typeof e=="number"?b(this,Za).get(e):e;if(o){if(n&&te(this,ch,EF).call(this,o,n),i&&te(l=Sa,X4,ple).call(l,o,i),s){const{classList:u}=o;for(const[d,h]of Object.entries(s))u.toggle(d,h)}if(a){const d=o.firstChild.firstChild;te(this,ch,EF).call(this,d,a)}}}updateParent(e,r){if(r===this)return;const n=b(this,Za).get(e);n&&(b(r,Nu).append(n),b(this,Za).delete(e),b(r,Za).set(e,n))}remove(e){b(this,Ov).delete(e),b(this,Nu)!==null&&(b(this,Za).get(e).remove(),b(this,Za).delete(e))}destroy(){G(this,Nu,null);for(const e of b(this,Za).values())e.remove();b(this,Za).clear(),b(this,Ov).clear()}};Nu=new WeakMap,Gj=new WeakMap,Za=new WeakMap,Ov=new WeakMap,X4=new WeakSet,ple=function(e,[r,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*r}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},ch=new WeakSet,NF=function(){const e=Sa._svgFactory.create(1,1,!0);return b(this,Nu).append(e),e.setAttribute("aria-hidden",!0),e},mle=function(e,r){const n=Sa._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${r}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=Sa._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${r}`),s.classList.add("clip"),i},EF=function(e,r){for(const[n,i]of Object.entries(r))i===null?e.removeAttribute(n):e.setAttribute(n,i)},ee(Sa,X4);let jF=Sa;globalThis.pdfjsTestingUtils={HighlightOutliner:sF};gr.AbortException;gr.AnnotationEditorLayer;gr.AnnotationEditorParamsType;gr.AnnotationEditorType;gr.AnnotationEditorUIManager;gr.AnnotationLayer;gr.AnnotationMode;gr.ColorPicker;gr.DOMSVGFactory;gr.DrawLayer;gr.FeatureTest;var YPe=gr.GlobalWorkerOptions;gr.ImageKind;gr.InvalidPDFException;gr.MissingPDFException;gr.OPS;gr.OutputScale;gr.PDFDataRangeTransport;gr.PDFDateString;gr.PDFWorker;gr.PasswordResponses;gr.PermissionFlag;gr.PixelsPerInch;gr.RenderingCancelledException;gr.TextLayer;gr.TouchManager;gr.UnexpectedResponseException;gr.Util;gr.VerbosityLevel;gr.XfaLayer;gr.build;gr.createValidAbsoluteUrl;gr.fetchData;var DH=gr.getDocument;gr.getFilenameFromUrl;gr.getPdfFilenameFromUrl;gr.getXfaPageViewport;gr.isDataScheme;gr.isPdfFile;gr.noContextMenu;gr.normalizeUnicode;gr.setLayerDimensions;gr.shadow;gr.stopEvent;gr.version;YPe.workerPort=new YCe;const XPe=({onDocumentUploaded:t})=>{const[e,r]=j.useState(null),[n,i]=j.useState(""),[s,a]=j.useState(""),[o,l]=j.useState(!1),[u,d]=j.useState(""),[h,f]=j.useState(""),[p,g]=j.useState(!1),{toast:m}=Kr(),[v,x]=j.useState(0),[y,w]=j.useState([]),[_,A]=j.useState([]),[C,N]=j.useState(!1),{uniqueSubjects:E,isLoading:P}=gae(),{uniqueClasses:L,isLoading:O}=vae(),k=()=>{if(!n)return"";const H=n.replace(/\.pdf$/i,"");if(_.length===0)return H;if(_.length===1)return`${H} - Page ${_[0]}`;{const B=[..._].sort((I,q)=>I-q),X=[];let ne=B[0],fe=B[0];for(let I=1;I<B.length;I++)B[I]===fe+1||(ne===fe?X.push(`${ne}`):X.push(`${ne}-${fe}`),ne=B[I]),fe=B[I];return ne===fe?X.push(`${ne}`):X.push(`${ne}-${fe}`),`${H} - Pages ${X.join(", ")}`}};ue.useEffect(()=>{!o&&n&&a(k())},[_,n,o]);const D=async H=>{var ne;const B=((ne=H.target.files)==null?void 0:ne[0])||null;if(!B||B.type!=="application/pdf"){r(null),i(""),w([]),A([]),x(0),a(""),l(!1),m({title:"Invalid file type",description:"Please select a PDF file.",variant:"destructive"});return}r(B);const X=B.name.replace(/\.pdf$/i,"");i(B.name),a(X),l(!1);try{N(!0);const fe=await B.arrayBuffer(),I=await DH({data:new Uint8Array(fe)}).promise;x(I.numPages);const V=Array.from({length:1e3},(K,Y)=>Y+1);w(V),A([])}catch(fe){console.error("Failed to read PDF pages",fe),w([]),A([]),x(0)}finally{N(!1)}},F=()=>{o?(l(!1),a(k())):l(!0)},z=H=>{a(H),H!==k()&&l(!0)},U=async()=>{if(!e||!s||!u||!h){m({title:"Missing information",description:"Please fill in all fields and select a file.",variant:"destructive"});return}g(!0);try{const{data:H}=await je.auth.getUser();if(!H.user)throw new Error("Not authenticated");const B=await e.arrayBuffer(),X=await DH({data:new Uint8Array(B)}).promise,{data:ne,error:fe}=await je.from("documents").insert({user_id:H.user.id,title:s,subject_id:u,class_level:h,processing_status:"completed",total_pages:X.numPages}).select().single();if(fe)throw fe;for(let I=1;I<=X.numPages;I++){const K=(await(await X.getPage(I)).getTextContent()).items.map(ae=>ae.str).join(" "),{error:Y}=await je.from("document_pages").insert({document_id:ne.id,page_number:I,content:K});if(Y)throw Y}m({title:"Document uploaded successfully",description:"Your document has been processed and each page stored individually."}),r(null),i(""),a(""),d(""),f(""),A([]),w([]),l(!1),t()}catch(H){m({title:"Upload failed",description:H.message,variant:"destructive"})}finally{g(!1)}};return c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(CD,{className:"h-5 w-5"}),"Upload Pages"]})}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"file"}),c.jsx("div",{className:"mt-1",children:c.jsx(pr,{id:"file",type:"file",accept:".pdf",onChange:D,className:"cursor-pointer"})}),e&&c.jsxs("div",{className:"mt-2 flex items-center gap-2 text-base text-inherit",children:[c.jsx(sa,{className:"h-4 w-4"}),e.name]})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"title",children:"Title"}),c.jsxs("div",{className:"flex gap-2 mt-1",children:[c.jsx(pr,{id:"title",value:s,onChange:H=>z(H.target.value),placeholder:"Enter title",className:"flex-1",readOnly:!o}),n&&c.jsx(Ge,{type:"button",variant:"outline",size:"icon",onClick:F,title:o?"Switch to Automatic title":"Switch to Manual title",children:o?c.jsx(D$,{className:"h-4 w-4"}):c.jsx(Oye,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"subject",children:"Subject"}),c.jsxs(Ur,{value:u,onValueChange:d,children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select subject"})}),c.jsx(Dr,{children:P?c.jsx(pt,{value:"_loading",disabled:!0,children:"Loading subjects..."}):E.length===0?c.jsx(pt,{value:"_no_subjects",disabled:!0,children:"No subjects assigned to children"}):E.map(H=>c.jsx(pt,{value:H.id,children:H.subject_name},H.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"class",children:"Class"}),c.jsxs(Ur,{value:h,onValueChange:f,children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select class"})}),c.jsx(Dr,{children:O?c.jsx(pt,{value:"_loading",disabled:!0,children:"Loading classes..."}):L.length===0?c.jsx(pt,{value:"_no_classes",disabled:!0,children:"No classes assigned to children"}):L.map(H=>c.jsx(pt,{value:H.class_key,children:H.class_name},H.id))})]})]}),c.jsxs("div",{children:[c.jsx(ft,{children:"Pages"}),c.jsxs("div",{className:"mt-2",children:[c.jsx(mae,{label:"Select Pages",availablePages:y,selectedPages:_,onChange:A,disabled:!e||!u||!h||C||y.length===0,disabledPages:[],maxSelectable:v,onLimitExceeded:()=>m({title:"Selection limit reached",description:`You can select up to ${v} pages for this document.`,variant:"destructive"}),className:"w-full"}),C&&c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Reading PDF pages..."}),!C&&e&&y.length===0&&c.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"No pages detected yet."})]})]}),c.jsx(Ge,{onClick:U,disabled:!e||!s||!u||!h||p||v===0||_.length!==v,className:"w-full",children:p?c.jsxs(c.Fragment,{children:[c.jsx(zw,{className:"mr-2 h-4 w-4 animate-spin"}),"Uploading..."]}):"Upload Pages"})]})]})},Xl=j.forwardRef(({className:t,...e},r)=>c.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Xl.displayName="Textarea";const QPe=()=>{const{subjects:t}=pae(),{classes:e}=fae(),[r,n]=j.useState([]),[i,s]=j.useState(!1),[a,o]=j.useState({topic:"",subject_parent_id:"",class_parent_id:"",difficulty:"medium",question_count:5,question_type:"mixed",custom_instructions:"",document_id:""}),{toast:l}=Kr(),[u,d]=j.useState([]),[h,f]=j.useState([]),[p,g]=j.useState("book"),[m,v]=j.useState(1),[x,y]=j.useState(10),w=[{value:"easy",label:"Easy",description:"Basic recall and understanding"},{value:"medium",label:"Medium",description:"Application and analysis"},{value:"difficult",label:"Difficult",description:"Synthesis and evaluation"},{value:"mixed",label:"Mixed",description:"Variety of difficulty levels"}],_=[{value:"multiple_choice",label:"Multiple Choice",description:"4 options with 1 correct answer"},{value:"true_false",label:"True/False",description:"Simple true or false questions"},{value:"fill_blank",label:"Fill in the Blank",description:"Complete the sentence"},{value:"mixed",label:"Mixed Types",description:"Variety of question formats"}];j.useEffect(()=>{A()},[]);const A=async()=>{try{const{data:E}=await je.auth.getUser();if(!E.user)return;const{data:P}=await je.from("documents").select(`
          id,
          title,
          processing_status,
          subjects_parent(subject_name)
        `).eq("user_id",E.user.id).eq("processing_status","completed").order("created_at",{ascending:!1});n(P||[])}catch(E){console.error("Error fetching documents:",E)}},C=async()=>{const{data:E}=await je.auth.getUser();if(!E.user||!a.subject_parent_id||!a.class_parent_id||p!=="book"){d([]),f([]);return}const{data:P,error:L}=await je.from("documents").select("id, total_pages").eq("user_id",E.user.id).eq("subject_parent_id",a.subject_parent_id).eq("class_parent_id",a.class_parent_id).eq("processing_status","completed").order("created_at",{ascending:!1}).limit(1).maybeSingle();if(L||!P){d([]),f([]),a.document_id&&o(F=>({...F,document_id:""}));return}const{data:O,error:k}=await je.from("document_pages").select("page_number").eq("document_id",P.id).order("page_number",{ascending:!0});let D=Array.from(new Set((O||[]).map(F=>F.page_number)));if(D.length===0){const F=Math.max(0,P.total_pages||0);D=F>0?Array.from({length:F},(z,U)=>U+1):[]}d(D),f([]),a.document_id!==P.id&&o(F=>({...F,document_id:P.id}))};j.useEffect(()=>{C()},[a.subject_parent_id,a.class_parent_id,p]);const N=async()=>{if(p==="independent"){if(!a.topic.trim()||!a.subject_parent_id||!a.class_parent_id){l({title:"Missing Information",description:"Please fill in topic, subject, and class level.",variant:"destructive"});return}}else{if(!a.document_id||!a.subject_parent_id||!a.class_parent_id||h.length===0){l({title:"Missing Information",description:"Please select a book and page(s) along with subject and class.",variant:"destructive"});return}if(m>x){l({title:"Invalid pagination settings",description:"Minimum questions per page cannot be greater than maximum.",variant:"destructive"});return}}s(!0);try{const E=p==="book"?Math.max(1,m)*h.length:a.question_count,P={config:{...a,selected_pages:h,question_count:E,...p==="book"?{topic:a.topic||""}:{}},mode:p},{data:L,error:O}=await je.functions.invoke("generate-ai-questions",{body:P});if(O)throw O;if(L.success)l({title:"Questions Generated!",description:`Successfully generated ${L.questionsGenerated} questions.`}),f([]),o({...a,topic:p==="independent"?"":a.topic,custom_instructions:"",document_id:p==="book"?a.document_id:""});else throw new Error(L.error||"Failed to generate questions")}catch(E){l({title:"Generation Failed",description:E.message||"Failed to generate questions. Please try again.",variant:"destructive"})}finally{s(!1)}};return c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(pte,{className:"w-5 h-5"}),"AI Question Generator"]}),c.jsx(Xt,{children:"Generate custom questions using AI for any topic or based on your uploaded pages."})]}),c.jsxs(Ie,{className:"space-y-6",children:[c.jsxs(Ko,{children:[c.jsx(D$,{className:"h-4 w-4"}),c.jsx(Yo,{children:"Create questions on any topic or enhance your uploaded pages with additional questions. Configure your AI providers in settings for best results."})]}),c.jsxs("div",{className:"flex items-center gap-6",children:[c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx(co,{checked:p==="book",onCheckedChange:E=>g(E?"book":"independent")}),"Book based"]}),c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx(co,{checked:p==="independent",onCheckedChange:E=>g(E?"independent":"book")}),"Independent"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p==="independent"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"topic",children:"Topic/Theme"}),c.jsx(pr,{id:"topic",placeholder:"e.g., Photosynthesis, World War II, Algebra basics...",value:a.topic,onChange:E=>o({...a,topic:E.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Subject"}),c.jsxs(Ur,{value:a.subject_parent_id,onValueChange:E=>o({...a,subject_parent_id:E}),children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select subject"})}),c.jsx(Dr,{children:t.map(E=>c.jsx(pt,{value:E.id,children:E.subject_name},E.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Class Level"}),c.jsxs(Ur,{value:a.class_parent_id,onValueChange:E=>o({...a,class_parent_id:E}),children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select class"})}),c.jsx(Dr,{children:e.map(E=>c.jsx(pt,{value:E.id,children:E.class_name},E.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Difficulty Level"}),c.jsxs(Ur,{value:a.difficulty,onValueChange:E=>o({...a,difficulty:E}),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsx(Dr,{children:w.map(E=>c.jsxs(pt,{value:E.value,children:[c.jsx("div",{className:"font-medium",children:E.label}),c.jsx("div",{className:"text-xs text-muted-foreground",children:E.description})]},E.value))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Question Type"}),c.jsxs(Ur,{value:a.question_type,onValueChange:E=>o({...a,question_type:E}),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsx(Dr,{children:_.map(E=>c.jsxs(pt,{value:E.value,children:[c.jsx("div",{className:"font-medium",children:E.label}),c.jsx("div",{className:"text-xs text-muted-foreground",children:E.description})]},E.value))})]})]}),p==="independent"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"count",children:"Number of Questions"}),c.jsxs(Ur,{value:a.question_count.toString(),onValueChange:E=>o({...a,question_count:parseInt(E)}),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsx(Dr,{children:[3,5,10,15,20,25].map(E=>c.jsxs(pt,{value:E.toString(),children:[E," questions"]},E))})]})]}),p==="book"&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"minPerPage",children:"Minimum Questions per Page"}),c.jsx(pr,{id:"minPerPage",type:"number",min:1,value:m,onChange:E=>v(Math.max(1,parseInt(E.target.value||"1")))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"maxPerPage",children:"Maximum Questions per Page"}),c.jsx(pr,{id:"maxPerPage",type:"number",min:1,value:x,onChange:E=>y(Math.max(1,parseInt(E.target.value||"1")))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Select Pages"}),c.jsx(mae,{label:"Select Pages",availablePages:u,selectedPages:h,onChange:f,className:"w-full",disabled:!a.subject_parent_id||!a.class_parent_id,disabledPages:[]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"instructions",children:"Custom Instructions (Optional)"}),c.jsx(Xl,{id:"instructions",placeholder:"Any specific requirements for the questions? e.g., focus on practical applications, include diagrams, etc.",value:a.custom_instructions,onChange:E=>o({...a,custom_instructions:E.target.value}),rows:3})]}),c.jsxs("div",{className:"flex justify-between items-center pt-4 border-t",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Questions will be added to your Question Bank"}),c.jsx(Ge,{onClick:N,disabled:i||(p==="independent"?!a.topic.trim()||!a.subject_parent_id||!a.class_parent_id:!a.document_id||!a.subject_parent_id||!a.class_parent_id||h.length===0||m>x),className:"min-w-32",children:i?c.jsxs(c.Fragment,{children:[c.jsx(zw,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Xm,{className:"w-4 h-4 mr-2"}),"Generate Questions"]})})]})]})]})};function JPe(){const[t,e]=j.useState("csv"),[r,n]=j.useState(""),[i,s]=j.useState(!1),[a,o]=j.useState(!1),[l,u]=j.useState(null),[d,h]=j.useState(""),{toast:f}=Kr(),p=`question_text,option_a,option_b,option_c,option_d,correct_answer,difficulty,page_number
"What is the capital of France?","Paris","London","Berlin","Madrid","a","easy",1
"What is 2 + 2?","3","4","5","6","b","easy",2`,g=`[
  {
    "question_text": "What is the capital of France?",
    "option_a": "Paris",
    "option_b": "London", 
    "option_c": "Berlin",
    "option_d": "Madrid",
    "correct_answer": "a",
    "difficulty": "easy",
    "page_number": 1
  },
  {
    "question_text": "What is 2 + 2?",
    "option_a": "3",
    "option_b": "4",
    "option_c": "5", 
    "option_d": "6",
    "correct_answer": "b",
    "difficulty": "easy",
    "page_number": 2
  }
]`,m=async()=>{if(!r.trim()){f({title:"Error",description:"Please provide data to import.",variant:"destructive"});return}if(!d){f({title:"Error",description:"Please select pages to associate with the questions.",variant:"destructive"});return}s(!0),u(null);try{let _=[];t==="csv"?_=v(r):_=JSON.parse(r);const A=[];if(_.forEach((P,L)=>{(!P.question_text||!P.option_a||!P.option_b||!P.option_c||!P.option_d)&&A.push(`Row ${L+1}: Missing required fields`),["a","b","c","d"].includes(P.correct_answer)||A.push(`Row ${L+1}: Invalid correct answer (must be a, b, c, or d)`),["easy","medium","difficult"].includes(P.difficulty)||A.push(`Row ${L+1}: Invalid difficulty (must be easy, medium, or difficult)`)}),A.length>0){u({success:0,errors:A,total:_.length});return}const C=_.map(P=>({...P,document_id:d})),{data:N,error:E}=await je.from("questions").insert(C);if(E)throw E;u({success:_.length,errors:[],total:_.length}),f({title:"Success",description:`Successfully imported ${_.length} questions.`}),n("")}catch(_){console.error("Import error:",_),u({success:0,errors:[_ instanceof Error?_.message:"Unknown error occurred"],total:0})}finally{s(!1)}},v=_=>{const A=_.trim().split(`
`),C=A[0].split(",").map(N=>N.replace(/"/g,"").trim());return A.slice(1).map(N=>{const E=x(N),P={};return C.forEach((L,O)=>{var k;P[L]=((k=E[O])==null?void 0:k.replace(/"/g,"").trim())||""}),P})},x=_=>{const A=[];let C="",N=!1;for(let E=0;E<_.length;E++){const P=_[E];P==='"'?N=!N:P===","&&!N?(A.push(C),C=""):C+=P}return A.push(C),A},y=async()=>{o(!0);try{const{data:_,error:A}=await je.from("questions").select(`
          *,
          documents!inner(
            title,
            user_id
          )
        `).order("created_at",{ascending:!1});if(A)throw A;if(!_||_.length===0){f({title:"No Data",description:"No questions found to export.",variant:"destructive"});return}let C="";const N=`questions_export_${new Date().toISOString().split("T")[0]}`;if(t==="csv")C=["question_text","option_a","option_b","option_c","option_d","correct_answer","difficulty","page_number","document_title"].join(",")+`
`,_.forEach(P=>{const L=[`"${P.question_text}"`,`"${P.option_a}"`,`"${P.option_b}"`,`"${P.option_c}"`,`"${P.option_d}"`,P.correct_answer,P.difficulty,P.page_number||"",""];C+=L.join(",")+`
`}),w(C,`${N}.csv`,"text/csv");else{const E=_.map(P=>({question_text:P.question_text,option_a:P.option_a,option_b:P.option_b,option_c:P.option_c,option_d:P.option_d,correct_answer:P.correct_answer,difficulty:P.difficulty,page_number:P.page_number}));C=JSON.stringify(E,null,2),w(C,`${N}.json`,"application/json")}f({title:"Success",description:`Exported ${_.length} questions successfully.`})}catch(_){console.error("Export error:",_),f({title:"Error",description:"Failed to export questions.",variant:"destructive"})}finally{o(!1)}},w=(_,A,C)=>{const N=new Blob([_],{type:C}),E=URL.createObjectURL(N),P=document.createElement("a");P.href=E,P.download=A,document.body.appendChild(P),P.click(),document.body.removeChild(P),URL.revokeObjectURL(E)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Bulk Question Operations"}),c.jsx("p",{className:"text-muted-foreground",children:"Import and export questions in bulk"})]}),c.jsxs(ua,{defaultValue:"import",className:"space-y-4",children:[c.jsxs(xo,{className:"grid w-full grid-cols-2",children:[c.jsx(Cr,{value:"import",children:"Import Questions"}),c.jsx(Cr,{value:"export",children:"Export Questions"})]}),c.jsxs(Kt,{value:"import",className:"space-y-4",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(CD,{className:"w-4 h-4"}),"Import Questions"]}),c.jsx(Xt,{children:"Upload questions from CSV or JSON format"})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Format"}),c.jsxs(Ur,{value:t,onValueChange:_=>e(_),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"csv",children:"CSV"}),c.jsx(pt,{value:"json",children:"JSON"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Target Pages"}),c.jsx(pr,{placeholder:"Document ID (required)",value:d,onChange:_=>h(_.target.value)})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Data to Import"}),c.jsx(Xl,{placeholder:`Paste your ${t.toUpperCase()} data here...`,value:r,onChange:_=>n(_.target.value),rows:10})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(Ge,{onClick:m,disabled:i,className:"flex items-center gap-2",children:i?c.jsx(c.Fragment,{children:"Processing..."}):c.jsxs(c.Fragment,{children:[c.jsx(CD,{className:"w-4 h-4"}),"Import Questions"]})})}),l&&c.jsx(Oe,{className:l.errors.length>0?"border-destructive":"border-green-500",children:c.jsxs(Ie,{className:"pt-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.errors.length>0?c.jsx(za,{className:"w-4 h-4 text-destructive"}):c.jsx(qu,{className:"w-4 h-4 text-green-500"}),c.jsxs("span",{className:"font-medium",children:["Import Result: ",l.success,"/",l.total," successful"]})]}),l.errors.length>0&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm text-destructive font-medium",children:"Errors:"}),l.errors.map((_,A)=>c.jsxs("p",{className:"text-sm text-destructive",children:[" ",_]},A))]})]})})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(sa,{className:"w-4 h-4"}),"Import Template"]}),c.jsx(Xt,{children:"Use this template format for importing questions"})]}),c.jsxs(Ie,{children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(ft,{children:[t.toUpperCase()," Template"]}),c.jsx(Xl,{value:t==="csv"?p:g,readOnly:!0,rows:8,className:"font-mono text-sm"})]}),c.jsxs("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Field Requirements:"}),c.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[c.jsxs("li",{children:[" ",c.jsx("strong",{children:"question_text"}),": The question text (required)"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"option_a/b/c/d"}),": Answer options (required)"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"correct_answer"}),": Must be 'a', 'b', 'c', or 'd' (required)"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"difficulty"}),": Must be 'easy', 'medium', or 'difficult' (required)"]}),c.jsxs("li",{children:[" ",c.jsx("strong",{children:"page_number"}),": Page reference (optional)"]})]})]})]})]})]}),c.jsx(Kt,{value:"export",className:"space-y-4",children:c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(dA,{className:"w-4 h-4"}),"Export Questions"]}),c.jsx(Xt,{children:"Download all your questions in CSV or JSON format"})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Export Format"}),c.jsxs(Ur,{value:t,onValueChange:_=>e(_),children:[c.jsx(Rr,{className:"w-48",children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"csv",children:"CSV Format"}),c.jsx(pt,{value:"json",children:"JSON Format"})]})]})]}),c.jsx(Ge,{onClick:y,disabled:a,className:"flex items-center gap-2",children:a?c.jsx(c.Fragment,{children:"Exporting..."}):c.jsxs(c.Fragment,{children:[c.jsx(dA,{className:"w-4 h-4"}),"Export All Questions"]})}),c.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Export Information:"}),c.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[c.jsx("li",{children:" All your questions will be included in the export"}),c.jsx("li",{children:" Page titles will be included for reference"}),c.jsx("li",{children:" File will be automatically downloaded to your device"}),c.jsx("li",{children:" CSV format is good for spreadsheet applications"}),c.jsx("li",{children:" JSON format is good for technical integrations"})]})]})]})]})})]})]})}const ZPe=()=>{var N;const{tab:t,subtab:e}=dh(),r=ec(),[n,i]=j.useState(0),[s,a]=j.useState([]),[o,l]=j.useState([]),[u,d]=j.useState([]),[h,f]=j.useState(null),[p,g]=j.useState([]),[m,v]=j.useState(!1),x=e||"upload";j.useEffect(()=>{t==="content"&&!e&&r("/parent/content/upload",{replace:!0})},[t,e,r]);const y=E=>{r(`/parent/content/${E}`)};ue.useEffect(()=>{w()},[n]);const w=async()=>{const{data:E}=await je.auth.getUser();if(!E.user)return;const{data:P}=await je.from("documents").select(`
        *,
        subjects(name)
      `).eq("user_id",E.user.id).order("created_at",{ascending:!1}),{data:L}=await je.from("question_papers").select(`
        *,
        subjects(name)
      `).eq("user_id",E.user.id).order("created_at",{ascending:!1}),{data:O}=await je.from("question_papers").select(`
        *,
        subjects(name)
      `).eq("user_id",E.user.id).neq("start_time",null).neq("end_time",null).order("created_at",{ascending:!1});a(P||[]),l(L||[]),d(O||[])},_=()=>{i(E=>E+1)},A=E=>{switch(E){case"completed":return c.jsx(qu,{className:"h-4 w-4 text-success"});case"processing":return c.jsx(Ui,{className:"h-4 w-4 text-warning animate-spin"});case"pending":return c.jsx(za,{className:"h-4 w-4 text-warning"});default:return c.jsx(za,{className:"h-4 w-4 text-muted-foreground"})}},C=E=>{const P={completed:"default",processing:"secondary",pending:"outline"};return c.jsx(Pt,{variant:P[E],children:E})};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Content Creation"}),c.jsx("p",{className:"text-muted-foreground",children:"Upload pages, generate question papers, and schedule tests for your children."})]}),c.jsxs(ua,{value:x,onValueChange:y,className:"w-full",children:[c.jsxs(xo,{className:"grid w-full grid-cols-3",children:[c.jsx(Cr,{value:"upload",children:"Upload"}),c.jsx(Cr,{value:"ai-generator",children:"AI Generator"}),c.jsx(Cr,{value:"bulk",children:"Bulk Ops"})]}),c.jsx(Kt,{value:"upload",className:"space-y-6",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[c.jsx(XPe,{onDocumentUploaded:_}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(it,{children:"Recent Pages"}),!h&&c.jsx(Xt,{children:"Your uploaded pages and their processing status"}),h&&c.jsxs(Xt,{children:[(N=h.subjects)==null?void 0:N.name," - Class ",h.class_level]})]}),h&&c.jsxs(Ge,{variant:"ghost",size:"sm",onClick:()=>{f(null),g([])},children:[c.jsx(v3,{className:"h-4 w-4 mr-2"}),"Back"]})]})}),c.jsx(Ie,{children:h?m?c.jsxs("div",{className:"flex items-center justify-center py-12",children:[c.jsx(Ui,{className:"h-6 w-6 animate-spin text-muted-foreground"}),c.jsx("span",{className:"ml-2 text-sm text-muted-foreground",children:"Loading pages..."})]}):c.jsx(Wf,{className:"h-[600px]",children:c.jsxs("ul",{className:"space-y-0",children:[p.map(E=>c.jsxs("li",{children:[c.jsx("div",{className:"sticky top-0 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 z-10 py-2 px-3 border-b",children:c.jsxs("h3",{className:"font-semibold text-sm",children:["Page ",E.page_number]})}),c.jsx("div",{className:"p-3 text-sm text-muted-foreground whitespace-pre-wrap",children:E.content||"No content available"})]},E.page_number)),p.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No pages found for this document"})]})}):c.jsxs("div",{className:"space-y-3",children:[s.slice(0,5).map(E=>{var P;return c.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-muted cursor-pointer",onClick:async()=>{v(!0);try{const{data:L}=await je.from("document_pages").select("page_number, content").eq("document_id",E.id).order("page_number");f(E),g(L||[])}finally{v(!1)}},children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(sa,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-sm",children:E.title}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[(P=E.subjects)==null?void 0:P.name," - Class ",E.class_level]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[A(E.processing_status),C(E.processing_status)]})]},E.id)}),s.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"No pages uploaded yet"})]})})]})]})}),c.jsx(Kt,{value:"ai-generator",className:"space-y-6",children:c.jsx(QPe,{})}),c.jsx(Kt,{value:"bulk",className:"space-y-6",children:c.jsx(JPe,{})})]})]})},Qo=j.forwardRef(({className:t,...e},r)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:r,className:He("w-full caption-bottom text-sm",t),...e})}));Qo.displayName="Table";const Jo=j.forwardRef(({className:t,...e},r)=>c.jsx("thead",{ref:r,className:He("[&_tr]:border-b",t),...e}));Jo.displayName="TableHeader";const Zo=j.forwardRef(({className:t,...e},r)=>c.jsx("tbody",{ref:r,className:He("[&_tr:last-child]:border-0",t),...e}));Zo.displayName="TableBody";const eke=j.forwardRef(({className:t,...e},r)=>c.jsx("tfoot",{ref:r,className:He("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));eke.displayName="TableFooter";const Ln=j.forwardRef(({className:t,...e},r)=>c.jsx("tr",{ref:r,className:He("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ln.displayName="TableRow";const qt=j.forwardRef(({className:t,...e},r)=>c.jsx("th",{ref:r,className:He("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));qt.displayName="TableHead";const Wt=j.forwardRef(({className:t,...e},r)=>c.jsx("td",{ref:r,className:He("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Wt.displayName="TableCell";const tke=j.forwardRef(({className:t,...e},r)=>c.jsx("caption",{ref:r,className:He("mt-4 text-sm text-muted-foreground",t),...e}));tke.displayName="TableCaption";var dr=function(){return dr=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},dr.apply(this,arguments)};function rke(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function gle(t,e,r){for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function jN(t){return t.mode==="multiple"}function NN(t){return t.mode==="range"}function _O(t){return t.mode==="single"}var nke={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ike(t,e){return ai(t,"LLLL y",e)}function ske(t,e){return ai(t,"d",e)}function ake(t,e){return ai(t,"LLLL",e)}function oke(t){return"".concat(t)}function lke(t,e){return ai(t,"cccccc",e)}function cke(t,e){return ai(t,"yyyy",e)}var uke=Object.freeze({__proto__:null,formatCaption:ike,formatDay:ske,formatMonthCaption:ake,formatWeekNumber:oke,formatWeekdayName:lke,formatYearCaption:cke}),dke=function(t,e,r){return ai(t,"do MMMM (EEEE)",r)},hke=function(){return"Month: "},fke=function(){return"Go to next month"},pke=function(){return"Go to previous month"},mke=function(t,e){return ai(t,"cccc",e)},gke=function(t){return"Week n. ".concat(t)},vke=function(){return"Year: "},xke=Object.freeze({__proto__:null,labelDay:dke,labelMonthDropdown:hke,labelNext:fke,labelPrevious:pke,labelWeekNumber:gke,labelWeekday:mke,labelYearDropdown:vke});function yke(){var t="buttons",e=nke,r=gB,n={},i={},s=1,a={},o=new Date;return{captionLayout:t,classNames:e,formatters:uke,labels:xke,locale:r,modifiersClassNames:n,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function bke(t){var e=t.fromYear,r=t.toYear,n=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return n?s=Ho(n):e&&(s=new Date(e,0,1)),i?a=X3(i):r&&(a=new Date(r,11,31)),{fromDate:s?sw(s):void 0,toDate:a?sw(a):void 0}}var vle=j.createContext(void 0);function wke(t){var e,r=t.initialProps,n=yke(),i=bke(r),s=i.fromDate,a=i.toDate,o=(e=r.captionLayout)!==null&&e!==void 0?e:n.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var l;(_O(r)||jN(r)||NN(r))&&(l=r.onSelect);var u=dr(dr(dr({},n),r),{captionLayout:o,classNames:dr(dr({},n.classNames),r.classNames),components:dr({},r.components),formatters:dr(dr({},n.formatters),r.formatters),fromDate:s,labels:dr(dr({},n.labels),r.labels),mode:r.mode||n.mode,modifiers:dr(dr({},n.modifiers),r.modifiers),modifiersClassNames:dr(dr({},n.modifiersClassNames),r.modifiersClassNames),onSelect:l,styles:dr(dr({},n.styles),r.styles),toDate:a});return c.jsx(vle.Provider,{value:u,children:t.children})}function Vn(){var t=j.useContext(vle);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function xle(t){var e=Vn(),r=e.locale,n=e.classNames,i=e.styles,s=e.formatters.formatCaption;return c.jsx("div",{className:n.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:r})})}function _ke(t){return c.jsx("svg",dr({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yle(t){var e,r,n=t.onChange,i=t.value,s=t.children,a=t.caption,o=t.className,l=t.style,u=Vn(),d=(r=(e=u.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&r!==void 0?r:_ke;return c.jsxs("div",{className:o,style:l,children:[c.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:i,onChange:n,children:s}),c.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[a,c.jsx(d,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function Ske(t){var e,r=Vn(),n=r.fromDate,i=r.toDate,s=r.styles,a=r.locale,o=r.formatters.formatMonthCaption,l=r.classNames,u=r.components,d=r.labels.labelMonthDropdown;if(!n)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});var h=[];if(fNe(n,i))for(var f=Ho(n),p=n.getMonth();p<=i.getMonth();p++)h.push(uI(f,p));else for(var f=Ho(new Date),p=0;p<=11;p++)h.push(uI(f,p));var g=function(v){var x=Number(v.target.value),y=uI(Ho(t.displayMonth),x);t.onChange(y)},m=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:yle;return c.jsx(m,{name:"months","aria-label":d(),className:l.dropdown_month,style:s.dropdown_month,onChange:g,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:a}),children:h.map(function(v){return c.jsx("option",{value:v.getMonth(),children:o(v,{locale:a})},v.getMonth())})})}function Ake(t){var e,r=t.displayMonth,n=Vn(),i=n.fromDate,s=n.toDate,a=n.locale,o=n.styles,l=n.classNames,u=n.components,d=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,f=[];if(!i)return c.jsx(c.Fragment,{});if(!s)return c.jsx(c.Fragment,{});for(var p=i.getFullYear(),g=s.getFullYear(),m=p;m<=g;m++)f.push(mH(Qne(new Date),m));var v=function(y){var w=mH(Ho(r),Number(y.target.value));t.onChange(w)},x=(e=u==null?void 0:u.Dropdown)!==null&&e!==void 0?e:yle;return c.jsx(x,{name:"years","aria-label":h(),className:l.dropdown_year,style:o.dropdown_year,onChange:v,value:r.getFullYear(),caption:d(r,{locale:a}),children:f.map(function(y){return c.jsx("option",{value:y.getFullYear(),children:d(y,{locale:a})},y.getFullYear())})})}function jke(t,e){var r=j.useState(t),n=r[0],i=r[1],s=e===void 0?n:e;return[s,i]}function Nke(t){var e=t.month,r=t.defaultMonth,n=t.today,i=e||r||n||new Date,s=t.toDate,a=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(s&&ow(s,i)<0){var u=-1*(l-1);i=Vu(s,u)}return a&&ow(i,a)<0&&(i=a),Ho(i)}function Eke(){var t=Vn(),e=Nke(t),r=jke(e,t.month),n=r[0],i=r[1],s=function(a){var o;if(!t.disableNavigation){var l=Ho(a);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[n,s]}function Cke(t,e){for(var r=e.reverseMonths,n=e.numberOfMonths,i=Ho(t),s=Ho(Vu(i,n)),a=ow(s,i),o=[],l=0;l<a;l++){var u=Vu(i,l);o.push(u)}return r&&(o=o.reverse()),o}function Tke(t,e){if(!e.disableNavigation){var r=e.toDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,o=Ho(t);if(!r)return Vu(o,a);var l=ow(r,t);if(!(l<s))return Vu(o,a)}}function Pke(t,e){if(!e.disableNavigation){var r=e.fromDate,n=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=n?s:1,o=Ho(t);if(!r)return Vu(o,-a);var l=ow(o,r);if(!(l<=0))return Vu(o,-a)}}var ble=j.createContext(void 0);function kke(t){var e=Vn(),r=Eke(),n=r[0],i=r[1],s=Cke(n,e),a=Tke(n,e),o=Pke(n,e),l=function(h){return s.some(function(f){return vB(h,f)})},u=function(h,f){l(h)||(f&&nie(h,f)?i(Vu(h,1+e.numberOfMonths*-1)):i(h))},d={currentMonth:n,displayMonths:s,goToMonth:i,goToDate:u,previousMonth:o,nextMonth:a,isDateDisplayed:l};return c.jsx(ble.Provider,{value:d,children:t.children})}function EN(){var t=j.useContext(ble);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function FH(t){var e,r=Vn(),n=r.classNames,i=r.styles,s=r.components,a=EN().goToMonth,o=function(d){a(Vu(d,t.displayIndex?-t.displayIndex:0))},l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:xle,u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:n.caption_dropdowns,style:i.caption_dropdowns,children:[c.jsx("div",{className:n.vhidden,children:u}),c.jsx(Ske,{onChange:o,displayMonth:t.displayMonth}),c.jsx(Ake,{onChange:o,displayMonth:t.displayMonth})]})}function Oke(t){return c.jsx("svg",dr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Mke(t){return c.jsx("svg",dr({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var ik=j.forwardRef(function(t,e){var r=Vn(),n=r.classNames,i=r.styles,s=[n.button_reset,n.button];t.className&&s.push(t.className);var a=s.join(" "),o=dr(dr({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),c.jsx("button",dr({},t,{ref:e,type:"button",className:a,style:o}))});function Lke(t){var e,r,n=Vn(),i=n.dir,s=n.locale,a=n.classNames,o=n.styles,l=n.labels,u=l.labelPrevious,d=l.labelNext,h=n.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var f=u(t.previousMonth,{locale:s}),p=[a.nav_button,a.nav_button_previous].join(" "),g=d(t.nextMonth,{locale:s}),m=[a.nav_button,a.nav_button_next].join(" "),v=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:Mke,x=(r=h==null?void 0:h.IconLeft)!==null&&r!==void 0?r:Oke;return c.jsxs("div",{className:a.nav,style:o.nav,children:[!t.hidePrevious&&c.jsx(ik,{name:"previous-month","aria-label":f,className:p,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?c.jsx(v,{className:a.nav_icon,style:o.nav_icon}):c.jsx(x,{className:a.nav_icon,style:o.nav_icon})}),!t.hideNext&&c.jsx(ik,{name:"next-month","aria-label":g,className:m,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?c.jsx(x,{className:a.nav_icon,style:o.nav_icon}):c.jsx(v,{className:a.nav_icon,style:o.nav_icon})})]})}function $H(t){var e=Vn().numberOfMonths,r=EN(),n=r.previousMonth,i=r.nextMonth,s=r.goToMonth,a=r.displayMonths,o=a.findIndex(function(g){return vB(t.displayMonth,g)}),l=o===0,u=o===a.length-1,d=e>1&&(l||!u),h=e>1&&(u||!l),f=function(){n&&s(n)},p=function(){i&&s(i)};return c.jsx(Lke,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:i,previousMonth:n,onPreviousClick:f,onNextClick:p})}function Ike(t){var e,r=Vn(),n=r.classNames,i=r.disableNavigation,s=r.styles,a=r.captionLayout,o=r.components,l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:xle,u;return i?u=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?u=c.jsx(FH,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?u=c.jsxs(c.Fragment,{children:[c.jsx(FH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx($H,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx($H,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:n.caption,style:s.caption,children:u})}function Rke(t){var e=Vn(),r=e.footer,n=e.styles,i=e.classNames.tfoot;return r?c.jsx("tfoot",{className:i,style:n.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:r})})}):c.jsx(c.Fragment,{})}function Dke(t,e,r){for(var n=r?Yv(new Date):ih(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=to(n,s);i.push(a)}return i}function Fke(){var t=Vn(),e=t.classNames,r=t.styles,n=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,u=Dke(i,s,a);return c.jsxs("tr",{style:r.head_row,className:e.head_row,children:[n&&c.jsx("td",{style:r.head_cell,className:e.head_cell}),u.map(function(d,h){return c.jsx("th",{scope:"col",className:e.head_cell,style:r.head_cell,"aria-label":l(d,{locale:i}),children:o(d,{locale:i})},h)})]})}function $ke(){var t,e=Vn(),r=e.classNames,n=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:Fke;return c.jsx("thead",{style:n.head,className:r.head,children:c.jsx(s,{})})}function Bke(t){var e=Vn(),r=e.locale,n=e.formatters.formatDay;return c.jsx(c.Fragment,{children:n(t.date,{locale:r})})}var GB=j.createContext(void 0);function Uke(t){if(!jN(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(GB.Provider,{value:e,children:t.children})}return c.jsx(zke,{initialProps:t.initialProps,children:t.children})}function zke(t){var e=t.initialProps,r=t.children,n=e.selected,i=e.min,s=e.max,a=function(u,d,h){var f,p;(f=e.onDayClick)===null||f===void 0||f.call(e,u,d,h);var g=!!(d.selected&&i&&(n==null?void 0:n.length)===i);if(!g){var m=!!(!d.selected&&s&&(n==null?void 0:n.length)===s);if(!m){var v=n?gle([],n):[];if(d.selected){var x=v.findIndex(function(y){return Bo(u,y)});v.splice(x,1)}else v.push(u);(p=e.onSelect)===null||p===void 0||p.call(e,v,u,d,h)}}},o={disabled:[]};n&&o.disabled.push(function(u){var d=s&&n.length>s-1,h=n.some(function(f){return Bo(f,u)});return!!(d&&!h)});var l={selected:n,onDayClick:a,modifiers:o};return c.jsx(GB.Provider,{value:l,children:r})}function KB(){var t=j.useContext(GB);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function qke(t,e){var r=e||{},n=r.from,i=r.to;return n&&i?Bo(i,t)&&Bo(n,t)?void 0:Bo(i,t)?{from:i,to:void 0}:Bo(n,t)?void 0:t6(n,t)?{from:t,to:i}:{from:n,to:t}:i?t6(t,i)?{from:i,to:t}:{from:t,to:i}:n?nie(t,n)?{from:t,to:n}:{from:n,to:t}:{from:t,to:void 0}}var YB=j.createContext(void 0);function Wke(t){if(!NN(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(YB.Provider,{value:e,children:t.children})}return c.jsx(Hke,{initialProps:t.initialProps,children:t.children})}function Hke(t){var e=t.initialProps,r=t.children,n=e.selected,i=n||{},s=i.from,a=i.to,o=e.min,l=e.max,u=function(p,g,m){var v,x;(v=e.onDayClick)===null||v===void 0||v.call(e,p,g,m);var y=qke(p,n);(x=e.onSelect)===null||x===void 0||x.call(e,y,p,g,m)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],a?(d.range_end=[a],Bo(s,a)||(d.range_middle=[{after:s,before:a}])):d.range_end=[s]):a&&(d.range_start=[a],d.range_end=[a]),o&&(s&&!a&&d.disabled.push({after:cI(s,o-1),before:to(s,o-1)}),s&&a&&d.disabled.push({after:s,before:to(s,o-1)}),!s&&a&&d.disabled.push({after:cI(a,o-1),before:to(a,o-1)})),l){if(s&&!a&&(d.disabled.push({before:to(s,-l+1)}),d.disabled.push({after:to(s,l-1)})),s&&a){var h=zd(a,s)+1,f=l-h;d.disabled.push({before:cI(s,f)}),d.disabled.push({after:to(a,f)})}!s&&a&&(d.disabled.push({before:to(a,-l+1)}),d.disabled.push({after:to(a,l-1)}))}return c.jsx(YB.Provider,{value:{selected:n,onDayClick:u,modifiers:d},children:r})}function XB(){var t=j.useContext(YB);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function QT(t){return Array.isArray(t)?gle([],t):t!==void 0?[t]:[]}function Vke(t){var e={};return Object.entries(t).forEach(function(r){var n=r[0],i=r[1];e[n]=QT(i)}),e}var Xu;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Xu||(Xu={}));var Gke=Xu.Selected,Ch=Xu.Disabled,Kke=Xu.Hidden,Yke=Xu.Today,yI=Xu.RangeEnd,bI=Xu.RangeMiddle,wI=Xu.RangeStart,Xke=Xu.Outside;function Qke(t,e,r){var n,i=(n={},n[Gke]=QT(t.selected),n[Ch]=QT(t.disabled),n[Kke]=QT(t.hidden),n[Yke]=[t.today],n[yI]=[],n[bI]=[],n[wI]=[],n[Xke]=[],n);return t.fromDate&&i[Ch].push({before:t.fromDate}),t.toDate&&i[Ch].push({after:t.toDate}),jN(t)?i[Ch]=i[Ch].concat(e.modifiers[Ch]):NN(t)&&(i[Ch]=i[Ch].concat(r.modifiers[Ch]),i[wI]=r.modifiers[wI],i[bI]=r.modifiers[bI],i[yI]=r.modifiers[yI]),i}var wle=j.createContext(void 0);function Jke(t){var e=Vn(),r=KB(),n=XB(),i=Qke(e,r,n),s=Vke(e.modifiers),a=dr(dr({},i),s);return c.jsx(wle.Provider,{value:a,children:t.children})}function _le(){var t=j.useContext(wle);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Zke(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function e4e(t){return!!(t&&typeof t=="object"&&"from"in t)}function t4e(t){return!!(t&&typeof t=="object"&&"after"in t)}function r4e(t){return!!(t&&typeof t=="object"&&"before"in t)}function n4e(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function i4e(t,e){var r,n=e.from,i=e.to;if(n&&i){var s=zd(i,n)<0;s&&(r=[i,n],n=r[0],i=r[1]);var a=zd(t,n)>=0&&zd(i,t)>=0;return a}return i?Bo(i,t):n?Bo(n,t):!1}function s4e(t){return pB(t)}function a4e(t){return Array.isArray(t)&&t.every(pB)}function o4e(t,e){return e.some(function(r){if(typeof r=="boolean")return r;if(s4e(r))return Bo(t,r);if(a4e(r))return r.includes(t);if(e4e(r))return i4e(t,r);if(n4e(r))return r.dayOfWeek.includes(t.getDay());if(Zke(r)){var n=zd(r.before,t),i=zd(r.after,t),s=n>0,a=i<0,o=t6(r.before,r.after);return o?a&&s:s||a}return t4e(r)?zd(t,r.after)>0:r4e(r)?zd(r.before,t)>0:typeof r=="function"?r(t):!1})}function QB(t,e,r){var n=Object.keys(e).reduce(function(s,a){var o=e[a];return o4e(t,o)&&s.push(a),s},[]),i={};return n.forEach(function(s){return i[s]=!0}),r&&!vB(t,r)&&(i.outside=!0),i}function l4e(t,e){for(var r=Ho(t[0]),n=X3(t[t.length-1]),i,s,a=r;a<=n;){var o=QB(a,e),l=!o.disabled&&!o.hidden;if(!l){a=to(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=to(a,1)}return s||i}var c4e=365;function Sle(t,e){var r=e.moveBy,n=e.direction,i=e.context,s=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:t}:a,l=i.weekStartsOn,u=i.fromDate,d=i.toDate,h=i.locale,f={day:to,week:e6,month:Vu,year:tje,startOfWeek:function(v){return i.ISOWeek?Yv(v):ih(v,{locale:h,weekStartsOn:l})},endOfWeek:function(v){return i.ISOWeek?Jne(v):mB(v,{locale:h,weekStartsOn:l})}},p=f[r](t,n==="after"?1:-1);n==="before"&&u?p=rje([u,p]):n==="after"&&d&&(p=nje([d,p]));var g=!0;if(s){var m=QB(p,s);g=!m.disabled&&!m.hidden}return g?p:o.count>c4e?o.lastFocused:Sle(p,{moveBy:r,direction:n,context:i,modifiers:s,retry:dr(dr({},o),{count:o.count+1})})}var Ale=j.createContext(void 0);function u4e(t){var e=EN(),r=_le(),n=j.useState(),i=n[0],s=n[1],a=j.useState(),o=a[0],l=a[1],u=l4e(e.displayMonths,r),d=i??(o&&e.isDateDisplayed(o))?o:u,h=function(){l(i),s(void 0)},f=function(v){s(v)},p=Vn(),g=function(v,x){if(i){var y=Sle(i,{moveBy:v,direction:x,context:p,modifiers:r});Bo(i,y)||(e.goToDate(y,i),f(y))}},m={focusedDay:i,focusTarget:d,blur:h,focus:f,focusDayAfter:function(){return g("day","after")},focusDayBefore:function(){return g("day","before")},focusWeekAfter:function(){return g("week","after")},focusWeekBefore:function(){return g("week","before")},focusMonthBefore:function(){return g("month","before")},focusMonthAfter:function(){return g("month","after")},focusYearBefore:function(){return g("year","before")},focusYearAfter:function(){return g("year","after")},focusStartOfWeek:function(){return g("startOfWeek","before")},focusEndOfWeek:function(){return g("endOfWeek","after")}};return c.jsx(Ale.Provider,{value:m,children:t.children})}function JB(){var t=j.useContext(Ale);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function d4e(t,e){var r=_le(),n=QB(t,r,e);return n}var ZB=j.createContext(void 0);function h4e(t){if(!_O(t.initialProps)){var e={selected:void 0};return c.jsx(ZB.Provider,{value:e,children:t.children})}return c.jsx(f4e,{initialProps:t.initialProps,children:t.children})}function f4e(t){var e=t.initialProps,r=t.children,n=function(s,a,o){var l,u,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,a,o),a.selected&&!e.required){(u=e.onSelect)===null||u===void 0||u.call(e,void 0,s,a,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,a,o)},i={selected:e.selected,onDayClick:n};return c.jsx(ZB.Provider,{value:i,children:r})}function jle(){var t=j.useContext(ZB);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function p4e(t,e){var r=Vn(),n=jle(),i=KB(),s=XB(),a=JB(),o=a.focusDayAfter,l=a.focusDayBefore,u=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,f=a.focus,p=a.focusMonthBefore,g=a.focusMonthAfter,m=a.focusYearBefore,v=a.focusYearAfter,x=a.focusStartOfWeek,y=a.focusEndOfWeek,w=function(H){var B,X,ne,fe;_O(r)?(B=n.onDayClick)===null||B===void 0||B.call(n,t,e,H):jN(r)?(X=i.onDayClick)===null||X===void 0||X.call(i,t,e,H):NN(r)?(ne=s.onDayClick)===null||ne===void 0||ne.call(s,t,e,H):(fe=r.onDayClick)===null||fe===void 0||fe.call(r,t,e,H)},_=function(H){var B;f(t),(B=r.onDayFocus)===null||B===void 0||B.call(r,t,e,H)},A=function(H){var B;h(),(B=r.onDayBlur)===null||B===void 0||B.call(r,t,e,H)},C=function(H){var B;(B=r.onDayMouseEnter)===null||B===void 0||B.call(r,t,e,H)},N=function(H){var B;(B=r.onDayMouseLeave)===null||B===void 0||B.call(r,t,e,H)},E=function(H){var B;(B=r.onDayPointerEnter)===null||B===void 0||B.call(r,t,e,H)},P=function(H){var B;(B=r.onDayPointerLeave)===null||B===void 0||B.call(r,t,e,H)},L=function(H){var B;(B=r.onDayTouchCancel)===null||B===void 0||B.call(r,t,e,H)},O=function(H){var B;(B=r.onDayTouchEnd)===null||B===void 0||B.call(r,t,e,H)},k=function(H){var B;(B=r.onDayTouchMove)===null||B===void 0||B.call(r,t,e,H)},D=function(H){var B;(B=r.onDayTouchStart)===null||B===void 0||B.call(r,t,e,H)},F=function(H){var B;(B=r.onDayKeyUp)===null||B===void 0||B.call(r,t,e,H)},z=function(H){var B;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),r.dir==="rtl"?o():l();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),r.dir==="rtl"?l():o();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),u();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),d();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?m():p();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?v():g();break;case"Home":H.preventDefault(),H.stopPropagation(),x();break;case"End":H.preventDefault(),H.stopPropagation(),y();break}(B=r.onDayKeyDown)===null||B===void 0||B.call(r,t,e,H)},U={onClick:w,onFocus:_,onBlur:A,onKeyDown:z,onKeyUp:F,onMouseEnter:C,onMouseLeave:N,onPointerEnter:E,onPointerLeave:P,onTouchCancel:L,onTouchEnd:O,onTouchMove:k,onTouchStart:D};return U}function m4e(){var t=Vn(),e=jle(),r=KB(),n=XB(),i=_O(t)?e.selected:jN(t)?r.selected:NN(t)?n.selected:void 0;return i}function g4e(t){return Object.values(Xu).includes(t)}function v4e(t,e){var r=[t.classNames.day];return Object.keys(e).forEach(function(n){var i=t.modifiersClassNames[n];if(i)r.push(i);else if(g4e(n)){var s=t.classNames["day_".concat(n)];s&&r.push(s)}}),r}function x4e(t,e){var r=dr({},t.styles.day);return Object.keys(e).forEach(function(n){var i;r=dr(dr({},r),(i=t.modifiersStyles)===null||i===void 0?void 0:i[n])}),r}function y4e(t,e,r){var n,i,s,a=Vn(),o=JB(),l=d4e(t,e),u=p4e(t,l),d=m4e(),h=!!(a.onDayClick||a.mode!=="default");j.useEffect(function(){var C;l.outside||o.focusedDay&&h&&Bo(o.focusedDay,t)&&((C=r.current)===null||C===void 0||C.focus())},[o.focusedDay,t,r,h,l.outside]);var f=v4e(a,l).join(" "),p=x4e(a,l),g=!!(l.outside&&!a.showOutsideDays||l.hidden),m=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:Bke,v=c.jsx(m,{date:t,displayMonth:e,activeModifiers:l}),x={style:p,className:f,children:v,role:"gridcell"},y=o.focusTarget&&Bo(o.focusTarget,t)&&!l.outside,w=o.focusedDay&&Bo(o.focusedDay,t),_=dr(dr(dr({},x),(n={disabled:l.disabled,role:"gridcell"},n["aria-selected"]=l.selected,n.tabIndex=w||y?0:-1,n)),u),A={isButton:h,isHidden:g,activeModifiers:l,selectedDays:d,buttonProps:_,divProps:x};return A}function b4e(t){var e=j.useRef(null),r=y4e(t.date,t.displayMonth,e);return r.isHidden?c.jsx("div",{role:"gridcell"}):r.isButton?c.jsx(ik,dr({name:"day",ref:e},r.buttonProps)):c.jsx("div",dr({},r.divProps))}function w4e(t){var e=t.number,r=t.dates,n=Vn(),i=n.onWeekNumberClick,s=n.styles,a=n.classNames,o=n.locale,l=n.labels.labelWeekNumber,u=n.formatters.formatWeekNumber,d=u(Number(e),{locale:o});if(!i)return c.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:d});var h=l(Number(e),{locale:o}),f=function(p){i(e,r,p)};return c.jsx(ik,{name:"week-number","aria-label":h,className:a.weeknumber,style:s.weeknumber,onClick:f,children:d})}function _4e(t){var e,r,n=Vn(),i=n.styles,s=n.classNames,a=n.showWeekNumber,o=n.components,l=(e=o==null?void 0:o.Day)!==null&&e!==void 0?e:b4e,u=(r=o==null?void 0:o.WeekNumber)!==null&&r!==void 0?r:w4e,d;return a&&(d=c.jsx("td",{className:s.cell,style:i.cell,children:c.jsx(u,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(h){return c.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:h})},uNe(h))})]})}function BH(t,e,r){for(var n=r!=null&&r.ISOWeek?Jne(e):mB(e,r),i=r!=null&&r.ISOWeek?Yv(t):ih(t,r),s=zd(n,i),a=[],o=0;o<=s;o++)a.push(to(i,o));var l=a.reduce(function(u,d){var h=r!=null&&r.ISOWeek?Zne(d):tie(d,r),f=u.find(function(p){return p.weekNumber===h});return f?(f.dates.push(d),u):(u.push({weekNumber:h,dates:[d]}),u)},[]);return l}function S4e(t,e){var r=BH(Ho(t),X3(t),e);if(e!=null&&e.useFixedWeeks){var n=hNe(t,e);if(n<6){var i=r[r.length-1],s=i.dates[i.dates.length-1],a=e6(s,6-n),o=BH(e6(s,1),a,e);r.push.apply(r,o)}}return r}function A4e(t){var e,r,n,i=Vn(),s=i.locale,a=i.classNames,o=i.styles,l=i.hideHead,u=i.fixedWeeks,d=i.components,h=i.weekStartsOn,f=i.firstWeekContainsDate,p=i.ISOWeek,g=S4e(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:p,locale:s,weekStartsOn:h,firstWeekContainsDate:f}),m=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:$ke,v=(r=d==null?void 0:d.Row)!==null&&r!==void 0?r:_4e,x=(n=d==null?void 0:d.Footer)!==null&&n!==void 0?n:Rke;return c.jsxs("table",{id:t.id,className:a.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(m,{}),c.jsx("tbody",{className:a.tbody,style:o.tbody,children:g.map(function(y){return c.jsx(v,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),c.jsx(x,{displayMonth:t.displayMonth})]})}function j4e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var N4e=j4e()?j.useLayoutEffect:j.useEffect,_I=!1,E4e=0;function UH(){return"react-day-picker-".concat(++E4e)}function C4e(t){var e,r=t??(_I?UH():null),n=j.useState(r),i=n[0],s=n[1];return N4e(function(){i===null&&s(UH())},[]),j.useEffect(function(){_I===!1&&(_I=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function T4e(t){var e,r,n=Vn(),i=n.dir,s=n.classNames,a=n.styles,o=n.components,l=EN().displayMonths,u=C4e(n.id?"".concat(n.id,"-").concat(t.displayIndex):void 0),d=n.id?"".concat(n.id,"-grid-").concat(t.displayIndex):void 0,h=[s.month],f=a.month,p=t.displayIndex===0,g=t.displayIndex===l.length-1,m=!p&&!g;i==="rtl"&&(e=[p,g],g=e[0],p=e[1]),p&&(h.push(s.caption_start),f=dr(dr({},f),a.caption_start)),g&&(h.push(s.caption_end),f=dr(dr({},f),a.caption_end)),m&&(h.push(s.caption_between),f=dr(dr({},f),a.caption_between));var v=(r=o==null?void 0:o.Caption)!==null&&r!==void 0?r:Ike;return c.jsxs("div",{className:h.join(" "),style:f,children:[c.jsx(v,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(A4e,{id:d,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function P4e(t){var e=Vn(),r=e.classNames,n=e.styles;return c.jsx("div",{className:r.months,style:n.months,children:t.children})}function k4e(t){var e,r,n=t.initialProps,i=Vn(),s=JB(),a=EN(),o=j.useState(!1),l=o[0],u=o[1];j.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),u(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var h=dr(dr({},i.styles.root),i.style),f=Object.keys(n).filter(function(g){return g.startsWith("data-")}).reduce(function(g,m){var v;return dr(dr({},g),(v={},v[m]=n[m],v))},{}),p=(r=(e=n.components)===null||e===void 0?void 0:e.Months)!==null&&r!==void 0?r:P4e;return c.jsx("div",dr({className:d.join(" "),style:h,dir:i.dir,id:i.id,nonce:n.nonce,title:n.title,lang:n.lang},f,{children:c.jsx(p,{children:a.displayMonths.map(function(g,m){return c.jsx(T4e,{displayIndex:m,displayMonth:g},m)})})}))}function O4e(t){var e=t.children,r=rke(t,["children"]);return c.jsx(wke,{initialProps:r,children:c.jsx(kke,{children:c.jsx(h4e,{initialProps:r,children:c.jsx(Uke,{initialProps:r,children:c.jsx(Wke,{initialProps:r,children:c.jsx(Jke,{children:c.jsx(u4e,{children:e})})})})})})})}function M4e(t){return c.jsx(O4e,dr({},t,{children:c.jsx(k4e,{initialProps:t})}))}function f1({className:t,classNames:e,showOutsideDays:r=!0,...n}){return c.jsx(M4e,{showOutsideDays:r,className:He("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:He(tw({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:He(tw({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>c.jsx(x3,{className:"h-4 w-4"}),IconRight:({...i})=>c.jsx(eN,{className:"h-4 w-4"})},...n})}f1.displayName="Calendar";function e9({data:t,itemsPerPage:e=10,onItemsPerPageChange:r}){const[n,i]=j.useState(1),[s,a]=j.useState(e),o=Math.ceil(t.length/s),l=j.useMemo(()=>{const x=(n-1)*s,y=x+s;return t.slice(x,y)},[t,n,s]),u=x=>{const y=Math.max(1,Math.min(x,o));i(y)},d=()=>{u(n+1)},h=()=>{u(n-1)},f=n<o,p=n>1,g=t.length===0?0:(n-1)*s+1,m=Math.min(n*s,t.length),v=x=>{a(x),i(1),r==null||r(x)};return{currentPage:n,totalPages:o,paginatedData:l,goToPage:u,nextPage:d,previousPage:h,canGoNext:f,canGoPrevious:p,startItem:g,endItem:m,totalItems:t.length,itemsPerPage:s,setItemsPerPage:v}}const t9=({className:t,...e})=>c.jsx("nav",{role:"navigation","aria-label":"pagination",className:He("mx-auto flex w-full justify-center",t),...e});t9.displayName="Pagination";const r9=j.forwardRef(({className:t,...e},r)=>c.jsx("ul",{ref:r,className:He("flex flex-row items-center gap-1",t),...e}));r9.displayName="PaginationContent";const kl=j.forwardRef(({className:t,...e},r)=>c.jsx("li",{ref:r,className:He("",t),...e}));kl.displayName="PaginationItem";const Vf=({className:t,isActive:e,size:r="icon",...n})=>c.jsx("a",{"aria-current":e?"page":void 0,className:He(tw({variant:e?"outline":"ghost",size:r}),t),...n});Vf.displayName="PaginationLink";const n9=({className:t,...e})=>c.jsxs(Vf,{"aria-label":"Go to previous page",size:"default",className:He("gap-1 pl-2.5",t),...e,children:[c.jsx(x3,{className:"h-4 w-4"}),c.jsx("span",{children:"Previous"})]});n9.displayName="PaginationPrevious";const i9=({className:t,...e})=>c.jsxs(Vf,{"aria-label":"Go to next page",size:"default",className:He("gap-1 pr-2.5",t),...e,children:[c.jsx("span",{children:"Next"}),c.jsx(eN,{className:"h-4 w-4"})]});i9.displayName="PaginationNext";const s9=({className:t,...e})=>c.jsxs("span",{"aria-hidden":!0,className:He("flex h-9 w-9 items-center justify-center",t),...e,children:[c.jsx(xte,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"More pages"})]});s9.displayName="PaginationEllipsis";const Nle=({startItem:t,endItem:e,totalItems:r})=>c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",t," to ",e," of ",r," results"]}),Ele=({className:t,...e})=>c.jsx(Vf,{"aria-label":"Go to first page",size:"default",className:He("gap-1 pl-2.5",t),...e,children:c.jsx("span",{children:"First"})});Ele.displayName="PaginationFirst";const Cle=({className:t,...e})=>c.jsx(Vf,{"aria-label":"Go to last page",size:"default",className:He("gap-1 pr-2.5",t),...e,children:c.jsx("span",{children:"Last"})});Cle.displayName="PaginationLast";function L4e({onQuestionUpdate:t}){var ct;const[e,r]=j.useState([]),[n,i]=j.useState(!0),[s,a]=j.useState(null),[o,l]=j.useState(!1),[u,d]=j.useState(""),[h,f]=j.useState("all"),[p,g]=j.useState("all"),[m,v]=j.useState("all"),[x,y]=j.useState({}),[w,_]=j.useState(""),[A,C]=j.useState("all"),[N,E]=j.useState("all"),[P,L]=j.useState("all"),[O,k]=j.useState({}),[D,F]=j.useState(20),{toast:z}=Kr(),{uniqueSubjects:U,isLoading:H}=gae(),{uniqueClasses:B,isLoading:X}=vae(),ne=["easy","medium","difficult"];j.useEffect(()=>{fe()},[]);const fe=async()=>{try{i(!0);const{data:$e}=await je.from("questions").select("*").order("created_at",{ascending:!1});$e&&r($e)}catch($e){console.error("Error fetching data:",$e),z({title:"Error",description:"Failed to fetch questions.",variant:"destructive"})}finally{i(!1)}},I=e.filter($e=>{const At=$e.question_text.toLowerCase().includes(w.toLowerCase()),Rt=A==="all"||$e.subject_parent_id===A,Yt=N==="all"||$e.difficulty===N,ar=P==="all"||$e.class_parent_id===P,or=new Date($e.created_at),Ht=(!O.from||or>=O.from)&&(!O.to||or<=O.to);return At&&Rt&&Yt&&ar&&Ht}),{currentPage:q,totalPages:V,paginatedData:K,goToPage:Y,nextPage:ae,previousPage:pe,canGoNext:le,canGoPrevious:ye,startItem:Se,endItem:we,totalItems:We,itemsPerPage:Ve,setItemsPerPage:ke}=e9({data:I,itemsPerPage:D,onItemsPerPageChange:F}),Q=()=>{_(u),C(h),E(p),L(m),k(x)},_e=()=>{d(""),f("all"),g("all"),v("all"),y({}),_(""),C("all"),E("all"),L("all"),k({})},Ue=$e=>{switch($e){case"easy":return"default";case"medium":return"secondary";case"difficult":return"destructive";default:return"outline"}},Te=$e=>{a($e),l(!0)},qe=async()=>{if(s)try{const{error:$e}=await je.from("questions").update({question_text:s.question_text,option_a:s.option_a,option_b:s.option_b,option_c:s.option_c,option_d:s.option_d,correct_answer:s.correct_answer,difficulty:s.difficulty}).eq("id",s.id);if($e)throw $e;z({title:"Success",description:"Question updated successfully."}),l(!1),a(null),fe(),t==null||t()}catch($e){console.error("Error updating question:",$e),z({title:"Error",description:"Failed to update question.",variant:"destructive"})}},rt=async $e=>{if(confirm("Are you sure you want to delete this question?"))try{const{error:At}=await je.from("questions").delete().eq("id",$e);if(At)throw At;z({title:"Success",description:"Question deleted successfully."}),fe(),t==null||t()}catch(At){console.error("Error deleting question:",At),z({title:"Error",description:"Failed to delete question.",variant:"destructive"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col justify-between",children:[c.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Question Bank"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your reusable question repository"})]}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(MP,{className:"w-4 h-4"}),"Filters"]})}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"search",children:"Search Questions"}),c.jsxs("div",{className:"relative",children:[c.jsx(pA,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),c.jsx(pr,{id:"search",placeholder:"Search questions or documents...",value:u,onChange:$e=>d($e.target.value),className:"pl-8"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Subject"}),c.jsxs(Ur,{value:h,onValueChange:f,children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"All subjects"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"All Subjects"}),H?c.jsx(pt,{value:"_loading",disabled:!0,children:"Loading subjects..."}):U.map($e=>c.jsx(pt,{value:$e.id,children:$e.subject_name},$e.id))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Difficulty"}),c.jsxs(Ur,{value:p,onValueChange:g,children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"All difficulties"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"All Difficulties"}),ne.map($e=>c.jsx(pt,{value:$e,children:$e.charAt(0).toUpperCase()+$e.slice(1)},$e))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Class Level"}),c.jsxs(Ur,{value:m,onValueChange:v,children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"All classes"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"All Classes"}),X?c.jsx(pt,{value:"_loading",disabled:!0,children:"Loading classes..."}):B.map($e=>c.jsx(pt,{value:$e.class_key,children:$e.class_name},$e.id))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Date Range"}),c.jsxs(zm,{children:[c.jsx(qm,{asChild:!0,children:c.jsxs(Ge,{id:"date",variant:"outline",className:He("w-full justify-start text-left font-normal",!x.from&&"text-muted-foreground"),children:[c.jsx(ia,{className:"mr-2 h-4 w-4"}),x!=null&&x.from?x.to?c.jsxs(c.Fragment,{children:[ai(x.from,"LLL dd, y")," -"," ",ai(x.to,"LLL dd, y")]}):ai(x.from,"LLL dd, y"):c.jsx("span",{children:"Pick a date range"})]})}),c.jsx(Nf,{className:"w-auto p-0",align:"start",children:c.jsx(f1,{initialFocus:!0,mode:"range",defaultMonth:x==null?void 0:x.from,selected:{from:x.from,to:x.to},onSelect:$e=>y($e||{}),numberOfMonths:2,className:He("p-3 pointer-events-auto")})})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Ge,{onClick:Q,children:[c.jsx(MP,{className:"w-4 h-4 mr-2"}),"Apply Filters"]}),c.jsx(Ge,{variant:"outline",onClick:_e,children:"Clear All Filters"})]})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Questions"}),c.jsxs(Xt,{children:[I.length," question",I.length!==1?"s":""," found"]})]}),c.jsxs(Ie,{children:[n?c.jsx("div",{className:"text-center py-8",children:"Loading questions..."}):I.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No questions found matching your criteria."}):c.jsx("div",{className:"overflow-hidden",children:c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{children:"Question"}),c.jsx(qt,{children:"Subject"}),c.jsx(qt,{children:"Difficulty"}),c.jsx(qt,{children:"Class"}),c.jsx(qt,{children:"Page"}),c.jsx(qt,{className:"text-right",children:"Actions"})]})}),c.jsx(Zo,{children:K.map($e=>{var At,Rt;return c.jsxs(Ln,{children:[c.jsx(Wt,{className:"max-w-md",children:c.jsx("div",{className:"truncate",title:$e.question_text,children:$e.question_text})}),c.jsx(Wt,{children:((At=U.find(Yt=>Yt.id===$e.subject_parent_id))==null?void 0:At.subject_name)||"-"}),c.jsx(Wt,{children:c.jsx(Pt,{variant:Ue($e.difficulty),children:$e.difficulty})}),c.jsx(Wt,{children:((Rt=B.find(Yt=>Yt.id===$e.class_parent_id))==null?void 0:Rt.class_name)||"-"}),c.jsx(Wt,{children:$e.page_number||"-"}),c.jsx(Wt,{className:"text-right",children:c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>Te($e),children:c.jsx(nN,{className:"w-3 h-3"})}),c.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>rt($e.id),children:c.jsx(qw,{className:"w-3 h-3"})})]})})]},$e.id)})})]})}),c.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(Nle,{startItem:Se,endItem:we,totalItems:We}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ft,{htmlFor:"items-per-page",className:"text-sm whitespace-nowrap",children:"Rows per page:"}),c.jsxs(Ur,{value:Ve.toString(),onValueChange:$e=>ke(Number($e)),children:[c.jsx(Rr,{id:"items-per-page",className:"w-20",children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"10",children:"10"}),c.jsx(pt,{value:"20",children:"20"}),c.jsx(pt,{value:"50",children:"50"}),c.jsx(pt,{value:"100",children:"100"})]})]})]})]}),V>1&&c.jsx(t9,{children:c.jsxs(r9,{children:[c.jsx(kl,{children:c.jsx(Ele,{href:"#",onClick:$e=>{$e.preventDefault(),Y(1)},className:q===1?"pointer-events-none opacity-50":"cursor-pointer"})}),c.jsx(kl,{children:c.jsx(n9,{href:"#",onClick:$e=>{$e.preventDefault(),pe()},className:ye?"cursor-pointer":"pointer-events-none opacity-50"})}),Array.from({length:Math.min(V,5)},($e,At)=>{let Rt;return V<=5||q<=3?Rt=At+1:q>=V-2?Rt=V-4+At:Rt=q-2+At,c.jsx(kl,{children:c.jsx(Vf,{href:"#",onClick:Yt=>{Yt.preventDefault(),Y(Rt)},isActive:q===Rt,className:"cursor-pointer",children:Rt})},Rt)}),V>5&&q<V-2&&c.jsxs(c.Fragment,{children:[c.jsx(kl,{children:c.jsx(s9,{})}),c.jsx(kl,{children:c.jsx(Vf,{href:"#",onClick:$e=>{$e.preventDefault(),Y(V)},className:"cursor-pointer",children:V})})]}),c.jsx(kl,{children:c.jsx(i9,{href:"#",onClick:$e=>{$e.preventDefault(),ae()},className:le?"cursor-pointer":"pointer-events-none opacity-50"})}),c.jsx(kl,{children:c.jsx(Cle,{href:"#",onClick:$e=>{$e.preventDefault(),Y(V)},className:q===V?"pointer-events-none opacity-50":"cursor-pointer"})})]})})]})]})]}),c.jsx(Hf,{open:o,onOpenChange:l,children:c.jsxs(sh,{className:"max-w-2xl",children:[c.jsxs(Gu,{children:[c.jsx(Ku,{children:"Edit Question"}),c.jsx(r0,{children:"Modify the question details below."})]}),s&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"question_text",children:"Question"}),c.jsx(Xl,{id:"question_text",value:s.question_text,onChange:$e=>a({...s,question_text:$e.target.value}),rows:3})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"option_a",children:"Option A"}),c.jsx(pr,{id:"option_a",value:s.option_a,onChange:$e=>a({...s,option_a:$e.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"option_b",children:"Option B"}),c.jsx(pr,{id:"option_b",value:s.option_b,onChange:$e=>a({...s,option_b:$e.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"option_c",children:"Option C"}),c.jsx(pr,{id:"option_c",value:s.option_c,onChange:$e=>a({...s,option_c:$e.target.value})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"option_d",children:"Option D"}),c.jsx(pr,{id:"option_d",value:s.option_d,onChange:$e=>a({...s,option_d:$e.target.value})})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Correct Answer"}),c.jsxs(Ur,{value:(ct=s.correct_answer)==null?void 0:ct.toLowerCase(),onValueChange:$e=>a({...s,correct_answer:$e}),children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select correct answer"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"a",children:"Option A"}),c.jsx(pt,{value:"b",children:"Option B"}),c.jsx(pt,{value:"c",children:"Option C"}),c.jsx(pt,{value:"d",children:"Option D"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Difficulty"}),c.jsxs(Ur,{value:s.difficulty,onValueChange:$e=>a({...s,difficulty:$e}),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"easy",children:"Easy"}),c.jsx(pt,{value:"medium",children:"Medium"}),c.jsx(pt,{value:"difficult",children:"Difficult"})]})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[c.jsx(Ge,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),c.jsx(Ge,{onClick:qe,children:"Save Changes"})]})]})]})})]})}function I4e(t,e=[]){let r=[];function n(s,a){const o=j.createContext(a),l=r.length;r=[...r,a];function u(h){const{scope:f,children:p,...g}=h,m=(f==null?void 0:f[t][l])||o,v=j.useMemo(()=>g,Object.values(g));return c.jsx(m.Provider,{value:v,children:p})}function d(h,f){const p=(f==null?void 0:f[t][l])||o,g=j.useContext(p);if(g)return g;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return u.displayName=s+"Provider",[u,d]}const i=()=>{const s=r.map(a=>j.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return j.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[n,R4e(i,...e)]}function R4e(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=n.reduce((o,{useScope:l,scopeName:u})=>{const h=l(s)[`__scope${u}`];return{...o,...h}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return r.scopeName=e.scopeName,r}var a9="Progress",o9=100,[D4e,f0t]=I4e(a9),[F4e,$4e]=D4e(a9),Tle=j.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=B4e,...a}=t;(i||i===0)&&!zH(i)&&console.error(U4e(`${i}`,"Progress"));const o=zH(i)?i:o9;n!==null&&!qH(n,o)&&console.error(z4e(`${n}`,"Progress"));const l=qH(n,o)?n:null,u=sk(l)?s(l,o):void 0;return c.jsx(F4e,{scope:r,value:l,max:o,children:c.jsx(Ut.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":sk(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":Ole(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});Tle.displayName=a9;var Ple="ProgressIndicator",kle=j.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=$4e(Ple,r);return c.jsx(Ut.div,{"data-state":Ole(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});kle.displayName=Ple;function B4e(t,e){return`${Math.round(t/e*100)}%`}function Ole(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function sk(t){return typeof t=="number"}function zH(t){return sk(t)&&!isNaN(t)&&t>0}function qH(t,e){return sk(t)&&!isNaN(t)&&t<=e&&t>=0}function U4e(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${o9}\`.`}function z4e(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${o9} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Mle=Tle,q4e=kle;const Rc=j.forwardRef(({className:t,value:e,...r},n)=>c.jsx(Mle,{ref:n,className:He("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:c.jsx(q4e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Rc.displayName=Mle.displayName;function W4e(t,e){const[r,n]=j.useState([]),[i,s]=j.useState([]),[a,o]=j.useState(null),[l,u]=j.useState(!0),{toast:d}=Kr();j.useEffect(()=>{h()},[t,e]);const h=async()=>{try{u(!0);const{data:{user:f}}=await je.auth.getUser();if(!f)throw new Error("User not authenticated");const p=t==="all"?365*10:parseInt(t),{data:g,error:m}=await je.rpc("get_question_analytics",{parent_user_id:f.id,time_period_days:p,difficulty_filter:e});if(m)throw m;const{data:v,error:x}=await je.rpc("get_paper_performance",{parent_user_id:f.id,time_period_days:p});if(x)throw x;const{data:y,error:w}=await je.rpc("get_overall_analytics",{parent_user_id:f.id,time_period_days:p});if(w)throw w;n(g||[]),s(v||[]),o(y&&y.length>0?y[0]:null)}catch(f){console.error("Error fetching analytics:",f),d({title:"Error",description:"Failed to fetch analytics data. Please try again.",variant:"destructive"})}finally{u(!1)}};return{questionStats:r,paperPerformance:i,overallStats:a,isLoading:l,refetch:h}}function H4e(){var d;const[t,e]=j.useState("30"),[r,n]=j.useState("all"),{questionStats:i,paperPerformance:s,overallStats:a,isLoading:o}=W4e(t,r),l=i,u=h=>h>=80?"text-green-600":h>=60?"text-yellow-600":"text-red-600";return!o&&(!a||a.total_attempts===0)?c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Question Analytics"}),c.jsx("p",{className:"text-muted-foreground",children:"Track question performance and student insights"})]})}),c.jsx(Oe,{children:c.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(Aye,{className:"h-16 w-16 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Analytics Data Yet"}),c.jsx("p",{className:"text-muted-foreground text-center max-w-md",children:"Analytics will appear here once your students start completing tests. Create and schedule tests to get started!"})]})})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Question Analytics"}),c.jsx("p",{className:"text-muted-foreground",children:"Track question performance and student insights"})]})}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs(Ur,{value:t,onValueChange:e,children:[c.jsx(Rr,{className:"w-48",children:c.jsx(zr,{placeholder:"Select period"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"7",children:"Last 7 days"}),c.jsx(pt,{value:"30",children:"Last 30 days"}),c.jsx(pt,{value:"90",children:"Last 3 months"}),c.jsx(pt,{value:"all",children:"All time"})]})]}),c.jsxs(Ur,{value:r,onValueChange:n,children:[c.jsx(Rr,{className:"w-48",children:c.jsx(zr,{placeholder:"Filter by difficulty"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"All difficulties"}),c.jsx(pt,{value:"easy",children:"Easy"}),c.jsx(pt,{value:"medium",children:"Medium"}),c.jsx(pt,{value:"difficult",children:"Difficult"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Total Questions"}),c.jsx(zu,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.total_questions_used)||0}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Used in tests"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Avg Success Rate"}),c.jsx(iN,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsxs("div",{className:`text-2xl font-bold ${u((a==null?void 0:a.avg_success_rate)||0)}`,children:[((d=a==null?void 0:a.avg_success_rate)==null?void 0:d.toFixed(1))||0,"%"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all tests"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Active Students"}),c.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:(a==null?void 0:a.active_students)||0}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Taking tests"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Avg Completion Time"}),c.jsx(Ui,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[a!=null&&a.avg_completion_time?Math.round(a.avg_completion_time/60):0,"m"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Per test"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(y3,{className:"w-4 h-4 text-red-500"}),"Most Challenging Questions"]}),c.jsx(Xt,{children:"Questions with lowest success rates"})]}),c.jsx(Ie,{children:o?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):c.jsx("div",{className:"space-y-3",children:l.sort((h,f)=>h.success_rate-f.success_rate).slice(0,3).map((h,f)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-red-100 text-red-600 text-xs flex items-center justify-center font-semibold",children:f+1}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",children:h.question_text}),c.jsx("p",{className:"text-xs text-muted-foreground",children:h.subject_name})]}),c.jsxs(Pt,{variant:"destructive",className:"text-xs",children:[h.success_rate,"%"]})]},h.question_id))})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(zc,{className:"w-4 h-4 text-green-500"}),"Best Performing Questions"]}),c.jsx(Xt,{children:"Questions with highest success rates"})]}),c.jsx(Ie,{children:o?c.jsx("div",{className:"text-center py-4",children:"Loading..."}):c.jsx("div",{className:"space-y-3",children:l.sort((h,f)=>f.success_rate-h.success_rate).slice(0,3).map((h,f)=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-green-100 text-green-600 text-xs flex items-center justify-center font-semibold",children:f+1}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium truncate",children:h.question_text}),c.jsx("p",{className:"text-xs text-muted-foreground",children:h.subject_name})]}),c.jsxs(Pt,{variant:"default",className:"text-xs",children:[h.success_rate,"%"]})]},h.question_id))})})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Question Performance Details"}),c.jsx(Xt,{children:"Detailed analytics for all questions"})]}),c.jsx(Ie,{children:o?c.jsx("div",{className:"text-center py-8",children:"Loading question analytics..."}):c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{children:"Question"}),c.jsx(qt,{children:"Subject"}),c.jsx(qt,{children:"Difficulty"}),c.jsx(qt,{children:"Attempts"}),c.jsx(qt,{children:"Success Rate"}),c.jsx(qt,{children:"Avg Time"})]})}),c.jsx(Zo,{children:l.map(h=>c.jsxs(Ln,{children:[c.jsx(Wt,{className:"max-w-md",children:c.jsx("div",{className:"truncate",title:h.question_text,children:h.question_text})}),c.jsx(Wt,{children:h.subject_name}),c.jsx(Wt,{children:c.jsx(Pt,{variant:"outline",children:h.difficulty})}),c.jsx(Wt,{children:h.total_attempts}),c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rc,{value:h.success_rate,className:"w-16 h-2"}),c.jsxs("span",{className:`text-sm font-medium ${u(h.success_rate)}`,children:[h.success_rate,"%"]})]})}),c.jsx(Wt,{children:h.avg_time_spent?`${h.avg_time_spent}s`:"-"})]},h.question_id))})]})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Paper Performance Summary"}),c.jsx(Xt,{children:"Overall paper completion and scoring statistics"})]}),c.jsx(Ie,{children:o?c.jsx("div",{className:"text-center py-8",children:"Loading paper performance..."}):s.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No paper attempts yet"}):c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{children:"Paper Name"}),c.jsx(qt,{children:"Total Attempts"}),c.jsx(qt,{children:"Average Score"}),c.jsx(qt,{children:"Completion Rate"})]})}),c.jsx(Zo,{children:s.map(h=>c.jsxs(Ln,{children:[c.jsx(Wt,{className:"font-medium",children:h.paper_title}),c.jsx(Wt,{children:h.total_attempts}),c.jsx(Wt,{children:c.jsxs("span",{className:u(h.avg_score),children:[h.avg_score.toFixed(1),"%"]})}),c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Rc,{value:h.completion_rate,className:"w-16 h-2"}),c.jsxs("span",{className:"text-sm",children:[h.completion_rate,"%"]})]})})]},h.paper_id))})]})})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function CN(t){return t+.5|0}const Em=(t,e,r)=>Math.max(Math.min(t,r),e);function eS(t){return Em(CN(t*2.55),0,255)}function Vm(t){return Em(CN(t*255),0,255)}function Hh(t){return Em(CN(t/2.55)/100,0,1)}function WH(t){return Em(CN(t*100),0,100)}const dc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},CF=[..."0123456789ABCDEF"],V4e=t=>CF[t&15],G4e=t=>CF[(t&240)>>4]+CF[t&15],pC=t=>(t&240)>>4===(t&15),K4e=t=>pC(t.r)&&pC(t.g)&&pC(t.b)&&pC(t.a);function Y4e(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&dc[t[1]]*17,g:255&dc[t[2]]*17,b:255&dc[t[3]]*17,a:e===5?dc[t[4]]*17:255}:(e===7||e===9)&&(r={r:dc[t[1]]<<4|dc[t[2]],g:dc[t[3]]<<4|dc[t[4]],b:dc[t[5]]<<4|dc[t[6]],a:e===9?dc[t[7]]<<4|dc[t[8]]:255})),r}const X4e=(t,e)=>t<255?e(t):"";function Q4e(t){var e=K4e(t)?V4e:G4e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+X4e(t.a,e):void 0}const J4e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Lle(t,e,r){const n=e*Math.min(r,1-r),i=(s,a=(s+t/30)%12)=>r-n*Math.max(Math.min(a-3,9-a,1),-1);return[i(0),i(8),i(4)]}function Z4e(t,e,r){const n=(i,s=(i+t/60)%6)=>r-r*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function e3e(t,e,r){const n=Lle(t,1,.5);let i;for(e+r>1&&(i=1/(e+r),e*=i,r*=i),i=0;i<3;i++)n[i]*=1-e-r,n[i]+=e;return n}function t3e(t,e,r,n,i){return t===i?(e-r)/n+(e<r?6:0):e===i?(r-t)/n+2:(t-e)/n+4}function l9(t){const r=t.r/255,n=t.g/255,i=t.b/255,s=Math.max(r,n,i),a=Math.min(r,n,i),o=(s+a)/2;let l,u,d;return s!==a&&(d=s-a,u=o>.5?d/(2-s-a):d/(s+a),l=t3e(r,n,i,d,s),l=l*60+.5),[l|0,u||0,o]}function c9(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Vm)}function u9(t,e,r){return c9(Lle,t,e,r)}function r3e(t,e,r){return c9(e3e,t,e,r)}function n3e(t,e,r){return c9(Z4e,t,e,r)}function Ile(t){return(t%360+360)%360}function i3e(t){const e=J4e.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?eS(+e[5]):Vm(+e[5]));const i=Ile(+e[2]),s=+e[3]/100,a=+e[4]/100;return e[1]==="hwb"?n=r3e(i,s,a):e[1]==="hsv"?n=n3e(i,s,a):n=u9(i,s,a),{r:n[0],g:n[1],b:n[2],a:r}}function s3e(t,e){var r=l9(t);r[0]=Ile(r[0]+e),r=u9(r),t.r=r[0],t.g=r[1],t.b=r[2]}function a3e(t){if(!t)return;const e=l9(t),r=e[0],n=WH(e[1]),i=WH(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${i}%, ${Hh(t.a)})`:`hsl(${r}, ${n}%, ${i}%)`}const HH={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},VH={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function o3e(){const t={},e=Object.keys(VH),r=Object.keys(HH);let n,i,s,a,o;for(n=0;n<e.length;n++){for(a=o=e[n],i=0;i<r.length;i++)s=r[i],o=o.replace(s,HH[s]);s=parseInt(VH[a],16),t[o]=[s>>16&255,s>>8&255,s&255]}return t}let mC;function l3e(t){mC||(mC=o3e(),mC.transparent=[0,0,0,0]);const e=mC[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const c3e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function u3e(t){const e=c3e.exec(t);let r=255,n,i,s;if(e){if(e[7]!==n){const a=+e[7];r=e[8]?eS(a):Em(a*255,0,255)}return n=+e[1],i=+e[3],s=+e[5],n=255&(e[2]?eS(n):Em(n,0,255)),i=255&(e[4]?eS(i):Em(i,0,255)),s=255&(e[6]?eS(s):Em(s,0,255)),{r:n,g:i,b:s,a:r}}}function d3e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Hh(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const SI=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,cy=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function h3e(t,e,r){const n=cy(Hh(t.r)),i=cy(Hh(t.g)),s=cy(Hh(t.b));return{r:Vm(SI(n+r*(cy(Hh(e.r))-n))),g:Vm(SI(i+r*(cy(Hh(e.g))-i))),b:Vm(SI(s+r*(cy(Hh(e.b))-s))),a:t.a+r*(e.a-t.a)}}function gC(t,e,r){if(t){let n=l9(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=u9(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function Rle(t,e){return t&&Object.assign(e||{},t)}function GH(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Vm(t[3]))):(e=Rle(t,{r:0,g:0,b:0,a:1}),e.a=Vm(e.a)),e}function f3e(t){return t.charAt(0)==="r"?u3e(t):i3e(t)}let Dle=class TF{constructor(e){if(e instanceof TF)return e;const r=typeof e;let n;r==="object"?n=GH(e):r==="string"&&(n=Y4e(e)||l3e(e)||f3e(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Rle(this._rgb);return e&&(e.a=Hh(e.a)),e}set rgb(e){this._rgb=GH(e)}rgbString(){return this._valid?d3e(this._rgb):void 0}hexString(){return this._valid?Q4e(this._rgb):void 0}hslString(){return this._valid?a3e(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,i=e.rgb;let s;const a=r===s?.5:r,o=2*a-1,l=n.a-i.a,u=((o*l===-1?o:(o+l)/(1+o*l))+1)/2;s=1-u,n.r=255&u*n.r+s*i.r+.5,n.g=255&u*n.g+s*i.g+.5,n.b=255&u*n.b+s*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=h3e(this._rgb,e._rgb,r)),this}clone(){return new TF(this.rgb)}alpha(e){return this._rgb.a=Vm(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=CN(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return gC(this._rgb,2,e),this}darken(e){return gC(this._rgb,2,-e),this}saturate(e){return gC(this._rgb,1,e),this}desaturate(e){return gC(this._rgb,1,-e),this}rotate(e){return s3e(this._rgb,e),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Th(){}const p3e=(()=>{let t=0;return()=>t++})();function Qr(t){return t==null}function mi(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function rn(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function el(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function dd(t,e){return el(t)?t:e}function Br(t,e){return typeof t>"u"?e:t}const m3e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function zn(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function yn(t,e,r,n){let i,s,a;if(mi(t))for(s=t.length,i=0;i<s;i++)e.call(r,t[i],i);else if(rn(t))for(a=Object.keys(t),s=a.length,i=0;i<s;i++)e.call(r,t[a[i]],a[i])}function ak(t,e){let r,n,i,s;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(i=t[r],s=e[r],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ok(t){if(mi(t))return t.map(ok);if(rn(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let i=0;for(;i<n;++i)e[r[i]]=ok(t[r[i]]);return e}return t}function Fle(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function g3e(t,e,r,n){if(!Fle(t))return;const i=e[t],s=r[t];rn(i)&&rn(s)?EA(i,s,n):e[t]=ok(s)}function EA(t,e,r){const n=mi(e)?e:[e],i=n.length;if(!rn(t))return t;r=r||{};const s=r.merger||g3e;let a;for(let o=0;o<i;++o){if(a=n[o],!rn(a))continue;const l=Object.keys(a);for(let u=0,d=l.length;u<d;++u)s(l[u],t,a,r)}return t}function bS(t,e){return EA(t,e,{merger:v3e})}function v3e(t,e,r){if(!Fle(t))return;const n=e[t],i=r[t];rn(n)&&rn(i)?bS(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=ok(i))}const KH={"":t=>t,x:t=>t.x,y:t=>t.y};function x3e(t){const e=t.split("."),r=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function y3e(t){const e=x3e(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function cw(t,e){return(KH[e]||(KH[e]=y3e(e)))(t)}function d9(t){return t.charAt(0).toUpperCase()+t.slice(1)}const CA=t=>typeof t<"u",s0=t=>typeof t=="function",YH=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function b3e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Zi=Math.PI,Dc=2*Zi,w3e=Dc+Zi,lk=Number.POSITIVE_INFINITY,_3e=Zi/180,Ul=Zi/2,U0=Zi/4,XH=Zi*2/3,PF=Math.log10,Yd=Math.sign;function wS(t,e,r){return Math.abs(t-e)<r}function QH(t){const e=Math.round(t);t=wS(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(PF(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function S3e(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((i,s)=>i-s).pop(),e}function A3e(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function TA(t){return!A3e(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function j3e(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function N3e(t,e,r){let n,i,s;for(n=0,i=t.length;n<i;n++)s=t[n][r],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Cm(t){return t*(Zi/180)}function h9(t){return t*(180/Zi)}function JH(t){if(!el(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function E3e(t,e){const r=e.x-t.x,n=e.y-t.y,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s<-.5*Zi&&(s+=Dc),{angle:s,distance:i}}function kF(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function C3e(t,e){return(t-e+w3e)%Dc-Zi}function Tu(t){return(t%Dc+Dc)%Dc}function $le(t,e,r,n){const i=Tu(t),s=Tu(e),a=Tu(r),o=Tu(s-i),l=Tu(a-i),u=Tu(i-s),d=Tu(i-a);return i===s||i===a||n&&s===a||o>l&&u<d}function zl(t,e,r){return Math.max(e,Math.min(r,t))}function T3e(t){return zl(t,-32768,32767)}function xg(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function f9(t,e,r){r=r||(a=>t[a]<e);let n=t.length-1,i=0,s;for(;n-i>1;)s=i+n>>1,r(s)?i=s:n=s;return{lo:i,hi:n}}const yg=(t,e,r,n)=>f9(t,r,n?i=>{const s=t[i][e];return s<r||s===r&&t[i+1][e]===r}:i=>t[i][e]<r),P3e=(t,e,r)=>f9(t,r,n=>t[n][e]>=r);function k3e(t,e,r){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>r;)i--;return n>0||i<t.length?t.slice(n,i):t}const Ble=["push","pop","shift","splice","unshift"];function O3e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ble.forEach(r=>{const n="_onData"+d9(r),i=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...s){const a=i.apply(this,s);return t._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),a}})})}function ZH(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(Ble.forEach(s=>{delete t[s]}),delete t._chartjs)}function Ule(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const zle=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function qle(t,e){let r=[],n=!1;return function(...i){r=i,n||(n=!0,zle.call(window,()=>{n=!1,t.apply(e,r)}))}}function M3e(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const p9=t=>t==="start"?"left":t==="end"?"right":"center",Ta=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,L3e=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function I3e(t,e,r){const n=e.length;let i=0,s=n;if(t._sorted){const{iScale:a,vScale:o,_parsed:l}=t,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=a.axis,{min:h,max:f,minDefined:p,maxDefined:g}=a.getUserBounds();if(p){if(i=Math.min(yg(l,d,h).lo,r?n:yg(e,d,a.getPixelForValue(h)).lo),u){const m=l.slice(0,i+1).reverse().findIndex(v=>!Qr(v[o.axis]));i-=Math.max(0,m)}i=zl(i,0,n-1)}if(g){let m=Math.max(yg(l,a.axis,f,!0).hi+1,r?0:yg(e,d,a.getPixelForValue(f),!0).hi+1);if(u){const v=l.slice(m-1).findIndex(x=>!Qr(x[o.axis]));m+=Math.max(0,v)}s=zl(m,i,n)-i}else s=n-i}return{start:i,count:s}}function R3e(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=i,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,i),s}const vC=t=>t===0||t===1,eV=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Dc/r)),tV=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Dc/r)+1,_S={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ul)+1,easeOutSine:t=>Math.sin(t*Ul),easeInOutSine:t=>-.5*(Math.cos(Zi*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>vC(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>vC(t)?t:eV(t,.075,.3),easeOutElastic:t=>vC(t)?t:tV(t,.075,.3),easeInOutElastic(t){return vC(t)?t:t<.5?.5*eV(t*2,.1125,.45):.5+.5*tV(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-_S.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?_S.easeInBounce(t*2)*.5:_S.easeOutBounce(t*2-1)*.5+.5};function m9(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function rV(t){return m9(t)?t:new Dle(t)}function AI(t){return m9(t)?t:new Dle(t).saturate(.5).darken(.1).hexString()}const D3e=["x","y","borderWidth","radius","tension"],F3e=["color","borderColor","backgroundColor"];function $3e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:F3e},numbers:{type:"number",properties:D3e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function B3e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const nV=new Map;function U3e(t,e){e=e||{};const r=t+JSON.stringify(e);let n=nV.get(r);return n||(n=new Intl.NumberFormat(t,e),nV.set(r,n)),n}function Wle(t,e,r){return U3e(e,r).format(t)}const Hle={values(t){return mi(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let i,s=t;if(r.length>1){const u=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(u<1e-4||u>1e15)&&(i="scientific"),s=z3e(t,r)}const a=PF(Math.abs(s)),o=isNaN(a)?1:Math.max(Math.min(-1*Math.floor(a),20),0),l={notation:i,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),Wle(t,n,l)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(PF(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?Hle.numeric.call(this,t,e,r):""}};function z3e(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var g9={formatters:Hle};function q3e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:g9.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const tx=Object.create(null),OF=Object.create(null);function SS(t,e){if(!e)return t;const r=e.split(".");for(let n=0,i=r.length;n<i;++n){const s=r[n];t=t[s]||(t[s]=Object.create(null))}return t}function jI(t,e,r){return typeof e=="string"?EA(SS(t,e),r):EA(SS(t,""),e)}class W3e{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>AI(i.backgroundColor),this.hoverBorderColor=(n,i)=>AI(i.borderColor),this.hoverColor=(n,i)=>AI(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return jI(this,e,r)}get(e){return SS(this,e)}describe(e,r){return jI(OF,e,r)}override(e,r){return jI(tx,e,r)}route(e,r,n,i){const s=SS(this,e),a=SS(this,n),o="_"+r;Object.defineProperties(s,{[o]:{value:s[r],writable:!0},[r]:{enumerable:!0,get(){const l=this[o],u=a[i];return rn(l)?Object.assign({},u,l):Br(l,u)},set(l){this[o]=l}}})}apply(e){e.forEach(r=>r(this))}}var Ei=new W3e({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[$3e,B3e,q3e]);function H3e(t){return!t||Qr(t.size)||Qr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function ck(t,e,r,n,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,r.push(i)),s>n&&(n=s),n}function V3e(t,e,r,n){n=n||{};let i=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},s=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let a=0;const o=r.length;let l,u,d,h,f;for(l=0;l<o;l++)if(h=r[l],h!=null&&!mi(h))a=ck(t,i,s,a,h);else if(mi(h))for(u=0,d=h.length;u<d;u++)f=h[u],f!=null&&!mi(f)&&(a=ck(t,i,s,a,f));t.restore();const p=s.length/2;if(p>r.length){for(l=0;l<p;l++)delete i[s[l]];s.splice(0,p)}return a}function z0(t,e,r){const n=t.currentDevicePixelRatio,i=r!==0?Math.max(r/2,.5):0;return Math.round((e-i)*n)/n+i}function iV(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function MF(t,e,r,n){Vle(t,e,r,n,null)}function Vle(t,e,r,n,i){let s,a,o,l,u,d,h,f;const p=e.pointStyle,g=e.rotation,m=e.radius;let v=(g||0)*_3e;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(v),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(m)||m<=0)){switch(t.beginPath(),p){default:i?t.ellipse(r,n,i/2,m,0,0,Dc):t.arc(r,n,m,0,Dc),t.closePath();break;case"triangle":d=i?i/2:m,t.moveTo(r+Math.sin(v)*d,n-Math.cos(v)*m),v+=XH,t.lineTo(r+Math.sin(v)*d,n-Math.cos(v)*m),v+=XH,t.lineTo(r+Math.sin(v)*d,n-Math.cos(v)*m),t.closePath();break;case"rectRounded":u=m*.516,l=m-u,a=Math.cos(v+U0)*l,h=Math.cos(v+U0)*(i?i/2-u:l),o=Math.sin(v+U0)*l,f=Math.sin(v+U0)*(i?i/2-u:l),t.arc(r-h,n-o,u,v-Zi,v-Ul),t.arc(r+f,n-a,u,v-Ul,v),t.arc(r+h,n+o,u,v,v+Ul),t.arc(r-f,n+a,u,v+Ul,v+Zi),t.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,d=i?i/2:l,t.rect(r-d,n-l,2*d,2*l);break}v+=U0;case"rectRot":h=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,f=Math.sin(v)*(i?i/2:m),t.moveTo(r-h,n-o),t.lineTo(r+f,n-a),t.lineTo(r+h,n+o),t.lineTo(r-f,n+a),t.closePath();break;case"crossRot":v+=U0;case"cross":h=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,f=Math.sin(v)*(i?i/2:m),t.moveTo(r-h,n-o),t.lineTo(r+h,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"star":h=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,f=Math.sin(v)*(i?i/2:m),t.moveTo(r-h,n-o),t.lineTo(r+h,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a),v+=U0,h=Math.cos(v)*(i?i/2:m),a=Math.cos(v)*m,o=Math.sin(v)*m,f=Math.sin(v)*(i?i/2:m),t.moveTo(r-h,n-o),t.lineTo(r+h,n+o),t.moveTo(r+f,n-a),t.lineTo(r-f,n+a);break;case"line":a=i?i/2:Math.cos(v)*m,o=Math.sin(v)*m,t.moveTo(r-a,n-o),t.lineTo(r+a,n+o);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(v)*(i?i/2:m),n+Math.sin(v)*m);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function wf(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function v9(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function x9(t){t.restore()}function G3e(t,e,r,n,i){if(!e)return t.lineTo(r.x,r.y);if(i==="middle"){const s=(e.x+r.x)/2;t.lineTo(s,e.y),t.lineTo(s,r.y)}else i==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function K3e(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Y3e(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Qr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function X3e(t,e,r,n,i){if(i.strikethrough||i.underline){const s=t.measureText(n),a=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,l=r-s.actualBoundingBoxAscent,u=r+s.actualBoundingBoxDescent,d=i.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(a,d),t.lineTo(o,d),t.stroke()}}function Q3e(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function rx(t,e,r,n,i,s={}){const a=mi(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=i.string,Y3e(t,s),l=0;l<a.length;++l)u=a[l],s.backdrop&&Q3e(t,s.backdrop),o&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Qr(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,r,n,s.maxWidth)),t.fillText(u,r,n,s.maxWidth),X3e(t,r,n,u,s),n+=Number(i.lineHeight);t.restore()}function PA(t,e){const{x:r,y:n,w:i,h:s,radius:a}=e;t.arc(r+a.topLeft,n+a.topLeft,a.topLeft,1.5*Zi,Zi,!0),t.lineTo(r,n+s-a.bottomLeft),t.arc(r+a.bottomLeft,n+s-a.bottomLeft,a.bottomLeft,Zi,Ul,!0),t.lineTo(r+i-a.bottomRight,n+s),t.arc(r+i-a.bottomRight,n+s-a.bottomRight,a.bottomRight,Ul,0,!0),t.lineTo(r+i,n+a.topRight),t.arc(r+i-a.topRight,n+a.topRight,a.topRight,0,-Ul,!0),t.lineTo(r+a.topLeft,n)}const J3e=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Z3e=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function eOe(t,e){const r=(""+t).match(J3e);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const tOe=t=>+t||0;function Gle(t,e){const r={},n=rn(e),i=n?Object.keys(e):e,s=rn(t)?n?a=>Br(t[a],t[e[a]]):a=>t[a]:()=>t;for(const a of i)r[a]=tOe(s(a));return r}function Kle(t){return Gle(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Rv(t){return Gle(t,["topLeft","topRight","bottomLeft","bottomRight"])}function qa(t){const e=Kle(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function vs(t,e){t=t||{},e=e||Ei.font;let r=Br(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Br(t.style,e.style);n&&!(""+n).match(Z3e)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:Br(t.family,e.family),lineHeight:eOe(Br(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Br(t.weight,e.weight),string:""};return i.string=H3e(i),i}function xC(t,e,r,n){let i,s,a;for(i=0,s=t.length;i<s;++i)if(a=t[i],a!==void 0&&a!==void 0)return a}function rOe(t,e,r){const{min:n,max:i}=t,s=m3e(e,(i-n)/2),a=(o,l)=>r&&o===0?0:o+l;return{min:a(n,-Math.abs(s)),max:a(i,s)}}function _0(t,e){return Object.assign(Object.create(t),e)}function y9(t,e=[""],r,n,i=()=>t[0]){const s=r||t;typeof n>"u"&&(n=Jle("_fallback",t));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:n,_getTarget:i,override:o=>y9([o,...t],e,s,n)};return new Proxy(a,{deleteProperty(o,l){return delete o[l],delete o._keys,delete t[0][l],!0},get(o,l){return Xle(o,l,()=>uOe(l,e,t,o))},getOwnPropertyDescriptor(o,l){return Reflect.getOwnPropertyDescriptor(o._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(o,l){return aV(o).includes(l)},ownKeys(o){return aV(o)},set(o,l,u){const d=o._storage||(o._storage=i());return o[l]=d[l]=u,delete o._keys,!0}})}function uw(t,e,r,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:Yle(t,n),setContext:s=>uw(t,s,r,n),override:s=>uw(t.override(s),e,r,n)};return new Proxy(i,{deleteProperty(s,a){return delete s[a],delete t[a],!0},get(s,a,o){return Xle(s,a,()=>iOe(s,a,o))},getOwnPropertyDescriptor(s,a){return s._descriptors.allKeys?Reflect.has(t,a)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,a)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,a){return Reflect.has(t,a)},ownKeys(){return Reflect.ownKeys(t)},set(s,a,o){return t[a]=o,delete s[a],!0}})}function Yle(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:r,indexable:n,isScriptable:s0(r)?r:()=>r,isIndexable:s0(n)?n:()=>n}}const nOe=(t,e)=>t?t+d9(e):e,b9=(t,e)=>rn(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Xle(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function iOe(t,e,r){const{_proxy:n,_context:i,_subProxy:s,_descriptors:a}=t;let o=n[e];return s0(o)&&a.isScriptable(e)&&(o=sOe(e,o,t,r)),mi(o)&&o.length&&(o=aOe(e,o,t,a.isIndexable)),b9(e,o)&&(o=uw(o,i,s&&s[e],a)),o}function sOe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_stack:o}=r;if(o.has(t))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+t);o.add(t);let l=e(s,a||n);return o.delete(t),b9(t,l)&&(l=w9(i._scopes,i,t,l)),l}function aOe(t,e,r,n){const{_proxy:i,_context:s,_subProxy:a,_descriptors:o}=r;if(typeof s.index<"u"&&n(t))return e[s.index%e.length];if(rn(e[0])){const l=e,u=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=w9(u,i,t,d);e.push(uw(h,s,a&&a[t],o))}}return e}function Qle(t,e,r){return s0(t)?t(e,r):t}const oOe=(t,e)=>t===!0?e:typeof t=="string"?cw(e,t):void 0;function lOe(t,e,r,n,i){for(const s of e){const a=oOe(r,s);if(a){t.add(a);const o=Qle(a._fallback,r,i);if(typeof o<"u"&&o!==r&&o!==n)return o}else if(a===!1&&typeof n<"u"&&r!==n)return null}return!1}function w9(t,e,r,n){const i=e._rootScopes,s=Qle(e._fallback,r,n),a=[...t,...i],o=new Set;o.add(n);let l=sV(o,a,r,s||r,n);return l===null||typeof s<"u"&&s!==r&&(l=sV(o,a,s,l,n),l===null)?!1:y9(Array.from(o),[""],i,s,()=>cOe(e,r,n))}function sV(t,e,r,n,i){for(;r;)r=lOe(t,e,r,n,i);return r}function cOe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return mi(i)&&rn(r)?r:i||{}}function uOe(t,e,r,n){let i;for(const s of e)if(i=Jle(nOe(s,t),r),typeof i<"u")return b9(t,i)?w9(r,n,t,i):i}function Jle(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function aV(t){let e=t._keys;return e||(e=t._keys=dOe(t._scopes)),e}function dOe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}const hOe=Number.EPSILON||1e-14,dw=(t,e)=>e<t.length&&!t[e].skip&&t[e],Zle=t=>t==="x"?"y":"x";function fOe(t,e,r,n){const i=t.skip?e:t,s=e,a=r.skip?e:r,o=kF(s,i),l=kF(a,s);let u=o/(o+l),d=l/(o+l);u=isNaN(u)?0:u,d=isNaN(d)?0:d;const h=n*u,f=n*d;return{previous:{x:s.x-h*(a.x-i.x),y:s.y-h*(a.y-i.y)},next:{x:s.x+f*(a.x-i.x),y:s.y+f*(a.y-i.y)}}}function pOe(t,e,r){const n=t.length;let i,s,a,o,l,u=dw(t,0);for(let d=0;d<n-1;++d)if(l=u,u=dw(t,d+1),!(!l||!u)){if(wS(e[d],0,hOe)){r[d]=r[d+1]=0;continue}i=r[d]/e[d],s=r[d+1]/e[d],o=Math.pow(i,2)+Math.pow(s,2),!(o<=9)&&(a=3/Math.sqrt(o),r[d]=i*a*e[d],r[d+1]=s*a*e[d])}}function mOe(t,e,r="x"){const n=Zle(r),i=t.length;let s,a,o,l=dw(t,0);for(let u=0;u<i;++u){if(a=o,o=l,l=dw(t,u+1),!o)continue;const d=o[r],h=o[n];a&&(s=(d-a[r])/3,o[`cp1${r}`]=d-s,o[`cp1${n}`]=h-s*e[u]),l&&(s=(l[r]-d)/3,o[`cp2${r}`]=d+s,o[`cp2${n}`]=h+s*e[u])}}function gOe(t,e="x"){const r=Zle(e),n=t.length,i=Array(n).fill(0),s=Array(n);let a,o,l,u=dw(t,0);for(a=0;a<n;++a)if(o=l,l=u,u=dw(t,a+1),!!l){if(u){const d=u[e]-l[e];i[a]=d!==0?(u[r]-l[r])/d:0}s[a]=o?u?Yd(i[a-1])!==Yd(i[a])?0:(i[a-1]+i[a])/2:i[a-1]:i[a]}pOe(t,i,s),mOe(t,s,e)}function yC(t,e,r){return Math.max(Math.min(t,r),e)}function vOe(t,e){let r,n,i,s,a,o=wf(t[0],e);for(r=0,n=t.length;r<n;++r)a=s,s=o,o=r<n-1&&wf(t[r+1],e),s&&(i=t[r],a&&(i.cp1x=yC(i.cp1x,e.left,e.right),i.cp1y=yC(i.cp1y,e.top,e.bottom)),o&&(i.cp2x=yC(i.cp2x,e.left,e.right),i.cp2y=yC(i.cp2y,e.top,e.bottom)))}function xOe(t,e,r,n,i){let s,a,o,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")gOe(t,i);else{let u=n?t[t.length-1]:t[0];for(s=0,a=t.length;s<a;++s)o=t[s],l=fOe(u,o,t[Math.min(s+1,a-(n?0:1))%a],e.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,u=o}e.capBezierPoints&&vOe(t,r)}function _9(){return typeof window<"u"&&typeof document<"u"}function S9(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function uk(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const SO=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function yOe(t,e){return SO(t).getPropertyValue(e)}const bOe=["top","right","bottom","left"];function Dv(t,e,r){const n={};r=r?"-"+r:"";for(let i=0;i<4;i++){const s=bOe[i];n[s]=parseFloat(t[e+"-"+s+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const wOe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function _Oe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:i,offsetY:s}=n;let a=!1,o,l;if(wOe(i,s,t.target))o=i,l=s;else{const u=e.getBoundingClientRect();o=n.clientX-u.left,l=n.clientY-u.top,a=!0}return{x:o,y:l,box:a}}function tg(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,i=SO(r),s=i.boxSizing==="border-box",a=Dv(i,"padding"),o=Dv(i,"border","width"),{x:l,y:u,box:d}=_Oe(t,r),h=a.left+(d&&o.left),f=a.top+(d&&o.top);let{width:p,height:g}=e;return s&&(p-=a.width+o.width,g-=a.height+o.height),{x:Math.round((l-h)/p*r.width/n),y:Math.round((u-f)/g*r.height/n)}}function SOe(t,e,r){let n,i;if(e===void 0||r===void 0){const s=t&&S9(t);if(!s)e=t.clientWidth,r=t.clientHeight;else{const a=s.getBoundingClientRect(),o=SO(s),l=Dv(o,"border","width"),u=Dv(o,"padding");e=a.width-u.width-l.width,r=a.height-u.height-l.height,n=uk(o.maxWidth,s,"clientWidth"),i=uk(o.maxHeight,s,"clientHeight")}}return{width:e,height:r,maxWidth:n||lk,maxHeight:i||lk}}const bC=t=>Math.round(t*10)/10;function AOe(t,e,r,n){const i=SO(t),s=Dv(i,"margin"),a=uk(i.maxWidth,t,"clientWidth")||lk,o=uk(i.maxHeight,t,"clientHeight")||lk,l=SOe(t,e,r);let{width:u,height:d}=l;if(i.boxSizing==="content-box"){const f=Dv(i,"border","width"),p=Dv(i,"padding");u-=p.width+f.width,d-=p.height+f.height}return u=Math.max(0,u-s.width),d=Math.max(0,n?u/n:d-s.height),u=bC(Math.min(u,a,l.maxWidth)),d=bC(Math.min(d,o,l.maxHeight)),u&&!d&&(d=bC(u/2)),(e!==void 0||r!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,u=bC(Math.floor(d*n))),{width:u,height:d}}function oV(t,e,r){const n=e||1,i=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const a=t.canvas;return a.style&&(r||!a.style.height&&!a.style.width)&&(a.style.height=`${t.height}px`,a.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||a.height!==i||a.width!==s?(t.currentDevicePixelRatio=n,a.height=i,a.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const jOe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};_9()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function lV(t,e){const r=yOe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function rg(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function NOe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function EOe(t,e,r,n){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},a=rg(t,i,r),o=rg(i,s,r),l=rg(s,e,r),u=rg(a,o,r),d=rg(o,l,r);return rg(u,d,r)}const COe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},TOe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function p1(t,e,r){return t?COe(e,r):TOe()}function ece(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function tce(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function rce(t){return t==="angle"?{between:$le,compare:C3e,normalize:Tu}:{between:xg,compare:(e,r)=>e-r,normalize:e=>e}}function cV({start:t,end:e,count:r,loop:n,style:i}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:i}}function POe(t,e,r){const{property:n,start:i,end:s}=r,{between:a,normalize:o}=rce(n),l=e.length;let{start:u,end:d,loop:h}=t,f,p;if(h){for(u+=l,d+=l,f=0,p=l;f<p&&a(o(e[u%l][n]),i,s);++f)u--,d--;u%=l,d%=l}return d<u&&(d+=l),{start:u,end:d,loop:h,style:t.style}}function kOe(t,e,r){if(!r)return[t];const{property:n,start:i,end:s}=r,a=e.length,{compare:o,between:l,normalize:u}=rce(n),{start:d,end:h,loop:f,style:p}=POe(t,e,r),g=[];let m=!1,v=null,x,y,w;const _=()=>l(i,w,x)&&o(i,w)!==0,A=()=>o(s,x)===0||l(s,w,x),C=()=>m||_(),N=()=>!m||A();for(let E=d,P=d;E<=h;++E)y=e[E%a],!y.skip&&(x=u(y[n]),x!==w&&(m=l(x,i,s),v===null&&C()&&(v=o(x,i)===0?E:P),v!==null&&N()&&(g.push(cV({start:v,end:E,loop:f,count:a,style:p})),v=null),P=E,w=x));return v!==null&&g.push(cV({start:v,end:h,loop:f,count:a,style:p})),g}function OOe(t,e){const r=[],n=t.segments;for(let i=0;i<n.length;i++){const s=kOe(n[i],t.points,e);s.length&&r.push(...s)}return r}function MOe(t,e,r,n){let i=0,s=e-1;if(r&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,r&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}function LOe(t,e,r,n){const i=t.length,s=[];let a=e,o=t[e],l;for(l=e+1;l<=r;++l){const u=t[l%i];u.skip||u.stop?o.skip||(n=!1,s.push({start:e%i,end:(l-1)%i,loop:n}),e=a=u.stop?l:null):(a=l,o.skip&&(e=l)),o=u}return a!==null&&s.push({start:e%i,end:a%i,loop:n}),s}function IOe(t,e){const r=t.points,n=t.options.spanGaps,i=r.length;if(!i)return[];const s=!!t._loop,{start:a,end:o}=MOe(r,i,s,n);if(n===!0)return uV(t,[{start:a,end:o,loop:s}],r,e);const l=o<a?o+i:o,u=!!t._fullLoop&&a===0&&o===i-1;return uV(t,LOe(r,a,l,u),r,e)}function uV(t,e,r,n){return!n||!n.setContext||!r?e:ROe(t,e,r,n)}function ROe(t,e,r,n){const i=t._chart.getContext(),s=dV(t.options),{_datasetIndex:a,options:{spanGaps:o}}=t,l=r.length,u=[];let d=s,h=e[0].start,f=h;function p(g,m,v,x){const y=o?-1:1;if(g!==m){for(g+=l;r[g%l].skip;)g-=y;for(;r[m%l].skip;)m+=y;g%l!==m%l&&(u.push({start:g%l,end:m%l,loop:v,style:x}),d=x,h=m%l)}}for(const g of e){h=o?h:g.start;let m=r[h%l],v;for(f=h+1;f<=g.end;f++){const x=r[f%l];v=dV(n.setContext(_0(i,{type:"segment",p0:m,p1:x,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:a}))),DOe(v,d)&&p(h,f-1,g.loop,d),m=x,d=v}h<f-1&&p(h,f-1,g.loop,d)}return u}function dV(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function DOe(t,e){if(!e)return!1;const r=[],n=function(i,s){return m9(s)?(r.includes(s)||r.push(s),r.indexOf(s)):s};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function wC(t,e,r){return t.options.clip?t[r]:e[r]}function FOe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:wC(r,e,"left"),right:wC(r,e,"right"),top:wC(n,e,"top"),bottom:wC(n,e,"bottom")}:e}function $Oe(t,e){const r=e._clip;if(r.disabled)return!1;const n=FOe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class BOe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,i){const s=r.listeners[i],a=r.duration;s.forEach(o=>o({chart:e,initial:r.initial,numSteps:a,currentStep:Math.min(n-r.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=zle.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const s=n.items;let a=s.length-1,o=!1,l;for(;a>=0;--a)l=s[a],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),o=!0):(s[a]=s[s.length-1],s.pop());o&&(i.draw(),this._notify(i,n,e,"progress")),s.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),r+=s.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Dh=new BOe;const hV="transparent",UOe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=rV(t||hV),i=n.valid&&rV(e||hV);return i&&i.valid?i.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class zOe{constructor(e,r,n,i){const s=r[n];i=xC([e.to,i,s,e.from]);const a=xC([e.from,s,i]);this._active=!0,this._fn=e.fn||UOe[e.type||typeof a],this._easing=_S[e.easing]||_S.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const i=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=xC([e.to,r,i,e.from]),this._from=xC([e.from,i,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,i=this._prop,s=this._from,a=this._loop,o=this._to;let l;if(this._active=s!==o&&(a||r<n),!this._active){this._target[i]=o,this._notify(!0);return}if(r<0){this._target[i]=s;return}l=r/n%2,l=a&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,o,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][r]()}}class nce{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!rn(e))return;const r=Object.keys(Ei.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const s=e[i];if(!rn(s))return;const a={};for(const o of r)a[o]=s[o];(mi(s.properties)&&s.properties||[i]).forEach(o=>{(o===i||!n.has(o))&&n.set(o,a)})})}_animateOptions(e,r){const n=r.options,i=WOe(e,n);if(!i)return[];const s=this._createAnimations(i,n);return n.$shared&&qOe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,r){const n=this._properties,i=[],s=e.$animations||(e.$animations={}),a=Object.keys(r),o=Date.now();let l;for(l=a.length-1;l>=0;--l){const u=a[l];if(u.charAt(0)==="$")continue;if(u==="options"){i.push(...this._animateOptions(e,r));continue}const d=r[u];let h=s[u];const f=n.get(u);if(h)if(f&&h.active()){h.update(f,d,o);continue}else h.cancel();if(!f||!f.duration){e[u]=d;continue}s[u]=h=new zOe(f,e,u,d),i.push(h)}return i}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Dh.add(this._chart,n),!0}}function qOe(t,e){const r=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const s=t[n[i]];s&&s.active()&&r.push(s.wait())}return Promise.all(r)}function WOe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function fV(t,e){const r=t&&t.options||{},n=r.reverse,i=r.min===void 0?e:0,s=r.max===void 0?e:0;return{start:n?s:i,end:n?i:s}}function HOe(t,e,r){if(r===!1)return!1;const n=fV(t,r),i=fV(e,r);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function VOe(t){let e,r,n,i;return rn(t)?(e=t.top,r=t.right,n=t.bottom,i=t.left):e=r=n=i=t,{top:e,right:r,bottom:n,left:i,disabled:t===!1}}function ice(t,e){const r=[],n=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=n.length;i<s;++i)r.push(n[i].index);return r}function pV(t,e,r,n={}){const i=t.keys,s=n.mode==="single";let a,o,l,u;if(e===null)return;let d=!1;for(a=0,o=i.length;a<o;++a){if(l=+i[a],l===r){if(d=!0,n.all)continue;break}u=t.values[l],el(u)&&(s||e===0||Yd(e)===Yd(u))&&(e+=u)}return!d&&!n.all?0:e}function GOe(t,e){const{iScale:r,vScale:n}=e,i=r.axis==="x"?"x":"y",s=n.axis==="x"?"x":"y",a=Object.keys(t),o=new Array(a.length);let l,u,d;for(l=0,u=a.length;l<u;++l)d=a[l],o[l]={[i]:d,[s]:t[d]};return o}function NI(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function KOe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function YOe(t){const{min:e,max:r,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?r:Number.POSITIVE_INFINITY}}function XOe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function mV(t,e,r,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const s=t[i.index];if(r&&s>0||!r&&s<0)return i.index}return null}function gV(t,e){const{chart:r,_cachedMeta:n}=t,i=r._stacks||(r._stacks={}),{iScale:s,vScale:a,index:o}=n,l=s.axis,u=a.axis,d=KOe(s,a,n),h=e.length;let f;for(let p=0;p<h;++p){const g=e[p],{[l]:m,[u]:v}=g,x=g._stacks||(g._stacks={});f=x[u]=XOe(i,d,m),f[o]=v,f._top=mV(f,a,!0,n.type),f._bottom=mV(f,a,!1,n.type);const y=f._visualValues||(f._visualValues={});y[o]=v}}function EI(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function QOe(t,e){return _0(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function JOe(t,e,r){return _0(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function h_(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const s=i._stacks;if(!s||s[n]===void 0||s[n][r]===void 0)return;delete s[n][r],s[n]._visualValues!==void 0&&s[n]._visualValues[r]!==void 0&&delete s[n]._visualValues[r]}}}const CI=t=>t==="reset"||t==="none",vV=(t,e)=>e?t:Object.assign({},t),ZOe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:ice(r,!0),values:null};class m1{constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=NI(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&h_(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),i=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=r.xAxisID=Br(n.xAxisID,EI(e,"x")),a=r.yAxisID=Br(n.yAxisID,EI(e,"y")),o=r.rAxisID=Br(n.rAxisID,EI(e,"r")),l=r.indexAxis,u=r.iAxisID=i(l,s,a,o),d=r.vAxisID=i(l,a,s,o);r.xScale=this.getScaleForId(s),r.yScale=this.getScaleForId(a),r.rScale=this.getScaleForId(o),r.iScale=this.getScaleForId(u),r.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ZH(this._data,this),e._stacked&&h_(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(rn(r)){const i=this._cachedMeta;this._data=GOe(r,i)}else if(n!==r){if(n){ZH(n,this);const i=this._cachedMeta;h_(i),i._parsed=[]}r&&Object.isExtensible(r)&&O3e(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const s=r._stacked;r._stacked=NI(r.vScale,r),r.stack!==n.stack&&(i=!0,h_(r),r.stack=n.stack),this._resyncElements(e),(i||s!==r._stacked)&&(gV(this,r._parsed),r._stacked=NI(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:i}=this,{iScale:s,_stacked:a}=n,o=s.axis;let l=e===0&&r===i.length?!0:n._sorted,u=e>0&&n._parsed[e-1],d,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{mi(i[e])?f=this.parseArrayData(n,i,e,r):rn(i[e])?f=this.parseObjectData(n,i,e,r):f=this.parsePrimitiveData(n,i,e,r);const p=()=>h[o]===null||u&&h[o]<u[o];for(d=0;d<r;++d)n._parsed[d+e]=h=f[d],l&&(p()&&(l=!1),u=h);n._sorted=l}a&&gV(this,f)}parsePrimitiveData(e,r,n,i){const{iScale:s,vScale:a}=e,o=s.axis,l=a.axis,u=s.getLabels(),d=s===a,h=new Array(i);let f,p,g;for(f=0,p=i;f<p;++f)g=f+n,h[f]={[o]:d||s.parse(u[g],g),[l]:a.parse(r[g],g)};return h}parseArrayData(e,r,n,i){const{xScale:s,yScale:a}=e,o=new Array(i);let l,u,d,h;for(l=0,u=i;l<u;++l)d=l+n,h=r[d],o[l]={x:s.parse(h[0],d),y:a.parse(h[1],d)};return o}parseObjectData(e,r,n,i){const{xScale:s,yScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=new Array(i);let d,h,f,p;for(d=0,h=i;d<h;++d)f=d+n,p=r[f],u[d]={x:s.parse(cw(p,o),f),y:a.parse(cw(p,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const i=this.chart,s=this._cachedMeta,a=r[e.axis],o={keys:ice(i,!0),values:r._stacks[e.axis]._visualValues};return pV(o,a,s.index,{mode:n})}updateRangeFromParsed(e,r,n,i){const s=n[r.axis];let a=s===null?NaN:s;const o=i&&n._stacks[r.axis];i&&o&&(i.values=o,a=pV(i,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,r){const n=this._cachedMeta,i=n._parsed,s=n._sorted&&e===n.iScale,a=i.length,o=this._getOtherScale(e),l=ZOe(r,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=YOe(o);let f,p;function g(){p=i[f];const m=p[o.axis];return!el(p[e.axis])||d>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,e,p,l),s));++f);if(s){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,e,p,l);break}}return u}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let i,s,a;for(i=0,s=r.length;i<s;++i)a=r[i][e.axis],el(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,i=r.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=VOe(Br(this.options.clip,HOe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,i=n.data||[],s=r.chartArea,a=[],o=this._drawStart||0,l=this._drawCount||i.length-o,u=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,s,o,l),d=o;d<o+l;++d){const h=i[d];h.hidden||(h.active&&u?a.push(h):h.draw(e,s))}for(d=0;d<a.length;++d)a[d].draw(e,s)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const i=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];s=a.$context||(a.$context=JOe(this.getContext(),e,a)),s.parsed=this.getParsed(e),s.raw=i.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=QOe(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!r,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const i=r==="active",s=this._cachedDataOpts,a=e+"-"+r,o=s[a],l=this.enableOptionSharing&&CA(n);if(o)return vV(o,l);const u=this.chart.config,d=u.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Ei.elements[e]),g=()=>this.getContext(n,i,r),m=u.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=l,s[a]=Object.freeze(vV(m,l))),m}_resolveAnimations(e,r,n){const i=this.chart,s=this._cachedDataOpts,a=`animation-${r}`,o=s[a];if(o)return o;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,r),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,n,r))}const u=new nce(i,l&&l.animations);return l&&l._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||CI(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),i=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(r,s)||s!==i;return this.updateSharedOptions(s,r,n),{sharedOptions:s,includeOptions:a}}updateElement(e,r,n,i){CI(i)?Object.assign(e,n):this._resolveAnimations(r,i).update(e,n)}updateSharedOptions(e,r,n){e&&!CI(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,i){e.active=i;const s=this.getStyle(r,i);this._resolveAnimations(r,n,i).update(e,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[o,l,u]of this._syncList)this[o](l,u);this._syncList=[];const i=n.length,s=r.length,a=Math.min(s,i);a&&this.parse(0,a),s>i?this._insertElements(i,s-i,e):s<i&&this._removeElements(s,i-s)}_insertElements(e,r,n=!0){const i=this._cachedMeta,s=i.data,a=e+r;let o;const l=u=>{for(u.length+=r,o=u.length-1;o>=a;o--)u[o]=u[o-r]};for(l(s),o=e;o<a;++o)s[o]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,r),n&&this.updateElements(s,e,r,"reset")}updateElements(e,r,n,i){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,r);n._stacked&&h_(n,i)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,i]=e;this[r](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}dt(m1,"defaults",{}),dt(m1,"datasetElementType",null),dt(m1,"dataElementType",null);function eMe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,s=r.length;i<s;i++)n=n.concat(r[i].controller.getAllParsedValues(t));t._cache.$bar=Ule(n.sort((i,s)=>i-s))}return t._cache.$bar}function tMe(t){const e=t.iScale,r=eMe(e,t.type);let n=e._length,i,s,a,o;const l=()=>{a===32767||a===-32768||(CA(o)&&(n=Math.min(n,Math.abs(a-o)||n)),o=a)};for(i=0,s=r.length;i<s;++i)a=e.getPixelForValue(r[i]),l();for(o=void 0,i=0,s=e.ticks.length;i<s;++i)a=e.getPixelForTick(i),l();return n}function rMe(t,e,r,n){const i=r.barThickness;let s,a;return Qr(i)?(s=e.min*r.categoryPercentage,a=r.barPercentage):(s=i*n,a=1),{chunk:s/n,ratio:a,start:e.pixels[t]-s/2}}function nMe(t,e,r,n){const i=e.pixels,s=i[t];let a=t>0?i[t-1]:null,o=t<i.length-1?i[t+1]:null;const l=r.categoryPercentage;a===null&&(a=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-a);const u=s-(s-Math.min(a,o))/2*l;return{chunk:Math.abs(o-a)/2*l/n,ratio:r.barPercentage,start:u}}function iMe(t,e,r,n){const i=r.parse(t[0],n),s=r.parse(t[1],n),a=Math.min(i,s),o=Math.max(i,s);let l=a,u=o;Math.abs(a)>Math.abs(o)&&(l=o,u=a),e[r.axis]=u,e._custom={barStart:l,barEnd:u,start:i,end:s,min:a,max:o}}function sce(t,e,r,n){return mi(t)?iMe(t,e,r,n):e[r.axis]=r.parse(t,n),e}function xV(t,e,r,n){const i=t.iScale,s=t.vScale,a=i.getLabels(),o=i===s,l=[];let u,d,h,f;for(u=r,d=r+n;u<d;++u)f=e[u],h={},h[i.axis]=o||i.parse(a[u],u),l.push(sce(f,h,s,u));return l}function TI(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function sMe(t,e,r){return t!==0?Yd(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function aMe(t){let e,r,n,i,s;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(i="end",s="start"):(i="start",s="end"),{start:r,end:n,reverse:e,top:i,bottom:s}}function oMe(t,e,r,n){let i=e.borderSkipped;const s={};if(!i){t.borderSkipped=s;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:a,end:o,reverse:l,top:u,bottom:d}=aMe(t);i==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?i=u:(r._bottom||0)===n?i=d:(s[yV(d,a,o,l)]=!0,i=u)),s[yV(i,a,o,l)]=!0,t.borderSkipped=s}function yV(t,e,r,n){return n?(t=lMe(t,e,r),t=bV(t,r,e)):t=bV(t,e,r),t}function lMe(t,e,r){return t===e?r:t===r?e:t}function bV(t,e,r){return t==="start"?e:t==="end"?r:t}function cMe(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class JT extends m1{parsePrimitiveData(e,r,n,i){return xV(e,r,n,i)}parseArrayData(e,r,n,i){return xV(e,r,n,i)}parseObjectData(e,r,n,i){const{iScale:s,vScale:a}=e,{xAxisKey:o="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?o:l,d=a.axis==="x"?o:l,h=[];let f,p,g,m;for(f=n,p=n+i;f<p;++f)m=r[f],g={},g[s.axis]=s.parse(cw(m,u),f),h.push(sce(cw(m,d),g,a,f));return h}updateRangeFromParsed(e,r,n,i){super.updateRangeFromParsed(e,r,n,i);const s=n._custom;s&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:i}=r,s=this.getParsed(e),a=s._custom,o=TI(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,i){const s=i==="reset",{index:a,_cachedMeta:{vScale:o}}=this,l=o.getBasePixel(),u=o.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(r,i);for(let p=r;p<r+n;p++){const g=this.getParsed(p),m=s||Qr(g[o.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),v=this._calculateBarIndexPixels(p,d),x=(g._stacks||{})[o.axis],y={horizontal:u,base:m.base,enableBorderRadius:!x||TI(g._custom)||a===x._top||a===x._bottom,x:u?m.head:v.center,y:u?v.center:m.head,height:u?v.size:Math.abs(m.size),width:u?Math.abs(m.size):v.size};f&&(y.options=h||this.resolveDataElementOptions(p,e[p].active?"active":i));const w=y.options||e[p].options;oMe(y,w,x,a),cMe(y,w,d.ratio),this.updateElement(e[p],p,y,i)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=n.options.stacked,a=[],o=this._cachedMeta.controller.getParsed(r),l=o&&o[n.axis],u=d=>{const h=d._parsed.find(p=>p[n.axis]===l),f=h&&h[d.vScale.axis];if(Qr(f)||isNaN(f))return!0};for(const d of i)if(!(r!==void 0&&u(d))&&((s===!1||a.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&a.push(d.stack),d.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Br(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const i=this._getStacks(e,n),s=r!==void 0?i.indexOf(r):-1;return s===-1?i.length-1:s}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,i=[];let s,a;for(s=0,a=r.data.length;s<a;++s)i.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||tMe(r),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:i},options:{base:s,minBarLength:a}}=this,o=s||0,l=this.getParsed(e),u=l._custom,d=TI(u);let h=l[r.axis],f=0,p=n?this.applyStack(r,l,n):h,g,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&Yd(h)!==Yd(u.barEnd)&&(f=0),f+=h);const v=!Qr(s)&&!d?s:f;let x=r.getPixelForValue(v);if(this.chart.getDataVisibility(e)?g=r.getPixelForValue(f+p):g=x,m=g-x,Math.abs(m)<a){m=sMe(m,r,o)*a,h===o&&(x-=m/2);const y=r.getPixelForDecimal(0),w=r.getPixelForDecimal(1),_=Math.min(y,w),A=Math.max(y,w);x=Math.max(Math.min(x,A),_),g=x+m,n&&!d&&(l._stacks[r.axis]._visualValues[i]=r.getValueForPixel(g)-r.getValueForPixel(x))}if(x===r.getPixelForValue(o)){const y=Yd(m)*r.getLineWidthForValue(o)/2;x+=y,m-=y}return{size:m,base:x,head:g,center:g+m/2}}_calculateBarIndexPixels(e,r){const n=r.scale,i=this.options,s=i.skipNull,a=Br(i.maxBarThickness,1/0);let o,l;const u=this._getAxisCount();if(r.grouped){const d=s?this._getStackCount(e):r.stackCount,h=i.barThickness==="flex"?nMe(e,r,i,d*u):rMe(e,r,i,d*u),f=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Br(f,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+p;o=h.start+h.chunk*g+h.chunk/2,l=Math.min(a,h.chunk*h.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(a,r.min*r.ratio);return{base:o-l/2,head:o+l/2,center:o,size:l}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,i=n.length;let s=0;for(;s<i;++s)this.getParsed(s)[r.axis]!==null&&!n[s].hidden&&n[s].draw(this._ctx)}}dt(JT,"id","bar"),dt(JT,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),dt(JT,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class ZT extends m1{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:i=[],_dataset:s}=r,a=this.chart._animationsDisabled;let{start:o,count:l}=I3e(r,i,a);this._drawStart=o,this._drawCount=l,R3e(r)&&(o=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=i;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:u},e),this.updateElements(i,o,l,e)}updateElements(e,r,n,i){const s=i==="reset",{iScale:a,vScale:o,_stacked:l,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,i),f=a.axis,p=o.axis,{spanGaps:g,segment:m}=this.options,v=TA(g)?g:Number.POSITIVE_INFINITY,x=this.chart._animationsDisabled||s||i==="none",y=r+n,w=e.length;let _=r>0&&this.getParsed(r-1);for(let A=0;A<w;++A){const C=e[A],N=x?C:{};if(A<r||A>=y){N.skip=!0;continue}const E=this.getParsed(A),P=Qr(E[p]),L=N[f]=a.getPixelForValue(E[f],A),O=N[p]=s||P?o.getBasePixel():o.getPixelForValue(l?this.applyStack(o,E,l):E[p],A);N.skip=isNaN(L)||isNaN(O)||P,N.stop=A>0&&Math.abs(E[f]-_[f])>v,m&&(N.parsed=E,N.raw=u.data[A]),h&&(N.options=d||this.resolveDataElementOptions(A,C.active?"active":i)),x||this.updateElement(C,A,N,i),_=E}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}dt(ZT,"id","line"),dt(ZT,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),dt(ZT,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function q0(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class A9{constructor(e){dt(this,"options");this.options=e||{}}static override(e){Object.assign(A9.prototype,e)}init(){}formats(){return q0()}parse(){return q0()}format(){return q0()}add(){return q0()}diff(){return q0()}startOf(){return q0()}endOf(){return q0()}}var uMe={_date:A9};function dMe(t,e,r,n){const{controller:i,data:s,_sorted:a}=t,o=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(o&&e===o.axis&&e!=="r"&&a&&s.length){const u=o._reversePixels?P3e:yg;if(n){if(i._sharedOptions){const d=s[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=u(s,e,r-h),p=u(s,e,r+h);return{lo:f.lo,hi:p.hi}}}}else{const d=u(s,e,r);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,p=f.slice(0,d.lo+1).reverse().findIndex(m=>!Qr(m[h.axis]));d.lo-=Math.max(0,p);const g=f.slice(d.hi).findIndex(m=>!Qr(m[h.axis]));d.hi+=Math.max(0,g)}return d}}return{lo:0,hi:s.length-1}}function TN(t,e,r,n,i){const s=t.getSortedVisibleDatasetMetas(),a=r[e];for(let o=0,l=s.length;o<l;++o){const{index:u,data:d}=s[o],{lo:h,hi:f}=dMe(s[o],e,a,i);for(let p=h;p<=f;++p){const g=d[p];g.skip||n(g,u,p)}}}function hMe(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,i){const s=e?Math.abs(n.x-i.x):0,a=r?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}function PI(t,e,r,n,i){const s=[];return!i&&!t.isPointInArea(e)||TN(t,r,e,function(o,l,u){!i&&!wf(o,t.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:l,index:u})},!0),s}function fMe(t,e,r,n){let i=[];function s(a,o,l){const{startAngle:u,endAngle:d}=a.getProps(["startAngle","endAngle"],n),{angle:h}=E3e(a,{x:e.x,y:e.y});$le(h,u,d)&&i.push({element:a,datasetIndex:o,index:l})}return TN(t,r,e,s),i}function pMe(t,e,r,n,i,s){let a=[];const o=hMe(r);let l=Number.POSITIVE_INFINITY;function u(d,h,f){const p=d.inRange(e.x,e.y,i);if(n&&!p)return;const g=d.getCenterPoint(i);if(!(!!s||t.isPointInArea(g))&&!p)return;const v=o(e,g);v<l?(a=[{element:d,datasetIndex:h,index:f}],l=v):v===l&&a.push({element:d,datasetIndex:h,index:f})}return TN(t,r,e,u),a}function kI(t,e,r,n,i,s){return!s&&!t.isPointInArea(e)?[]:r==="r"&&!n?fMe(t,e,r,i):pMe(t,e,r,n,i,s)}function wV(t,e,r,n,i){const s=[],a=r==="x"?"inXRange":"inYRange";let o=!1;return TN(t,r,e,(l,u,d)=>{l[a]&&l[a](e[r],i)&&(s.push({element:l,datasetIndex:u,index:d}),o=o||l.inRange(e.x,e.y,i))}),n&&!o?[]:s}var mMe={evaluateInteractionItems:TN,modes:{index(t,e,r,n){const i=tg(e,t),s=r.axis||"x",a=r.includeInvisible||!1,o=r.intersect?PI(t,i,s,n,a):kI(t,i,s,!1,n,a),l=[];return o.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const d=o[0].index,h=u.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:u.index,index:d})}),l):[]},dataset(t,e,r,n){const i=tg(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;let o=r.intersect?PI(t,i,s,n,a):kI(t,i,s,!1,n,a);if(o.length>0){const l=o[0].datasetIndex,u=t.getDatasetMeta(l).data;o=[];for(let d=0;d<u.length;++d)o.push({element:u[d],datasetIndex:l,index:d})}return o},point(t,e,r,n){const i=tg(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return PI(t,i,s,n,a)},nearest(t,e,r,n){const i=tg(e,t),s=r.axis||"xy",a=r.includeInvisible||!1;return kI(t,i,s,r.intersect,n,a)},x(t,e,r,n){const i=tg(e,t);return wV(t,i,"x",r.intersect,n)},y(t,e,r,n){const i=tg(e,t);return wV(t,i,"y",r.intersect,n)}}};const ace=["left","top","right","bottom"];function f_(t,e){return t.filter(r=>r.pos===e)}function _V(t,e){return t.filter(r=>ace.indexOf(r.pos)===-1&&r.box.axis===e)}function p_(t,e){return t.sort((r,n)=>{const i=e?n:r,s=e?r:n;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function gMe(t){const e=[];let r,n,i,s,a,o;for(r=0,n=(t||[]).length;r<n;++r)i=t[r],{position:s,options:{stack:a,stackWeight:o=1}}=i,e.push({index:r,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:a&&s+a,stackWeight:o});return e}function vMe(t){const e={};for(const r of t){const{stack:n,pos:i,stackWeight:s}=r;if(!n||!ace.includes(i))continue;const a=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return e}function xMe(t,e){const r=vMe(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let s,a,o;for(s=0,a=t.length;s<a;++s){o=t[s];const{fullSize:l}=o.box,u=r[o.stack],d=u&&o.stackWeight/u.weight;o.horizontal?(o.width=d?d*n:l&&e.availableWidth,o.height=i):(o.width=n,o.height=d?d*i:l&&e.availableHeight)}return r}function yMe(t){const e=gMe(t),r=p_(e.filter(u=>u.box.fullSize),!0),n=p_(f_(e,"left"),!0),i=p_(f_(e,"right")),s=p_(f_(e,"top"),!0),a=p_(f_(e,"bottom")),o=_V(e,"x"),l=_V(e,"y");return{fullSize:r,leftAndTop:n.concat(s),rightAndBottom:i.concat(l).concat(a).concat(o),chartArea:f_(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:s.concat(a).concat(o)}}function SV(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function oce(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function bMe(t,e,r,n){const{pos:i,box:s}=r,a=t.maxPadding;if(!rn(i)){r.size&&(t[i]-=r.size);const h=n[r.stack]||{size:0,count:1};h.size=Math.max(h.size,r.horizontal?s.height:s.width),r.size=h.size/h.count,t[i]+=r.size}s.getPadding&&oce(a,s.getPadding());const o=Math.max(0,e.outerWidth-SV(a,t,"left","right")),l=Math.max(0,e.outerHeight-SV(a,t,"top","bottom")),u=o!==t.w,d=l!==t.h;return t.w=o,t.h=l,r.horizontal?{same:u,other:d}:{same:d,other:u}}function wMe(t){const e=t.maxPadding;function r(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function _Me(t,e){const r=e.maxPadding;function n(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(a=>{s[a]=Math.max(e[a],r[a])}),s}return n(t?["left","right"]:["top","bottom"])}function tS(t,e,r,n){const i=[];let s,a,o,l,u,d;for(s=0,a=t.length,u=0;s<a;++s){o=t[s],l=o.box,l.update(o.width||e.w,o.height||e.h,_Me(o.horizontal,e));const{same:h,other:f}=bMe(e,r,o,n);u|=h&&i.length,d=d||f,l.fullSize||i.push(o)}return u&&tS(i,e,r,n)||d}function _C(t,e,r,n,i){t.top=r,t.left=e,t.right=e+n,t.bottom=r+i,t.width=n,t.height=i}function AV(t,e,r,n){const i=r.padding;let{x:s,y:a}=e;for(const o of t){const l=o.box,u=n[o.stack]||{count:1,placed:0,weight:1},d=o.stackWeight/u.weight||1;if(o.horizontal){const h=e.w*d,f=u.size||l.height;CA(u.start)&&(a=u.start),l.fullSize?_C(l,i.left,a,r.outerWidth-i.right-i.left,f):_C(l,e.left+u.placed,a,h,f),u.start=a,u.placed+=h,a=l.bottom}else{const h=e.h*d,f=u.size||l.width;CA(u.start)&&(s=u.start),l.fullSize?_C(l,s,i.top,f,r.outerHeight-i.bottom-i.top):_C(l,s,e.top+u.placed,f,h),u.start=s,u.placed+=h,s=l.right}}e.x=s,e.y=a}var kc={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const i=qa(t.options.layout.padding),s=Math.max(e-i.width,0),a=Math.max(r-i.height,0),o=yMe(t.boxes),l=o.vertical,u=o.horizontal;yn(t.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const d=l.reduce((m,v)=>v.box.options&&v.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:r,padding:i,availableWidth:s,availableHeight:a,vBoxMaxWidth:s/2/d,hBoxMaxHeight:a/2}),f=Object.assign({},i);oce(f,qa(n));const p=Object.assign({maxPadding:f,w:s,h:a,x:i.left,y:i.top},i),g=xMe(l.concat(u),h);tS(o.fullSize,p,h,g),tS(l,p,h,g),tS(u,p,h,g)&&tS(l,p,h,g),wMe(p),AV(o.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,AV(o.rightAndBottom,p,h,g),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},yn(o.chartArea,m=>{const v=m.box;Object.assign(v,t.chartArea),v.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class lce{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,i){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,i?Math.floor(r/i):n)}}isAttached(e){return!0}updateConfig(e){}}class SMe extends lce{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const eP="$chartjs",AMe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},jV=t=>t===null||t==="";function jMe(t,e){const r=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[eP]={initial:{height:n,width:i,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",jV(i)){const s=lV(t,"width");s!==void 0&&(t.width=s)}if(jV(n))if(t.style.height==="")t.height=t.width/(e||2);else{const s=lV(t,"height");s!==void 0&&(t.height=s)}return t}const cce=jOe?{passive:!0}:!1;function NMe(t,e,r){t&&t.addEventListener(e,r,cce)}function EMe(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,cce)}function CMe(t,e){const r=AMe[t.type]||t.type,{x:n,y:i}=tg(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function dk(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function TMe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||dk(o.addedNodes,n),a=a&&!dk(o.removedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}function PMe(t,e,r){const n=t.canvas,i=new MutationObserver(s=>{let a=!1;for(const o of s)a=a||dk(o.removedNodes,n),a=a&&!dk(o.addedNodes,n);a&&r()});return i.observe(document,{childList:!0,subtree:!0}),i}const kA=new Map;let NV=0;function uce(){const t=window.devicePixelRatio;t!==NV&&(NV=t,kA.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function kMe(t,e){kA.size||window.addEventListener("resize",uce),kA.set(t,e)}function OMe(t){kA.delete(t),kA.size||window.removeEventListener("resize",uce)}function MMe(t,e,r){const n=t.canvas,i=n&&S9(n);if(!i)return;const s=qle((o,l)=>{const u=i.clientWidth;r(o,l),u<i.clientWidth&&r()},window),a=new ResizeObserver(o=>{const l=o[0],u=l.contentRect.width,d=l.contentRect.height;u===0&&d===0||s(u,d)});return a.observe(i),kMe(t,s),a}function OI(t,e,r){r&&r.disconnect(),e==="resize"&&OMe(t)}function LMe(t,e,r){const n=t.canvas,i=qle(s=>{t.ctx!==null&&r(CMe(s,t))},t);return NMe(n,e,i),i}class IMe extends lce{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(jMe(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[eP])return!1;const n=r[eP].initial;["height","width"].forEach(s=>{const a=n[s];Qr(a)?r.removeAttribute(s):r.setAttribute(s,a)});const i=n.style||{};return Object.keys(i).forEach(s=>{r.style[s]=i[s]}),r.width=r.width,delete r[eP],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const i=e.$proxies||(e.$proxies={}),a={attach:TMe,detach:PMe,resize:MMe}[r]||LMe;i[r]=a(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),i=n[r];if(!i)return;({attach:OI,detach:OI,resize:OI}[r]||EMe)(e,r,i),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,i){return AOe(e,r,n,i)}isAttached(e){const r=e&&S9(e);return!!(r&&r.isConnected)}}function RMe(t){return!_9()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?SMe:IMe}var eT;let S0=(eT=class{constructor(){dt(this,"x");dt(this,"y");dt(this,"active",!1);dt(this,"options");dt(this,"$animations")}tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return TA(this.x)&&TA(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const i={};return e.forEach(s=>{i[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),i}},dt(eT,"defaults",{}),dt(eT,"defaultRoutes"),eT);function DMe(t,e){const r=t.options.ticks,n=FMe(t),i=Math.min(r.maxTicksLimit||n,n),s=r.major.enabled?BMe(e):[],a=s.length,o=s[0],l=s[a-1],u=[];if(a>i)return UMe(e,u,s,a/i),u;const d=$Me(s,e,i);if(a>0){let h,f;const p=a>1?Math.round((l-o)/(a-1)):null;for(SC(e,u,d,Qr(p)?0:o-p,o),h=0,f=a-1;h<f;h++)SC(e,u,d,s[h],s[h+1]);return SC(e,u,d,l,Qr(p)?e.length:l+p),u}return SC(e,u,d),u}function FMe(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),i=t._maxLength/r;return Math.floor(Math.min(n,i))}function $Me(t,e,r){const n=zMe(t),i=e.length/r;if(!n)return Math.max(i,1);const s=S3e(n);for(let a=0,o=s.length-1;a<o;a++){const l=s[a];if(l>i)return l}return Math.max(i,1)}function BMe(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function UMe(t,e,r,n){let i=0,s=r[0],a;for(n=Math.ceil(n),a=0;a<t.length;a++)a===s&&(e.push(t[a]),i++,s=r[i*n])}function SC(t,e,r,n,i){const s=Br(n,0),a=Math.min(Br(i,t.length),t.length);let o=0,l,u,d;for(r=Math.ceil(r),i&&(l=i-n,r=l/Math.floor(l/r)),d=s;d<0;)o++,d=Math.round(s+o*r);for(u=Math.max(s,0);u<a;u++)u===d&&(e.push(t[u]),o++,d=Math.round(s+o*r))}function zMe(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const qMe=t=>t==="left"?"right":t==="right"?"left":t,EV=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,CV=(t,e)=>Math.min(e||t,t);function TV(t,e){const r=[],n=t.length/e,i=t.length;let s=0;for(;s<i;s+=n)r.push(t[Math.floor(s)]);return r}function WMe(t,e,r){const n=t.ticks.length,i=Math.min(e,n-1),s=t._startPixel,a=t._endPixel,o=1e-6;let l=t.getPixelForTick(i),u;if(!(r&&(n===1?u=Math.max(l-s,a-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(i-1))/2,l+=i<e?u:-u,l<s-o||l>a+o)))return l}function HMe(t,e){yn(t,r=>{const n=r.gc,i=n.length/2;let s;if(i>e){for(s=0;s<i;++s)delete r.data[n[s]];n.splice(0,i)}})}function m_(t){return t.drawTicks?t.tickLength:0}function PV(t,e){if(!t.display)return 0;const r=vs(t.font,e),n=qa(t.padding);return(mi(t.text)?t.text.length:1)*r.lineHeight+n.height}function VMe(t,e){return _0(t,{scale:e,type:"scale"})}function GMe(t,e,r){return _0(t,{tick:r,index:e,type:"tick"})}function KMe(t,e,r){let n=p9(t);return(r&&e!=="right"||!r&&e==="right")&&(n=qMe(n)),n}function YMe(t,e,r,n){const{top:i,left:s,bottom:a,right:o,chart:l}=t,{chartArea:u,scales:d}=l;let h=0,f,p,g;const m=a-i,v=o-s;if(t.isHorizontal()){if(p=Ta(n,s,o),rn(r)){const x=Object.keys(r)[0],y=r[x];g=d[x].getPixelForValue(y)+m-e}else r==="center"?g=(u.bottom+u.top)/2+m-e:g=EV(t,r,e);f=o-s}else{if(rn(r)){const x=Object.keys(r)[0],y=r[x];p=d[x].getPixelForValue(y)-v+e}else r==="center"?p=(u.left+u.right)/2-v+e:p=EV(t,r,e);g=Ta(n,a,i),h=r==="left"?-Ul:Ul}return{titleX:p,titleY:g,maxWidth:f,rotation:h}}class e2 extends S0{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:i}=this;return e=dd(e,Number.POSITIVE_INFINITY),r=dd(r,Number.NEGATIVE_INFINITY),n=dd(n,Number.POSITIVE_INFINITY),i=dd(i,Number.NEGATIVE_INFINITY),{min:dd(e,n),max:dd(r,i),minDefined:el(e),maxDefined:el(r)}}getMinMax(e){let{min:r,max:n,minDefined:i,maxDefined:s}=this.getUserBounds(),a;if(i&&s)return{min:r,max:n};const o=this.getMatchingVisibleMetas();for(let l=0,u=o.length;l<u;++l)a=o[l].controller.getMinMax(this,e),i||(r=Math.min(r,a.min)),s||(n=Math.max(n,a.max));return r=s&&r>n?n:r,n=i&&r>n?r:n,{min:dd(r,dd(n,r)),max:dd(n,dd(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){zn(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:i,grace:s,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=rOe(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=o<this.ticks.length;this._convertTicksToLabels(l?TV(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||a.source==="auto")&&(this.ticks=DMe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){zn(this.options.afterUpdate,[this])}beforeSetDimensions(){zn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){zn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),zn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){zn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,i,s;for(n=0,i=e.length;n<i;n++)s=e[n],s.label=zn(r.callback,[s.value,n,e],this)}afterTickToLabelConversion(){zn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){zn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=CV(this.ticks.length,e.ticks.maxTicksLimit),i=r.minRotation||0,s=r.maxRotation;let a=i,o,l,u;if(!this._isVisible()||!r.display||i>=s||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=zl(this.chart.width-h,0,this.maxWidth);o=e.offset?this.maxWidth/n:p/(n-1),h+6>o&&(o=p/(n-(e.offset?.5:1)),l=this.maxHeight-m_(e.grid)-r.padding-PV(e.title,this.chart.options.font),u=Math.sqrt(h*h+f*f),a=h9(Math.min(Math.asin(zl((d.highest.height+6)/o,-1,1)),Math.asin(zl(l/u,-1,1))-Math.asin(zl(f/u,-1,1)))),a=Math.max(i,Math.min(s,a))),this.labelRotation=a}afterCalculateLabelRotation(){zn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){zn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:i,grid:s}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const l=PV(i,r.options.font);if(o?(e.width=this.maxWidth,e.height=m_(s)+l):(e.height=this.maxHeight,e.width=m_(s)+l),n.display&&this.ticks.length){const{first:u,last:d,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,g=Cm(this.labelRotation),m=Math.cos(g),v=Math.sin(g);if(o){const x=n.mirror?0:v*h.width+m*f.height;e.height=Math.min(this.maxHeight,e.height+x+p)}else{const x=n.mirror?0:m*h.width+v*f.height;e.width=Math.min(this.maxWidth,e.width+x+p)}this._calculatePadding(u,d,v,m)}}this._handleMargins(),o?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,i){const{ticks:{align:s,padding:a},position:o}=this.options,l=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?u?(f=i*e.width,p=n*r.height):(f=n*e.height,p=i*r.width):s==="start"?p=r.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,p=r.width/2),this.paddingLeft=Math.max((f-d+a)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+a)*this.width/(this.width-h),0)}else{let d=r.height/2,h=e.height/2;s==="start"?(d=0,h=e.height):s==="end"&&(d=r.height,h=0),this.paddingTop=d+a,this.paddingBottom=h+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){zn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)Qr(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=TV(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:i,_longestTextCache:s}=this,a=[],o=[],l=Math.floor(r/CV(r,n));let u=0,d=0,h,f,p,g,m,v,x,y,w,_,A;for(h=0;h<r;h+=l){if(g=e[h].label,m=this._resolveTickFontOptions(h),i.font=v=m.string,x=s[v]=s[v]||{data:{},gc:[]},y=m.lineHeight,w=_=0,!Qr(g)&&!mi(g))w=ck(i,x.data,x.gc,w,g),_=y;else if(mi(g))for(f=0,p=g.length;f<p;++f)A=g[f],!Qr(A)&&!mi(A)&&(w=ck(i,x.data,x.gc,w,A),_+=y);a.push(w),o.push(_),u=Math.max(w,u),d=Math.max(_,d)}HMe(s,r);const C=a.indexOf(u),N=o.indexOf(d),E=P=>({width:a[P]||0,height:o[P]||0});return{first:E(0),last:E(r-1),widest:E(C),highest:E(N),widths:a,heights:o}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return T3e(this._alignToPixels?z0(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=GMe(this.getContext(),e,n))}return this.$context||(this.$context=VMe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=Cm(this.labelRotation),n=Math.abs(Math.cos(r)),i=Math.abs(Math.sin(r)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,o=s?s.widest.width+a:0,l=s?s.highest.height+a:0;return this.isHorizontal()?l*n>o*i?o/n:l/i:l*i<o*n?l/n:o/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,i=this.options,{grid:s,position:a,border:o}=i,l=s.offset,u=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=m_(s),p=[],g=o.setContext(this.getContext()),m=g.display?g.width:0,v=m/2,x=function(U){return z0(n,U,m)};let y,w,_,A,C,N,E,P,L,O,k,D;if(a==="top")y=x(this.bottom),N=this.bottom-f,P=y-v,O=x(e.top)+v,D=e.bottom;else if(a==="bottom")y=x(this.top),O=e.top,D=x(e.bottom)-v,N=y+v,P=this.top+f;else if(a==="left")y=x(this.right),C=this.right-f,E=y-v,L=x(e.left)+v,k=e.right;else if(a==="right")y=x(this.left),L=e.left,k=x(e.right)-v,C=y+v,E=this.left+f;else if(r==="x"){if(a==="center")y=x((e.top+e.bottom)/2+.5);else if(rn(a)){const U=Object.keys(a)[0],H=a[U];y=x(this.chart.scales[U].getPixelForValue(H))}O=e.top,D=e.bottom,N=y+v,P=N+f}else if(r==="y"){if(a==="center")y=x((e.left+e.right)/2);else if(rn(a)){const U=Object.keys(a)[0],H=a[U];y=x(this.chart.scales[U].getPixelForValue(H))}C=y-v,E=C-f,L=e.left,k=e.right}const F=Br(i.ticks.maxTicksLimit,h),z=Math.max(1,Math.ceil(h/F));for(w=0;w<h;w+=z){const U=this.getContext(w),H=s.setContext(U),B=o.setContext(U),X=H.lineWidth,ne=H.color,fe=B.dash||[],I=B.dashOffset,q=H.tickWidth,V=H.tickColor,K=H.tickBorderDash||[],Y=H.tickBorderDashOffset;_=WMe(this,w,l),_!==void 0&&(A=z0(n,_,X),u?C=E=L=k=A:N=P=O=D=A,p.push({tx1:C,ty1:N,tx2:E,ty2:P,x1:L,y1:O,x2:k,y2:D,width:X,color:ne,borderDash:fe,borderDashOffset:I,tickWidth:q,tickColor:V,tickBorderDash:K,tickBorderDashOffset:Y}))}return this._ticksLength=h,this._borderValue=y,p}_computeLabelItems(e){const r=this.axis,n=this.options,{position:i,ticks:s}=n,a=this.isHorizontal(),o=this.ticks,{align:l,crossAlign:u,padding:d,mirror:h}=s,f=m_(n.grid),p=f+d,g=h?-d:p,m=-Cm(this.labelRotation),v=[];let x,y,w,_,A,C,N,E,P,L,O,k,D="middle";if(i==="top")C=this.bottom-g,N=this._getXAxisLabelAlignment();else if(i==="bottom")C=this.top+g,N=this._getXAxisLabelAlignment();else if(i==="left"){const z=this._getYAxisLabelAlignment(f);N=z.textAlign,A=z.x}else if(i==="right"){const z=this._getYAxisLabelAlignment(f);N=z.textAlign,A=z.x}else if(r==="x"){if(i==="center")C=(e.top+e.bottom)/2+p;else if(rn(i)){const z=Object.keys(i)[0],U=i[z];C=this.chart.scales[z].getPixelForValue(U)+p}N=this._getXAxisLabelAlignment()}else if(r==="y"){if(i==="center")A=(e.left+e.right)/2-p;else if(rn(i)){const z=Object.keys(i)[0],U=i[z];A=this.chart.scales[z].getPixelForValue(U)}N=this._getYAxisLabelAlignment(f).textAlign}r==="y"&&(l==="start"?D="top":l==="end"&&(D="bottom"));const F=this._getLabelSizes();for(x=0,y=o.length;x<y;++x){w=o[x],_=w.label;const z=s.setContext(this.getContext(x));E=this.getPixelForTick(x)+s.labelOffset,P=this._resolveTickFontOptions(x),L=P.lineHeight,O=mi(_)?_.length:1;const U=O/2,H=z.color,B=z.textStrokeColor,X=z.textStrokeWidth;let ne=N;a?(A=E,N==="inner"&&(x===y-1?ne=this.options.reverse?"left":"right":x===0?ne=this.options.reverse?"right":"left":ne="center"),i==="top"?u==="near"||m!==0?k=-O*L+L/2:u==="center"?k=-F.highest.height/2-U*L+L:k=-F.highest.height+L/2:u==="near"||m!==0?k=L/2:u==="center"?k=F.highest.height/2-U*L:k=F.highest.height-O*L,h&&(k*=-1),m!==0&&!z.showLabelBackdrop&&(A+=L/2*Math.sin(m))):(C=E,k=(1-O)*L/2);let fe;if(z.showLabelBackdrop){const I=qa(z.backdropPadding),q=F.heights[x],V=F.widths[x];let K=k-I.top,Y=0-I.left;switch(D){case"middle":K-=q/2;break;case"bottom":K-=q;break}switch(N){case"center":Y-=V/2;break;case"right":Y-=V;break;case"inner":x===y-1?Y-=V:x>0&&(Y-=V/2);break}fe={left:Y,top:K,width:V+I.width,height:q+I.height,color:z.backdropColor}}v.push({label:_,font:P,textOffset:k,options:{rotation:m,color:H,strokeColor:B,strokeWidth:X,textAlign:ne,textBaseline:D,translation:[A,C],backdrop:fe}})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-Cm(this.labelRotation))return e==="top"?"left":"right";let i="center";return r.align==="start"?i="left":r.align==="end"?i="right":r.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:i,padding:s}}=this.options,a=this._getLabelSizes(),o=e+s,l=a.widest.width;let u,d;return r==="left"?i?(d=this.right+s,n==="near"?u="left":n==="center"?(u="center",d+=l/2):(u="right",d+=l)):(d=this.right-o,n==="near"?u="right":n==="center"?(u="center",d-=l/2):(u="left",d=this.left)):r==="right"?i?(d=this.left+s,n==="near"?u="right":n==="center"?(u="center",d-=l/2):(u="left",d-=l)):(d=this.left+o,n==="near"?u="left":n==="center"?(u="center",d+=l/2):(u="right",d=this.right)):u="right",{textAlign:u,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:i,width:s,height:a}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,i,s,a),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const i=this.ticks.findIndex(s=>s.value===e);return i>=0?r.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const o=(l,u,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(r.display)for(s=0,a=i.length;s<a;++s){const l=i[s];r.drawOnChartArea&&o({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),r.drawTicks&&o({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:i}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const o=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,d,h,f;this.isHorizontal()?(u=z0(e,this.left,a)-a/2,d=z0(e,this.right,o)+o/2,h=f=l):(h=z0(e,this.top,a)-a/2,f=z0(e,this.bottom,o)+o/2,u=d=l),r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.beginPath(),r.moveTo(u,h),r.lineTo(d,f),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&v9(n,i);const s=this.getLabelItems(e);for(const a of s){const o=a.options,l=a.font,u=a.label,d=a.textOffset;rx(n,u,0,d,l,o)}i&&x9(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:i}}=this;if(!n.display)return;const s=vs(n.font),a=qa(n.padding),o=n.align;let l=s.lineHeight/2;r==="bottom"||r==="center"||rn(r)?(l+=a.bottom,mi(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=a.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=YMe(this,l,r,o);rx(e,n.text,0,0,s,{color:n.color,maxWidth:h,rotation:f,textAlign:KMe(o,r,i),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Br(e.grid&&e.grid.z,-1),i=Br(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==e2.prototype.draw?[{z:r,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:r,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let s,a;for(s=0,a=r.length;s<a;++s){const o=r[s];o[n]===this.id&&(!e||o.type===e)&&i.push(o)}return i}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return vs(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class AC{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;JMe(r)&&(n=this.register(r));const i=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in i||(i[s]=e,XMe(e,a,n),this.override&&Ei.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,i=this.scope;n in r&&delete r[n],i&&n in Ei[i]&&(delete Ei[i][n],this.override&&delete tx[n])}}function XMe(t,e,r){const n=EA(Object.create(null),[r?Ei.get(r):{},Ei.get(e),t.defaults]);Ei.set(e,n),t.defaultRoutes&&QMe(e,t.defaultRoutes),t.descriptors&&Ei.describe(e,t.descriptors)}function QMe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),i=n.pop(),s=[t].concat(n).join("."),a=e[r].split("."),o=a.pop(),l=a.join(".");Ei.route(s,i,l,o)})}function JMe(t){return"id"in t&&"defaults"in t}class ZMe{constructor(){this.controllers=new AC(m1,"datasets",!0),this.elements=new AC(S0,"elements"),this.plugins=new AC(Object,"plugins"),this.scales=new AC(e2,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(i=>{const s=n||this._getRegistryForType(i);n||s.isForType(i)||s===this.plugins&&i.id?this._exec(e,s,i):yn(i,a=>{const o=n||this._getRegistryForType(a);this._exec(e,o,a)})})}_exec(e,r,n){const i=d9(e);zn(n["before"+i],[],n),r[e](n),zn(n["after"+i],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const i=r.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var xd=new ZMe;class eLe{constructor(){this._init=[]}notify(e,r,n,i){r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(s,e,r,n);return r==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,r,n,i){i=i||{};for(const s of e){const a=s.plugin,o=a[n],l=[r,i,s.options];if(zn(o,l,a)===!1&&i.cancelable)return!1}return!0}invalidate(){Qr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,i=Br(n.options&&n.options.plugins,{}),s=tLe(n);return i===!1&&!r?[]:nLe(e,s,i,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,i=(s,a)=>s.filter(o=>!a.some(l=>o.plugin.id===l.plugin.id));this._notify(i(r,n),e,"stop"),this._notify(i(n,r),e,"start")}}function tLe(t){const e={},r=[],n=Object.keys(xd.plugins.items);for(let s=0;s<n.length;s++)r.push(xd.getPlugin(n[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const a=i[s];r.indexOf(a)===-1&&(r.push(a),e[a.id]=!0)}return{plugins:r,localIds:e}}function rLe(t,e){return!e&&t===!1?null:t===!0?{}:t}function nLe(t,{plugins:e,localIds:r},n,i){const s=[],a=t.getContext();for(const o of e){const l=o.id,u=rLe(n[l],i);u!==null&&s.push({plugin:o,options:iLe(t.config,{plugin:o,local:r[l]},u,a)})}return s}function iLe(t,{plugin:e,local:r},n,i){const s=t.pluginScopeKeys(e),a=t.getOptionScopes(n,s);return r&&e.defaults&&a.push(e.defaults),t.createResolver(a,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function LF(t,e){const r=Ei.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function sLe(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function aLe(t,e){return t===e?"_index_":"_value_"}function kV(t){if(t==="x"||t==="y"||t==="r")return t}function oLe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function IF(t,...e){if(kV(t))return t;for(const r of e){const n=r.axis||oLe(r.position)||t.length>1&&kV(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function OV(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function lLe(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return OV(t,"x",r[0])||OV(t,"y",r[0])}return{}}function cLe(t,e){const r=tx[t.type]||{scales:{}},n=e.scales||{},i=LF(t.type,e),s=Object.create(null);return Object.keys(n).forEach(a=>{const o=n[a];if(!rn(o))return console.error(`Invalid scale configuration for scale: ${a}`);if(o._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const l=IF(a,o,lLe(a,t),Ei.scales[o.type]),u=aLe(l,i),d=r.scales||{};s[a]=bS(Object.create(null),[{axis:l},o,d[l],d[u]])}),t.data.datasets.forEach(a=>{const o=a.type||t.type,l=a.indexAxis||LF(o,e),d=(tx[o]||{}).scales||{};Object.keys(d).forEach(h=>{const f=sLe(h,l),p=a[f+"AxisID"]||f;s[p]=s[p]||Object.create(null),bS(s[p],[{axis:f},n[p],d[h]])})}),Object.keys(s).forEach(a=>{const o=s[a];bS(o,[Ei.scales[o.type],Ei.scale])}),s}function dce(t){const e=t.options||(t.options={});e.plugins=Br(e.plugins,{}),e.scales=cLe(t,e)}function hce(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function uLe(t){return t=t||{},t.data=hce(t.data),dce(t),t}const MV=new Map,fce=new Set;function jC(t,e){let r=MV.get(t);return r||(r=e(),MV.set(t,r),fce.add(r)),r}const g_=(t,e,r)=>{const n=cw(e,r);n!==void 0&&t.add(n)};class dLe{constructor(e){this._config=uLe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=hce(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),dce(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return jC(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return jC(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return jC(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return jC(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let i=n.get(e);return(!i||r)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,r,n){const{options:i,type:s}=this,a=this._cachedScopes(e,n),o=a.get(r);if(o)return o;const l=new Set;r.forEach(d=>{e&&(l.add(e),d.forEach(h=>g_(l,e,h))),d.forEach(h=>g_(l,i,h)),d.forEach(h=>g_(l,tx[s]||{},h)),d.forEach(h=>g_(l,Ei,h)),d.forEach(h=>g_(l,OF,h))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),fce.has(r)&&a.set(r,u),u}chartOptionScopes(){const{options:e,type:r}=this;return[e,tx[r]||{},Ei.datasets[r]||{},{type:r},Ei,OF]}resolveNamedOptions(e,r,n,i=[""]){const s={$shared:!0},{resolver:a,subPrefixes:o}=LV(this._resolverCache,e,i);let l=a;if(fLe(a,r)){s.$shared=!1,n=s0(n)?n():n;const u=this.createResolver(e,n,o);l=uw(a,n,u)}for(const u of r)s[u]=l[u];return s}createResolver(e,r,n=[""],i){const{resolver:s}=LV(this._resolverCache,e,n);return rn(r)?uw(s,r,void 0,i):s}}function LV(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=r.join();let s=n.get(i);return s||(s={resolver:y9(e,r),subPrefixes:r.filter(o=>!o.toLowerCase().includes("hover"))},n.set(i,s)),s}const hLe=t=>rn(t)&&Object.getOwnPropertyNames(t).some(e=>s0(t[e]));function fLe(t,e){const{isScriptable:r,isIndexable:n}=Yle(t);for(const i of e){const s=r(i),a=n(i),o=(a||s)&&t[i];if(s&&(s0(o)||hLe(o))||a&&mi(o))return!0}return!1}var pLe="4.5.0";const mLe=["top","bottom","left","right","chartArea"];function IV(t,e){return t==="top"||t==="bottom"||mLe.indexOf(t)===-1&&e==="x"}function RV(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function DV(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),zn(r&&r.onComplete,[t],e)}function gLe(t){const e=t.chart,r=e.options.animation;zn(r&&r.onProgress,[t],e)}function pce(t){return _9()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const tP={},FV=t=>{const e=pce(t);return Object.values(tP).filter(r=>r.canvas===e).pop()};function vLe(t,e,r){const n=Object.keys(t);for(const i of n){const s=+i;if(s>=e){const a=t[i];delete t[i],(r>0||s>e)&&(t[s+r]=a)}}}function xLe(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}var Tp;let PN=(Tp=class{static register(...e){xd.add(...e),$V()}static unregister(...e){xd.remove(...e),$V()}constructor(e,r){const n=this.config=new dLe(r),i=pce(e),s=FV(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||RMe(i)),this.platform.updateConfig(n);const o=this.platform.acquireContext(i,a.aspectRatio),l=o&&o.canvas,u=l&&l.height,d=l&&l.width;if(this.id=p3e(),this.ctx=o,this.canvas=l,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eLe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=M3e(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],tP[this.id]=this,!o||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Dh.listen(this,"complete",DV),Dh.listen(this,"progress",gLe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:i,_aspectRatio:s}=this;return Qr(e)?r&&s?s:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return xd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():oV(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return iV(this.canvas,this.ctx),this}stop(){return Dh.stop(this),this}resize(e,r){Dh.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,i=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,r,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,oV(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),zn(n.onResize,[this,a],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};yn(r,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,i=Object.keys(n).reduce((a,o)=>(a[o]=!1,a),{});let s=[];r&&(s=s.concat(Object.keys(r).map(a=>{const o=r[a],l=IF(a,o),u=l==="r",d=l==="x";return{options:o,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),yn(s,a=>{const o=a.options,l=o.id,u=IF(l,o),d=Br(o.type,a.dtype);(o.position===void 0||IV(o.position,u)!==IV(a.dposition))&&(o.position=a.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===d)h=n[l];else{const f=xd.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(o,e)}),yn(i,(a,o)=>{a||delete n[o]}),yn(n,a=>{kc.configure(this,a,a.options),kc.addBox(this,a)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((i,s)=>i.index-s.index),n>r){for(let i=r;i<n;++i)this._destroyDatasetMeta(i);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(RV("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,i)=>{r.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=r.length;n<i;n++){const s=r[n];let a=this.getDatasetMeta(n);const o=s.type||this.config.type;if(a.type&&a.type!==o&&(this._destroyDatasetMeta(n),a=this.getDatasetMeta(n)),a.type=o,a.indexAxis=s.indexAxis||LF(o,this.options),a.order=s.order||0,a.index=n,a.label=""+s.label,a.visible=this.isDatasetVisible(n),a.controller)a.controller.updateIndex(n),a.controller.linkScales();else{const l=xd.getController(o),{datasetElementType:u,dataElementType:d}=Ei.datasets[o];Object.assign(l,{dataElementType:xd.getElement(d),datasetElementType:u&&xd.getElement(u)}),a.controller=new l(this,n),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){yn(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){const{controller:h}=this.getDatasetMeta(u),f=!i&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||yn(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(RV("z","_idx"));const{_active:o,_lastEvent:l}=this;l?this._eventHandler(l,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){yn(this.scales,e=>{kc.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!YH(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:s}of r){const a=n==="_removeElements"?-s:s;vLe(e,i,a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=s=>new Set(e.filter(a=>a[0]===s).map((a,o)=>o+","+a.splice(1).join(","))),i=n(0);for(let s=1;s<r;s++)if(!YH(i,n(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;kc.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],yn(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,s0(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(r),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Dh.has(this)?this.attached&&!Dh.running(this)&&Dh.start(this):(this.draw(),DV({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let i,s;for(i=0,s=r.length;i<s;++i){const a=r[i];(!e||a.visible)&&n.push(a)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=$Oe(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&v9(r,i),e.controller.draw(),i&&x9(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return wf(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,i){const s=mMe.modes[r];return typeof s=="function"?s(this,e,n,i):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let i=n.filter(s=>s&&s._dataset===r).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=_0(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const i=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,i);CA(r)?(s.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?i:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Dh.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),iV(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete tP[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(s,a)=>{r.addEventListener(this,s,a),e[s]=a},i=(s,a,o)=>{s.offsetX=a,s.offsetY=o,this._eventHandler(s)};yn(this.options.events,s=>n(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(l,u)=>{r.addEventListener(this,l,u),e[l]=u},i=(l,u)=>{e[l]&&(r.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),n("attach",o)},r.isAttached(this.canvas)?o():a()}unbindEvents(){yn(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},yn(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const i=n?"set":"remove";let s,a,o,l;for(r==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),o=0,l=e.length;o<l;++o){a=e[o];const u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:s,index:a})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[a],index:a}});!ak(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const i=this.options.hover,s=(l,u)=>l.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=s(r,e),o=n?e:s(e,r);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},i=a=>(a.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const s=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(s||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:i=[],options:s}=this,a=r,o=this._getActiveElements(e,i,n,a),l=b3e(e),u=xLe(e,this._lastEvent,n,l);n&&(this._lastEvent=null,zn(s.onHover,[e,o,this],this),l&&zn(s.onClick,[e,o,this],this));const d=!ak(o,i);return(d||r)&&(this._active=o,this._updateHoverStyles(o,i,r)),this._lastEvent=u,d}_getActiveElements(e,r,n,i){if(e.type==="mouseout")return[];if(!n)return r;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,i)}},dt(Tp,"defaults",Ei),dt(Tp,"instances",tP),dt(Tp,"overrides",tx),dt(Tp,"registry",xd),dt(Tp,"version",pLe),dt(Tp,"getChart",FV),Tp);function $V(){return yn(PN.instances,t=>t._plugins.invalidate())}function mce(t,e,r=e){t.lineCap=Br(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Br(r.borderDash,e.borderDash)),t.lineDashOffset=Br(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Br(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Br(r.borderWidth,e.borderWidth),t.strokeStyle=Br(r.borderColor,e.borderColor)}function yLe(t,e,r){t.lineTo(r.x,r.y)}function bLe(t){return t.stepped?G3e:t.tension||t.cubicInterpolationMode==="monotone"?K3e:yLe}function gce(t,e,r={}){const n=t.length,{start:i=0,end:s=n-1}=r,{start:a,end:o}=e,l=Math.max(i,a),u=Math.min(s,o),d=i<a&&s<a||i>o&&s>o;return{count:n,start:l,loop:e.loop,ilen:u<l&&!d?n+u-l:u-l}}function wLe(t,e,r,n){const{points:i,options:s}=e,{count:a,start:o,loop:l,ilen:u}=gce(i,r,n),d=bLe(s);let{move:h=!0,reverse:f}=n||{},p,g,m;for(p=0;p<=u;++p)g=i[(o+(f?u-p:p))%a],!g.skip&&(h?(t.moveTo(g.x,g.y),h=!1):d(t,m,g,f,s.stepped),m=g);return l&&(g=i[(o+(f?u:0))%a],d(t,m,g,f,s.stepped)),!!l}function _Le(t,e,r,n){const i=e.points,{count:s,start:a,ilen:o}=gce(i,r,n),{move:l=!0,reverse:u}=n||{};let d=0,h=0,f,p,g,m,v,x;const y=_=>(a+(u?o-_:_))%s,w=()=>{m!==v&&(t.lineTo(d,v),t.lineTo(d,m),t.lineTo(d,x))};for(l&&(p=i[y(0)],t.moveTo(p.x,p.y)),f=0;f<=o;++f){if(p=i[y(f)],p.skip)continue;const _=p.x,A=p.y,C=_|0;C===g?(A<m?m=A:A>v&&(v=A),d=(h*d+_)/++h):(w(),t.lineTo(_,A),g=C,h=0,m=v=A),x=A}w()}function RF(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?_Le:wLe}function SLe(t){return t.stepped?NOe:t.tension||t.cubicInterpolationMode==="monotone"?EOe:rg}function ALe(t,e,r,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,r,n)&&i.closePath()),mce(t,e.options),t.stroke(i)}function jLe(t,e,r,n){const{segments:i,options:s}=e,a=RF(e);for(const o of i)mce(t,s,o.style),t.beginPath(),a(t,e,o,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const NLe=typeof Path2D=="function";function ELe(t,e,r,n){NLe&&!e.options.segment?ALe(t,e,r,n):jLe(t,e,r,n)}class Hy extends S0{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;xOe(this._points,n,e,i,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=IOe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,i=e[r],s=this.points,a=OOe(this,{property:r,start:i,end:i});if(!a.length)return;const o=[],l=SLe(n);let u,d;for(u=0,d=a.length;u<d;++u){const{start:h,end:f}=a[u],p=s[h],g=s[f];if(p===g){o.push(p);continue}const m=Math.abs((i-p[r])/(g[r]-p[r])),v=l(p,g,m,n.stepped);v[r]=e[r],o.push(v)}return o.length===1?o[0]:o}pathSegment(e,r,n){return RF(this)(e,this,r,n)}path(e,r,n){const i=this.segments,s=RF(this);let a=this._loop;r=r||0,n=n||this.points.length-r;for(const o of i)a&=s(e,this,o,{start:r,end:r+n-1});return!!a}draw(e,r,n,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),ELe(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}dt(Hy,"id","line"),dt(Hy,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),dt(Hy,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),dt(Hy,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function BV(t,e,r,n){const i=t.options,{[r]:s}=t.getProps([r],n);return Math.abs(e-s)<i.radius+i.hitRadius}class AS extends S0{constructor(r){super();dt(this,"parsed");dt(this,"skip");dt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,r&&Object.assign(this,r)}inRange(r,n,i){const s=this.options,{x:a,y:o}=this.getProps(["x","y"],i);return Math.pow(r-a,2)+Math.pow(n-o,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(r,n){return BV(this,r,"x",n)}inYRange(r,n){return BV(this,r,"y",n)}getCenterPoint(r){const{x:n,y:i}=this.getProps(["x","y"],r);return{x:n,y:i}}size(r){r=r||this.options||{};let n=r.radius||0;n=Math.max(n,n&&r.hoverRadius||0);const i=n&&r.borderWidth||0;return(n+i)*2}draw(r,n){const i=this.options;this.skip||i.radius<.1||!wf(this,n,this.size(i)/2)||(r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.fillStyle=i.backgroundColor,MF(r,i,this.x,this.y))}getRange(){const r=this.options||{};return r.radius+r.hitRadius}}dt(AS,"id","point"),dt(AS,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),dt(AS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function vce(t,e){const{x:r,y:n,base:i,width:s,height:a}=t.getProps(["x","y","base","width","height"],e);let o,l,u,d,h;return t.horizontal?(h=a/2,o=Math.min(r,i),l=Math.max(r,i),u=n-h,d=n+h):(h=s/2,o=r-h,l=r+h,u=Math.min(n,i),d=Math.max(n,i)),{left:o,top:u,right:l,bottom:d}}function Tm(t,e,r,n){return t?0:zl(e,r,n)}function CLe(t,e,r){const n=t.options.borderWidth,i=t.borderSkipped,s=Kle(n);return{t:Tm(i.top,s.top,0,r),r:Tm(i.right,s.right,0,e),b:Tm(i.bottom,s.bottom,0,r),l:Tm(i.left,s.left,0,e)}}function TLe(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Rv(i),a=Math.min(e,r),o=t.borderSkipped,l=n||rn(i);return{topLeft:Tm(!l||o.top||o.left,s.topLeft,0,a),topRight:Tm(!l||o.top||o.right,s.topRight,0,a),bottomLeft:Tm(!l||o.bottom||o.left,s.bottomLeft,0,a),bottomRight:Tm(!l||o.bottom||o.right,s.bottomRight,0,a)}}function PLe(t){const e=vce(t),r=e.right-e.left,n=e.bottom-e.top,i=CLe(t,r/2,n/2),s=TLe(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:r-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function MI(t,e,r,n){const i=e===null,s=r===null,o=t&&!(i&&s)&&vce(t,n);return o&&(i||xg(e,o.left,o.right))&&(s||xg(r,o.top,o.bottom))}function kLe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function OLe(t,e){t.rect(e.x,e.y,e.w,e.h)}function LI(t,e,r={}){const n=t.x!==r.x?-e:0,i=t.y!==r.y?-e:0,s=(t.x+t.w!==r.x+r.w?e:0)-n,a=(t.y+t.h!==r.y+r.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+s,h:t.h+a,radius:t.radius}}class jS extends S0{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:i}}=this,{inner:s,outer:a}=PLe(this),o=kLe(a.radius)?PA:OLe;e.save(),(a.w!==s.w||a.h!==s.h)&&(e.beginPath(),o(e,LI(a,r,s)),e.clip(),o(e,LI(s,-r,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,LI(s,r)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,r,n){return MI(this,e,r,n)}inXRange(e,r){return MI(this,e,null,r)}inYRange(e,r){return MI(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(r+i)/2:r,y:s?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}dt(jS,"id","bar"),dt(jS,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),dt(jS,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const UV=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},MLe=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;let zV=class extends S0{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=zn(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=vs(n.font),s=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:l}=UV(n,s);let u,d;r.font=i.string,this.isHorizontal()?(u=this.maxWidth,d=this._fitRows(a,s,o,l)+10):(d=this.maxHeight,u=this._fitCols(a,i,o,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,i){const{ctx:s,maxWidth:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],d=i+o;let h=e;s.textAlign="left",s.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((g,m)=>{const v=n+r/2+s.measureText(g.text).width;(m===0||u[u.length-1]+v+2*o>a)&&(h+=d,u[u.length-(m>0?0:1)]=0,p+=d,f++),l[m]={left:0,top:p,row:f,width:v,height:i},u[u.length-1]+=v+o}),h}_fitCols(e,r,n,i){const{ctx:s,maxHeight:a,options:{labels:{padding:o}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],d=a-e;let h=o,f=0,p=0,g=0,m=0;return this.legendItems.forEach((v,x)=>{const{itemWidth:y,itemHeight:w}=LLe(n,r,s,v,i);x>0&&p+w+2*o>d&&(h+=f+o,u.push({width:f,height:p}),g+=f+o,m++,f=p=0),l[x]={left:g,top:p,col:m,width:y,height:w},f=Math.max(f,y),p+=w+o}),h+=f,u.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:i},rtl:s}}=this,a=p1(s,this.left,this.width);if(this.isHorizontal()){let o=0,l=Ta(n,this.left+i,this.right-this.lineWidths[o]);for(const u of r)o!==u.row&&(o=u.row,l=Ta(n,this.left+i,this.right-this.lineWidths[o])),u.top+=this.top+e+i,u.left=a.leftForLtr(a.x(l),u.width),l+=u.width+i}else{let o=0,l=Ta(n,this.top+e+i,this.bottom-this.columnSizes[o].height);for(const u of r)u.col!==o&&(o=u.col,l=Ta(n,this.top+e+i,this.bottom-this.columnSizes[o].height)),u.top=l,u.left+=this.left+i,u.left=a.leftForLtr(a.x(u.left),u.width),l+=u.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;v9(e,this),this._draw(),x9(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:i}=this,{align:s,labels:a}=e,o=Ei.color,l=p1(e.rtl,this.left,this.width),u=vs(a.font),{padding:d}=a,h=u.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=u.string;const{boxWidth:g,boxHeight:m,itemHeight:v}=UV(a,h),x=function(C,N,E){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const P=Br(E.lineWidth,1);if(i.fillStyle=Br(E.fillStyle,o),i.lineCap=Br(E.lineCap,"butt"),i.lineDashOffset=Br(E.lineDashOffset,0),i.lineJoin=Br(E.lineJoin,"miter"),i.lineWidth=P,i.strokeStyle=Br(E.strokeStyle,o),i.setLineDash(Br(E.lineDash,[])),a.usePointStyle){const L={radius:m*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:P},O=l.xPlus(C,g/2),k=N+f;Vle(i,L,O,k,a.pointStyleWidth&&g)}else{const L=N+Math.max((h-m)/2,0),O=l.leftForLtr(C,g),k=Rv(E.borderRadius);i.beginPath(),Object.values(k).some(D=>D!==0)?PA(i,{x:O,y:L,w:g,h:m,radius:k}):i.rect(O,L,g,m),i.fill(),P!==0&&i.stroke()}i.restore()},y=function(C,N,E){rx(i,E.text,C,N+v/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},w=this.isHorizontal(),_=this._computeTitleHeight();w?p={x:Ta(s,this.left+d,this.right-n[0]),y:this.top+d+_,line:0}:p={x:this.left+d,y:Ta(s,this.top+_+d,this.bottom-r[0].height),line:0},ece(this.ctx,e.textDirection);const A=v+d;this.legendItems.forEach((C,N)=>{i.strokeStyle=C.fontColor,i.fillStyle=C.fontColor;const E=i.measureText(C.text).width,P=l.textAlign(C.textAlign||(C.textAlign=a.textAlign)),L=g+f+E;let O=p.x,k=p.y;l.setWidth(this.width),w?N>0&&O+L+d>this.right&&(k=p.y+=A,p.line++,O=p.x=Ta(s,this.left+d,this.right-n[p.line])):N>0&&k+A>this.bottom&&(O=p.x=O+r[p.line].width+d,p.line++,k=p.y=Ta(s,this.top+_+d,this.bottom-r[p.line].height));const D=l.x(O);if(x(D,k,C),O=L3e(P,O+g+f,w?O+L:this.right,e.rtl),y(l.x(O),k,C),w)p.x+=L+d;else if(typeof C.text!="string"){const F=u.lineHeight;p.y+=xce(C,F)+d}else p.y+=A}),tce(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=vs(r.font),i=qa(r.padding);if(!r.display)return;const s=p1(e.rtl,this.left,this.width),a=this.ctx,o=r.position,l=n.size/2,u=i.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+u,h=Ta(e.align,h,this.right-f);else{const g=this.columnSizes.reduce((m,v)=>Math.max(m,v.height),0);d=u+Ta(e.align,this.top,this.bottom-g-e.labels.padding-this._computeTitleHeight())}const p=Ta(o,h,h+f);a.textAlign=s.textAlign(p9(o)),a.textBaseline="middle",a.strokeStyle=r.color,a.fillStyle=r.color,a.font=n.string,rx(a,r.text,p,d,n)}_computeTitleHeight(){const e=this.options.title,r=vs(e.font),n=qa(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,i,s;if(xg(e,this.left,this.right)&&xg(r,this.top,this.bottom)){for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(i=s[n],xg(e,i.left,i.left+i.width)&&xg(r,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!DLe(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,s=MLe(i,n);i&&!s&&zn(r.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!s&&zn(r.onHover,[e,n,this],this)}else n&&zn(r.onClick,[e,n,this],this)}};function LLe(t,e,r,n,i){const s=ILe(n,t,e,r),a=RLe(i,n,e.lineHeight);return{itemWidth:s,itemHeight:a}}function ILe(t,e,r,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((s,a)=>s.length>a.length?s:a)),e+r.size/2+n.measureText(i).width}function RLe(t,e,r){let n=t;return typeof e.text!="string"&&(n=xce(e,r)),n}function xce(t,e){const r=t.text?t.text.length:0;return e*r}function DLe(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var yce={id:"legend",_element:zV,start(t,e,r){const n=t.legend=new zV({ctx:t.ctx,options:r,chart:t});kc.configure(t,n,r),kc.addBox(t,n)},stop(t){kc.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;kc.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,i=r.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:i,color:s,useBorderRadius:a,borderRadius:o}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(r?0:void 0),d=qa(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:u.borderColor,pointStyle:n||u.pointStyle,rotation:u.rotation,textAlign:i||u.textAlign,borderRadius:a&&(o||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class bce extends S0{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const i=mi(n.text)?n.text.length:1;this._padding=qa(n.padding);const s=i*vs(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:i,right:s,options:a}=this,o=a.align;let l=0,u,d,h;return this.isHorizontal()?(d=Ta(o,n,s),h=r+e,u=s-n):(a.position==="left"?(d=n+e,h=Ta(o,i,r),l=Zi*-.5):(d=s-e,h=Ta(o,r,i),l=Zi*.5),u=i-r),{titleX:d,titleY:h,maxWidth:u,rotation:l}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=vs(r.font),s=n.lineHeight/2+this._padding.top,{titleX:a,titleY:o,maxWidth:l,rotation:u}=this._drawArgs(s);rx(e,r.text,0,0,n,{color:r.color,maxWidth:l,rotation:u,textAlign:p9(r.align),textBaseline:"middle",translation:[a,o]})}}function FLe(t,e){const r=new bce({ctx:t.ctx,options:e,chart:t});kc.configure(t,r,e),kc.addBox(t,r),t.titleBlock=r}var wce={id:"title",_element:bce,start(t,e,r){FLe(t,r)},stop(t){const e=t.titleBlock;kc.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;kc.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rS={average(t){if(!t.length)return!1;let e,r,n=new Set,i=0,s=0;for(e=0,r=t.length;e<r;++e){const o=t[e].element;if(o&&o.hasValue()){const l=o.tooltipPosition();n.add(l.x),i+=l.y,++s}}return s===0||n.size===0?!1:{x:[...n].reduce((o,l)=>o+l)/n.size,y:i/s}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,i=Number.POSITIVE_INFINITY,s,a,o;for(s=0,a=t.length;s<a;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),d=kF(e,u);d<i&&(i=d,o=l)}}if(o){const l=o.tooltipPosition();r=l.x,n=l.y}return{x:r,y:n}}};function fd(t,e){return e&&(mi(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Fh(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function $Le(t,e){const{element:r,datasetIndex:n,index:i}=e,s=t.getDatasetMeta(n).controller,{label:a,value:o}=s.getLabelAndValue(i);return{chart:t,label:a,parsed:s.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:o,dataset:s.getDataset(),dataIndex:i,datasetIndex:n,element:r}}function qV(t,e){const r=t.chart.ctx,{body:n,footer:i,title:s}=t,{boxWidth:a,boxHeight:o}=e,l=vs(e.bodyFont),u=vs(e.titleFont),d=vs(e.footerFont),h=s.length,f=i.length,p=n.length,g=qa(e.padding);let m=g.height,v=0,x=n.reduce((_,A)=>_+A.before.length+A.lines.length+A.after.length,0);if(x+=t.beforeBody.length+t.afterBody.length,h&&(m+=h*u.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),x){const _=e.displayColors?Math.max(o,l.lineHeight):l.lineHeight;m+=p*_+(x-p)*l.lineHeight+(x-1)*e.bodySpacing}f&&(m+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let y=0;const w=function(_){v=Math.max(v,r.measureText(_).width+y)};return r.save(),r.font=u.string,yn(t.title,w),r.font=l.string,yn(t.beforeBody.concat(t.afterBody),w),y=e.displayColors?a+2+e.boxPadding:0,yn(n,_=>{yn(_.before,w),yn(_.lines,w),yn(_.after,w)}),y=0,r.font=d.string,yn(t.footer,w),r.restore(),v+=g.width,{width:v,height:m}}function BLe(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function ULe(t,e,r,n){const{x:i,width:s}=n,a=r.caretSize+r.caretPadding;if(t==="left"&&i+s+a>e.width||t==="right"&&i-s-a<0)return!0}function zLe(t,e,r,n){const{x:i,width:s}=r,{width:a,chartArea:{left:o,right:l}}=t;let u="center";return n==="center"?u=i<=(o+l)/2?"left":"right":i<=s/2?u="left":i>=a-s/2&&(u="right"),ULe(u,t,e,r)&&(u="center"),u}function WV(t,e,r){const n=r.yAlign||e.yAlign||BLe(t,r);return{xAlign:r.xAlign||e.xAlign||zLe(t,e,r,n),yAlign:n}}function qLe(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function WLe(t,e,r){let{y:n,height:i}=t;return e==="top"?n+=r:e==="bottom"?n-=i+r:n-=i/2,n}function HV(t,e,r,n){const{caretSize:i,caretPadding:s,cornerRadius:a}=t,{xAlign:o,yAlign:l}=r,u=i+s,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=Rv(a);let g=qLe(e,o);const m=WLe(e,l,u);return l==="center"?o==="left"?g+=u:o==="right"&&(g-=u):o==="left"?g-=Math.max(d,f)+i:o==="right"&&(g+=Math.max(h,p)+i),{x:zl(g,0,n.width-e.width),y:zl(m,0,n.height-e.height)}}function NC(t,e,r){const n=qa(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function VV(t){return fd([],Fh(t))}function HLe(t,e,r){return _0(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function GV(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const _ce={beforeTitle:Th,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Th,beforeBody:Th,beforeLabel:Th,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return Qr(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Th,afterBody:Th,beforeFooter:Th,footer:Th,afterFooter:Th};function Co(t,e,r,n){const i=t[e].call(r,n);return typeof i>"u"?_ce[e].call(r,n):i}var ER;let KV=(ER=class extends S0{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&r.options.animation&&n.animations,s=new nce(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=HLe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,i=Co(n,"beforeTitle",this,e),s=Co(n,"title",this,e),a=Co(n,"afterTitle",this,e);let o=[];return o=fd(o,Fh(i)),o=fd(o,Fh(s)),o=fd(o,Fh(a)),o}getBeforeBody(e,r){return VV(Co(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,i=[];return yn(e,s=>{const a={before:[],lines:[],after:[]},o=GV(n,s);fd(a.before,Fh(Co(o,"beforeLabel",this,s))),fd(a.lines,Co(o,"label",this,s)),fd(a.after,Fh(Co(o,"afterLabel",this,s))),i.push(a)}),i}getAfterBody(e,r){return VV(Co(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,i=Co(n,"beforeFooter",this,e),s=Co(n,"footer",this,e),a=Co(n,"afterFooter",this,e);let o=[];return o=fd(o,Fh(i)),o=fd(o,Fh(s)),o=fd(o,Fh(a)),o}_createItems(e){const r=this._active,n=this.chart.data,i=[],s=[],a=[];let o=[],l,u;for(l=0,u=r.length;l<u;++l)o.push($Le(this.chart,r[l]));return e.filter&&(o=o.filter((d,h,f)=>e.filter(d,h,f,n))),e.itemSort&&(o=o.sort((d,h)=>e.itemSort(d,h,n))),yn(o,d=>{const h=GV(e.callbacks,d);i.push(Co(h,"labelColor",this,d)),s.push(Co(h,"labelPointStyle",this,d)),a.push(Co(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=o,o}update(e,r){const n=this.options.setContext(this.getContext()),i=this._active;let s,a=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const o=rS[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const l=this._size=qV(this,n),u=Object.assign({},o,l),d=WV(this.chart,n,u),h=HV(n,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:o.x,caretY:o.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,i){const s=this.getCaretPosition(e,n,i);r.lineTo(s.x1,s.y1),r.lineTo(s.x2,s.y2),r.lineTo(s.x3,s.y3)}getCaretPosition(e,r,n){const{xAlign:i,yAlign:s}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:l,topRight:u,bottomLeft:d,bottomRight:h}=Rv(o),{x:f,y:p}=e,{width:g,height:m}=r;let v,x,y,w,_,A;return s==="center"?(_=p+m/2,i==="left"?(v=f,x=v-a,w=_+a,A=_-a):(v=f+g,x=v+a,w=_-a,A=_+a),y=v):(i==="left"?x=f+Math.max(l,d)+a:i==="right"?x=f+g-Math.max(u,h)-a:x=this.caretX,s==="top"?(w=p,_=w-a,v=x-a,y=x+a):(w=p+m,_=w+a,v=x+a,y=x-a),A=w),{x1:v,x2:x,x3:y,y1:w,y2:_,y3:A}}drawTitle(e,r,n){const i=this.title,s=i.length;let a,o,l;if(s){const u=p1(n.rtl,this.x,this.width);for(e.x=NC(this,n.titleAlign,n),r.textAlign=u.textAlign(n.titleAlign),r.textBaseline="middle",a=vs(n.titleFont),o=n.titleSpacing,r.fillStyle=n.titleColor,r.font=a.string,l=0;l<s;++l)r.fillText(i[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,l+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,r,n,i,s){const a=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:l,boxWidth:u}=s,d=vs(s.bodyFont),h=NC(this,"left",s),f=i.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,g=r.y+p;if(s.usePointStyle){const m={radius:Math.min(u,l)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},v=i.leftForLtr(f,u)+u/2,x=g+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,MF(e,m,v,x),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,MF(e,m,v,x)}else{e.lineWidth=rn(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const m=i.leftForLtr(f,u),v=i.leftForLtr(i.xPlus(f,1),u-2),x=Rv(a.borderRadius);Object.values(x).some(y=>y!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,PA(e,{x:m,y:g,w:u,h:l,radius:x}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),PA(e,{x:v,y:g+1,w:u-2,h:l-2,radius:x}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(m,g,u,l),e.strokeRect(m,g,u,l),e.fillStyle=a.backgroundColor,e.fillRect(v,g+1,u-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:i}=this,{bodySpacing:s,bodyAlign:a,displayColors:o,boxHeight:l,boxWidth:u,boxPadding:d}=n,h=vs(n.bodyFont);let f=h.lineHeight,p=0;const g=p1(n.rtl,this.x,this.width),m=function(E){r.fillText(E,g.x(e.x+p),e.y+f/2),e.y+=f+s},v=g.textAlign(a);let x,y,w,_,A,C,N;for(r.textAlign=a,r.textBaseline="middle",r.font=h.string,e.x=NC(this,v,n),r.fillStyle=n.bodyColor,yn(this.beforeBody,m),p=o&&v!=="right"?a==="center"?u/2+d:u+2+d:0,_=0,C=i.length;_<C;++_){for(x=i[_],y=this.labelTextColors[_],r.fillStyle=y,yn(x.before,m),w=x.lines,o&&w.length&&(this._drawColorBox(r,e,_,g,n),f=Math.max(h.lineHeight,l)),A=0,N=w.length;A<N;++A)m(w[A]),f=h.lineHeight;yn(x.after,m)}p=0,f=h.lineHeight,yn(this.afterBody,m),e.y-=s}drawFooter(e,r,n){const i=this.footer,s=i.length;let a,o;if(s){const l=p1(n.rtl,this.x,this.width);for(e.x=NC(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=l.textAlign(n.footerAlign),r.textBaseline="middle",a=vs(n.footerFont),r.fillStyle=n.footerColor,r.font=a.string,o=0;o<s;++o)r.fillText(i[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,r,n,i){const{xAlign:s,yAlign:a}=this,{x:o,y:l}=e,{width:u,height:d}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Rv(i.cornerRadius);r.fillStyle=i.backgroundColor,r.strokeStyle=i.borderColor,r.lineWidth=i.borderWidth,r.beginPath(),r.moveTo(o+h,l),a==="top"&&this.drawCaret(e,r,n,i),r.lineTo(o+u-f,l),r.quadraticCurveTo(o+u,l,o+u,l+f),a==="center"&&s==="right"&&this.drawCaret(e,r,n,i),r.lineTo(o+u,l+d-g),r.quadraticCurveTo(o+u,l+d,o+u-g,l+d),a==="bottom"&&this.drawCaret(e,r,n,i),r.lineTo(o+p,l+d),r.quadraticCurveTo(o,l+d,o,l+d-p),a==="center"&&s==="left"&&this.drawCaret(e,r,n,i),r.lineTo(o,l+h),r.quadraticCurveTo(o,l,o+h,l),r.closePath(),r.fill(),i.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,i=n&&n.x,s=n&&n.y;if(i||s){const a=rS[e.position].call(this,this._active,this._eventPosition);if(!a)return;const o=this._size=qV(this,e),l=Object.assign({},a,this._size),u=WV(r,e,l),d=HV(e,l,u,r);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=qa(r.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,i,r),ece(e,r.textDirection),s.y+=a.top,this.drawTitle(s,e,r),this.drawBody(s,e,r),this.drawFooter(s,e,r),tce(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,i=e.map(({datasetIndex:o,index:l})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[l],index:l}}),s=!ak(n,i),a=this._positionChanged(i,r);(s||a)&&(this._active=i,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],a=this._getActiveElements(e,s,r,n),o=this._positionChanged(a,e),l=r||!ak(a,s)||o;return l&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),l}_getActiveElements(e,r,n,i){const s=this.options;if(e.type==="mouseout")return[];if(!i)return r.filter(o=>this.chart.data.datasets[o.datasetIndex]&&this.chart.getDatasetMeta(o.datasetIndex).controller.getParsed(o.index)!==void 0);const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,r){const{caretX:n,caretY:i,options:s}=this,a=rS[s.position].call(this,e,r);return a!==!1&&(n!==a.x||i!==a.y)}},dt(ER,"positioners",rS),ER);var Sce={id:"tooltip",_element:KV,positioners:rS,afterInit(t,e,r){r&&(t.tooltip=new KV({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_ce},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const VLe=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function GLe(t,e,r,n){const i=t.indexOf(e);if(i===-1)return VLe(t,e,r,n);const s=t.lastIndexOf(e);return i!==s?r:i}const KLe=(t,e)=>t===null?null:zl(Math.round(t),0,e);function YV(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class hk extends e2{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:i,label:s}of r)n[i]===s&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(Qr(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:GLe(n,e,Br(r,e),this._addedLabels),KLe(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,i=[];let s=this.getLabels();s=e===0&&r===s.length-1?s:s.slice(e,r+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=r;a++)i.push({value:a});return i}getLabelForValue(e){return YV.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}dt(hk,"id","category"),dt(hk,"defaults",{ticks:{callback:YV}});function YLe(t,e){const r=[],{bounds:i,step:s,min:a,max:o,precision:l,count:u,maxTicks:d,maxDigits:h,includeBounds:f}=t,p=s||1,g=d-1,{min:m,max:v}=e,x=!Qr(a),y=!Qr(o),w=!Qr(u),_=(v-m)/(h+1);let A=QH((v-m)/g/p)*p,C,N,E,P;if(A<1e-14&&!x&&!y)return[{value:m},{value:v}];P=Math.ceil(v/A)-Math.floor(m/A),P>g&&(A=QH(P*A/g/p)*p),Qr(l)||(C=Math.pow(10,l),A=Math.ceil(A*C)/C),i==="ticks"?(N=Math.floor(m/A)*A,E=Math.ceil(v/A)*A):(N=m,E=v),x&&y&&s&&j3e((o-a)/s,A/1e3)?(P=Math.round(Math.min((o-a)/A,d)),A=(o-a)/P,N=a,E=o):w?(N=x?a:N,E=y?o:E,P=u-1,A=(E-N)/P):(P=(E-N)/A,wS(P,Math.round(P),A/1e3)?P=Math.round(P):P=Math.ceil(P));const L=Math.max(JH(A),JH(N));C=Math.pow(10,Qr(l)?L:l),N=Math.round(N*C)/C,E=Math.round(E*C)/C;let O=0;for(x&&(f&&N!==a?(r.push({value:a}),N<a&&O++,wS(Math.round((N+O*A)*C)/C,a,XV(a,_,t))&&O++):N<a&&O++);O<P;++O){const k=Math.round((N+O*A)*C)/C;if(y&&k>o)break;r.push({value:k})}return y&&f&&E!==o?r.length&&wS(r[r.length-1].value,o,XV(o,_,t))?r[r.length-1].value=o:r.push({value:o}):(!y||E===o)&&r.push({value:E}),r}function XV(t,e,{horizontal:r,minRotation:n}){const i=Cm(n),s=(r?Math.sin(i):Math.cos(i))||.001,a=.75*e*(""+t).length;return Math.min(e/s,a)}class DF extends e2{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return Qr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this;const a=l=>i=r?i:l,o=l=>s=n?s:l;if(e){const l=Yd(i),u=Yd(s);l<0&&u<0?o(0):l>0&&u>0&&a(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);o(s+l),e||a(i-l)}this.min=i,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),r=r||11),r&&(i=Math.min(r,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},s=this._range||this,a=YLe(i,s);return e.bounds==="ticks"&&N3e(a,this,"value"),e.reverse?(a.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),a}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-r)/Math.max(e.length-1,1)/2;r-=i,n+=i}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Wle(e,this.chart.options.locale,this.options.ticks.format)}}class fk extends DF{determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=el(e)?e:0,this.max=el(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=Cm(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,s.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}dt(fk,"id","linear"),dt(fk,"defaults",{ticks:{callback:g9.formatters.numeric}});function FF(t){const e=t.ticks;if(e.display&&t.display){const r=qa(e.backdropPadding);return Br(e.font&&e.font.size,Ei.font.size)+r.height}return 0}function XLe(t,e,r){return r=mi(r)?r:[r],{w:V3e(t,e.string,r),h:r.length*e.lineHeight}}function QV(t,e,r,n,i){return t===n||t===i?{start:e-r/2,end:e+r/2}:t<n||t>i?{start:e-r,end:e}:{start:e,end:e+r}}function QLe(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],i=[],s=t._pointLabels.length,a=t.options.pointLabels,o=a.centerPointLabels?Zi/s:0;for(let l=0;l<s;l++){const u=a.setContext(t.getPointLabelContext(l));i[l]=u.padding;const d=t.getPointPosition(l,t.drawingArea+i[l],o),h=vs(u.font),f=XLe(t.ctx,h,t._pointLabels[l]);n[l]=f;const p=Tu(t.getIndexAngle(l)+o),g=Math.round(h9(p)),m=QV(g,d.x,f.w,0,180),v=QV(g,d.y,f.h,90,270);JLe(r,e,p,m,v)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=tIe(t,n,i)}function JLe(t,e,r,n,i){const s=Math.abs(Math.sin(r)),a=Math.abs(Math.cos(r));let o=0,l=0;n.start<e.l?(o=(e.l-n.start)/s,t.l=Math.min(t.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,t.r=Math.max(t.r,e.r+o)),i.start<e.t?(l=(e.t-i.start)/a,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/a,t.b=Math.max(t.b,e.b+l))}function ZLe(t,e,r){const n=t.drawingArea,{extra:i,additionalAngle:s,padding:a,size:o}=r,l=t.getPointPosition(e,n+i+a,s),u=Math.round(h9(Tu(l.angle+Ul))),d=iIe(l.y,o.h,u),h=rIe(u),f=nIe(l.x,o.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+o.w,bottom:d+o.h}}function eIe(t,e){if(!e)return!0;const{left:r,top:n,right:i,bottom:s}=t;return!(wf({x:r,y:n},e)||wf({x:r,y:s},e)||wf({x:i,y:n},e)||wf({x:i,y:s},e))}function tIe(t,e,r){const n=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:a,display:o}=s.pointLabels,l={extra:FF(s)/2,additionalAngle:a?Zi/i:0};let u;for(let d=0;d<i;d++){l.padding=r[d],l.size=e[d];const h=ZLe(t,d,l);n.push(h),o==="auto"&&(h.visible=eIe(h,u),h.visible&&(u=h))}return n}function rIe(t){return t===0||t===180?"center":t<180?"left":"right"}function nIe(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function iIe(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function sIe(t,e,r){const{left:n,top:i,right:s,bottom:a}=r,{backdropColor:o}=e;if(!Qr(o)){const l=Rv(e.borderRadius),u=qa(e.backdropPadding);t.fillStyle=o;const d=n-u.left,h=i-u.top,f=s-n+u.width,p=a-i+u.height;Object.values(l).some(g=>g!==0)?(t.beginPath(),PA(t,{x:d,y:h,w:f,h:p,radius:l}),t.fill()):t.fillRect(d,h,f,p)}}function aIe(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const s=t._pointLabelItems[i];if(!s.visible)continue;const a=n.setContext(t.getPointLabelContext(i));sIe(r,a,s);const o=vs(a.font),{x:l,y:u,textAlign:d}=s;rx(r,t._pointLabels[i],l,u+o.lineHeight/2,o,{color:a.color,textAlign:d,textBaseline:"middle"})}}function Ace(t,e,r,n){const{ctx:i}=t;if(r)i.arc(t.xCenter,t.yCenter,e,0,Dc);else{let s=t.getPointPosition(0,e);i.moveTo(s.x,s.y);for(let a=1;a<n;a++)s=t.getPointPosition(a,e),i.lineTo(s.x,s.y)}}function oIe(t,e,r,n,i){const s=t.ctx,a=e.circular,{color:o,lineWidth:l}=e;!a&&!n||!o||!l||r<0||(s.save(),s.strokeStyle=o,s.lineWidth=l,s.setLineDash(i.dash||[]),s.lineDashOffset=i.dashOffset,s.beginPath(),Ace(t,r,a,n),s.closePath(),s.stroke(),s.restore())}function lIe(t,e,r){return _0(t,{label:r,index:e,type:"pointLabel"})}class nS extends DF{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=qa(FF(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=el(e)&&!isNaN(e)?e:0,this.max=el(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/FF(this.options))}generateTickLabels(e){DF.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const i=zn(this.options.pointLabels.callback,[r,n],this);return i||i===0?i:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?QLe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,i){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,i))}getIndexAngle(e){const r=Dc/(this._pointLabels.length||1),n=this.options.startAngle||0;return Tu(e*r+Cm(n))}getDistanceFromCenterForValue(e){if(Qr(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(Qr(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return lIe(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const i=this.getIndexAngle(e)-Ul+n;return{x:Math.cos(i)*r+this.xCenter,y:Math.sin(i)*r+this.yCenter,angle:i}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:i,bottom:s}=this._pointLabelItems[e];return{left:r,top:n,right:i,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),Ace(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:i,border:s}=r,a=this._pointLabels.length;let o,l,u;if(r.pointLabels.display&&aIe(this,a),i.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),p=i.setContext(f),g=s.setContext(f);oIe(this,p,l,a,g)}}),n.display){for(e.save(),o=a-1;o>=0;o--){const d=n.setContext(this.getPointLabelContext(o)),{color:h,lineWidth:f}=d;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),u=this.getPointPosition(o,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,l)=>{if(l===0&&this.min>=0&&!r.reverse)return;const u=n.setContext(this.getContext(l)),d=vs(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=d.string,a=e.measureText(o.label).width,e.fillStyle=u.backdropColor;const h=qa(u.backdropPadding);e.fillRect(-a/2-h.left,-s-d.size/2-h.top,a+h.width,d.size+h.height)}rx(e,o.label,0,-s,d,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}dt(nS,"id","radialLinear"),dt(nS,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:g9.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),dt(nS,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),dt(nS,"descriptors",{angleLines:{_fallback:"grid"}});const AO={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Fo=Object.keys(AO);function JV(t,e){return t-e}function ZV(t,e){if(Qr(e))return null;const r=t._adapter,{parser:n,round:i,isoWeekday:s}=t._parseOpts;let a=e;return typeof n=="function"&&(a=n(a)),el(a)||(a=typeof n=="string"?r.parse(a,n):r.parse(a)),a===null?null:(i&&(a=i==="week"&&(TA(s)||s===!0)?r.startOf(a,"isoWeek",s):r.startOf(a,i)),+a)}function eG(t,e,r,n){const i=Fo.length;for(let s=Fo.indexOf(t);s<i-1;++s){const a=AO[Fo[s]],o=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((r-e)/(o*a.size))<=n)return Fo[s]}return Fo[i-1]}function cIe(t,e,r,n,i){for(let s=Fo.length-1;s>=Fo.indexOf(r);s--){const a=Fo[s];if(AO[a].common&&t._adapter.diff(i,n,a)>=e-1)return a}return Fo[r?Fo.indexOf(r):0]}function uIe(t){for(let e=Fo.indexOf(t)+1,r=Fo.length;e<r;++e)if(AO[Fo[e]].common)return Fo[e]}function tG(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:i}=f9(r,e),s=r[n]>=e?r[n]:r[i];t[s]=!0}}function dIe(t,e,r,n){const i=t._adapter,s=+i.startOf(e[0].value,n),a=e[e.length-1].value;let o,l;for(o=s;o<=a;o=+i.add(o,1,n))l=r[o],l>=0&&(e[l].major=!0);return e}function rG(t,e,r){const n=[],i={},s=e.length;let a,o;for(a=0;a<s;++a)o=e[a],i[o]=a,n.push({value:o,major:!1});return s===0||!r?n:dIe(t,n,i,r)}class pk extends e2{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),i=this._adapter=new uMe._date(e.adapters.date);i.init(r),bS(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:ZV(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:i,max:s,minDefined:a,maxDefined:o}=this.getUserBounds();function l(u){!a&&!isNaN(u.min)&&(i=Math.min(i,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!o)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=el(i)&&!isNaN(i)?i:+r.startOf(Date.now(),n),s=el(s)&&!isNaN(s)?s:+r.endOf(Date.now(),n)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,a=this.max,o=k3e(i,s,a);return this._unit=r.unit||(n.autoSkip?eG(r.minUnit,this.min,this.max,this._getLabelCapacity(s)):cIe(this,o.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:uIe(this._unit),this.initOffsets(i),e.reverse&&o.reverse(),rG(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,i,s;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?r=1-i:r=(this.getDecimalForValue(e[1])-i)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;r=zl(r,0,a),n=zl(n,0,a),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,i=this.options,s=i.time,a=s.unit||eG(s.minUnit,r,n,this._getLabelCapacity(r)),o=Br(i.ticks.stepSize,1),l=a==="week"?s.isoWeekday:!1,u=TA(l)||l===!0,d={};let h=r,f,p;if(u&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,u?"day":a),e.diff(n,r,a)>1e5*o)throw new Error(r+" and "+n+" are too far apart with stepSize of "+o+" "+a);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+e.add(f,o,a),p++)tG(d,f,g);return(f===n||i.bounds==="ticks"||p===1)&&tG(d,f,g),Object.keys(d).sort(JV).map(m=>+m)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const i=this.options.time.displayFormats,s=this._unit,a=r||i[s];return this._adapter.format(e,a)}_tickFormatFunction(e,r,n,i){const s=this.options,a=s.ticks.callback;if(a)return zn(a,[e,r,n],this);const o=s.time.displayFormats,l=this._unit,u=this._majorUnit,d=l&&o[l],h=u&&o[u],f=n[r],p=u&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:d))}generateTickLabels(e){let r,n,i;for(r=0,n=e.length;r<n;++r)i=e[r],i.label=this._tickFormatFunction(i.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,i=Cm(this.isHorizontal()?r.maxRotation:r.minRotation),s=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*a,h:n*a+o*s}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,i=n[r.unit]||n.millisecond,s=this._tickFormatFunction(e,0,rG(this,[e],this._majorUnit),i),a=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(r=0,n=i.length;r<n;++r)e=e.concat(i[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const i=this.getLabels();for(r=0,n=i.length;r<n;++r)e.push(ZV(this,i[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Ule(e.sort(JV))}}dt(pk,"id","time"),dt(pk,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function EC(t,e,r){let n=0,i=t.length-1,s,a,o,l;r?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=yg(t,"pos",e)),{pos:s,time:o}=t[n],{pos:a,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=yg(t,"time",e)),{time:s,pos:o}=t[n],{time:a,pos:l}=t[i]);const u=a-s;return u?o+(l-o)*(e-s)/u:o}class nG extends pk{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=EC(r,this.min),this._tableRange=EC(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,i=[],s=[];let a,o,l,u,d;for(a=0,o=e.length;a<o;++a)u=e[a],u>=r&&u<=n&&i.push(u);if(i.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)d=i[a+1],l=i[a-1],u=i[a],Math.round((d+l)/2)!==u&&s.push({time:u,pos:a/(o-1)});return s}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((i,s)=>i-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(EC(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return EC(this._table,n*this._tableRange+this._minPos,!0)}}dt(nG,"id","timeseries"),dt(nG,"defaults",pk.defaults);const jce="label";function iG(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function hIe(t,e){const r=t.options;r&&e&&Object.assign(r,e)}function Nce(t,e){t.labels=e}function Ece(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:jce;const n=[];t.datasets=e.map(i=>{const s=t.datasets.find(a=>a[r]===i[r]);return!s||!i.data||n.includes(s)?{...i}:(n.push(s),Object.assign(s,i),s)})}function fIe(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jce;const r={labels:[],datasets:[]};return Nce(r,t.labels),Ece(r,t.datasets,e),r}function pIe(t,e){const{height:r=150,width:n=300,redraw:i=!1,datasetIdKey:s,type:a,data:o,options:l,plugins:u=[],fallbackContent:d,updateMode:h,...f}=t,p=j.useRef(null),g=j.useRef(null),m=()=>{p.current&&(g.current=new PN(p.current,{type:a,data:fIe(o,s),options:l&&{...l},plugins:u}),iG(e,g.current))},v=()=>{iG(e,null),g.current&&(g.current.destroy(),g.current=null)};return j.useEffect(()=>{!i&&g.current&&l&&hIe(g.current,l)},[i,l]),j.useEffect(()=>{!i&&g.current&&Nce(g.current.config.data,o.labels)},[i,o.labels]),j.useEffect(()=>{!i&&g.current&&o.datasets&&Ece(g.current.config.data,o.datasets,s)},[i,o.datasets]),j.useEffect(()=>{g.current&&(i?(v(),setTimeout(m)):g.current.update(h))},[i,l,o.labels,o.datasets,h]),j.useEffect(()=>{g.current&&(v(),setTimeout(m))},[a]),j.useEffect(()=>(m(),()=>v()),[]),ue.createElement("canvas",{ref:p,role:"img",height:r,width:n,...f},d)}const mIe=j.forwardRef(pIe);function Cce(t,e){return PN.register(e),j.forwardRef((r,n)=>ue.createElement(mIe,{...r,ref:n,type:t}))}const gIe=Cce("line",ZT),sG=Cce("bar",JT);PN.register(hk,fk,AS,Hy,jS,wce,Sce,yce);const vIe=()=>{const[t,e]=j.useState([]),[r,n]=j.useState("all"),[i,s]=j.useState("30"),[a,o]=j.useState(!0),{profile:l}=is(),{toast:u}=Kr();j.useEffect(()=>{d()},[i,r]);const d=async()=>{try{o(!0);let v=je.from("paper_attempts").select(`
          *,
          question_papers!inner(
            title,
            user_id,
            total_questions
          )
        `).gte("started_at",new Date(Date.now()-parseInt(i)*24*60*60*1e3).toISOString());(l==null?void 0:l.role)==="parent"?v=v.eq("question_papers.user_id",l.user_id):(l==null?void 0:l.role)==="child"&&(v=v.eq("user_id",l.user_id)),r!=="all"&&(v=v.eq("user_id",r));const{data:x,error:y}=await v;if(y)throw y;const w=[...new Set((x==null?void 0:x.map(P=>P.user_id))||[])],{data:_,error:A}=await je.from("profiles").select("user_id, full_name").in("user_id",w);if(A)throw A;const C=(_==null?void 0:_.reduce((P,L)=>(P[L.user_id]=L,P),{}))||{},N=new Map;x==null||x.forEach(P=>{var D,F;const L=P.user_id,O=((D=C[L])==null?void 0:D.full_name)||"Unknown Student";N.has(L)||N.set(L,{student_id:L,student_name:O,total_tests:0,completed_tests:0,average_score:0,improvement_trend:0,recent_tests:[]});const k=N.get(L);k.total_tests++,P.completed_at&&(k.completed_tests++,k.recent_tests.push({test_title:((F=P.question_papers)==null?void 0:F.title)||"Unknown Test",score:P.score||0,completed_at:P.completed_at,total_questions:P.total_questions||0}))});const E=Array.from(N.values()).map(P=>{const L=P.recent_tests.map(O=>O.score);if(P.average_score=L.length>0?L.reduce((O,k)=>O+k,0)/L.length:0,L.length>=2){const O=L.slice(0,Math.floor(L.length/2)),k=L.slice(Math.floor(L.length/2)),D=O.reduce((z,U)=>z+U,0)/O.length,F=k.reduce((z,U)=>z+U,0)/k.length;P.improvement_trend=F-D}return P});e(E)}catch{u({title:"Error",description:"Failed to fetch progress data",variant:"destructive"})}finally{o(!1)}},h=async()=>{if((l==null?void 0:l.role)!=="parent")return[];const{data:v,error:x}=await je.from("parent_child_relationships").select("child_id").eq("parent_id",l.user_id);if(x||!v)return[];const y=v.map(A=>A.child_id),{data:w,error:_}=await je.from("profiles").select("user_id, full_name").in("user_id",y);return(w==null?void 0:w.map(A=>({child_id:A.user_id,profiles:A})))||[]},[f,p]=j.useState([]);j.useEffect(()=>{(l==null?void 0:l.role)==="parent"&&h().then(p)},[l]);const g={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Score Trends Over Time"}},scales:{y:{beginAtZero:!0,max:100}}},m=()=>{if(r==="all"){const v=[...new Set(t.flatMap(x=>x.recent_tests.map(y=>y.completed_at.split("T")[0])))].sort();return{labels:v,datasets:[{label:"Average Score",data:v.map(x=>{const y=t.flatMap(w=>w.recent_tests.filter(_=>_.completed_at.startsWith(x)));return y.length>0?y.reduce((w,_)=>w+_.score,0)/y.length:null}),borderColor:"hsl(var(--primary))",backgroundColor:"hsl(var(--primary) / 0.1)",tension:.1}]}}else{const v=t.find(x=>x.student_id===r);return v?{labels:v.recent_tests.map(x=>x.test_title),datasets:[{label:"Score",data:v.recent_tests.map(x=>x.score),borderColor:"hsl(var(--primary))",backgroundColor:"hsl(var(--primary) / 0.1)",tension:.1}]}:{labels:[],datasets:[]}}};return a?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((v,x)=>c.jsxs(Oe,{className:"animate-pulse",children:[c.jsxs(tt,{className:"space-y-2",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"h-20 bg-muted rounded"})})]},x))}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs(Ur,{value:i,onValueChange:s,children:[c.jsx(Rr,{className:"w-full sm:w-48",children:c.jsx(zr,{placeholder:"Select timeframe"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"7",children:"Last 7 days"}),c.jsx(pt,{value:"30",children:"Last 30 days"}),c.jsx(pt,{value:"90",children:"Last 3 months"}),c.jsx(pt,{value:"365",children:"Last year"})]})]}),(l==null?void 0:l.role)==="parent"&&c.jsxs(Ur,{value:r,onValueChange:n,children:[c.jsx(Rr,{className:"w-full sm:w-48",children:c.jsx(zr,{placeholder:"Select student"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"All Students"}),f.map(v=>{var x;return c.jsx(pt,{value:v.child_id,children:((x=v.profiles)==null?void 0:x.full_name)||"Unknown"},v.child_id)})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Total Students"}),c.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"text-2xl font-bold",children:t.length})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Avg Completion Rate"}),c.jsx(iN,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Ie,{children:c.jsxs("div",{className:"text-2xl font-bold",children:[t.length>0?Math.round(t.reduce((v,x)=>v+(x.total_tests>0?x.completed_tests/x.total_tests:0),0)/t.length*100):0,"%"]})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Average Score"}),c.jsx(b3,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Ie,{children:c.jsxs("div",{className:"text-2xl font-bold",children:[t.length>0?Math.round(t.reduce((v,x)=>v+x.average_score,0)/t.length):0,"%"]})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Total Tests"}),c.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"text-2xl font-bold",children:t.reduce((v,x)=>v+x.total_tests,0)})})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Performance Trends"}),c.jsx(Xt,{children:"Score trends over the selected time period"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"h-80",children:c.jsx(gIe,{data:m(),options:g})})})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(v=>c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{className:"text-lg",children:v.student_name}),c.jsxs(Xt,{children:[v.completed_tests,"/",v.total_tests," tests completed"]})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Completion Rate"}),c.jsxs("span",{children:[v.total_tests>0?Math.round(v.completed_tests/v.total_tests*100):0,"%"]})]}),c.jsx(Rc,{value:v.total_tests>0?v.completed_tests/v.total_tests*100:0})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm font-medium",children:"Average Score"}),c.jsxs(Pt,{variant:v.average_score>=70?"default":"secondary",children:[Math.round(v.average_score),"%"]})]}),v.improvement_trend!==0&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(zc,{className:`w-4 h-4 ${v.improvement_trend>0?"text-success":"text-destructive"}`}),c.jsxs("span",{className:`text-sm ${v.improvement_trend>0?"text-success":"text-destructive"}`,children:[v.improvement_trend>0?"+":"",Math.round(v.improvement_trend),"% trend"]})]})]})]},v.student_id))})]})};function bn(t){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bn(t)}var Ra=Uint8Array,ql=Uint16Array,j9=Int32Array,jO=new Ra([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),NO=new Ra([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$F=new Ra([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tce=function(t,e){for(var r=new ql(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new j9(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},Pce=Tce(jO,2),kce=Pce.b,BF=Pce.r;kce[28]=258,BF[258]=28;var Oce=Tce(NO,0),xIe=Oce.b,aG=Oce.r,UF=new ql(32768);for(var ei=0;ei<32768;++ei){var Np=(ei&43690)>>1|(ei&21845)<<1;Np=(Np&52428)>>2|(Np&13107)<<2,Np=(Np&61680)>>4|(Np&3855)<<4,UF[ei]=((Np&65280)>>8|(Np&255)<<8)>>1}var Xd=function(t,e,r){for(var n=t.length,i=0,s=new ql(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new ql(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new ql(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],d=e-t[i],h=a[t[i]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)o[UF[h]>>l]=u}else for(o=new ql(n),i=0;i<n;++i)t[i]&&(o[i]=UF[a[t[i]-1]++]>>15-t[i]);return o},a0=new Ra(288);for(var ei=0;ei<144;++ei)a0[ei]=8;for(var ei=144;ei<256;++ei)a0[ei]=9;for(var ei=256;ei<280;++ei)a0[ei]=7;for(var ei=280;ei<288;++ei)a0[ei]=8;var OA=new Ra(32);for(var ei=0;ei<32;++ei)OA[ei]=5;var yIe=Xd(a0,9,0),bIe=Xd(a0,9,1),wIe=Xd(OA,5,0),_Ie=Xd(OA,5,1),II=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},ru=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},RI=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},N9=function(t){return(t+7)/8|0},Mce=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Ra(t.subarray(e,r))},SIe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],fu=function(t,e,r){var n=new Error(e||SIe[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,fu),!r)throw n;return n},AIe=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Ra(0);var a=!r,o=a||e.i!=2,l=e.i;a&&(r=new Ra(i*3));var u=function(Se){var we=r.length;if(Se>we){var We=new Ra(Math.max(we*2,Se));We.set(r),r=We}},d=e.f||0,h=e.p||0,f=e.b||0,p=e.l,g=e.d,m=e.m,v=e.n,x=i*8;do{if(!p){d=ru(t,h,1);var y=ru(t,h+1,3);if(h+=3,y)if(y==1)p=bIe,g=_Ie,m=9,v=5;else if(y==2){var C=ru(t,h,31)+257,N=ru(t,h+10,15)+4,E=C+ru(t,h+5,31)+1;h+=14;for(var P=new Ra(E),L=new Ra(19),O=0;O<N;++O)L[$F[O]]=ru(t,h+O*3,7);h+=N*3;for(var k=II(L),D=(1<<k)-1,F=Xd(L,k,1),O=0;O<E;){var z=F[ru(t,h,D)];h+=z&15;var w=z>>4;if(w<16)P[O++]=w;else{var U=0,H=0;for(w==16?(H=3+ru(t,h,3),h+=2,U=P[O-1]):w==17?(H=3+ru(t,h,7),h+=3):w==18&&(H=11+ru(t,h,127),h+=7);H--;)P[O++]=U}}var B=P.subarray(0,C),X=P.subarray(C);m=II(B),v=II(X),p=Xd(B,m,1),g=Xd(X,v,1)}else fu(1);else{var w=N9(h)+4,_=t[w-4]|t[w-3]<<8,A=w+_;if(A>i){l&&fu(0);break}o&&u(f+_),r.set(t.subarray(w,A),f),e.b=f+=_,e.p=h=A*8,e.f=d;continue}if(h>x){l&&fu(0);break}}o&&u(f+131072);for(var ne=(1<<m)-1,fe=(1<<v)-1,I=h;;I=h){var U=p[RI(t,h)&ne],q=U>>4;if(h+=U&15,h>x){l&&fu(0);break}if(U||fu(2),q<256)r[f++]=q;else if(q==256){I=h,p=null;break}else{var V=q-254;if(q>264){var O=q-257,K=jO[O];V=ru(t,h,(1<<K)-1)+kce[O],h+=K}var Y=g[RI(t,h)&fe],ae=Y>>4;Y||fu(3),h+=Y&15;var X=xIe[ae];if(ae>3){var K=NO[ae];X+=RI(t,h)&(1<<K)-1,h+=K}if(h>x){l&&fu(0);break}o&&u(f+131072);var pe=f+V;if(f<X){var le=s-X,ye=Math.min(X,pe);for(le+f<0&&fu(3);f<ye;++f)r[f]=n[le+f]}for(;f<pe;++f)r[f]=r[f-X]}}e.l=p,e.p=I,e.b=f,e.f=d,p&&(d=1,e.m=m,e.d=g,e.n=v)}while(!d);return f!=r.length&&a?Mce(r,0,f):r.subarray(0,f)},Ph=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},v_=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},DI=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:Ice,l:0};if(i==1){var a=new Ra(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(A,C){return A.f-C.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,d=1,h=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=i-1;)o=r[r[u].f<r[h].f?u++:h++],l=r[u!=d&&r[u].f<r[h].f?u++:h++],r[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=s[0].s,n=1;n<i;++n)s[n].s>f&&(f=s[n].s);var p=new ql(f+1),g=zF(r[d-1],p,0);if(g>e){var n=0,m=0,v=g-e,x=1<<v;for(s.sort(function(C,N){return p[N.s]-p[C.s]||C.f-N.f});n<i;++n){var y=s[n].s;if(p[y]>e)m+=x-(1<<g-p[y]),p[y]=e;else break}for(m>>=v;m>0;){var w=s[n].s;p[w]<e?m-=1<<e-p[w]++-1:++n}for(;n>=0&&m;--n){var _=s[n].s;p[_]==e&&(--p[_],++m)}g=e}return{t:new Ra(p),l:g}},zF=function(t,e,r){return t.s==-1?Math.max(zF(t.l,e,r+1),zF(t.r,e,r+1)):e[t.s]=r},oG=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ql(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},x_=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Lce=function(t,e,r){var n=r.length,i=N9(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},lG=function(t,e,r,n,i,s,a,o,l,u,d){Ph(e,d++,r),++i[256];for(var h=DI(i,15),f=h.t,p=h.l,g=DI(s,15),m=g.t,v=g.l,x=oG(f),y=x.c,w=x.n,_=oG(m),A=_.c,C=_.n,N=new ql(19),E=0;E<y.length;++E)++N[y[E]&31];for(var E=0;E<A.length;++E)++N[A[E]&31];for(var P=DI(N,7),L=P.t,O=P.l,k=19;k>4&&!L[$F[k-1]];--k);var D=u+5<<3,F=x_(i,a0)+x_(s,OA)+a,z=x_(i,f)+x_(s,m)+a+14+3*k+x_(N,L)+2*N[16]+3*N[17]+7*N[18];if(l>=0&&D<=F&&D<=z)return Lce(e,d,t.subarray(l,l+u));var U,H,B,X;if(Ph(e,d,1+(z<F)),d+=2,z<F){U=Xd(f,p,0),H=f,B=Xd(m,v,0),X=m;var ne=Xd(L,O,0);Ph(e,d,w-257),Ph(e,d+5,C-1),Ph(e,d+10,k-4),d+=14;for(var E=0;E<k;++E)Ph(e,d+3*E,L[$F[E]]);d+=3*k;for(var fe=[y,A],I=0;I<2;++I)for(var q=fe[I],E=0;E<q.length;++E){var V=q[E]&31;Ph(e,d,ne[V]),d+=L[V],V>15&&(Ph(e,d,q[E]>>5&127),d+=q[E]>>12)}}else U=yIe,H=a0,B=wIe,X=OA;for(var E=0;E<o;++E){var K=n[E];if(K>255){var V=K>>18&31;v_(e,d,U[V+257]),d+=H[V+257],V>7&&(Ph(e,d,K>>23&31),d+=jO[V]);var Y=K&31;v_(e,d,B[Y]),d+=X[Y],Y>3&&(v_(e,d,K>>5&8191),d+=NO[Y])}else v_(e,d,U[K]),d+=H[K]}return v_(e,d,U[256]),d+H[256]},jIe=new j9([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Ice=new Ra(0),NIe=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ra(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,d=(s.r||0)&7;if(e){d&&(l[0]=s.r>>3);for(var h=jIe[e-1],f=h>>13,p=h&8191,g=(1<<r)-1,m=s.p||new ql(32768),v=s.h||new ql(g+1),x=Math.ceil(r/3),y=2*x,w=function(Ve){return(t[Ve]^t[Ve+1]<<x^t[Ve+2]<<y)&g},_=new j9(25e3),A=new ql(288),C=new ql(32),N=0,E=0,P=s.i||0,L=0,O=s.w||0,k=0;P+2<a;++P){var D=w(P),F=P&32767,z=v[D];if(m[F]=z,v[D]=F,O<=P){var U=a-P;if((N>7e3||L>24576)&&(U>423||!u)){d=lG(t,l,0,_,A,C,E,L,k,P-k,d),L=N=E=0,k=P;for(var H=0;H<286;++H)A[H]=0;for(var H=0;H<30;++H)C[H]=0}var B=2,X=0,ne=p,fe=F-z&32767;if(U>2&&D==w(P-fe))for(var I=Math.min(f,U)-1,q=Math.min(32767,P),V=Math.min(258,U);fe<=q&&--ne&&F!=z;){if(t[P+B]==t[P+B-fe]){for(var K=0;K<V&&t[P+K]==t[P+K-fe];++K);if(K>B){if(B=K,X=fe,K>I)break;for(var Y=Math.min(fe,K-2),ae=0,H=0;H<Y;++H){var pe=P-fe+H&32767,le=m[pe],ye=pe-le&32767;ye>ae&&(ae=ye,z=pe)}}}F=z,z=m[F],fe+=F-z&32767}if(X){_[L++]=268435456|BF[B]<<18|aG[X];var Se=BF[B]&31,we=aG[X]&31;E+=jO[Se]+NO[we],++A[257+Se],++C[we],O=P+B,++N}else _[L++]=t[P],++A[t[P]]}}for(P=Math.max(P,O);P<a;++P)_[L++]=t[P],++A[t[P]];d=lG(t,l,u,_,A,C,E,L,k,P-k,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=v,s.p=m,s.i=P,s.w=O)}else{for(var P=s.w||0;P<a+u;P+=65535){var We=P+65535;We>=a&&(l[d/8|0]=u,We=a),d=Lce(l,d+1,t.subarray(P,We))}s.i=a}return Mce(o,0,n+N9(d)+i)},Rce=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},EIe=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ra(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return NIe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},Dce=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},CIe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Rce();i.p(e.dictionary),Dce(t,2,i.d())}},TIe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&fu(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&fu(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function qF(t,e){e||(e={});var r=Rce();r.p(t);var n=EIe(t,e,e.dictionary?6:2,4);return CIe(n,e),Dce(n,n.length-4,r.d()),n}function PIe(t,e){return AIe(t.subarray(TIe(t,e),-4),{i:2},e,e)}var kIe=typeof TextDecoder<"u"&&new TextDecoder,OIe=0;try{kIe.decode(Ice,{stream:!0}),OIe=1}catch{}var sr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function FI(){sr.console&&typeof sr.console.log=="function"&&sr.console.log.apply(sr.console,arguments)}var On={log:FI,warn:function(t){sr.console&&(typeof sr.console.warn=="function"?sr.console.warn.apply(sr.console,arguments):FI.call(null,arguments))},error:function(t){sr.console&&(typeof sr.console.error=="function"?sr.console.error.apply(sr.console,arguments):FI(t))}};function $I(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ng(n.response,e,r)},n.onerror=function(){On.error("could not download file")},n.send()}function cG(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function CC(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var NS,WF,ng=sr.saveAs||((typeof window>"u"?"undefined":bn(window))!=="object"||window!==sr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=sr.URL||sr.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?cG(i.href)?$I(t,e,r):CC(i,i.target="_blank"):CC(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){CC(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(cG(t))$I(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){CC(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:bn(s)!=="object"&&(On.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return $I(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(sr.HTMLElement)||sr.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":bn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=a?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},o.readAsDataURL(t)}else{var l=sr.URL||sr.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Fce(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function BI(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=ga(r,n,i,s,e[0],7,-680876936),s=ga(s,r,n,i,e[1],12,-389564586),i=ga(i,s,r,n,e[2],17,606105819),n=ga(n,i,s,r,e[3],22,-1044525330),r=ga(r,n,i,s,e[4],7,-176418897),s=ga(s,r,n,i,e[5],12,1200080426),i=ga(i,s,r,n,e[6],17,-1473231341),n=ga(n,i,s,r,e[7],22,-45705983),r=ga(r,n,i,s,e[8],7,1770035416),s=ga(s,r,n,i,e[9],12,-1958414417),i=ga(i,s,r,n,e[10],17,-42063),n=ga(n,i,s,r,e[11],22,-1990404162),r=ga(r,n,i,s,e[12],7,1804603682),s=ga(s,r,n,i,e[13],12,-40341101),i=ga(i,s,r,n,e[14],17,-1502002290),r=va(r,n=ga(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=va(s,r,n,i,e[6],9,-1069501632),i=va(i,s,r,n,e[11],14,643717713),n=va(n,i,s,r,e[0],20,-373897302),r=va(r,n,i,s,e[5],5,-701558691),s=va(s,r,n,i,e[10],9,38016083),i=va(i,s,r,n,e[15],14,-660478335),n=va(n,i,s,r,e[4],20,-405537848),r=va(r,n,i,s,e[9],5,568446438),s=va(s,r,n,i,e[14],9,-1019803690),i=va(i,s,r,n,e[3],14,-187363961),n=va(n,i,s,r,e[8],20,1163531501),r=va(r,n,i,s,e[13],5,-1444681467),s=va(s,r,n,i,e[2],9,-51403784),i=va(i,s,r,n,e[7],14,1735328473),r=xa(r,n=va(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=xa(s,r,n,i,e[8],11,-2022574463),i=xa(i,s,r,n,e[11],16,1839030562),n=xa(n,i,s,r,e[14],23,-35309556),r=xa(r,n,i,s,e[1],4,-1530992060),s=xa(s,r,n,i,e[4],11,1272893353),i=xa(i,s,r,n,e[7],16,-155497632),n=xa(n,i,s,r,e[10],23,-1094730640),r=xa(r,n,i,s,e[13],4,681279174),s=xa(s,r,n,i,e[0],11,-358537222),i=xa(i,s,r,n,e[3],16,-722521979),n=xa(n,i,s,r,e[6],23,76029189),r=xa(r,n,i,s,e[9],4,-640364487),s=xa(s,r,n,i,e[12],11,-421815835),i=xa(i,s,r,n,e[15],16,530742520),r=ya(r,n=xa(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ya(s,r,n,i,e[7],10,1126891415),i=ya(i,s,r,n,e[14],15,-1416354905),n=ya(n,i,s,r,e[5],21,-57434055),r=ya(r,n,i,s,e[12],6,1700485571),s=ya(s,r,n,i,e[3],10,-1894986606),i=ya(i,s,r,n,e[10],15,-1051523),n=ya(n,i,s,r,e[1],21,-2054922799),r=ya(r,n,i,s,e[8],6,1873313359),s=ya(s,r,n,i,e[15],10,-30611744),i=ya(i,s,r,n,e[6],15,-1560198380),n=ya(n,i,s,r,e[13],21,1309151649),r=ya(r,n,i,s,e[4],6,-145523070),s=ya(s,r,n,i,e[11],10,-1120210379),i=ya(i,s,r,n,e[2],15,718787259),n=ya(n,i,s,r,e[9],21,-343485551),t[0]=Pm(r,t[0]),t[1]=Pm(n,t[1]),t[2]=Pm(i,t[2]),t[3]=Pm(s,t[3])}function EO(t,e,r,n,i,s){return e=Pm(Pm(e,t),Pm(n,s)),Pm(e<<i|e>>>32-i,r)}function ga(t,e,r,n,i,s,a){return EO(e&r|~e&n,t,e,i,s,a)}function va(t,e,r,n,i,s,a){return EO(e&n|r&~n,t,e,i,s,a)}function xa(t,e,r,n,i,s,a){return EO(e^r^n,t,e,i,s,a)}function ya(t,e,r,n,i,s,a){return EO(r^(e|~n),t,e,i,s,a)}function $ce(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)BI(n,MIe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(BI(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,BI(n,i),n}function MIe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}NS=sr.atob.bind(sr),WF=sr.btoa.bind(sr);var uG="0123456789abcdef".split("");function LIe(t){for(var e="",r=0;r<4;r++)e+=uG[t>>8*r+4&15]+uG[t>>8*r&15];return e}function IIe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function HF(t){return $ce(t).map(IIe).join("")}var RIe=function(t){for(var e=0;e<t.length;e++)t[e]=LIe(t[e]);return t.join("")}($ce("hello"))!="5d41402abc4b2a76b9719d911017c592";function Pm(t,e){if(RIe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function VF(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+a.charCodeAt(l))%256,o[l]=o[u],o[u]=d}r=t,n=o}else o=n;var h=e.length,f=0,p=0,g="";for(l=0;l<h;l++)p=(p+(d=o[f=(f+1)%256]))%256,o[f]=o[p],o[p]=d,a=o[(o[f]+o[p])%256],g+=String.fromCharCode(e.charCodeAt(l)^a);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dG={print:4,modify:8,copy:16,"annot-forms":32};function Cy(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(dG.perm!==void 0)throw new Error("Invalid permission: "+o);i+=dG[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=HF(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=VF(this.encryptionKey,this.padding)}function Ty(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function hG(t){if(bn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){sr.console&&On.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function mk(t){if(!(this instanceof mk))return new mk(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function Bce(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function lg(t,e,r,n,i){if(!(this instanceof lg))return new lg(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,Bce.call(this,n,i)}function Vy(t,e,r,n,i){if(!(this instanceof Vy))return new Vy(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,Bce.call(this,n,i)}function ir(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",d=null;bn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=hG;var g="1.3",m=p.__private__.getPdfVersion=function(){return g};p.__private__.setPdfVersion=function(M){g=M};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var x=p.__private__.getPageFormat=function(M){return v[M]};i=i||"a4";var y={COMPAT:"compat",ADVANCED:"advanced"},w=y.COMPAT;function _(){this.saveGraphicsState(),Q(new er(Xe,0,0,-Xe,0,cp()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),u="n",w=y.ADVANCED}function A(){this.restoreGraphicsState(),u="S",w=y.COMPAT}var C=p.__private__.combineFontStyleAndFontWeight=function(M,Z){if(M=="bold"&&Z=="normal"||M=="bold"&&Z==400||M=="normal"&&Z=="italic"||M=="bold"&&Z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Z&&(M=Z==400||Z==="normal"?M==="italic"?"italic":"normal":Z!=700&&Z!=="bold"||M!=="normal"?(Z==700?"bold":Z)+""+M:"bold"),M};p.advancedAPI=function(M){var Z=w===y.COMPAT;return Z&&_.call(this),typeof M!="function"||(M(this),Z&&A.call(this)),this},p.compatAPI=function(M){var Z=w===y.ADVANCED;return Z&&A.call(this),typeof M!="function"||(M(this),Z&&_.call(this)),this},p.isAdvancedAPI=function(){return w===y.ADVANCED};var N,E=function(M){if(w!==y.ADVANCED)throw new Error(M+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=p.roundToPrecision=p.__private__.roundToPrecision=function(M,Z){var be=e||Z;if(isNaN(M)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(be).replace(/0+$/,"")};N=p.hpf=p.__private__.hpf=typeof l=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return P(M,l)}:l==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return P(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return P(M,16)};var L=p.f2=p.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return P(M,2)},O=p.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return P(M,3)},k=p.scale=p.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return w===y.COMPAT?M*Xe:w===y.ADVANCED?M:void 0},D=function(M){return w===y.COMPAT?cp()-M:w===y.ADVANCED?M:void 0},F=function(M){return k(D(M))};p.__private__.setPrecision=p.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(e=parseInt(M,10))};var z,U="00000000000000000000000000000000",H=p.__private__.getFileId=function(){return U},B=p.__private__.setFileId=function(M){return U=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():U.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(ha=new Cy(d.userPermissions,d.userPassword,d.ownerPassword,U)),U};p.setFileId=function(M){return B(M),this},p.getFileId=function(){return H()};var X=p.__private__.convertDateToPDFDate=function(M){var Z=M.getTimezoneOffset(),be=Z<0?"+":"-",Ae=Math.floor(Math.abs(Z/60)),Me=Math.abs(Z%60),Qe=[be,V(Ae),"'",V(Me),"'"].join("");return["D:",M.getFullYear(),V(M.getMonth()+1),V(M.getDate()),V(M.getHours()),V(M.getMinutes()),V(M.getSeconds()),Qe].join("")},ne=p.__private__.convertPDFDateToDate=function(M){var Z=parseInt(M.substr(2,4),10),be=parseInt(M.substr(6,2),10)-1,Ae=parseInt(M.substr(8,2),10),Me=parseInt(M.substr(10,2),10),Qe=parseInt(M.substr(12,2),10),ut=parseInt(M.substr(14,2),10);return new Date(Z,be,Ae,Me,Qe,ut,0)},fe=p.__private__.setCreationDate=function(M){var Z;if(M===void 0&&(M=new Date),M instanceof Date)Z=X(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Z=M}return z=Z},I=p.__private__.getCreationDate=function(M){var Z=z;return M==="jsDate"&&(Z=ne(z)),Z};p.setCreationDate=function(M){return fe(M),this},p.getCreationDate=function(M){return I(M)};var q,V=p.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},K=p.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},Y=0,ae=[],pe=[],le=0,ye=[],Se=[],we=!1,We=pe,Ve=function(){Y=0,le=0,pe=[],ae=[],ye=[],de=xi(),he=xi()};p.__private__.setCustomOutputDestination=function(M){we=!0,We=M};var ke=function(M){we||(We=M)};p.__private__.resetCustomOutputDestination=function(){we=!1,We=pe};var Q=p.__private__.out=function(M){return M=M.toString(),le+=M.length+1,We.push(M),We},_e=p.__private__.write=function(M){return Q(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Ue=p.__private__.getArrayBuffer=function(M){for(var Z=M.length,be=new ArrayBuffer(Z),Ae=new Uint8Array(be);Z--;)Ae[Z]=M.charCodeAt(Z);return be},Te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Te};var qe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(M){return qe=w===y.ADVANCED?M/Xe:M,this};var rt,ct=p.__private__.getFontSize=p.getFontSize=function(){return w===y.COMPAT?qe:qe*Xe},$e=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(M){return $e=M,this},p.__private__.getR2L=p.getR2L=function(){return $e};var At,Rt=p.__private__.setZoomMode=function(M){var Z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))rt=M;else if(isNaN(M)){if(Z.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');rt=M}else rt=parseInt(M,10)};p.__private__.getZoomMode=function(){return rt};var Yt,ar=p.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');At=M};p.__private__.getPageMode=function(){return At};var or=p.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');Yt=M};p.__private__.getLayoutMode=function(){return Yt},p.__private__.setDisplayMode=p.setDisplayMode=function(M,Z,be){return Rt(M),or(Z),ar(be),this};var Ht={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(M){if(Object.keys(Ht).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ht[M]},p.__private__.getDocumentProperties=function(){return Ht},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(M){for(var Z in Ht)Ht.hasOwnProperty(Z)&&M[Z]&&(Ht[Z]=M[Z]);return this},p.__private__.setDocumentProperty=function(M,Z){if(Object.keys(Ht).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ht[M]=Z};var et,Xe,Lt,Ot,hr,vr={},lr={},Gn=[],xt={},Jt={},Zt={},Rn={},Kn=null,Zr=0,cr=[],en=new hG(p),gh=t.hotfixes||[],as={},tc={},rc=[],er=function M(Z,be,Ae,Me,Qe,ut){if(!(this instanceof M))return new M(Z,be,Ae,Me,Qe,ut);isNaN(Z)&&(Z=1),isNaN(be)&&(be=0),isNaN(Ae)&&(Ae=0),isNaN(Me)&&(Me=1),isNaN(Qe)&&(Qe=0),isNaN(ut)&&(ut=0),this._matrix=[Z,be,Ae,Me,Qe,ut]};Object.defineProperty(er.prototype,"sx",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(er.prototype,"shy",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(er.prototype,"shx",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(er.prototype,"sy",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(er.prototype,"tx",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(er.prototype,"ty",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(er.prototype,"a",{get:function(){return this._matrix[0]},set:function(M){this._matrix[0]=M}}),Object.defineProperty(er.prototype,"b",{get:function(){return this._matrix[1]},set:function(M){this._matrix[1]=M}}),Object.defineProperty(er.prototype,"c",{get:function(){return this._matrix[2]},set:function(M){this._matrix[2]=M}}),Object.defineProperty(er.prototype,"d",{get:function(){return this._matrix[3]},set:function(M){this._matrix[3]=M}}),Object.defineProperty(er.prototype,"e",{get:function(){return this._matrix[4]},set:function(M){this._matrix[4]=M}}),Object.defineProperty(er.prototype,"f",{get:function(){return this._matrix[5]},set:function(M){this._matrix[5]=M}}),Object.defineProperty(er.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(er.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(er.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(er.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),er.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(M)},er.prototype.multiply=function(M){var Z=M.sx*this.sx+M.shy*this.shx,be=M.sx*this.shy+M.shy*this.sy,Ae=M.shx*this.sx+M.sy*this.shx,Me=M.shx*this.shy+M.sy*this.sy,Qe=M.tx*this.sx+M.ty*this.shx+this.tx,ut=M.tx*this.shy+M.ty*this.sy+this.ty;return new er(Z,be,Ae,Me,Qe,ut)},er.prototype.decompose=function(){var M=this.sx,Z=this.shy,be=this.shx,Ae=this.sy,Me=this.tx,Qe=this.ty,ut=Math.sqrt(M*M+Z*Z),kt=(M/=ut)*be+(Z/=ut)*Ae;be-=M*kt,Ae-=Z*kt;var Qt=Math.sqrt(be*be+Ae*Ae);return kt/=Qt,M*(Ae/=Qt)<Z*(be/=Qt)&&(M=-M,Z=-Z,kt=-kt,ut=-ut),{scale:new er(ut,0,0,Qt,0,0),translate:new er(1,0,0,1,Me,Qe),rotate:new er(M,Z,-Z,M,0,0),skew:new er(1,0,kt,1,0,0)}},er.prototype.toString=function(M){return this.join(" ")},er.prototype.inversed=function(){var M=this.sx,Z=this.shy,be=this.shx,Ae=this.sy,Me=this.tx,Qe=this.ty,ut=1/(M*Ae-Z*be),kt=Ae*ut,Qt=-Z*ut,Sr=-be*ut,wr=M*ut;return new er(kt,Qt,Sr,wr,-kt*Me-Sr*Qe,-Qt*Me-wr*Qe)},er.prototype.applyToPoint=function(M){var Z=M.x*this.sx+M.y*this.shx+this.tx,be=M.x*this.shy+M.y*this.sy+this.ty;return new Rx(Z,be)},er.prototype.applyToRectangle=function(M){var Z=this.applyToPoint(M),be=this.applyToPoint(new Rx(M.x+M.w,M.y+M.h));return new T2(Z.x,Z.y,be.x-Z.x,be.y-Z.y)},er.prototype.clone=function(){var M=this.sx,Z=this.shy,be=this.shx,Ae=this.sy,Me=this.tx,Qe=this.ty;return new er(M,Z,be,Ae,Me,Qe)},p.Matrix=er;var sl=p.matrixMult=function(M,Z){return Z.multiply(M)},bo=new er(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=bo;var da=function(M,Z){if(!Jt[M]){var be=(Z instanceof lg?"Sh":"P")+(Object.keys(xt).length+1).toString(10);Z.id=be,Jt[M]=be,xt[be]=Z,en.publish("addPattern",Z)}};p.ShadingPattern=lg,p.TilingPattern=Vy,p.addShadingPattern=function(M,Z){return E("addShadingPattern()"),da(M,Z),this},p.beginTilingPattern=function(M){E("beginTilingPattern()"),lE(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},p.endTilingPattern=function(M,Z){E("endTilingPattern()"),Z.stream=Se[q].join(`
`),da(M,Z),en.publish("endTilingPattern",Z),rc.pop().restore()};var Ti=p.__private__.newObject=function(){var M=xi();return ie(M,!0),M},xi=p.__private__.newObjectDeferred=function(){return Y++,ae[Y]=function(){return le},Y},ie=function(M,Z){return Z=typeof Z=="boolean"&&Z,ae[M]=le,Z&&Q(M+" 0 obj"),M},ve=p.__private__.newAdditionalObject=function(){var M={objId:xi(),content:""};return ye.push(M),M},de=xi(),he=xi(),ge=p.__private__.decodeColorString=function(M){var Z=M.split(" ");if(Z.length!==2||Z[1]!=="g"&&Z[1]!=="G")Z.length===5&&(Z[4]==="k"||Z[4]==="K")&&(Z=[(1-Z[0])*(1-Z[3]),(1-Z[1])*(1-Z[3]),(1-Z[2])*(1-Z[3]),"r"]);else{var be=parseFloat(Z[0]);Z=[be,be,be,"r"]}for(var Ae="#",Me=0;Me<3;Me++)Ae+=("0"+Math.floor(255*parseFloat(Z[Me])).toString(16)).slice(-2);return Ae},xe=p.__private__.encodeColorString=function(M){var Z;typeof M=="string"&&(M={ch1:M});var be=M.ch1,Ae=M.ch2,Me=M.ch3,Qe=M.ch4,ut=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var kt=new Fce(be);if(kt.ok)be=kt.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var Qt=parseInt(be.substr(1),16);be=Qt>>16&255,Ae=Qt>>8&255,Me=255&Qt}if(Ae===void 0||Qe===void 0&&be===Ae&&Ae===Me)if(typeof be=="string")Z=be+" "+ut[0];else switch(M.precision){case 2:Z=L(be/255)+" "+ut[0];break;case 3:default:Z=O(be/255)+" "+ut[0]}else if(Qe===void 0||bn(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return Z=["1.","1.","1.",ut[1]].join(" ");if(typeof be=="string")Z=[be,Ae,Me,ut[1]].join(" ");else switch(M.precision){case 2:Z=[L(be/255),L(Ae/255),L(Me/255),ut[1]].join(" ");break;default:case 3:Z=[O(be/255),O(Ae/255),O(Me/255),ut[1]].join(" ")}}else if(typeof be=="string")Z=[be,Ae,Me,Qe,ut[2]].join(" ");else switch(M.precision){case 2:Z=[L(be),L(Ae),L(Me),L(Qe),ut[2]].join(" ");break;case 3:default:Z=[O(be),O(Ae),O(Me),O(Qe),ut[2]].join(" ")}return Z},Re=p.__private__.getFilters=function(){return a},Ke=p.__private__.putStream=function(M){var Z=(M=M||{}).data||"",be=M.filters||Re(),Ae=M.alreadyAppliedFilters||[],Me=M.addLength1||!1,Qe=Z.length,ut=M.objectId,kt=function(fa){return fa};if(d!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(kt=ha.encryptor(ut,0));var Qt={};be===!0&&(be=["FlateEncode"]);var Sr=M.additionalKeyValues||[],wr=(Qt=ir.API.processDataByFilters!==void 0?ir.API.processDataByFilters(Z,be):{data:Z,reverseChain:[]}).reverseChain+(Array.isArray(Ae)?Ae.join(" "):Ae.toString());if(Qt.data.length!==0&&(Sr.push({key:"Length",value:Qt.data.length}),Me===!0&&Sr.push({key:"Length1",value:Qe})),wr.length!=0)if(wr.split("/").length-1==1)Sr.push({key:"Filter",value:wr});else{Sr.push({key:"Filter",value:"["+wr+"]"});for(var Gr=0;Gr<Sr.length;Gr+=1)if(Sr[Gr].key==="DecodeParms"){for(var ui=[],yi=0;yi<Qt.reverseChain.split("/").length-1;yi+=1)ui.push("null");ui.push(Sr[Gr].value),Sr[Gr].value="["+ui.join(" ")+"]"}}Q("<<");for(var Wi=0;Wi<Sr.length;Wi++)Q("/"+Sr[Wi].key+" "+Sr[Wi].value);Q(">>"),Qt.data.length!==0&&(Q("stream"),Q(kt(Qt.data)),Q("endstream"))},Le=p.__private__.putPage=function(M){var Z=M.number,be=M.data,Ae=M.objId,Me=M.contentsObjId;ie(Ae,!0),Q("<</Type /Page"),Q("/Parent "+M.rootDictionaryObjId+" 0 R"),Q("/Resources "+M.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(N(M.mediaBox.bottomLeftX))+" "+parseFloat(N(M.mediaBox.bottomLeftY))+" "+N(M.mediaBox.topRightX)+" "+N(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&Q("/CropBox ["+N(M.cropBox.bottomLeftX)+" "+N(M.cropBox.bottomLeftY)+" "+N(M.cropBox.topRightX)+" "+N(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&Q("/BleedBox ["+N(M.bleedBox.bottomLeftX)+" "+N(M.bleedBox.bottomLeftY)+" "+N(M.bleedBox.topRightX)+" "+N(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&Q("/TrimBox ["+N(M.trimBox.bottomLeftX)+" "+N(M.trimBox.bottomLeftY)+" "+N(M.trimBox.topRightX)+" "+N(M.trimBox.topRightY)+"]"),M.artBox!==null&&Q("/ArtBox ["+N(M.artBox.bottomLeftX)+" "+N(M.artBox.bottomLeftY)+" "+N(M.artBox.topRightX)+" "+N(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&Q("/UserUnit "+M.userUnit),en.publish("putPage",{objId:Ae,pageContext:cr[Z],pageNumber:Z,page:be}),Q("/Contents "+Me+" 0 R"),Q(">>"),Q("endobj");var Qe=be.join(`
`);return w===y.ADVANCED&&(Qe+=`
Q`),ie(Me,!0),Ke({data:Qe,filters:Re(),objectId:Me}),Q("endobj"),Ae},Be=p.__private__.putPages=function(){var M,Z,be=[];for(M=1;M<=Zr;M++)cr[M].objId=xi(),cr[M].contentsObjId=xi();for(M=1;M<=Zr;M++)be.push(Le({number:M,data:Se[M],objId:cr[M].objId,contentsObjId:cr[M].contentsObjId,mediaBox:cr[M].mediaBox,cropBox:cr[M].cropBox,bleedBox:cr[M].bleedBox,trimBox:cr[M].trimBox,artBox:cr[M].artBox,userUnit:cr[M].userUnit,rootDictionaryObjId:de,resourceDictionaryObjId:he}));ie(de,!0),Q("<</Type /Pages");var Ae="/Kids [";for(Z=0;Z<Zr;Z++)Ae+=be[Z]+" 0 R ";Q(Ae+"]"),Q("/Count "+Zr),Q(">>"),Q("endobj"),en.publish("postPutPages")},ze=function(M){en.publish("putFont",{font:M,out:Q,newObject:Ti,putStream:Ke}),M.isAlreadyPutted!==!0&&(M.objectNumber=Ti(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+Ty(M.postScriptName)),Q("/Subtype /Type1"),typeof M.encoding=="string"&&Q("/Encoding /"+M.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},ht=function(){for(var M in vr)vr.hasOwnProperty(M)&&(h===!1||h===!0&&f.hasOwnProperty(M))&&ze(vr[M])},bt=function(M){M.objectNumber=Ti();var Z=[];Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Form"}),Z.push({key:"BBox",value:"["+[N(M.x),N(M.y),N(M.x+M.width),N(M.y+M.height)].join(" ")+"]"}),Z.push({key:"Matrix",value:"["+M.matrix.toString()+"]"});var be=M.pages[1].join(`
`);Ke({data:be,additionalKeyValues:Z,objectId:M.objectNumber}),Q("endobj")},Tt=function(){for(var M in as)as.hasOwnProperty(M)&&bt(as[M])},vt=function(M,Z){var be,Ae=[],Me=1/(Z-1);for(be=0;be<1;be+=Me)Ae.push(be);if(Ae.push(1),M[0].offset!=0){var Qe={offset:0,color:M[0].color};M.unshift(Qe)}if(M[M.length-1].offset!=1){var ut={offset:1,color:M[M.length-1].color};M.push(ut)}for(var kt="",Qt=0,Sr=0;Sr<Ae.length;Sr++){for(be=Ae[Sr];be>M[Qt+1].offset;)Qt++;var wr=M[Qt].offset,Gr=(be-wr)/(M[Qt+1].offset-wr),ui=M[Qt].color,yi=M[Qt+1].color;kt+=K(Math.round((1-Gr)*ui[0]+Gr*yi[0]).toString(16))+K(Math.round((1-Gr)*ui[1]+Gr*yi[1]).toString(16))+K(Math.round((1-Gr)*ui[2]+Gr*yi[2]).toString(16))}return kt.trim()},Ct=function(M,Z){Z||(Z=21);var be=Ti(),Ae=vt(M.colors,Z),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+Z+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke({data:Ae,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),Q("endobj"),M.objectNumber=Ti(),Q("<< /ShadingType "+M.type),Q("/ColorSpace /DeviceRGB");var Qe="/Coords ["+N(parseFloat(M.coords[0]))+" "+N(parseFloat(M.coords[1]))+" ";M.type===2?Qe+=N(parseFloat(M.coords[2]))+" "+N(parseFloat(M.coords[3])):Qe+=N(parseFloat(M.coords[2]))+" "+N(parseFloat(M.coords[3]))+" "+N(parseFloat(M.coords[4]))+" "+N(parseFloat(M.coords[5])),Q(Qe+="]"),M.matrix&&Q("/Matrix ["+M.matrix.toString()+"]"),Q("/Function "+be+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},fr=function(M,Z){var be=xi(),Ae=Ti();Z.push({resourcesOid:be,objectOid:Ae}),M.objectNumber=Ae;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+M.boundingBox.map(N).join(" ")+"]"}),Me.push({key:"XStep",value:N(M.xStep)}),Me.push({key:"YStep",value:N(M.yStep)}),Me.push({key:"Resources",value:be+" 0 R"}),M.matrix&&Me.push({key:"Matrix",value:"["+M.matrix.toString()+"]"}),Ke({data:M.stream,additionalKeyValues:Me,objectId:M.objectNumber}),Q("endobj")},un=function(M){var Z;for(Z in xt)xt.hasOwnProperty(Z)&&(xt[Z]instanceof lg?Ct(xt[Z]):xt[Z]instanceof Vy&&fr(xt[Z],M))},jn=function(M){for(var Z in M.objectNumber=Ti(),Q("<<"),M)switch(Z){case"opacity":Q("/ca "+L(M[Z]));break;case"stroke-opacity":Q("/CA "+L(M[Z]))}Q(">>"),Q("endobj")},qi=function(){var M;for(M in Zt)Zt.hasOwnProperty(M)&&jn(Zt[M])},Kc=function(){for(var M in Q("/XObject <<"),as)as.hasOwnProperty(M)&&as[M].objectNumber>=0&&Q("/"+M+" "+as[M].objectNumber+" 0 R");en.publish("putXobjectDict"),Q(">>")},vh=function(){ha.oid=Ti(),Q("<<"),Q("/Filter /Standard"),Q("/V "+ha.v),Q("/R "+ha.r),Q("/U <"+ha.toHexString(ha.U)+">"),Q("/O <"+ha.toHexString(ha.O)+">"),Q("/P "+ha.P),Q(">>"),Q("endobj")},rd=function(){for(var M in Q("/Font <<"),vr)vr.hasOwnProperty(M)&&(h===!1||h===!0&&f.hasOwnProperty(M))&&Q("/"+M+" "+vr[M].objectNumber+" 0 R");Q(">>")},Yc=function(){if(Object.keys(xt).length>0){for(var M in Q("/Shading <<"),xt)xt.hasOwnProperty(M)&&xt[M]instanceof lg&&xt[M].objectNumber>=0&&Q("/"+M+" "+xt[M].objectNumber+" 0 R");en.publish("putShadingPatternDict"),Q(">>")}},nd=function(M){if(Object.keys(xt).length>0){for(var Z in Q("/Pattern <<"),xt)xt.hasOwnProperty(Z)&&xt[Z]instanceof p.TilingPattern&&xt[Z].objectNumber>=0&&xt[Z].objectNumber<M&&Q("/"+Z+" "+xt[Z].objectNumber+" 0 R");en.publish("putTilingPatternDict"),Q(">>")}},al=function(){if(Object.keys(Zt).length>0){var M;for(M in Q("/ExtGState <<"),Zt)Zt.hasOwnProperty(M)&&Zt[M].objectNumber>=0&&Q("/"+M+" "+Zt[M].objectNumber+" 0 R");en.publish("putGStateDict"),Q(">>")}},Pi=function(M){ie(M.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rd(),Yc(),nd(M.objectOid),al(),Kc(),Q(">>"),Q("endobj")},GN=function(){var M=[];ht(),qi(),Tt(),un(M),en.publish("putResources"),M.forEach(Pi),Pi({resourcesOid:he,objectOid:Number.MAX_SAFE_INTEGER}),en.publish("postPutResources")},KN=function(){en.publish("putAdditionalObjects");for(var M=0;M<ye.length;M++){var Z=ye[M];ie(Z.objId,!0),Q(Z.content),Q("endobj")}en.publish("postPutAdditionalObjects")},YN=function(M){lr[M.fontName]=lr[M.fontName]||{},lr[M.fontName][M.fontStyle]=M.id},b2=function(M,Z,be,Ae,Me){var Qe={id:"F"+(Object.keys(vr).length+1).toString(10),postScriptName:M,fontName:Z,fontStyle:be,encoding:Ae,isStandardFont:Me||!1,metadata:{}};return en.publish("addFont",{font:Qe,instance:this}),vr[Qe.id]=Qe,YN(Qe),Qe.id},TM=function(M){for(var Z=0,be=Te.length;Z<be;Z++){var Ae=b2.call(this,M[Z][0],M[Z][1],M[Z][2],Te[Z][3],!0);h===!1&&(f[Ae]=!0);var Me=M[Z][0].split("-");YN({id:Ae,fontName:Me[0],fontStyle:Me[1]||""})}en.publish("addFonts",{fonts:vr,dictionary:lr})},Xc=function(M){return M.foo=function(){try{return M.apply(this,arguments)}catch(Ae){var Z=Ae.stack||"";~Z.indexOf(" at ")&&(Z=Z.split(" at ")[1]);var be="Error in function "+Z.split(`
`)[0].split("<")[0]+": "+Ae.message;if(!sr.console)throw new Error(be);sr.console.error(be,Ae),sr.alert&&alert(be)}},M.foo.bar=M,M.foo},Px=function(M,Z){var be,Ae,Me,Qe,ut,kt,Qt,Sr,wr;if(Me=(Z=Z||{}).sourceEncoding||"Unicode",ut=Z.outputEncoding,(Z.autoencode||ut)&&vr[et].metadata&&vr[et].metadata[Me]&&vr[et].metadata[Me].encoding&&(Qe=vr[et].metadata[Me].encoding,!ut&&vr[et].encoding&&(ut=vr[et].encoding),!ut&&Qe.codePages&&(ut=Qe.codePages[0]),typeof ut=="string"&&(ut=Qe[ut]),ut)){for(Qt=!1,kt=[],be=0,Ae=M.length;be<Ae;be++)(Sr=ut[M.charCodeAt(be)])?kt.push(String.fromCharCode(Sr)):kt.push(M[be]),kt[be].charCodeAt(0)>>8&&(Qt=!0);M=kt.join("")}for(be=M.length;Qt===void 0&&be!==0;)M.charCodeAt(be-1)>>8&&(Qt=!0),be--;if(!Qt)return M;for(kt=Z.noBOM?[]:[254,255],be=0,Ae=M.length;be<Ae;be++){if((wr=(Sr=M.charCodeAt(be))>>8)>>8)throw new Error("Character at position "+be+" of string '"+M+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(wr),kt.push(Sr-(wr<<8))}return String.fromCharCode.apply(void 0,kt)},wo=p.__private__.pdfEscape=p.pdfEscape=function(M,Z){return Px(M,Z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},w2=p.__private__.beginPage=function(M){Se[++Zr]=[],cr[Zr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},QN(Zr),ke(Se[q])},XN=function(M,Z){var be,Ae,Me;switch(r=Z||r,typeof M=="string"&&(be=x(M.toLowerCase()),Array.isArray(be)&&(Ae=be[0],Me=be[1])),Array.isArray(M)&&(Ae=M[0]*Xe,Me=M[1]*Xe),isNaN(Ae)&&(Ae=i[0],Me=i[1]),(Ae>14400||Me>14400)&&(On.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ae=Math.min(14400,Ae),Me=Math.min(14400,Me)),i=[Ae,Me],r.substr(0,1)){case"l":Me>Ae&&(i=[Me,Ae]);break;case"p":Ae>Me&&(i=[Me,Ae])}w2(i),nE(j2),Q(Qc),E2!==0&&Q(E2+" J"),C2!==0&&Q(C2+" j"),en.publish("addPage",{pageNumber:Zr})},PM=function(M){M>0&&M<=Zr&&(Se.splice(M,1),cr.splice(M,1),Zr--,q>Zr&&(q=Zr),this.setPage(q))},QN=function(M){M>0&&M<=Zr&&(q=M)},kM=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},JN=function(M,Z,be){var Ae,Me=void 0;return be=be||{},M=M!==void 0?M:vr[et].fontName,Z=Z!==void 0?Z:vr[et].fontStyle,Ae=M.toLowerCase(),lr[Ae]!==void 0&&lr[Ae][Z]!==void 0?Me=lr[Ae][Z]:lr[M]!==void 0&&lr[M][Z]!==void 0?Me=lr[M][Z]:be.disableWarning===!1&&On.warn("Unable to look up font label for font '"+M+"', '"+Z+"'. Refer to getFontList() for available fonts."),Me||be.noFallback||(Me=lr.times[Z])==null&&(Me=lr.times.normal),Me},OM=p.__private__.putInfo=function(){var M=Ti(),Z=function(Ae){return Ae};for(var be in d!==null&&(Z=ha.encryptor(M,0)),Q("<<"),Q("/Producer ("+wo(Z("jsPDF "+ir.version))+")"),Ht)Ht.hasOwnProperty(be)&&Ht[be]&&Q("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+wo(Z(Ht[be]))+")");Q("/CreationDate ("+wo(Z(z))+")"),Q(">>"),Q("endobj")},_2=p.__private__.putCatalog=function(M){var Z=(M=M||{}).rootDictionaryObjId||de;switch(Ti(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+Z+" 0 R"),rt||(rt="fullwidth"),rt){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+rt;be.substr(be.length-1)==="%"&&(rt=parseInt(rt)/100),typeof rt=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+L(rt)+"]")}switch(Yt||(Yt="continuous"),Yt){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}At&&Q("/PageMode /"+At),en.publish("putCatalog"),Q(">>"),Q("endobj")},MM=p.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(Y+1)),Q("/Root "+Y+" 0 R"),Q("/Info "+(Y-1)+" 0 R"),d!==null&&Q("/Encrypt "+ha.oid+" 0 R"),Q("/ID [ <"+U+"> <"+U+"> ]"),Q(">>")},LM=p.__private__.putHeader=function(){Q("%PDF-"+g),Q("%")},IM=p.__private__.putXRef=function(){var M="0000000000";Q("xref"),Q("0 "+(Y+1)),Q("0000000000 65535 f ");for(var Z=1;Z<=Y;Z++)typeof ae[Z]=="function"?Q((M+ae[Z]()).slice(-10)+" 00000 n "):ae[Z]!==void 0?Q((M+ae[Z]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},xh=p.__private__.buildDocument=function(){Ve(),ke(pe),en.publish("buildDocument"),LM(),Be(),KN(),GN(),d!==null&&vh(),OM(),_2();var M=le;return IM(),MM(),Q("startxref"),Q(""+M),Q("%%EOF"),ke(Se[q]),pe.join(`
`)},kx=p.__private__.getBlob=function(M){return new Blob([Ue(M)],{type:"application/pdf"})},Ox=p.output=p.__private__.output=Xc(function(M,Z){switch(typeof(Z=Z||{})=="string"?Z={filename:Z}:Z.filename=Z.filename||"generated.pdf",M){case void 0:return xh();case"save":p.save(Z.filename);break;case"arraybuffer":return Ue(xh());case"blob":return kx(xh());case"bloburi":case"bloburl":if(sr.URL!==void 0&&typeof sr.URL.createObjectURL=="function")return sr.URL&&sr.URL.createObjectURL(kx(xh()))||void 0;On.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",Ae=xh();try{be=WF(Ae)}catch{be=WF(unescape(encodeURIComponent(Ae)))}return"data:application/pdf;filename="+Z.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Z.pdfObjectUrl&&(Me=Z.pdfObjectUrl,Qe="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Z)+");<\/script></body></html>",kt=sr.open();return kt!==null&&kt.document.write(ut),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(sr)==="[object Window]"){var Qt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Z.filename+'" width="500px" height="400px" /></body></html>',Sr=sr.open();if(Sr!==null){Sr.document.write(Qt);var wr=this;Sr.document.documentElement.querySelector("#pdfViewer").onload=function(){Sr.document.title=Z.filename,Sr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(wr.output("bloburl"))}}return Sr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(sr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Gr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Z)+'"></iframe></body></html>',ui=sr.open();if(ui!==null&&(ui.document.write(Gr),ui.document.title=Z.filename),ui||typeof safari>"u")return ui;break;case"datauri":case"dataurl":return sr.document.location.href=this.output("datauristring",Z);default:return null}}),ZN=function(M){return Array.isArray(gh)===!0&&gh.indexOf(M)>-1};switch(n){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=ZN("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Xe=n}var ha=null;fe(),B();var RM=function(M){return d!==null?ha.encryptor(M,0):function(Z){return Z}},eE=p.__private__.getPageInfo=p.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:cr[M].objId,pageNumber:M,pageContext:cr[M]}},xr=p.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Z in cr)if(cr[Z].objId===M)break;return eE(Z)},DM=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:cr[q].objId,pageNumber:q,pageContext:cr[q]}};p.addPage=function(){return XN.apply(this,arguments),this},p.setPage=function(){return QN.apply(this,arguments),ke.call(this,Se[q]),this},p.insertPage=function(M){return this.addPage(),this.movePage(q,M),this},p.movePage=function(M,Z){var be,Ae;if(M>Z){be=Se[M],Ae=cr[M];for(var Me=M;Me>Z;Me--)Se[Me]=Se[Me-1],cr[Me]=cr[Me-1];Se[Z]=be,cr[Z]=Ae,this.setPage(Z)}else if(M<Z){be=Se[M],Ae=cr[M];for(var Qe=M;Qe<Z;Qe++)Se[Qe]=Se[Qe+1],cr[Qe]=cr[Qe+1];Se[Z]=be,cr[Z]=Ae,this.setPage(Z)}return this},p.deletePage=function(){return PM.apply(this,arguments),this},p.__private__.text=p.text=function(M,Z,be,Ae,Me){var Qe,ut,kt,Qt,Sr,wr,Gr,ui,yi,Wi=(Ae=Ae||{}).scope||this;if(typeof M=="number"&&typeof Z=="number"&&(typeof be=="string"||Array.isArray(be))){var fa=be;be=Z,Z=M,M=fa}if(arguments[3]instanceof er?(E("The transform parameter of text() with a Matrix value"),yi=Me):(kt=arguments[4],Qt=arguments[5],bn(Gr=arguments[3])==="object"&&Gr!==null||(typeof kt=="string"&&(Qt=kt,kt=null),typeof Gr=="string"&&(Qt=Gr,Gr=null),typeof Gr=="number"&&(kt=Gr,Gr=null),Ae={flags:Gr,angle:kt,align:Qt})),isNaN(Z)||isNaN(be)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return Wi;var Ss="",Jc=!1,ol=typeof Ae.lineHeightFactor=="number"?Ae.lineHeightFactor:P0,ad=Wi.internal.scaleFactor;function cE(Dn){return Dn=Dn.split("	").join(Array(Ae.TabLen||9).join(" ")),wo(Dn,Gr)}function M2(Dn){for(var Fn,Oi=Dn.concat(),os=[],Sh=Oi.length;Sh--;)typeof(Fn=Oi.shift())=="string"?os.push(Fn):Array.isArray(Dn)&&(Fn.length===1||Fn[1]===void 0&&Fn[2]===void 0)?os.push(Fn[0]):os.push([Fn[0],Fn[1],Fn[2]]);return os}function L2(Dn,Fn){var Oi;if(typeof Dn=="string")Oi=Fn(Dn)[0];else if(Array.isArray(Dn)){for(var os,Sh,z2=Dn.concat(),Gx=[],pE=z2.length;pE--;)typeof(os=z2.shift())=="string"?Gx.push(Fn(os)[0]):Array.isArray(os)&&typeof os[0]=="string"&&(Sh=Fn(os[0],os[1],os[2]),Gx.push([Sh[0],Sh[1],Sh[2]]));Oi=Gx}return Oi}var Fx=!1,I2=!0;if(typeof M=="string")Fx=!0;else if(Array.isArray(M)){var R2=M.concat();ut=[];for(var $x,qs=R2.length;qs--;)(typeof($x=R2.shift())!="string"||Array.isArray($x)&&typeof $x[0]!="string")&&(I2=!1);Fx=I2}if(Fx===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Bx=qe/Wi.internal.scaleFactor,Ux=Bx*(ol-1);switch(Ae.baseline){case"bottom":be-=Ux;break;case"top":be+=Bx-Ux;break;case"hanging":be+=Bx-2*Ux;break;case"middle":be+=Bx/2-Ux}if((wr=Ae.maxWidth||0)>0&&(typeof M=="string"?M=Wi.splitTextToSize(M,wr):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(Dn,Fn){return Dn.concat(Wi.splitTextToSize(Fn,wr))},[]))),Qe={text:M,x:Z,y:be,options:Ae,mutex:{pdfEscape:wo,activeFontKey:et,fonts:vr,activeFontSize:qe}},en.publish("preProcessText",Qe),M=Qe.text,kt=(Ae=Qe.options).angle,!(yi instanceof er)&&kt&&typeof kt=="number"){kt*=Math.PI/180,Ae.rotationDirection===0&&(kt=-kt),w===y.ADVANCED&&(kt=-kt);var zx=Math.cos(kt),D2=Math.sin(kt);yi=new er(zx,D2,-D2,zx,0,0)}else kt&&kt instanceof er&&(yi=kt);w!==y.ADVANCED||yi||(yi=bo),(Sr=Ae.charSpace||Ix)!==void 0&&(Ss+=N(k(Sr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ui=Ae.horizontalScale)!==void 0&&(Ss+=N(100*ui)+` Tz
`),Ae.lang;var _o=-1,GM=Ae.renderingMode!==void 0?Ae.renderingMode:Ae.stroke,F2=Wi.internal.getCurrentPageInfo().pageContext;switch(GM){case 0:case!1:case"fill":_o=0;break;case 1:case!0:case"stroke":_o=1;break;case 2:case"fillThenStroke":_o=2;break;case 3:case"invisible":_o=3;break;case 4:case"fillAndAddForClipping":_o=4;break;case 5:case"strokeAndAddPathForClipping":_o=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":_o=6;break;case 7:case"addToPathForClipping":_o=7}var uE=F2.usedRenderingMode!==void 0?F2.usedRenderingMode:-1;_o!==-1?Ss+=_o+` Tr
`:uE!==-1&&(Ss+=`0 Tr
`),_o!==-1&&(F2.usedRenderingMode=_o),Qt=Ae.align||"left";var nc,qx=qe*ol,dE=Wi.internal.pageSize.getWidth(),hE=vr[et];Sr=Ae.charSpace||Ix,wr=Ae.maxWidth||0,Gr=Object.assign({autoencode:!0,noBOM:!0},Ae.flags);var up=[],M0=function(Dn){return Wi.getStringUnitWidth(Dn,{font:hE,charSpace:Sr,fontSize:qe,doKerning:!1})*qe/ad};if(Object.prototype.toString.call(M)==="[object Array]"){var So;ut=M2(M),Qt!=="left"&&(nc=ut.map(M0));var Wa,dp=0;if(Qt==="right"){Z-=nc[0],M=[],qs=ut.length;for(var bh=0;bh<qs;bh++)bh===0?(Wa=sd(Z),So=yh(be)):(Wa=k(dp-nc[bh]),So=-qx),M.push([ut[bh],Wa,So]),dp=nc[bh]}else if(Qt==="center"){Z-=nc[0]/2,M=[],qs=ut.length;for(var wh=0;wh<qs;wh++)wh===0?(Wa=sd(Z),So=yh(be)):(Wa=k((dp-nc[wh])/2),So=-qx),M.push([ut[wh],Wa,So]),dp=nc[wh]}else if(Qt==="left"){M=[],qs=ut.length;for(var Wx=0;Wx<qs;Wx++)M.push(ut[Wx])}else if(Qt==="justify"&&hE.encoding==="Identity-H"){M=[],qs=ut.length,wr=wr!==0?wr:dE;for(var _h=0,ki=0;ki<qs;ki++)if(So=ki===0?yh(be):-qx,Wa=ki===0?sd(Z):_h,ki<qs-1){var $2=k((wr-nc[ki])/(ut[ki].split(" ").length-1)),Ha=ut[ki].split(" ");M.push([Ha[0]+" ",Wa,So]),_h=0;for(var ic=1;ic<Ha.length;ic++){var Hx=(M0(Ha[ic-1]+" "+Ha[ic])-M0(Ha[ic]))*ad+$2;ic==Ha.length-1?M.push([Ha[ic],Hx,0]):M.push([Ha[ic]+" ",Hx,0]),_h-=Hx}}else M.push([ut[ki],Wa,So]);M.push(["",_h,0])}else{if(Qt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(M=[],qs=ut.length,wr=wr!==0?wr:dE,ki=0;ki<qs;ki++)So=ki===0?yh(be):-qx,Wa=ki===0?sd(Z):0,ki<qs-1?up.push(N(k((wr-nc[ki])/(ut[ki].split(" ").length-1)))):up.push(0),M.push([ut[ki],Wa,So])}}var fE=typeof Ae.R2L=="boolean"?Ae.R2L:$e;fE===!0&&(M=L2(M,function(Dn,Fn,Oi){return[Dn.split("").reverse().join(""),Fn,Oi]})),Qe={text:M,x:Z,y:be,options:Ae,mutex:{pdfEscape:wo,activeFontKey:et,fonts:vr,activeFontSize:qe}},en.publish("postProcessText",Qe),M=Qe.text,Jc=Qe.mutex.isHex||!1;var B2=vr[et].encoding;B2!=="WinAnsiEncoding"&&B2!=="StandardEncoding"||(M=L2(M,function(Dn,Fn,Oi){return[cE(Dn),Fn,Oi]})),ut=M2(M),M=[];for(var L0,I0,hp,R0=0,Vx=1,D0=Array.isArray(ut[0])?Vx:R0,fp="",U2=function(Dn,Fn,Oi){var os="";return Oi instanceof er?(Oi=typeof Ae.angle=="number"?sl(Oi,new er(1,0,0,1,Dn,Fn)):sl(new er(1,0,0,1,Dn,Fn),Oi),w===y.ADVANCED&&(Oi=sl(new er(1,0,0,-1,0,0),Oi)),os=Oi.join(" ")+` Tm
`):os=N(Dn)+" "+N(Fn)+` Td
`,os},sc=0;sc<ut.length;sc++){switch(fp="",D0){case Vx:hp=(Jc?"<":"(")+ut[sc][0]+(Jc?">":")"),L0=parseFloat(ut[sc][1]),I0=parseFloat(ut[sc][2]);break;case R0:hp=(Jc?"<":"(")+ut[sc]+(Jc?">":")"),L0=sd(Z),I0=yh(be)}up!==void 0&&up[sc]!==void 0&&(fp=up[sc]+` Tw
`),sc===0?M.push(fp+U2(L0,I0,yi)+hp):D0===R0?M.push(fp+hp):D0===Vx&&M.push(fp+U2(L0,I0,yi)+hp)}M=D0===R0?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var ac=`BT
/`;return ac+=et+" "+qe+` Tf
`,ac+=N(qe*ol)+` TL
`,ac+=k0+`
`,ac+=Ss,ac+=M,Q(ac+="ET"),f[et]=!0,Wi};var FM=p.__private__.clip=p.clip=function(M){return Q(M==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return FM("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Q("n"),this};var id=p.__private__.isValidStyle=function(M){var Z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(Z=!0),Z};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(M){return id(M)&&(u=M),this};var tE=p.__private__.getStyle=p.getStyle=function(M){var Z=u;switch(M){case"D":case"S":Z="S";break;case"F":Z="f";break;case"FD":case"DF":Z="B";break;case"f":case"f*":case"B":case"B*":Z=M}return Z},rE=p.close=function(){return Q("h"),this};p.stroke=function(){return Q("S"),this},p.fill=function(M){return Mx("f",M),this},p.fillEvenOdd=function(M){return Mx("f*",M),this},p.fillStroke=function(M){return Mx("B",M),this},p.fillStrokeEvenOdd=function(M){return Mx("B*",M),this};var Mx=function(M,Z){bn(Z)==="object"?BM(Z,M):Q(M)},S2=function(M){M===null||w===y.ADVANCED&&M===void 0||(M=tE(M),Q(M))};function $M(M,Z,be,Ae,Me){var Qe=new Vy(Z||this.boundingBox,be||this.xStep,Ae||this.yStep,this.gState,Me||this.matrix);Qe.stream=this.stream;var ut=M+"$$"+this.cloneIndex+++"$$";return da(ut,Qe),Qe}var BM=function(M,Z){var be=Jt[M.key],Ae=xt[be];if(Ae instanceof lg)Q("q"),Q(UM(Z)),Ae.gState&&p.setGState(Ae.gState),Q(M.matrix.toString()+" cm"),Q("/"+be+" sh"),Q("Q");else if(Ae instanceof Vy){var Me=new er(1,0,0,-1,0,cp());M.matrix&&(Me=Me.multiply(M.matrix||bo),be=$M.call(Ae,M.key,M.boundingBox,M.xStep,M.yStep,Me).id),Q("q"),Q("/Pattern cs"),Q("/"+be+" scn"),Ae.gState&&p.setGState(Ae.gState),Q(Z),Q("Q")}},UM=function(M){switch(M){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},A2=p.moveTo=function(M,Z){return Q(N(k(M))+" "+N(F(Z))+" m"),this},T0=p.lineTo=function(M,Z){return Q(N(k(M))+" "+N(F(Z))+" l"),this},op=p.curveTo=function(M,Z,be,Ae,Me,Qe){return Q([N(k(M)),N(F(Z)),N(k(be)),N(F(Ae)),N(k(Me)),N(F(Qe)),"c"].join(" ")),this};p.__private__.line=p.line=function(M,Z,be,Ae,Me){if(isNaN(M)||isNaN(Z)||isNaN(be)||isNaN(Ae)||!id(Me))throw new Error("Invalid arguments passed to jsPDF.line");return w===y.COMPAT?this.lines([[be-M,Ae-Z]],M,Z,[1,1],Me||"S"):this.lines([[be-M,Ae-Z]],M,Z,[1,1]).stroke()},p.__private__.lines=p.lines=function(M,Z,be,Ae,Me,Qe){var ut,kt,Qt,Sr,wr,Gr,ui,yi,Wi,fa,Ss,Jc;if(typeof M=="number"&&(Jc=be,be=Z,Z=M,M=Jc),Ae=Ae||[1,1],Qe=Qe||!1,isNaN(Z)||isNaN(be)||!Array.isArray(M)||!Array.isArray(Ae)||!id(Me)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(A2(Z,be),ut=Ae[0],kt=Ae[1],Sr=M.length,fa=Z,Ss=be,Qt=0;Qt<Sr;Qt++)(wr=M[Qt]).length===2?(fa=wr[0]*ut+fa,Ss=wr[1]*kt+Ss,T0(fa,Ss)):(Gr=wr[0]*ut+fa,ui=wr[1]*kt+Ss,yi=wr[2]*ut+fa,Wi=wr[3]*kt+Ss,fa=wr[4]*ut+fa,Ss=wr[5]*kt+Ss,op(Gr,ui,yi,Wi,fa,Ss));return Qe&&rE(),S2(Me),this},p.path=function(M){for(var Z=0;Z<M.length;Z++){var be=M[Z],Ae=be.c;switch(be.op){case"m":A2(Ae[0],Ae[1]);break;case"l":T0(Ae[0],Ae[1]);break;case"c":op.apply(this,Ae);break;case"h":rE()}}return this},p.__private__.rect=p.rect=function(M,Z,be,Ae,Me){if(isNaN(M)||isNaN(Z)||isNaN(be)||isNaN(Ae)||!id(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return w===y.COMPAT&&(Ae=-Ae),Q([N(k(M)),N(F(Z)),N(k(be)),N(k(Ae)),"re"].join(" ")),S2(Me),this},p.__private__.triangle=p.triangle=function(M,Z,be,Ae,Me,Qe,ut){if(isNaN(M)||isNaN(Z)||isNaN(be)||isNaN(Ae)||isNaN(Me)||isNaN(Qe)||!id(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-M,Ae-Z],[Me-be,Qe-Ae],[M-Me,Z-Qe]],M,Z,[1,1],ut,!0),this},p.__private__.roundedRect=p.roundedRect=function(M,Z,be,Ae,Me,Qe,ut){if(isNaN(M)||isNaN(Z)||isNaN(be)||isNaN(Ae)||isNaN(Me)||isNaN(Qe)||!id(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*be),Qe=Math.min(Qe,.5*Ae),this.lines([[be-2*Me,0],[Me*kt,0,Me,Qe-Qe*kt,Me,Qe],[0,Ae-2*Qe],[0,Qe*kt,-Me*kt,Qe,-Me,Qe],[2*Me-be,0],[-Me*kt,0,-Me,-Qe*kt,-Me,-Qe],[0,2*Qe-Ae],[0,-Qe*kt,Me*kt,-Qe,Me,-Qe]],M+Me,Z,[1,1],ut,!0),this},p.__private__.ellipse=p.ellipse=function(M,Z,be,Ae,Me){if(isNaN(M)||isNaN(Z)||isNaN(be)||isNaN(Ae)||!id(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*be,ut=4/3*(Math.SQRT2-1)*Ae;return A2(M+be,Z),op(M+be,Z-ut,M+Qe,Z-Ae,M,Z-Ae),op(M-Qe,Z-Ae,M-be,Z-ut,M-be,Z),op(M-be,Z+ut,M-Qe,Z+Ae,M,Z+Ae),op(M+Qe,Z+Ae,M+be,Z+ut,M+be,Z),S2(Me),this},p.__private__.circle=p.circle=function(M,Z,be,Ae){if(isNaN(M)||isNaN(Z)||isNaN(be)||!id(Ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,Z,be,be,Ae)},p.setFont=function(M,Z,be){return be&&(Z=C(Z,be)),et=JN(M,Z,{disableWarning:!1}),this};var zM=p.__private__.getFont=p.getFont=function(){return vr[JN.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var M,Z,be={};for(M in lr)if(lr.hasOwnProperty(M))for(Z in be[M]=[],lr[M])lr[M].hasOwnProperty(Z)&&be[M].push(Z);return be},p.addFont=function(M,Z,be,Ae,Me){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(be=C(be,Ae)),Me=Me||"Identity-H",b2.call(this,M,Z,be,Me)};var P0,j2=t.lineWidth||.200025,Lx=p.__private__.getLineWidth=p.getLineWidth=function(){return j2},nE=p.__private__.setLineWidth=p.setLineWidth=function(M){return j2=M,Q(N(k(M))+" w"),this};p.__private__.setLineDash=ir.API.setLineDash=ir.API.setLineDashPattern=function(M,Z){if(M=M||[],Z=Z||0,isNaN(Z)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(be){return N(k(be))}).join(" "),Z=N(k(Z)),Q("["+M+"] "+Z+" d"),this};var iE=p.__private__.getLineHeight=p.getLineHeight=function(){return qe*P0};p.__private__.getLineHeight=p.getLineHeight=function(){return qe*P0};var sE=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(P0=M),this},aE=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return P0};sE(t.lineHeight);var sd=p.__private__.getHorizontalCoordinate=function(M){return k(M)},yh=p.__private__.getVerticalCoordinate=function(M){return w===y.ADVANCED?M:cr[q].mediaBox.topRightY-cr[q].mediaBox.bottomLeftY-k(M)},qM=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(M){return N(sd(M))},lp=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(M){return N(yh(M))},Qc=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ge(Qc)},p.__private__.setStrokeColor=p.setDrawColor=function(M,Z,be,Ae){return Qc=xe({ch1:M,ch2:Z,ch3:be,ch4:Ae,pdfColorType:"draw",precision:2}),Q(Qc),this};var N2=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ge(N2)},p.__private__.setFillColor=p.setFillColor=function(M,Z,be,Ae){return N2=xe({ch1:M,ch2:Z,ch3:be,ch4:Ae,pdfColorType:"fill",precision:2}),Q(N2),this};var k0=t.textColor||"0 g",WM=p.__private__.getTextColor=p.getTextColor=function(){return ge(k0)};p.__private__.setTextColor=p.setTextColor=function(M,Z,be,Ae){return k0=xe({ch1:M,ch2:Z,ch3:be,ch4:Ae,pdfColorType:"text",precision:3}),this};var Ix=t.charSpace,HM=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ix||0)};p.__private__.setCharSpace=p.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ix=M,this};var E2=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(M){var Z=p.CapJoinStyles[M];if(Z===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return E2=Z,Q(Z+" J"),this};var C2=0;p.__private__.setLineJoin=p.setLineJoin=function(M){var Z=p.CapJoinStyles[M];if(Z===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return C2=Z,Q(Z+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(N(k(M))+" M"),this},p.GState=mk,p.setGState=function(M){(M=typeof M=="string"?Zt[Rn[M]]:oE(null,M)).equals(Kn)||(Q("/"+M.id+" gs"),Kn=M)};var oE=function(M,Z){if(!M||!Rn[M]){var be=!1;for(var Ae in Zt)if(Zt.hasOwnProperty(Ae)&&Zt[Ae].equals(Z)){be=!0;break}if(be)Z=Zt[Ae];else{var Me="GS"+(Object.keys(Zt).length+1).toString(10);Zt[Me]=Z,Z.id=Me}return M&&(Rn[M]=Z.id),en.publish("addGState",Z),Z}};p.addGState=function(M,Z){return oE(M,Z),this},p.saveGraphicsState=function(){return Q("q"),Gn.push({key:et,size:qe,color:k0}),this},p.restoreGraphicsState=function(){Q("Q");var M=Gn.pop();return et=M.key,qe=M.size,k0=M.color,Kn=null,this},p.setCurrentTransformationMatrix=function(M){return Q(M.toString()+" cm"),this},p.comment=function(M){return Q("#"+M),this};var Rx=function(M,Z){var be=M||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Qe){isNaN(Qe)||(be=parseFloat(Qe))}});var Ae=Z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ae},set:function(Qe){isNaN(Qe)||(Ae=parseFloat(Qe))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(Qe){Me=Qe.toString()}}),this},T2=function(M,Z,be,Ae){Rx.call(this,M,Z),this.type="rect";var Me=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(ut){isNaN(ut)||(Me=parseFloat(ut))}});var Qe=Ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(ut){isNaN(ut)||(Qe=parseFloat(ut))}}),this},P2=function(){this.page=Zr,this.currentPage=q,this.pages=Se.slice(0),this.pagesContext=cr.slice(0),this.x=Lt,this.y=Ot,this.matrix=hr,this.width=O0(q),this.height=cp(q),this.outputDestination=We,this.id="",this.objectNumber=-1};P2.prototype.restore=function(){Zr=this.page,q=this.currentPage,cr=this.pagesContext,Se=this.pages,Lt=this.x,Ot=this.y,hr=this.matrix,k2(q,this.width),O2(q,this.height),We=this.outputDestination};var lE=function(M,Z,be,Ae,Me){rc.push(new P2),Zr=q=0,Se=[],Lt=M,Ot=Z,hr=Me,w2([be,Ae])},VM=function(M){if(tc[M])rc.pop().restore();else{var Z=new P2,be="Xo"+(Object.keys(as).length+1).toString(10);Z.id=be,tc[M]=be,as[be]=Z,en.publish("addFormObject",Z),rc.pop().restore()}};for(var Dx in p.beginFormObject=function(M,Z,be,Ae,Me){return lE(M,Z,be,Ae,Me),this},p.endFormObject=function(M){return VM(M),this},p.doFormObject=function(M,Z){var be=as[tc[M]];return Q("q"),Q(Z.toString()+" cm"),Q("/"+be.id+" Do"),Q("Q"),this},p.getFormObject=function(M){var Z=as[tc[M]];return{x:Z.x,y:Z.y,width:Z.width,height:Z.height,matrix:Z.matrix}},p.save=function(M,Z){return M=M||"generated.pdf",(Z=Z||{}).returnPromise=Z.returnPromise||!1,Z.returnPromise===!1?(ng(kx(xh()),M),typeof ng.unload=="function"&&sr.setTimeout&&setTimeout(ng.unload,911),this):new Promise(function(be,Ae){try{var Me=ng(kx(xh()),M);typeof ng.unload=="function"&&sr.setTimeout&&setTimeout(ng.unload,911),be(Me)}catch(Qe){Ae(Qe.message)}})},ir.API)ir.API.hasOwnProperty(Dx)&&(Dx==="events"&&ir.API.events.length?function(M,Z){var be,Ae,Me;for(Me=Z.length-1;Me!==-1;Me--)be=Z[Me][0],Ae=Z[Me][1],M.subscribe.apply(M,[be].concat(typeof Ae=="function"?[Ae]:Ae))}(en,ir.API.events):p[Dx]=ir.API[Dx]);var O0=p.getPageWidth=function(M){return(cr[M=M||q].mediaBox.topRightX-cr[M].mediaBox.bottomLeftX)/Xe},k2=p.setPageWidth=function(M,Z){cr[M].mediaBox.topRightX=Z*Xe+cr[M].mediaBox.bottomLeftX},cp=p.getPageHeight=function(M){return(cr[M=M||q].mediaBox.topRightY-cr[M].mediaBox.bottomLeftY)/Xe},O2=p.setPageHeight=function(M,Z){cr[M].mediaBox.topRightY=Z*Xe+cr[M].mediaBox.bottomLeftY};return p.internal={pdfEscape:wo,getStyle:tE,getFont:zM,getFontSize:ct,getCharSpace:HM,getTextColor:WM,getLineHeight:iE,getLineHeightFactor:aE,getLineWidth:Lx,write:_e,getHorizontalCoordinate:sd,getVerticalCoordinate:yh,getCoordinateString:qM,getVerticalCoordinateString:lp,collections:{},newObject:Ti,newAdditionalObject:ve,newObjectDeferred:xi,newObjectDeferredBegin:ie,getFilters:Re,putStream:Ke,events:en,scaleFactor:Xe,pageSize:{getWidth:function(){return O0(q)},setWidth:function(M){k2(q,M)},getHeight:function(){return cp(q)},setHeight:function(M){O2(q,M)}},encryptionOptions:d,encryption:ha,getEncryptor:RM,output:Ox,getNumberOfPages:kM,pages:Se,out:Q,f2:L,f3:O,getPageInfo:eE,getPageInfoByObjId:xr,getCurrentPageInfo:DM,getPDFVersion:m,Point:Rx,Rectangle:T2,Matrix:er,hasHotfix:ZN},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return O0(q)},set:function(M){k2(q,M)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return cp(q)},set:function(M){O2(q,M)},enumerable:!0,configurable:!0}),TM.call(p,Te),et="F1",XN(i,r),en.publish("initialized"),p}Cy.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Cy.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Cy.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Cy.prototype.processOwnerPassword=function(t,e){return VF(HF(e).substr(0,5),t)},Cy.prototype.encryptor=function(t,e){var r=HF(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return VF(r,n)}},mk.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||bn(t)!==bn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},ir.API={events:[]},ir.version="3.0.1";var Si=ir.API,E9=1,wx=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},uy=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_r=function(t){return t.toFixed(2)},Ep=function(t){return t.toFixed(5)};Si.__acroform__={};var nl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},fG=function(t){return t*E9},pd=function(t){var e=new zce,r=zt.internal.getHeight(t)||0,n=zt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(_r(n)),Number(_r(r))],e},DIe=Si.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},FIe=Si.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},$Ie=Si.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Di=Si.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $Ie(t,e-1)},Fi=Si.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return DIe(t,e-1)},$i=Si.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return FIe(t,e-1)},BIe=Si.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(_r(l.lowerLeft_X)),Number(_r(l.lowerLeft_Y)),Number(_r(l.upperRight_X)),Number(_r(l.upperRight_Y))]},UIe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=GF(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+_r(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=pd(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},GF=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(O){return O.split(`
`)}):i.map(function(O){return[O]});var s=r,a=zt.internal.getHeight(t)||0;a=a<0?-a:a;var o=zt.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(O,k,D){if(O+1<i.length){var F=k+" "+i[O+1][0];return TC(F,t,D).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,d,h=TC("3",t,s).height,f=t.multiline?a-s:(a-h)/2,p=f+=2,g=0,m=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+TC(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var x="",y=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var _=!1;if(i[w].length!==1&&v!==i[w].length-1){if((h+2)*(y+2)+2>a)continue e;x+=i[w][v],_=!0,m=w,w--}else{x=(x+=i[w][v]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var A=parseInt(w),C=l(A,x,s),N=w>=i.length-1;if(C&&!N){x+=" ",v=0;continue}if(C||N){if(N)m=A;else if(t.multiline&&(h+2)*(y+2)+2>a)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>a)continue e;m=A}}for(var E="",P=g;P<=m;P++){var L=i[P];if(t.multiline){if(P===m){E+=L[v]+" ",v=(v+1)%L.length;continue}if(P===g){E+=L[L.length-1]+" ";continue}}E+=L[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=TC(E,t,s).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}e+=_r(u)+" "+_r(p)+` Td
`,e+="("+wx(E)+`) Tj
`,e+=-_r(u)+` 0 Td
`,p=-(s+2),d=0,g=_?m:m+1,y++,x=""}break}return n.text=e,n.fontSize=s,n},TC=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},zIe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},qIe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},WIe=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),bn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},HIe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Zu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(zIe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");E9=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new qce,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&qIe(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=BIe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=zt.createDefaultAppearanceStream(o),bn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=UIe(o);l.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var p=o.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var g=p[a];typeof g=="function"&&(g=g.call(i,o)),h+="/"+a+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=p)=="function"&&(g=g.call(i,o)),h+="/"+a+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&WIe(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Uce=Si.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),bn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+wx(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},UI=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+wx(n(t))+")"},qd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};qd.prototype.toString=function(){return this.objId+" 0 R"},qd.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},qd.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:Uce(i,this.objId,this.scope)}):i instanceof qd?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var zce=function(){qd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};nl(zce,qd);var qce=function(){qd.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+wx(r(t))+")"}},set:function(r){t=r}})};nl(qce,qd);var Zu=function t(){qd.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Di(e,3)},set:function(x){x?this.F=Fi(e,3):this.F=$i(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof gk)return;s="FieldObject"+t.FieldNum++}var x=function(y){return y};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+wx(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/E9:u},set:function(x){u=x}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(x){d=x}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof gk||this instanceof Fv))return UI(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=x}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Rs?f:UI(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof Rs?x:x.substr(0,1)==="("?uy(x.substr(1,x.length-2)):uy(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rs?uy(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Rs?"/"+x:x}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Rs?p:UI(p,this.objId,this.scope)},set:function(x){x=x.toString(),p=this instanceof Rs?x:x.substr(0,1)==="("?uy(x.substr(1,x.length-2)):uy(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Rs?uy(p.substr(1,p.length-1)):p},set:function(x){x=x.toString(),p=this instanceof Rs?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(x){x=!!x,m=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(x){g=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,1)},set:function(x){x?this.Ff=Fi(this.Ff,1):this.Ff=$i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,2)},set:function(x){x?this.Ff=Fi(this.Ff,2):this.Ff=$i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,3)},set:function(x){x?this.Ff=Fi(this.Ff,3):this.Ff=$i(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');v=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(v){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};nl(Zu,qd);var g1=function(){Zu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Uce(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,18)},set:function(r){r?this.Ff=Fi(this.Ff,18):this.Ff=$i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Fi(this.Ff,19):this.Ff=$i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,20)},set:function(r){r?(this.Ff=Fi(this.Ff,20),e.sort()):this.Ff=$i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,22)},set:function(r){r?this.Ff=Fi(this.Ff,22):this.Ff=$i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,23)},set:function(r){r?this.Ff=Fi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,27)},set:function(r){r?this.Ff=Fi(this.Ff,27):this.Ff=$i(this.Ff,27)}}),this.hasAppearanceStream=!1};nl(g1,Zu);var v1=function(){g1.call(this),this.fontName="helvetica",this.combo=!1};nl(v1,g1);var x1=function(){v1.call(this),this.combo=!0};nl(x1,v1);var rP=function(){x1.call(this),this.edit=!0};nl(rP,x1);var Rs=function(){Zu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,15)},set:function(r){r?this.Ff=Fi(this.Ff,15):this.Ff=$i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,16)},set:function(r){r?this.Ff=Fi(this.Ff,16):this.Ff=$i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,17)},set:function(r){r?this.Ff=Fi(this.Ff,17):this.Ff=$i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,26)},set:function(r){r?this.Ff=Fi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+wx(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){bn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};nl(Rs,Zu);var nP=function(){Rs.call(this),this.pushButton=!0};nl(nP,Rs);var y1=function(){Rs.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};nl(y1,Rs);var gk=function(){var t,e;Zu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+wx(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){bn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};nl(gk,Zu),y1.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},y1.prototype.createOption=function(t){var e=new gk;return e.Parent=this,e.optionName=t,this.Kids.push(e),VIe.call(this.scope,e),e};var iP=function(){Rs.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};nl(iP,Rs);var Fv=function(){Zu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,13)},set:function(e){e?this.Ff=Fi(this.Ff,13):this.Ff=$i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,21)},set:function(e){e?this.Ff=Fi(this.Ff,21):this.Ff=$i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,23)},set:function(e){e?this.Ff=Fi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,24)},set:function(e){e?this.Ff=Fi(this.Ff,24):this.Ff=$i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,25)},set:function(e){e?this.Ff=Fi(this.Ff,25):this.Ff=$i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,26)},set:function(e){e?this.Ff=Fi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};nl(Fv,Zu);var sP=function(){Fv.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Di(this.Ff,14)},set:function(t){t?this.Ff=Fi(this.Ff,14):this.Ff=$i(this.Ff,14)}}),this.password=!0};nl(sP,Fv);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=pd(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=GF(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+_r(zt.internal.getWidth(t))+" "+_r(zt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+_r(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=pd(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=zt.internal.getHeight(t),a=zt.internal.getWidth(t),o=GF(t,t.caption);return i.push("1 g"),i.push("0 0 "+_r(a)+" "+_r(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+_r(a-1)+" "+_r(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+_r(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=pd(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_r(zt.internal.getWidth(t))+" "+_r(zt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=zt.RadioButton.Circle.YesNormal,e.D[t]=zt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=pd(t);e.scope=t.scope;var r=[],n=zt.internal.getWidth(t)<=zt.internal.getHeight(t)?zt.internal.getWidth(t)/4:zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=zt.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ep(zt.internal.getWidth(t)/2)+" "+Ep(zt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=pd(t);e.scope=t.scope;var r=[],n=zt.internal.getWidth(t)<=zt.internal.getHeight(t)?zt.internal.getWidth(t)/4:zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*zt.internal.Bezier_C).toFixed(5)),a=Number((n*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ep(zt.internal.getWidth(t)/2)+" "+Ep(zt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ep(zt.internal.getWidth(t)/2)+" "+Ep(zt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=pd(t);e.scope=t.scope;var r=[],n=zt.internal.getWidth(t)<=zt.internal.getHeight(t)?zt.internal.getWidth(t)/4:zt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ep(zt.internal.getWidth(t)/2)+" "+Ep(zt.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=zt.RadioButton.Cross.YesNormal,e.D[t]=zt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=pd(t);e.scope=t.scope;var r=[],n=zt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+_r(zt.internal.getWidth(t)-2)+" "+_r(zt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(_r(n.x1.x)+" "+_r(n.x1.y)+" m"),r.push(_r(n.x2.x)+" "+_r(n.x2.y)+" l"),r.push(_r(n.x4.x)+" "+_r(n.x4.y)+" m"),r.push(_r(n.x3.x)+" "+_r(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=pd(t);e.scope=t.scope;var r=zt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+_r(zt.internal.getWidth(t))+" "+_r(zt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+_r(zt.internal.getWidth(t)-2)+" "+_r(zt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(_r(r.x1.x)+" "+_r(r.x1.y)+" m"),n.push(_r(r.x2.x)+" "+_r(r.x2.y)+" l"),n.push(_r(r.x4.x)+" "+_r(r.x4.y)+" m"),n.push(_r(r.x3.x)+" "+_r(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=pd(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+_r(zt.internal.getWidth(t))+" "+_r(zt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};zt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=zt.internal.getWidth(t),r=zt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},zt.internal.getWidth=function(t){var e=0;return bn(t)==="object"&&(e=fG(t.Rect[2])),e},zt.internal.getHeight=function(t){var e=0;return bn(t)==="object"&&(e=fG(t.Rect[3])),e};var VIe=Si.addField=function(t){if(HIe(this,t),!(t instanceof Zu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Si.AcroFormChoiceField=g1,Si.AcroFormListBox=v1,Si.AcroFormComboBox=x1,Si.AcroFormEditBox=rP,Si.AcroFormButton=Rs,Si.AcroFormPushButton=nP,Si.AcroFormRadioButton=y1,Si.AcroFormCheckBox=iP,Si.AcroFormTextField=Fv,Si.AcroFormPasswordField=sP,Si.AcroFormAppearance=zt,Si.AcroForm={ChoiceField:g1,ListBox:v1,ComboBox:x1,EditBox:rP,Button:Rs,PushButton:nP,RadioButton:y1,CheckBox:iP,TextField:Fv,PasswordField:sP,Appearance:zt},ir.AcroForm={ChoiceField:g1,ListBox:v1,ComboBox:x1,EditBox:rP,Button:Rs,PushButton:nP,RadioButton:y1,CheckBox:iP,TextField:Fv,PasswordField:sP,Appearance:zt};function Wce(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(O,k){var D,F,z,U,H,B=e;if((k=k||e)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(C(O))for(H in r)for(z=r[H],D=0;D<z.length;D+=1){for(U=!0,F=0;F<z[D].length;F+=1)if(z[D][F]!==void 0&&z[D][F]!==O[F]){U=!1;break}if(U===!0){B=H;break}}else for(H in r)for(z=r[H],D=0;D<z.length;D+=1){for(U=!0,F=0;F<z[D].length;F+=1)if(z[D][F]!==void 0&&z[D][F]!==O.charCodeAt(F)){U=!1;break}if(U===!0){B=H;break}}return B===e&&k!==e&&(B=k),B},i=function O(k){for(var D=this.internal.write,F=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var U=[];if(U.push({key:"Type",value:"/XObject"}),U.push({key:"Subtype",value:"/Image"}),U.push({key:"Width",value:k.width}),U.push({key:"Height",value:k.height}),k.colorSpace===v.INDEXED?U.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(U.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===v.DEVICE_CMYK&&U.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),U.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&U.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var H="",B=0,X=k.transparency.length;B<X;B++)H+=k.transparency[B]+" "+k.transparency[B]+" ";U.push({key:"Mask",value:"["+H+"]"})}k.sMask!==void 0&&U.push({key:"SMask",value:k.objectId+1+" 0 R"});var ne=k.filter!==void 0?["/"+k.filter]:void 0;if(F({data:k.data,additionalKeyValues:U,alreadyAppliedFilters:ne,objectId:k.objectId}),D("endobj"),"sMask"in k&&k.sMask!==void 0){var fe="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,I={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:fe,data:k.sMask};"filter"in k&&(I.filter=k.filter),O.call(this,I)}if(k.colorSpace===v.INDEXED){var q=this.internal.newObject();F({data:E(new Uint8Array(k.palette)),objectId:q}),D("endobj")}},s=function(){var O=this.internal.collections.addImage_images;for(var k in O)i.call(this,O[k])},a=function(){var O,k=this.internal.collections.addImage_images,D=this.internal.write;for(var F in k)D("/I"+(O=k[F]).index,O.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var O=this.internal.collections.addImage_images;return o.call(this),O},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(O){return typeof t["process"+O.toUpperCase()]=="function"},h=function(O){return bn(O)==="object"&&O.nodeType===1},f=function(O,k){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var D=""+O.getAttribute("src");if(D.indexOf("data:image/")===0)return NS(unescape(D).split("base64,").pop());var F=t.loadFile(D,!0);if(F!==void 0)return F}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var z;switch(k){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;case"JPEG":case"JPG":default:z="image/jpeg"}return NS(O.toDataURL(z,1).split("base64,").pop())}},p=function(O){var k=this.internal.collections.addImage_images;if(k){for(var D in k)if(O===k[D].alias)return k[D]}},g=function(O,k,D){return O||k||(O=-96,k=-96),O<0&&(O=-1*D.width*72/O/this.internal.scaleFactor),k<0&&(k=-1*D.height*72/k/this.internal.scaleFactor),O===0&&(O=k*D.width/D.height),k===0&&(k=O*D.height/D.width),[O,k]},m=function(O,k,D,F,z,U){var H=g.call(this,D,F,z),B=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,ne=l.call(this);if(D=H[0],F=H[1],ne[z.index]=z,U){U*=Math.PI/180;var fe=Math.cos(U),I=Math.sin(U),q=function(K){return K.toFixed(4)},V=[q(fe),q(I),q(-1*I),q(fe),0,0,"cm"]}this.internal.write("q"),U?(this.internal.write([1,"0","0",1,B(O),X(k+F),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([B(D),"0","0",B(F),"0","0","cm"].join(" "))):this.internal.write([B(D),"0","0",B(F),B(O),X(k+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},y=t.__addimage__.sHashCode=function(O){var k,D,F=0;if(typeof O=="string")for(D=O.length,k=0;k<D;k++)F=(F<<5)-F+O.charCodeAt(k),F|=0;else if(C(O))for(D=O.byteLength/2,k=0;k<D;k++)F=(F<<5)-F+O[k],F|=0;return F},w=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var k=!0;return O.length===0&&(k=!1),O.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(k=!1),k},_=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var k=O.indexOf(",");return k<0?null:O.substring(0,k).trim().endsWith("base64")?O.substring(k+1):null},A=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(O){return A()&&O instanceof ArrayBuffer};var C=t.__addimage__.isArrayBufferView=function(O){return A()&&typeof Uint32Array<"u"&&(O instanceof Int8Array||O instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)},N=t.__addimage__.binaryStringToUint8Array=function(O){for(var k=O.length,D=new Uint8Array(k),F=0;F<k;F++)D[F]=O.charCodeAt(F);return D},E=t.__addimage__.arrayBufferToBinaryString=function(O){for(var k="",D=C(O)?O:new Uint8Array(O),F=0;F<D.length;F+=8192)k+=String.fromCharCode.apply(null,D.subarray(F,F+8192));return k};t.addImage=function(){var O,k,D,F,z,U,H,B,X;if(typeof arguments[1]=="number"?(k=e,D=arguments[1],F=arguments[2],z=arguments[3],U=arguments[4],H=arguments[5],B=arguments[6],X=arguments[7]):(k=arguments[1],D=arguments[2],F=arguments[3],z=arguments[4],U=arguments[5],H=arguments[6],B=arguments[7],X=arguments[8]),bn(O=arguments[0])==="object"&&!h(O)&&"imageData"in O){var ne=O;O=ne.imageData,k=ne.format||k||e,D=ne.x||D||0,F=ne.y||F||0,z=ne.w||ne.width||z,U=ne.h||ne.height||U,H=ne.alias||H,B=ne.compression||B,X=ne.rotation||ne.angle||X}var fe=this.internal.getFilters();if(B===void 0&&fe.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(D)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=P.call(this,O,k,H,B);return m.call(this,D,F,z,U,I,X),this};var P=function(O,k,D,F){var z,U,H;if(typeof O=="string"&&n(O)===e){O=unescape(O);var B=L(O,!1);(B!==""||(B=t.loadFile(O,!0))!==void 0)&&(O=B)}if(h(O)&&(O=f(O,k)),k=n(O,k),!d(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((H=D)==null||H.length===0)&&(D=function(X){return typeof X=="string"||C(X)?y(X):C(X.data)?y(X.data):null}(O)),(z=p.call(this,D))||(A()&&(O instanceof Uint8Array||k==="RGBA"||(U=O,O=N(O))),z=this["process"+k.toUpperCase()](O,u.call(this),D,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:x.NONE}(F),U)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},L=t.__addimage__.convertBase64ToBinaryString=function(O,k){k=typeof k!="boolean"||k;var D,F="";if(typeof O=="string"){var z;D=(z=_(O))!==null&&z!==void 0?z:O;try{F=NS(D)}catch(U){if(k)throw w(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+U.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};t.getImageProperties=function(O){var k,D,F="";if(h(O)&&(O=f(O)),typeof O=="string"&&n(O)===e&&((F=L(O,!1))===""&&(F=t.loadFile(O)||""),O=F),D=n(O),!d(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!A()||O instanceof Uint8Array||(O=N(O)),!(k=this["process"+D.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=D,k}})(ir.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};ir.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((n=u[h]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){n=u[f];var p=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(m.objId),y=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(x(n.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(x(y))+") >>",m.content=s;var w=m.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var _=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(g(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var A=this.annotations._nameMap[n.options.name];n.options.pageNumber=A.page,n.options.top=A.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var C=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+C+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(r,o).length;a=Math.ceil(u*d)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ir.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(m){return e[m.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=t.__arabicParser__.isArabicEndLetter=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(m){return a(m)&&i.indexOf(m.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(m){return a(m)&&s(m)&&e[m.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(m){var v=0,x=r,y="",w=0;for(v=0;v<m.length;v+=1)x[m.charCodeAt(v)]!==void 0?(w++,typeof(x=x[m.charCodeAt(v)])=="number"&&(y+=String.fromCharCode(x),x=r,w=0),v===m.length-1&&(x=r,y+=m.charAt(v-(w-1)),v-=w-1,w=0)):(x=r,y+=m.charAt(v-w),v-=w,w=0);return y};t.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(m,v,x){return a(m)?s(m)===!1?-1:!u(m)||!a(v)&&!a(x)||!a(x)&&o(v)||o(m)&&!a(v)||o(m)&&l(v)||o(m)&&o(v)?0:d(m)&&a(v)&&!o(v)&&a(x)&&u(x)?3:o(m)||!a(x)?1:2:-1},p=function(m){var v=0,x=0,y=0,w="",_="",A="",C=(m=m||"").split("\\s+"),N=[];for(v=0;v<C.length;v+=1){for(N.push(""),x=0;x<C[v].length;x+=1)w=C[v][x],_=C[v][x-1],A=C[v][x+1],a(w)?(y=f(w,_,A),N[v]+=y!==-1?String.fromCharCode(e[w.charCodeAt(0)][y]):w):N[v]+=w;N[v]=h(N[v])}return N.join(" ")},g=t.__arabicParser__.processArabic=t.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(v)){var y=0;for(x=[],y=0;y<v.length;y+=1)Array.isArray(v[y])?x.push([p(v[y][0]),v[y][1],v[y][2]]):x.push([p(v[y])]);m=x}else m=p(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};t.events.push(["preProcessText",g])}(ir.API),ir.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(ir.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(m){p=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,p=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=u.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,_){return w.concat(v.splitTextToSize(_,x))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)p<(m=this.getStringUnitWidth(l[y],{font:h})*d)&&(p=m);return p!==0&&(g=l.length),{w:p/=f,h:Math.max((g*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,p&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,d,h,f){if(n.call(this),!d)throw new Error("No data for PDF table.");var p,g,m,v,x=[],y=[],w=[],_={},A={},C=[],N=[],E=(f=f||{}).autoSize||!1,P=f.printHeaders!==!1,L=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,O=f.margins||Object.assign({width:this.getPageWidth()},e),k=typeof f.padding=="number"?f.padding:3,D=f.headerBackgroundColor||"#c8c8c8",F=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=F,this.setFontSize(L),h==null)y=x=Object.keys(d[0]),w=x.map(function(){return"left"});else if(Array.isArray(h)&&bn(h[0])==="object")for(x=h.map(function(ne){return ne.name}),y=h.map(function(ne){return ne.prompt||ne.name||""}),w=h.map(function(ne){return ne.align||"left"}),p=0;p<h.length;p+=1)A[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(y=x=h,w=x.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<x.length;p+=1){for(_[v=x[p]]=d.map(function(ne){return ne[v]}),this.setFont(void 0,"bold"),C.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=_[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)C.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[v]=Math.max.apply(null,C)+k+k,C=[]}if(P){var z={};for(p=0;p<x.length;p+=1)z[x[p]]={},z[x[p]].text=y[p],z[x[p]].align=w[p];var U=o.call(this,z,A);N=x.map(function(ne){return new s(l,u,A[ne],U,z[ne].text,void 0,z[ne].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var H=h.reduce(function(ne,fe){return ne[fe.name]=fe.align,ne},{});for(p=0;p<d.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:d[p]},this);var B=o.call(this,d[p],A);for(m=0;m<x.length;m+=1){var X=d[p][x[m]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:m,data:X},this),a.call(this,new s(l,u,A[x[m]],B,X,p+2,H[x[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(p){var g=l[p];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/f+d+d},this).reduce(function(p,g){return Math.max(p,g)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,d),this.setTextColor(g)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),r=!1}}(ir.API);var Hce={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Vce=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],KF=Wce(Vce),Gce=[100,200,300,400,500,600,700,800,900],GIe=Wce(Gce);function YF(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return Hce[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof KF[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function pG(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var KIe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function gG(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function YIe(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},KIe,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=YF(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+gG(s)+"' and default family '"+n+"'.");if(a=function(l,u){if(u[l])return u[l];var d=KF[l],h=d<=KF.normal?-1:1,f=pG(u,Vce,d,h);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var d=Hce[l],h=0;h<d.length;++h)if(u[d[h]])return u[d[h]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=GIe[l],h=pG(u,Gce,d,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+gG(s)+"'.");return a}function vG(t){return t.trimLeft()}function XIe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function QIe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var PC,xG,yG,zI=["times"];(function(t){var e,r,n,i,s,a,o,l,u,d=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new a,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new a,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var h=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=I;Object.defineProperty(this,"pdf",{get:function(){return q}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ke){V=!!ke}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ke){K=!!ke}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(ke){isNaN(ke)||(Y=ke)}});var ae=0;Object.defineProperty(this,"posY",{get:function(){return ae},set:function(ke){isNaN(ke)||(ae=ke)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ke){var Q;typeof ke=="number"?Q=[ke,ke,ke,ke]:((Q=new Array(4))[0]=ke[0],Q[1]=ke.length>=2?ke[1]:Q[0],Q[2]=ke.length>=3?ke[2]:Q[0],Q[3]=ke.length>=4?ke[3]:Q[1]),u.margin=Q}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(ke){pe=ke}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(ke){le=ke}});var ye=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ye},set:function(ke){ye=ke}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ke){ke instanceof d&&(u=ke)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ke){u.path=ke}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(ke){Se=ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ke){var Q;Q=f(ke),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ke){var Q=f(ke);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ke){["butt","round","square"].indexOf(ke)!==-1&&(this.ctx.lineCap=ke,this.pdf.setLineCap(ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ke){isNaN(ke)||(this.ctx.lineWidth=ke,this.pdf.setLineWidth(ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ke){["bevel","round","miter"].indexOf(ke)!==-1&&(this.ctx.lineJoin=ke,this.pdf.setLineJoin(ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ke){isNaN(ke)||(this.ctx.miterLimit=ke,this.pdf.setMiterLimit(ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ke){this.ctx.textBaseline=ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ke){["right","end","center","left","start"].indexOf(ke)!==-1&&(this.ctx.textAlign=ke)}});var we=null;function We(ke,Q){if(we===null){var _e=function(Ue){var Te=[];return Object.keys(Ue).forEach(function(qe){Ue[qe].forEach(function(rt){var ct=null;switch(rt){case"bold":ct={family:qe,weight:"bold"};break;case"italic":ct={family:qe,style:"italic"};break;case"bolditalic":ct={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":ct={family:qe}}ct!==null&&(ct.ref={name:qe,style:rt},Te.push(ct))})}),Te}(ke.getFontList());we=function(Ue){for(var Te={},qe=0;qe<Ue.length;++qe){var rt=YF(Ue[qe]),ct=rt.family,$e=rt.stretch,At=rt.style,Rt=rt.weight;Te[ct]=Te[ct]||{},Te[ct][$e]=Te[ct][$e]||{},Te[ct][$e][At]=Te[ct][$e][At]||{},Te[ct][$e][At][Rt]=rt}return Te}(_e.concat(Q))}return we}var Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(ke){we=null,Ve=ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ke){var Q;if(this.ctx.font=ke,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ke))!==null){var _e=Q[1];Q[2];var Ue=Q[3],Te=Q[4];Q[5];var qe=Q[6],rt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Te)[2];Te=Math.floor(rt==="px"?parseFloat(Te)*this.pdf.internal.scaleFactor:rt==="em"?parseFloat(Te)*this.pdf.getFontSize():parseFloat(Te)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Te);var ct=function(Ht){var et,Xe,Lt=[],Ot=Ht.trim();if(Ot==="")return zI;if(Ot in mG)return[mG[Ot]];for(;Ot!=="";){switch(Xe=null,et=(Ot=vG(Ot)).charAt(0)){case'"':case"'":Xe=XIe(Ot.substring(1),et);break;default:Xe=QIe(Ot)}if(Xe===null||(Lt.push(Xe[0]),(Ot=vG(Xe[1]))!==""&&Ot.charAt(0)!==","))return zI;Ot=Ot.replace(/^,/,"")}return Lt}(qe);if(this.fontFaces){var $e=YIe(We(this.pdf,this.fontFaces),ct.map(function(Ht){return{family:Ht,stretch:"normal",weight:Ue,style:_e}}));this.pdf.setFont($e.ref.name,$e.ref.style)}else{var At="";(Ue==="bold"||parseInt(Ue,10)>=700||_e==="bold")&&(At="bold"),_e==="italic"&&(At+="italic"),At.length===0&&(At="normal");for(var Rt="",Yt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ar=0;ar<ct.length;ar++){if(this.pdf.internal.getFont(ct[ar],At,{noFallback:!0,disableWarning:!0})!==void 0){Rt=ct[ar];break}if(At==="bolditalic"&&this.pdf.internal.getFont(ct[ar],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Rt=ct[ar],At="bold";else if(this.pdf.internal.getFont(ct[ar],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Rt=ct[ar],At="normal";break}}if(Rt===""){for(var or=0;or<ct.length;or++)if(Yt[ct[or]]){Rt=Yt[ct[or]];break}}Rt=Rt===""?"Times":Rt,this.pdf.setFont(Rt,At)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ke){this.ctx.globalCompositeOperation=ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ke){this.ctx.globalAlpha=ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ke){this.ctx.lineDashOffset=ke,fe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ke){this.ctx.lineDash=ke,fe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ke){this.ctx.ignoreClearRect=!!ke}})};h.prototype.setLineDash=function(I){this.lineDash=I},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){_.call(this,"fill",!1)},h.prototype.stroke=function(){_.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(I,q){if(isNaN(I)||isNaN(q))throw On.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(I,q));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(I,q)},h.prototype.closePath=function(){var I=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&bn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){I=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(I.x,I.y)},h.prototype.lineTo=function(I,q){if(isNaN(I)||isNaN(q))throw On.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(I,q));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},h.prototype.quadraticCurveTo=function(I,q,V,K){if(isNaN(V)||isNaN(K)||isNaN(I)||isNaN(q))throw On.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new a(V,K)),ae=this.ctx.transform.applyToPoint(new a(I,q));this.path.push({type:"qct",x1:ae.x,y1:ae.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},h.prototype.bezierCurveTo=function(I,q,V,K,Y,ae){if(isNaN(Y)||isNaN(ae)||isNaN(I)||isNaN(q)||isNaN(V)||isNaN(K))throw On.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new a(Y,ae)),le=this.ctx.transform.applyToPoint(new a(I,q)),ye=this.ctx.transform.applyToPoint(new a(V,K));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:ye.x,y2:ye.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new a(pe.x,pe.y)},h.prototype.arc=function(I,q,V,K,Y,ae){if(isNaN(I)||isNaN(q)||isNaN(V)||isNaN(K)||isNaN(Y))throw On.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ae=!!ae,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new a(I,q));I=pe.x,q=pe.y;var le=this.ctx.transform.applyToPoint(new a(0,V)),ye=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(le.x-ye.x,2)+Math.pow(le.y-ye.y,2))}Math.abs(Y-K)>=2*Math.PI&&(K=0,Y=2*Math.PI),this.path.push({type:"arc",x:I,y:q,radius:V,startAngle:K,endAngle:Y,counterclockwise:ae})},h.prototype.arcTo=function(I,q,V,K,Y){throw new Error("arcTo not implemented.")},h.prototype.rect=function(I,q,V,K){if(isNaN(I)||isNaN(q)||isNaN(V)||isNaN(K))throw On.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,q),this.lineTo(I+V,q),this.lineTo(I+V,q+K),this.lineTo(I,q+K),this.lineTo(I,q),this.lineTo(I+V,q),this.lineTo(I,q)},h.prototype.fillRect=function(I,q,V,K){if(isNaN(I)||isNaN(q)||isNaN(V)||isNaN(K))throw On.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,q,V,K),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},h.prototype.strokeRect=function(I,q,V,K){if(isNaN(I)||isNaN(q)||isNaN(V)||isNaN(K))throw On.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(I,q,V,K),this.stroke())},h.prototype.clearRect=function(I,q,V,K){if(isNaN(I)||isNaN(q)||isNaN(V)||isNaN(K))throw On.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,q,V,K))},h.prototype.save=function(I){I=typeof I!="boolean"||I;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},h.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(q),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(I){var q,V,K,Y;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))q=0,V=0,K=0,Y=0;else{var ae=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(ae!==null)q=parseInt(ae[1]),V=parseInt(ae[2]),K=parseInt(ae[3]),Y=1;else if((ae=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)q=parseInt(ae[1]),V=parseInt(ae[2]),K=parseInt(ae[3]),Y=parseFloat(ae[4]);else{if(Y=1,typeof I=="string"&&I.charAt(0)!=="#"){var pe=new Fce(I);I=pe.ok?pe.toHex():"#000000"}I.length===4?(q=I.substring(1,2),q+=q,V=I.substring(2,3),V+=V,K=I.substring(3,4),K+=K):(q=I.substring(1,3),V=I.substring(3,5),K=I.substring(5,7)),q=parseInt(q,16),V=parseInt(V,16),K=parseInt(K,16)}}return{r:q,g:V,b:K,a:Y,style:I}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(I,q,V,K){if(isNaN(q)||isNaN(V)||typeof I!="string")throw On.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!p.call(this)){var Y=B(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;k.call(this,{text:I,x:q,y:V,scale:ae,angle:Y,align:this.textAlign,maxWidth:K})}},h.prototype.strokeText=function(I,q,V,K){if(isNaN(q)||isNaN(V)||typeof I!="string")throw On.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){K=isNaN(K)?void 0:K;var Y=B(this.ctx.transform.rotation),ae=this.ctx.transform.scaleX;k.call(this,{text:I,x:q,y:V,scale:ae,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:K})}},h.prototype.measureText=function(I){if(typeof I!="string")throw On.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,V=this.pdf.internal.scaleFactor,K=q.internal.getFontSize(),Y=q.getStringUnitWidth(I)*K/q.internal.scaleFactor,ae=function(pe){var le=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return le}}),this};return new ae({width:Y*=Math.round(96*V/72*1e4)/1e4})},h.prototype.scale=function(I,q){if(isNaN(I)||isNaN(q))throw On.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(I,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.rotate=function(I){if(isNaN(I))throw On.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},h.prototype.translate=function(I,q){if(isNaN(I)||isNaN(q))throw On.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,I,q);this.ctx.transform=this.ctx.transform.multiply(V)},h.prototype.transform=function(I,q,V,K,Y,ae){if(isNaN(I)||isNaN(q)||isNaN(V)||isNaN(K)||isNaN(Y)||isNaN(ae))throw On.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new l(I,q,V,K,Y,ae);this.ctx.transform=this.ctx.transform.multiply(pe)},h.prototype.setTransform=function(I,q,V,K,Y,ae){I=isNaN(I)?1:I,q=isNaN(q)?0:q,V=isNaN(V)?0:V,K=isNaN(K)?1:K,Y=isNaN(Y)?0:Y,ae=isNaN(ae)?0:ae,this.ctx.transform=new l(I,q,V,K,Y,ae)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(I,q,V,K,Y,ae,pe,le,ye){var Se=this.pdf.getImageProperties(I),we=1,We=1,Ve=1,ke=1;K!==void 0&&le!==void 0&&(Ve=le/K,ke=ye/Y,we=Se.width/K*le/K,We=Se.height/Y*ye/Y),ae===void 0&&(ae=q,pe=V,q=0,V=0),K!==void 0&&le===void 0&&(le=K,ye=Y),K===void 0&&le===void 0&&(le=Se.width,ye=Se.height);for(var Q,_e=this.ctx.transform.decompose(),Ue=B(_e.rotate.shx),Te=new l,qe=(Te=(Te=(Te=Te.multiply(_e.translate)).multiply(_e.skew)).multiply(_e.scale)).applyToRectangle(new o(ae-q*Ve,pe-V*ke,K*we,Y*We)),rt=v.call(this,qe),ct=[],$e=0;$e<rt.length;$e+=1)ct.indexOf(rt[$e])===-1&&ct.push(rt[$e]);if(w(ct),this.autoPaging)for(var At=ct[0],Rt=ct[ct.length-1],Yt=At;Yt<Rt+1;Yt++){this.pdf.setPage(Yt);var ar=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],or=Yt===1?this.posY+this.margin[0]:this.margin[0],Ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Yt===1?0:Ht+(Yt-2)*et;if(this.ctx.clip_path.length!==0){var Lt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(Q,this.posX+this.margin[3],-Xe+or+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=Lt}var Ot=JSON.parse(JSON.stringify(qe));Ot=y([Ot],this.posX+this.margin[3],-Xe+or+this.ctx.prevPageLastElemOffset)[0];var hr=(Yt>At||Yt<Rt)&&m.call(this);hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,et,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Ot.x,Ot.y,Ot.w,Ot.h,null,null,Ue),hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Ue)};var v=function(I,q,V){var K=[];q=q||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":K.push(Math.floor((I.y+Y)/V)+1);break;case"arc":K.push(Math.floor((I.y+Y-I.radius)/V)+1),K.push(Math.floor((I.y+Y+I.radius)/V)+1);break;case"qct":var ae=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);K.push(Math.floor((ae.y+Y)/V)+1),K.push(Math.floor((ae.y+ae.h+Y)/V)+1);break;case"bct":var pe=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);K.push(Math.floor((pe.y+Y)/V)+1),K.push(Math.floor((pe.y+pe.h+Y)/V)+1);break;case"rect":K.push(Math.floor((I.y+Y)/V)+1),K.push(Math.floor((I.y+I.h+Y)/V)+1)}for(var le=0;le<K.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<K[le];)x.call(this);return K},x=function(){var I=this.fillStyle,q=this.strokeStyle,V=this.font,K=this.lineCap,Y=this.lineWidth,ae=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=q,this.font=V,this.lineCap=K,this.lineWidth=Y,this.lineJoin=ae},y=function(I,q,V){for(var K=0;K<I.length;K++)switch(I[K].type){case"bct":I[K].x2+=q,I[K].y2+=V;case"qct":I[K].x1+=q,I[K].y1+=V;case"mt":case"lt":case"arc":default:I[K].x+=q,I[K].y+=V}return I},w=function(I){return I.sort(function(q,V){return q-V})},_=function(I,q){for(var V,K,Y=this.fillStyle,ae=this.strokeStyle,pe=this.lineCap,le=this.lineWidth,ye=Math.abs(le*this.ctx.transform.scaleX),Se=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),We=JSON.parse(JSON.stringify(this.path)),Ve=[],ke=0;ke<We.length;ke++)if(We[ke].x!==void 0)for(var Q=v.call(this,We[ke]),_e=0;_e<Q.length;_e+=1)Ve.indexOf(Q[_e])===-1&&Ve.push(Q[_e]);for(var Ue=0;Ue<Ve.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<Ve[Ue];)x.call(this);if(w(Ve),this.autoPaging)for(var Te=Ve[0],qe=Ve[Ve.length-1],rt=Te;rt<qe+1;rt++){this.pdf.setPage(rt),this.fillStyle=Y,this.strokeStyle=ae,this.lineCap=pe,this.lineWidth=ye,this.lineJoin=Se;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=rt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Rt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Yt=rt===1?0:At+(rt-2)*Rt;if(this.ctx.clip_path.length!==0){var ar=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(V,this.posX+this.margin[3],-Yt+$e+this.ctx.prevPageLastElemOffset),A.call(this,I,!0),this.path=ar}if(K=JSON.parse(JSON.stringify(we)),this.path=y(K,this.posX+this.margin[3],-Yt+$e+this.ctx.prevPageLastElemOffset),q===!1||rt===0){var or=(rt>Te||rt<qe)&&m.call(this);or&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Rt,null).clip().discardPath()),A.call(this,I,q),or&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=ye,A.call(this,I,q),this.lineWidth=le;this.path=we},A=function(I,q){if((I!=="stroke"||q||!g.call(this))&&(I==="stroke"||q||!p.call(this))){for(var V,K,Y=[],ae=this.path,pe=0;pe<ae.length;pe++){var le=ae[pe];switch(le.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:le,deltas:[],abs:[]});break;case"lt":var ye=Y.length;if(ae[pe-1]&&!isNaN(ae[pe-1].x)&&(V=[le.x-ae[pe-1].x,le.y-ae[pe-1].y],ye>0)){for(;ye>=0;ye--)if(Y[ye-1].close!==!0&&Y[ye-1].begin!==!0){Y[ye-1].deltas.push(V),Y[ye-1].abs.push(le);break}}break;case"bct":V=[le.x1-ae[pe-1].x,le.y1-ae[pe-1].y,le.x2-ae[pe-1].x,le.y2-ae[pe-1].y,le.x-ae[pe-1].x,le.y-ae[pe-1].y],Y[Y.length-1].deltas.push(V);break;case"qct":var Se=ae[pe-1].x+2/3*(le.x1-ae[pe-1].x),we=ae[pe-1].y+2/3*(le.y1-ae[pe-1].y),We=le.x+2/3*(le.x1-le.x),Ve=le.y+2/3*(le.y1-le.y),ke=le.x,Q=le.y;V=[Se-ae[pe-1].x,we-ae[pe-1].y,We-ae[pe-1].x,Ve-ae[pe-1].y,ke-ae[pe-1].x,Q-ae[pe-1].y],Y[Y.length-1].deltas.push(V);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(le)}}K=q?null:I==="stroke"?"stroke":"fill";for(var _e=!1,Ue=0;Ue<Y.length;Ue++)if(Y[Ue].arc)for(var Te=Y[Ue].abs,qe=0;qe<Te.length;qe++){var rt=Te[qe];rt.type==="arc"?E.call(this,rt.x,rt.y,rt.radius,rt.startAngle,rt.endAngle,rt.counterclockwise,void 0,q,!_e):D.call(this,rt.x,rt.y),_e=!0}else if(Y[Ue].close===!0)this.pdf.internal.out("h"),_e=!1;else if(Y[Ue].begin!==!0){var ct=Y[Ue].start.x,$e=Y[Ue].start.y;F.call(this,Y[Ue].deltas,ct,$e),_e=!0}K&&P.call(this,K),q&&L.call(this)}},C=function(I){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-V;case"top":return I+q-V;case"hanging":return I+q-2*V;case"middle":return I+q/2-V;case"ideographic":return I;case"alphabetic":default:return I}},N=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(q,V){this.colorStops.push([q,V])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(I,q,V,K,Y,ae,pe,le,ye){for(var Se=U.call(this,V,K,Y,ae),we=0;we<Se.length;we++){var We=Se[we];we===0&&(ye?O.call(this,We.x1+I,We.y1+q):D.call(this,We.x1+I,We.y1+q)),z.call(this,I,q,We.x2,We.y2,We.x3,We.y3,We.x4,We.y4)}le?L.call(this):P.call(this,pe)},P=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(I,q){this.pdf.internal.out(r(I)+" "+n(q)+" m")},k=function(I){var q;switch(I.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var V=this.pdf.getTextDimensions(I.text),K=C.call(this,I.y),Y=N.call(this,K)-V.h,ae=this.ctx.transform.applyToPoint(new a(I.x,K)),pe=this.ctx.transform.decompose(),le=new l;le=(le=(le=le.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var ye,Se,we,We=this.ctx.transform.applyToRectangle(new o(I.x,K,V.w,V.h)),Ve=le.applyToRectangle(new o(I.x,Y,V.w,V.h)),ke=v.call(this,Ve),Q=[],_e=0;_e<ke.length;_e+=1)Q.indexOf(ke[_e])===-1&&Q.push(ke[_e]);if(w(Q),this.autoPaging)for(var Ue=Q[0],Te=Q[Q.length-1],qe=Ue;qe<Te+1;qe++){this.pdf.setPage(qe);var rt=qe===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[2],At=$e-this.margin[0],Rt=this.pdf.internal.pageSize.width-this.margin[1],Yt=Rt-this.margin[3],ar=qe===1?0:ct+(qe-2)*At;if(this.ctx.clip_path.length!==0){var or=this.path;ye=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ye,this.posX+this.margin[3],-1*ar+rt),A.call(this,"fill",!0),this.path=or}var Ht=y([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ar+rt+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*I.scale),we=this.lineWidth,this.lineWidth=we*I.scale);var et=this.autoPaging!=="text";if(et||Ht.y+Ht.h<=$e){if(et||Ht.y>=rt&&Ht.x<=Rt){var Xe=et?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||Rt-Ht.x)[0],Lt=y([JSON.parse(JSON.stringify(We))],this.posX+this.margin[3],-ar+rt+this.ctx.prevPageLastElemOffset)[0],Ot=et&&(qe>Ue||qe<Te)&&m.call(this);Ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Yt,At,null).clip().discardPath()),this.pdf.text(Xe,Lt.x,Lt.y,{angle:I.angle,align:q,renderingMode:I.renderingMode}),Ot&&this.pdf.restoreGraphicsState()}}else Ht.y<$e&&(this.ctx.prevPageLastElemOffset+=$e-Ht.y);I.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=we)}else I.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*I.scale),we=this.lineWidth,this.lineWidth=we*I.scale),this.pdf.text(I.text,ae.x+this.posX,ae.y+this.posY,{angle:I.angle,align:q,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=we)},D=function(I,q,V,K){V=V||0,K=K||0,this.pdf.internal.out(r(I+V)+" "+n(q+K)+" l")},F=function(I,q,V){return this.pdf.lines(I,q,V,null,null)},z=function(I,q,V,K,Y,ae,pe,le){this.pdf.internal.out([e(i(V+I)),e(s(K+q)),e(i(Y+I)),e(s(ae+q)),e(i(pe+I)),e(s(le+q)),"c"].join(" "))},U=function(I,q,V,K){for(var Y=2*Math.PI,ae=Math.PI/2;q>V;)q-=Y;var pe=Math.abs(V-q);pe<Y&&K&&(pe=Y-pe);for(var le=[],ye=K?-1:1,Se=q;pe>1e-5;){var we=Se+ye*Math.min(pe,ae);le.push(H.call(this,I,Se,we)),pe-=Math.abs(we-Se),Se=we}return le},H=function(I,q,V){var K=(V-q)/2,Y=I*Math.cos(K),ae=I*Math.sin(K),pe=Y,le=-ae,ye=pe*pe+le*le,Se=ye+pe*Y+le*ae,we=4/3*(Math.sqrt(2*ye*Se)-Se)/(pe*ae-le*Y),We=pe-we*le,Ve=le+we*pe,ke=We,Q=-Ve,_e=K+q,Ue=Math.cos(_e),Te=Math.sin(_e);return{x1:I*Math.cos(q),y1:I*Math.sin(q),x2:We*Ue-Ve*Te,y2:We*Te+Ve*Ue,x3:ke*Ue-Q*Te,y3:ke*Te+Q*Ue,x4:I*Math.cos(V),y4:I*Math.sin(V)}},B=function(I){return 180*I/Math.PI},X=function(I,q,V,K,Y,ae){var pe=I+.5*(V-I),le=q+.5*(K-q),ye=Y+.5*(V-Y),Se=ae+.5*(K-ae),we=Math.min(I,Y,pe,ye),We=Math.max(I,Y,pe,ye),Ve=Math.min(q,ae,le,Se),ke=Math.max(q,ae,le,Se);return new o(we,Ve,We-we,ke-Ve)},ne=function(I,q,V,K,Y,ae,pe,le){var ye,Se,we,We,Ve,ke,Q,_e,Ue,Te,qe,rt,ct,$e,At=V-I,Rt=K-q,Yt=Y-V,ar=ae-K,or=pe-Y,Ht=le-ae;for(Se=0;Se<41;Se++)Ue=(Q=(we=I+(ye=Se/40)*At)+ye*((Ve=V+ye*Yt)-we))+ye*(Ve+ye*(Y+ye*or-Ve)-Q),Te=(_e=(We=q+ye*Rt)+ye*((ke=K+ye*ar)-We))+ye*(ke+ye*(ae+ye*Ht-ke)-_e),Se==0?(qe=Ue,rt=Te,ct=Ue,$e=Te):(qe=Math.min(qe,Ue),rt=Math.min(rt,Te),ct=Math.max(ct,Ue),$e=Math.max($e,Te));return new o(Math.round(qe),Math.round(rt),Math.round(ct-qe),Math.round($e-rt))},fe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,q,V=(I=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:q}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(ir.API),function(t){var e=function(s){var a,o,l,u,d,h,f,p,g,m;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(h=(d=((d=((d=((d=(d-(m=d%85))/85)-(g=d%85))/85)-(p=d%85))/85)-(f=d%85))/85)%85,o.push(h+33,f+33,p+33,g+33,m+33)):o.push(122);return function(v,x){for(var y=x;y>0;y--)v.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,l,u,d,h=String,f="length",p=255,g="charCodeAt",m="slice",v="replace";for(s[m](-2),s=s[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],u=0,d=(s+=a="uuuuu"[m](s[f]%5||5))[f];d>u;u+=5)o=52200625*(s[g](u)-33)+614125*(s[g](u+1)-33)+7225*(s[g](u+2)-33)+85*(s[g](u+3)-33)+(s[g](u+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(x,y){for(var w=y;w>0;w--)x.pop()}(l,a[f]),h.fromCharCode.apply(h,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=qF(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ir.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,d){var h=new XMLHttpRequest,f=0,p=function(g){var m=g.length,v=[],x=String.fromCharCode;for(f=0;f<m;f+=1)v.push(x(255&g.charCodeAt(f)));return v.join("")};if(h.open("GET",l,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(ir.API),function(t){function e(){return(sr.html2canvas?Promise.resolve(sr.html2canvas):t0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(sr.DOMPurify?Promise.resolve(sr.DOMPurify):t0(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=bn(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,d){for(var h=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),f=u.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||h.appendChild(l(f,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(h.width=u.width,h.height=u.height,h.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(h.value=u.value),h.addEventListener("load",function(){h.scrollTop=u.scrollTop,h.scrollLeft=u.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var f=0;f<u.length;++f){var p=u[f],g=p.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),o(this.prop.container,h)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||ir.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,u),h}).then(u,d).then(function(h){return l.updateProgress(1),h})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(u,a,o);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ir.getPageSize=function(a,o,l){if(bn(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var d,h=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,g=0,m=0;if(f.hasOwnProperty(h))g=f[h][1]/d,m=f[h][0]/d;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",m>g&&(p=m,m=g,g=p);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",g>m&&(p=m,m=g,g=p)}return{width:m,height:g,unit:o,k:d,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(YF):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(ir.API),ir.API.addJS=function(t){return yG=t,this.internal.events.subscribe("postPutResources",function(){PC=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(PC+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){PC!==void 0&&xG!==void 0&&this.internal.out("/Names <</JavaScript "+PC+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var h=r.internal.newObject();d.push(h);var f=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(ir.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),g=h.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=p,e.indexOf(h.charCodeAt(v+1))!==-1){f=256*h.charCodeAt(v+5)+h.charCodeAt(v+6),m={width:256*h.charCodeAt(v+7)+h.charCodeAt(v+8),height:f,numcomponents:h.charCodeAt(v+9)};break}p=256*h.charCodeAt(v+2)+h.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return d}}(ir.API);var dy,kC,bG,wG,_G,JIe=function(){var t,e,r;function n(s){var a,o,l,u,d,h,f,p,g,m,v,x,y,w;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(a=this.readUInt32(),g=(function(){var _,A;for(A=[],_=0;_<4;++_)A.push(String.fromCharCode(this.data[this.pos++]));return A}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,h.delay=1e3*d/u,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,a-=4),s=(h!=null?h.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(y=0;0<=m?y<m:y>m;0<=m?++y:--y)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(v=this.read(a)).indexOf(0),p=String.fromCharCode.apply(String,v.slice(0,f)),this.text[p]=String.fromCharCode.apply(String,v.slice(f+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(h,f,p,g){var m,v,x,y,w,_,A,C,N,E,P,L,O,k,D,F,z,U,H,B,X,ne=Math.ceil((u.width-h)/p),fe=Math.ceil((u.height-f)/g),I=u.width==ne&&u.height==fe;for(k=a*ne,L=I?o:new Uint8Array(k*fe),_=s.length,O=0,v=0;O<fe&&l<_;){switch(s[l++]){case 0:for(y=z=0;z<k;y=z+=1)L[v++]=s[l++];break;case 1:for(y=U=0;U<k;y=U+=1)m=s[l++],w=y<a?0:L[v-a],L[v++]=(m+w)%256;break;case 2:for(y=H=0;H<k;y=H+=1)m=s[l++],x=(y-y%a)/a,D=O&&L[(O-1)*k+x*a+y%a],L[v++]=(D+m)%256;break;case 3:for(y=B=0;B<k;y=B+=1)m=s[l++],x=(y-y%a)/a,w=y<a?0:L[v-a],D=O&&L[(O-1)*k+x*a+y%a],L[v++]=(m+Math.floor((w+D)/2))%256;break;case 4:for(y=X=0;X<k;y=X+=1)m=s[l++],x=(y-y%a)/a,w=y<a?0:L[v-a],O===0?D=F=0:(D=L[(O-1)*k+x*a+y%a],F=x&&L[(O-1)*k+(x-1)*a+y%a]),A=w+D-F,C=Math.abs(A-w),E=Math.abs(A-D),P=Math.abs(A-F),N=C<=E&&C<=P?w:E<=P?D:F,L[v++]=(m+N)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!I){var q=((f+O*g)*u.width+h)*a,V=O*k;for(y=0;y<ne;y+=1){for(var K=0;K<a;K+=1)o[q++]=L[V++];q+=(p-1)*a}}O++}}return s=PIe(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,u,d,h,f,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),l=0,s=0,a=h=0,f=o.length;h<f;a=h+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(p=d[s++])!=null?p:255;return u},n.prototype.copyToImageData=function(s,a){var o,l,u,d,h,f,p,g,m,v,x;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(u=s.data||s).length,h=m||a,d=f=0,l===1)for(;d<g;)p=m?4*a[d/4]:f,v=h[p++],u[d++]=v,u[d++]=v,u[d++]=v,u[d++]=o?h[p++]:255,f=p;else for(;d<g;)p=m?4*a[d/4]:f,u[d++]=h[p++],u[d++]=h[p++],u[d++]=h[p++],u[d++]=o?h[p++]:255,f=p},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(sr)==="[object Window]"){try{e=sr.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,u,d,h,f,p;if(this.animation){for(p=[],o=d=0,h=(f=this.animation.frames).length;d<h;o=++d)a=f[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,p.push(a.image=t(l));return p}},n.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,u,d,h,f=this;return o=0,h=this.animation,u=h.numFrames,l=h.frames,d=h.numPlays,(a=function(){var p,g;if(p=o++%u,g=l[p],f.renderFrame(s,p),u>1&&o/u<d)return f.animation._timeout=setTimeout(a,g.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function ZIe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,d=[],h=0,f=null,p=0,g=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,g=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var m=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],!(1&m)&&(f=null),p=m>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++],A=_>>6&1,C=1<<(7&_)+1,N=o,E=l,P=!1;_>>7&&(P=!0,N=e,E=C,e+=3*C);var L=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}d.push({x:v,y:x,width:y,height:w,has_local_palette:P,palette_offset:N,palette_size:E,data_offset:L,data_length:e-L,transparent_index:f,interlaced:!!A,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return g},this.frameInfo=function(k){if(k<0||k>=d.length)throw new Error("Frame index out of range.");return d[k]},this.decodeAndBlitFrameBGRA=function(k,D){var F=this.frameInfo(k),z=F.width*F.height,U=new Uint8Array(z);SG(t,F.data_offset,U,z);var H=F.palette_offset,B=F.transparent_index;B===null&&(B=256);var X=F.width,ne=r-X,fe=X,I=4*(F.y*r+F.x),q=4*((F.y+F.height)*r+F.x),V=I,K=4*ne;F.interlaced===!0&&(K+=4*r*7);for(var Y=8,ae=0,pe=U.length;ae<pe;++ae){var le=U[ae];if(fe===0&&(fe=X,(V+=K)>=q&&(K=4*ne+4*r*(Y-1),V=I+(X+ne)*(Y<<1),Y>>=1)),le===B)V+=4;else{var ye=t[H+3*le],Se=t[H+3*le+1],we=t[H+3*le+2];D[V++]=we,D[V++]=Se,D[V++]=ye,D[V++]=255}--fe}},this.decodeAndBlitFrameRGBA=function(k,D){var F=this.frameInfo(k),z=F.width*F.height,U=new Uint8Array(z);SG(t,F.data_offset,U,z);var H=F.palette_offset,B=F.transparent_index;B===null&&(B=256);var X=F.width,ne=r-X,fe=X,I=4*(F.y*r+F.x),q=4*((F.y+F.height)*r+F.x),V=I,K=4*ne;F.interlaced===!0&&(K+=4*r*7);for(var Y=8,ae=0,pe=U.length;ae<pe;++ae){var le=U[ae];if(fe===0&&(fe=X,(V+=K)>=q&&(K=4*ne+4*r*(Y-1),V=I+(X+ne)*(Y<<1),Y>>=1)),le===B)V+=4;else{var ye=t[H+3*le],Se=t[H+3*le+1],we=t[H+3*le+2];D[V++]=ye,D[V++]=Se,D[V++]=we,D[V++]=255}--fe}}}function SG(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,d=0,h=0,f=0,p=t[e++],g=new Int32Array(4096),m=null;;){for(;d<16&&p!==0;)h|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<l)break;var v=h&u;if(h>>=l,d-=l,v!==s){if(v===a)break;for(var x=v<o?v:m,y=0,w=x;w>s;)w=g[w]>>8,++y;var _=w;if(f+y+(x!==v?1:0)>n)return void On.log("Warning, gif stream longer than expected.");r[f++]=_;var A=f+=y;for(x!==v&&(r[f++]=_),w=x;y--;)w=g[w],r[--A]=255&w,w>>=8;m!==null&&o<4096&&(g[o++]=m<<8|_,o>=u+1&&l<12&&(++l,u=u<<1|1)),m=v}else o=a+1,u=(1<<(l=i+1))-1,m=null}return f!==n&&On.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function qI(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),g=new Array(64),m=[],v=0,x=7,y=new Array(64),w=new Array(64),_=new Array(64),A=new Array(256),C=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function U(I,q){for(var V=0,K=0,Y=new Array,ae=1;ae<=16;ae++){for(var pe=1;pe<=I[ae];pe++)Y[q[K]]=[],Y[q[K]][0]=V,Y[q[K]][1]=ae,K++,V++;V*=2}return Y}function H(I){for(var q=I[0],V=I[1]-1;V>=0;)q&1<<V&&(v|=1<<x),V--,--x<0&&(v==255?(B(255),B(0)):B(v),x=7,v=0)}function B(I){m.push(I)}function X(I){B(I>>8&255),B(255&I)}function ne(I,q,V,K,Y){for(var ae,pe=Y[0],le=Y[240],ye=function(Te,qe){var rt,ct,$e,At,Rt,Yt,ar,or,Ht,et,Xe=0;for(Ht=0;Ht<8;++Ht){rt=Te[Xe],ct=Te[Xe+1],$e=Te[Xe+2],At=Te[Xe+3],Rt=Te[Xe+4],Yt=Te[Xe+5],ar=Te[Xe+6];var Lt=rt+(or=Te[Xe+7]),Ot=rt-or,hr=ct+ar,vr=ct-ar,lr=$e+Yt,Gn=$e-Yt,xt=At+Rt,Jt=At-Rt,Zt=Lt+xt,Rn=Lt-xt,Kn=hr+lr,Zr=hr-lr;Te[Xe]=Zt+Kn,Te[Xe+4]=Zt-Kn;var cr=.707106781*(Zr+Rn);Te[Xe+2]=Rn+cr,Te[Xe+6]=Rn-cr;var en=.382683433*((Zt=Jt+Gn)-(Zr=vr+Ot)),gh=.5411961*Zt+en,as=1.306562965*Zr+en,tc=.707106781*(Kn=Gn+vr),rc=Ot+tc,er=Ot-tc;Te[Xe+5]=er+gh,Te[Xe+3]=er-gh,Te[Xe+1]=rc+as,Te[Xe+7]=rc-as,Xe+=8}for(Xe=0,Ht=0;Ht<8;++Ht){rt=Te[Xe],ct=Te[Xe+8],$e=Te[Xe+16],At=Te[Xe+24],Rt=Te[Xe+32],Yt=Te[Xe+40],ar=Te[Xe+48];var sl=rt+(or=Te[Xe+56]),bo=rt-or,da=ct+ar,Ti=ct-ar,xi=$e+Yt,ie=$e-Yt,ve=At+Rt,de=At-Rt,he=sl+ve,ge=sl-ve,xe=da+xi,Re=da-xi;Te[Xe]=he+xe,Te[Xe+32]=he-xe;var Ke=.707106781*(Re+ge);Te[Xe+16]=ge+Ke,Te[Xe+48]=ge-Ke;var Le=.382683433*((he=de+ie)-(Re=Ti+bo)),Be=.5411961*he+Le,ze=1.306562965*Re+Le,ht=.707106781*(xe=ie+Ti),bt=bo+ht,Tt=bo-ht;Te[Xe+40]=Tt+Be,Te[Xe+24]=Tt-Be,Te[Xe+8]=bt+ze,Te[Xe+56]=bt-ze,Xe++}for(Ht=0;Ht<64;++Ht)et=Te[Ht]*qe[Ht],p[Ht]=et>0?et+.5|0:et-.5|0;return p}(I,q),Se=0;Se<64;++Se)g[N[Se]]=ye[Se];var we=g[0]-V;V=g[0],we==0?H(K[0]):(H(K[f[ae=32767+we]]),H(h[ae]));for(var We=63;We>0&&g[We]==0;)We--;if(We==0)return H(pe),V;for(var Ve,ke=1;ke<=We;){for(var Q=ke;g[ke]==0&&ke<=We;)++ke;var _e=ke-Q;if(_e>=16){Ve=_e>>4;for(var Ue=1;Ue<=Ve;++Ue)H(le);_e&=15}ae=32767+g[ke],H(Y[(_e<<4)+f[ae]]),H(h[ae]),ke++}return We!=63&&H(pe),V}function fe(I){I=Math.min(Math.max(I,1),100),s!=I&&(function(q){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Y=a((V[K]*q+50)/100);Y=Math.min(Math.max(Y,1),255),o[N[K]]=Y}for(var ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var le=a((ae[pe]*q+50)/100);le=Math.min(Math.max(le,1),255),l[N[pe]]=le}for(var ye=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,we=0;we<8;we++)for(var We=0;We<8;We++)u[Se]=1/(o[N[Se]]*ye[we]*ye[We]*8),d[Se]=1/(l[N[Se]]*ye[we]*ye[We]*8),Se++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),s=I)}this.encode=function(I,q){q&&fe(q),m=new Array,v=0,x=7,X(65496),X(65504),X(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),X(1),X(1),B(0),B(0),function(){X(65499),X(132),B(0);for(var ct=0;ct<64;ct++)B(o[ct]);B(1);for(var $e=0;$e<64;$e++)B(l[$e])}(),function(ct,$e){X(65472),X(17),B(8),X($e),X(ct),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(I.width,I.height),function(){X(65476),X(418),B(0);for(var ct=0;ct<16;ct++)B(E[ct+1]);for(var $e=0;$e<=11;$e++)B(P[$e]);B(16);for(var At=0;At<16;At++)B(L[At+1]);for(var Rt=0;Rt<=161;Rt++)B(O[Rt]);B(1);for(var Yt=0;Yt<16;Yt++)B(k[Yt+1]);for(var ar=0;ar<=11;ar++)B(D[ar]);B(17);for(var or=0;or<16;or++)B(F[or+1]);for(var Ht=0;Ht<=161;Ht++)B(z[Ht])}(),X(65498),X(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var V=0,K=0,Y=0;v=0,x=7,this.encode.displayName="_encode_";for(var ae,pe,le,ye,Se,we,We,Ve,ke,Q=I.data,_e=I.width,Ue=I.height,Te=4*_e,qe=0;qe<Ue;){for(ae=0;ae<Te;){for(Se=Te*qe+ae,We=-1,Ve=0,ke=0;ke<64;ke++)we=Se+(Ve=ke>>3)*Te+(We=4*(7&ke)),qe+Ve>=Ue&&(we-=Te*(qe+1+Ve-Ue)),ae+We>=Te&&(we-=ae+We-Te+4),pe=Q[we++],le=Q[we++],ye=Q[we++],y[ke]=(C[pe]+C[le+256>>0]+C[ye+512>>0]>>16)-128,w[ke]=(C[pe+768>>0]+C[le+1024>>0]+C[ye+1280>>0]>>16)-128,_[ke]=(C[pe+1280>>0]+C[le+1536>>0]+C[ye+1792>>0]>>16)-128;V=ne(y,u,V,e,n),K=ne(w,d,K,r,i),Y=ne(_,d,Y,r,i),ae+=32}qe+=8}if(x>=0){var rt=[];rt[1]=x+1,rt[0]=(1<<x+1)-1,H(rt)}return X(65497),new Uint8Array(m)},t=t||50,function(){for(var I=String.fromCharCode,q=0;q<256;q++)A[q]=I(q)}(),e=U(E,P),r=U(k,D),n=U(L,O),i=U(F,z),function(){for(var I=1,q=2,V=1;V<=15;V++){for(var K=I;K<q;K++)f[32767+K]=V,h[32767+K]=[],h[32767+K][1]=V,h[32767+K][0]=K;for(var Y=-(q-1);Y<=-I;Y++)f[32767+Y]=V,h[32767+Y]=[],h[32767+Y][1]=V,h[32767+Y][0]=q-1+Y;I<<=1,q<<=1}}(),function(){for(var I=0;I<256;I++)C[I]=19595*I,C[I+256>>0]=38470*I,C[I+512>>0]=7471*I+32768,C[I+768>>0]=-11059*I,C[I+1024>>0]=-21709*I,C[I+1280>>0]=32768*I+8421375,C[I+1536>>0]=-27439*I,C[I+1792>>0]=-5329*I}(),fe(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function nu(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function AG(t){function e(E){if(!E)throw Error("assert :P")}function r(E,P,L){for(var O=0;4>O;O++)if(E[P+O]!=L.charCodeAt(O))return!0;return!1}function n(E,P,L,O,k){for(var D=0;D<k;D++)E[P+D]=L[O+D]}function i(E,P,L,O){for(var k=0;k<O;k++)E[P+k]=L}function s(E){return new Int32Array(E)}function a(E,P){for(var L=[],O=0;O<E;O++)L.push(new P);return L}function o(E,P){var L=[];return function O(k,D,F){for(var z=F[D],U=0;U<z&&(k.push(F.length>D+1?[]:new P),!(F.length<D+1));U++)O(k[U],D+1,F)}(L,0,E),L}var l=function(){var E=this;function P(S,T){for(var R=1<<T-1>>>0;S&R;)R>>>=1;return R?(S&R-1)+R:S}function L(S,T,R,W,J){e(!(W%R));do S[T+(W-=R)]=J;while(0<W)}function O(S,T,R,W,J){if(e(2328>=J),512>=J)var re=s(512);else if((re=s(J))==null)return 0;return function(se,oe,ce,me,Ne,De){var Fe,Pe,at=oe,Ye=1<<ce,Ee=s(16),Ce=s(16);for(e(Ne!=0),e(me!=null),e(se!=null),e(0<ce),Pe=0;Pe<Ne;++Pe){if(15<me[Pe])return 0;++Ee[me[Pe]]}if(Ee[0]==Ne)return 0;for(Ce[1]=0,Fe=1;15>Fe;++Fe){if(Ee[Fe]>1<<Fe)return 0;Ce[Fe+1]=Ce[Fe]+Ee[Fe]}for(Pe=0;Pe<Ne;++Pe)Fe=me[Pe],0<me[Pe]&&(De[Ce[Fe]++]=Pe);if(Ce[15]==1)return(me=new k).g=0,me.value=De[0],L(se,at,1,Ye,me),Ye;var nt,lt=-1,st=Ye-1,Mt=0,jt=1,tr=1,Et=1<<ce;for(Pe=0,Fe=1,Ne=2;Fe<=ce;++Fe,Ne<<=1){if(jt+=tr<<=1,0>(tr-=Ee[Fe]))return 0;for(;0<Ee[Fe];--Ee[Fe])(me=new k).g=Fe,me.value=De[Pe++],L(se,at+Mt,Ne,Et,me),Mt=P(Mt,Fe)}for(Fe=ce+1,Ne=2;15>=Fe;++Fe,Ne<<=1){if(jt+=tr<<=1,0>(tr-=Ee[Fe]))return 0;for(;0<Ee[Fe];--Ee[Fe]){if(me=new k,(Mt&st)!=lt){for(at+=Et,nt=1<<(lt=Fe)-ce;15>lt&&!(0>=(nt-=Ee[lt]));)++lt,nt<<=1;Ye+=Et=1<<(nt=lt-ce),se[oe+(lt=Mt&st)].g=nt+ce,se[oe+lt].value=at-oe-lt}me.g=Fe-ce,me.value=De[Pe++],L(se,at+(Mt>>ce),Ne,Et,me),Mt=P(Mt,Fe)}}return jt!=2*Ce[15]-1?0:Ye}(S,T,R,W,J,re)}function k(){this.value=this.g=0}function D(){this.value=this.g=0}function F(){this.G=a(5,k),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(qs,D)}function z(S,T,R,W){e(S!=null),e(T!=null),e(2147483648>W),S.Ca=254,S.I=0,S.b=-8,S.Ka=0,S.oa=T,S.pa=R,S.Jd=T,S.Yc=R+W,S.Zc=4<=W?R+W-4+1:R,ae(S)}function U(S,T){for(var R=0;0<T--;)R|=le(S,128)<<T;return R}function H(S,T){var R=U(S,T);return pe(S)?-R:R}function B(S,T,R,W){var J,re=0;for(e(S!=null),e(T!=null),e(4294967288>W),S.Sb=W,S.Ra=0,S.u=0,S.h=0,4<W&&(W=4),J=0;J<W;++J)re+=T[R+J]<<8*J;S.Ra=re,S.bb=W,S.oa=T,S.pa=R}function X(S){for(;8<=S.u&&S.bb<S.Sb;)S.Ra>>>=8,S.Ra+=S.oa[S.pa+S.bb]<<zx-8>>>0,++S.bb,S.u-=8;V(S)&&(S.h=1,S.u=0)}function ne(S,T){if(e(0<=T),!S.h&&T<=Ux){var R=q(S)&Bx[T];return S.u+=T,X(S),R}return S.h=1,S.u=0}function fe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(S){return S.Ra>>>(S.u&zx-1)>>>0}function V(S){return e(S.bb<=S.Sb),S.h||S.bb==S.Sb&&S.u>zx}function K(S,T){S.u=T,S.h=V(S)}function Y(S){S.u>=D2&&(e(S.u>=D2),X(S))}function ae(S){e(S!=null&&S.oa!=null),S.pa<S.Zc?(S.I=(S.oa[S.pa++]|S.I<<8)>>>0,S.b+=8):(e(S!=null&&S.oa!=null),S.pa<S.Yc?(S.b+=8,S.I=S.oa[S.pa++]|S.I<<8):S.Ka?S.b=0:(S.I<<=8,S.b+=8,S.Ka=1))}function pe(S){return U(S,1)}function le(S,T){var R=S.Ca;0>S.b&&ae(S);var W=S.b,J=R*T>>>8,re=(S.I>>>W>J)+0;for(re?(R-=J,S.I-=J+1<<W>>>0):R=J+1,W=R,J=0;256<=W;)J+=8,W>>=8;return W=7^J+_o[W],S.b-=W,S.Ca=(R<<W)-1,re}function ye(S,T,R){S[T+0]=R>>24&255,S[T+1]=R>>16&255,S[T+2]=R>>8&255,S[T+3]=R>>0&255}function Se(S,T){return S[T+0]<<0|S[T+1]<<8}function we(S,T){return Se(S,T)|S[T+2]<<16}function We(S,T){return Se(S,T)|Se(S,T+2)<<16}function Ve(S,T){var R=1<<T;return e(S!=null),e(0<T),S.X=s(R),S.X==null?0:(S.Mb=32-T,S.Xa=T,1)}function ke(S,T){e(S!=null),e(T!=null),e(S.Xa==T.Xa),n(T.X,0,S.X,0,1<<T.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function _e(S,T,R,W){e(R!=null),e(W!=null);var J=R[0],re=W[0];return J==0&&(J=(S*re+T/2)/T),re==0&&(re=(T*J+S/2)/S),0>=J||0>=re?0:(R[0]=J,W[0]=re,1)}function Ue(S,T){return S+(1<<T)-1>>>T}function Te(S,T){return((4278255360&S)+(4278255360&T)>>>0&4278255360)+((16711935&S)+(16711935&T)>>>0&16711935)>>>0}function qe(S,T){E[T]=function(R,W,J,re,se,oe,ce){var me;for(me=0;me<se;++me){var Ne=E[S](oe[ce+me-1],J,re+me);oe[ce+me]=Te(R[W+me],Ne)}}}function rt(){this.ud=this.hd=this.jd=0}function ct(S,T){return((4278124286&(S^T))>>>1)+(S&T)>>>0}function $e(S){return 0<=S&&256>S?S:0>S?0:255<S?255:void 0}function At(S,T){return $e(S+(S-T+.5>>1))}function Rt(S,T,R){return Math.abs(T-R)-Math.abs(S-R)}function Yt(S,T,R,W,J,re,se){for(W=re[se-1],R=0;R<J;++R)re[se+R]=W=Te(S[T+R],W)}function ar(S,T,R,W,J){var re;for(re=0;re<R;++re){var se=S[T+re],oe=se>>8&255,ce=16711935&(ce=(ce=16711935&se)+((oe<<16)+oe));W[J+re]=(4278255360&se)+ce>>>0}}function or(S,T){T.jd=S>>0&255,T.hd=S>>8&255,T.ud=S>>16&255}function Ht(S,T,R,W,J,re){var se;for(se=0;se<W;++se){var oe=T[R+se],ce=oe>>>8,me=oe,Ne=255&(Ne=(Ne=oe>>>16)+((S.jd<<24>>24)*(ce<<24>>24)>>>5));me=255&(me=(me=me+((S.hd<<24>>24)*(ce<<24>>24)>>>5))+((S.ud<<24>>24)*(Ne<<24>>24)>>>5)),J[re+se]=(4278255360&oe)+(Ne<<16)+me}}function et(S,T,R,W,J){E[T]=function(re,se,oe,ce,me,Ne,De,Fe,Pe){for(ce=De;ce<Fe;++ce)for(De=0;De<Pe;++De)me[Ne++]=J(oe[W(re[se++])])},E[S]=function(re,se,oe,ce,me,Ne,De){var Fe=8>>re.b,Pe=re.Ea,at=re.K[0],Ye=re.w;if(8>Fe)for(re=(1<<re.b)-1,Ye=(1<<Fe)-1;se<oe;++se){var Ee,Ce=0;for(Ee=0;Ee<Pe;++Ee)Ee&re||(Ce=W(ce[me++])),Ne[De++]=J(at[Ce&Ye]),Ce>>=Fe}else E["VP8LMapColor"+R](ce,me,at,Ye,Ne,De,se,oe,Pe)}}function Xe(S,T,R,W,J){for(R=T+R;T<R;){var re=S[T++];W[J++]=re>>16&255,W[J++]=re>>8&255,W[J++]=re>>0&255}}function Lt(S,T,R,W,J){for(R=T+R;T<R;){var re=S[T++];W[J++]=re>>16&255,W[J++]=re>>8&255,W[J++]=re>>0&255,W[J++]=re>>24&255}}function Ot(S,T,R,W,J){for(R=T+R;T<R;){var re=(se=S[T++])>>16&240|se>>12&15,se=se>>0&240|se>>28&15;W[J++]=re,W[J++]=se}}function hr(S,T,R,W,J){for(R=T+R;T<R;){var re=(se=S[T++])>>16&248|se>>13&7,se=se>>5&224|se>>3&31;W[J++]=re,W[J++]=se}}function vr(S,T,R,W,J){for(R=T+R;T<R;){var re=S[T++];W[J++]=re>>0&255,W[J++]=re>>8&255,W[J++]=re>>16&255}}function lr(S,T,R,W,J,re){if(re==0)for(R=T+R;T<R;)ye(W,((re=S[T++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),J+=32;else n(W,J,S,T,R)}function Gn(S,T){E[T][0]=E[S+"0"],E[T][1]=E[S+"1"],E[T][2]=E[S+"2"],E[T][3]=E[S+"3"],E[T][4]=E[S+"4"],E[T][5]=E[S+"5"],E[T][6]=E[S+"6"],E[T][7]=E[S+"7"],E[T][8]=E[S+"8"],E[T][9]=E[S+"9"],E[T][10]=E[S+"10"],E[T][11]=E[S+"11"],E[T][12]=E[S+"12"],E[T][13]=E[S+"13"],E[T][14]=E[S+"0"],E[T][15]=E[S+"0"]}function xt(S){return S==XM||S==QM||S==bE||S==JM}function Jt(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Jt,this.f.kb=new Zt,this.sd=null}function Kn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Zr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function cr(S){return alert("todo:WebPSamplerProcessPlane"),S.T}function en(S,T){var R=S.T,W=T.ba.f.RGBA,J=W.eb,re=W.fb+S.ka*W.A,se=lc[T.ba.S],oe=S.y,ce=S.O,me=S.f,Ne=S.N,De=S.ea,Fe=S.W,Pe=T.cc,at=T.dc,Ye=T.Mc,Ee=T.Nc,Ce=S.ka,nt=S.ka+S.T,lt=S.U,st=lt+1>>1;for(Ce==0?se(oe,ce,null,null,me,Ne,De,Fe,me,Ne,De,Fe,J,re,null,null,lt):(se(T.ec,T.fc,oe,ce,Pe,at,Ye,Ee,me,Ne,De,Fe,J,re-W.A,J,re,lt),++R);Ce+2<nt;Ce+=2)Pe=me,at=Ne,Ye=De,Ee=Fe,Ne+=S.Rc,Fe+=S.Rc,re+=2*W.A,se(oe,(ce+=2*S.fa)-S.fa,oe,ce,Pe,at,Ye,Ee,me,Ne,De,Fe,J,re-W.A,J,re,lt);return ce+=S.fa,S.j+nt<S.o?(n(T.ec,T.fc,oe,ce,lt),n(T.cc,T.dc,me,Ne,st),n(T.Mc,T.Nc,De,Fe,st),R--):1&nt||se(oe,ce,null,null,me,Ne,De,Fe,me,Ne,De,Fe,J,re+W.A,null,null,lt),R}function gh(S,T,R){var W=S.F,J=[S.J];if(W!=null){var re=S.U,se=T.ba.S,oe=se==yE||se==bE;T=T.ba.f.RGBA;var ce=[0],me=S.ka;ce[0]=S.T,S.Kb&&(me==0?--ce[0]:(--me,J[0]-=S.width),S.j+S.ka+S.T==S.o&&(ce[0]=S.o-S.j-me));var Ne=T.eb;me=T.fb+me*T.A,S=Fn(W,J[0],S.width,re,ce,Ne,me+(oe?0:3),T.A),e(R==ce),S&&xt(se)&&ac(Ne,me,oe,re,ce,T.A)}return 0}function as(S){var T=S.ma,R=T.ba.S,W=11>R,J=R==vE||R==xE||R==yE||R==YM||R==12||xt(R);if(T.memory=null,T.Ib=null,T.Jb=null,T.Nd=null,!I2(T.Oa,S,J?11:12))return 0;if(J&&xt(R)&&ut(),S.da)alert("todo:use_scaling");else{if(W){if(T.Ib=cr,S.Kb){if(R=S.U+1>>1,T.memory=s(S.U+2*R),T.memory==null)return 0;T.ec=T.memory,T.fc=0,T.cc=T.ec,T.dc=T.fc+S.U,T.Mc=T.cc,T.Nc=T.dc+R,T.Ib=en,ut()}}else alert("todo:EmitYUV");J&&(T.Jb=gh,W&&Me())}if(W&&!Sz){for(S=0;256>S;++S)C0e[S]=89858*(S-128)+_E>>wE,k0e[S]=-22014*(S-128)+_E,P0e[S]=-45773*(S-128),T0e[S]=113618*(S-128)+_E>>wE;for(S=W2;S<tL;++S)T=76283*(S-16)+_E>>wE,O0e[S-W2]=ol(T,255),M0e[S-W2]=ol(T+8>>4,15);Sz=1}return 1}function tc(S){var T=S.ma,R=S.U,W=S.T;return e(!(1&S.ka)),0>=R||0>=W?0:(R=T.Ib(S,T),T.Jb!=null&&T.Jb(S,T,R),T.Dc+=R,1)}function rc(S){S.ma.memory=null}function er(S,T,R,W){return ne(S,8)!=47?0:(T[0]=ne(S,14)+1,R[0]=ne(S,14)+1,W[0]=ne(S,1),ne(S,3)!=0?0:!S.h)}function sl(S,T){if(4>S)return S+1;var R=S-2>>1;return(2+(1&S)<<R)+ne(T,R)+1}function bo(S,T){return 120<T?T-120:1<=(R=((R=p0e[T-1])>>4)*S+(8-(15&R)))?R:1;var R}function da(S,T,R){var W=q(R),J=S[T+=255&W].g-8;return 0<J&&(K(R,R.u+8),W=q(R),T+=S[T].value,T+=W&(1<<J)-1),K(R,R.u+S[T].g),S[T].value}function Ti(S,T,R){return R.g+=S.g,R.value+=S.value<<T>>>0,e(8>=R.g),S.g}function xi(S,T,R){var W=S.xc;return e((T=W==0?0:S.vc[S.md*(R>>W)+(T>>W)])<S.Wb),S.Ya[T]}function ie(S,T,R,W){var J=S.ab,re=S.c*T,se=S.C;T=se+T;var oe=R,ce=W;for(W=S.Ta,R=S.Ua;0<J--;){var me=S.gc[J],Ne=se,De=T,Fe=oe,Pe=ce,at=(ce=W,oe=R,me.Ea);switch(e(Ne<De),e(De<=me.nc),me.hc){case 2:uE(Fe,Pe,(De-Ne)*at,ce,oe);break;case 0:var Ye=Ne,Ee=De,Ce=ce,nt=oe,lt=(Et=me).Ea;Ye==0&&(GM(Fe,Pe,null,null,1,Ce,nt),Yt(Fe,Pe+1,0,0,lt-1,Ce,nt+1),Pe+=lt,nt+=lt,++Ye);for(var st=1<<Et.b,Mt=st-1,jt=Ue(lt,Et.b),tr=Et.K,Et=Et.w+(Ye>>Et.b)*jt;Ye<Ee;){var on=tr,hn=Et,Yr=1;for(F2(Fe,Pe,Ce,nt-lt,1,Ce,nt);Yr<lt;){var Hr=(Yr&~Mt)+st;Hr>lt&&(Hr=lt),(0,up[on[hn++]>>8&15])(Fe,Pe+ +Yr,Ce,nt+Yr-lt,Hr-Yr,Ce,nt+Yr),Yr=Hr}Pe+=lt,nt+=lt,++Ye&Mt||(Et+=jt)}De!=me.nc&&n(ce,oe-at,ce,oe+(De-Ne-1)*at,at);break;case 1:for(at=Fe,Ee=Pe,lt=(Fe=me.Ea)-(nt=Fe&~(Ce=(Pe=1<<me.b)-1)),Ye=Ue(Fe,me.b),st=me.K,me=me.w+(Ne>>me.b)*Ye;Ne<De;){for(Mt=st,jt=me,tr=new rt,Et=Ee+nt,on=Ee+Fe;Ee<Et;)or(Mt[jt++],tr),M0(tr,at,Ee,Pe,ce,oe),Ee+=Pe,oe+=Pe;Ee<on&&(or(Mt[jt++],tr),M0(tr,at,Ee,lt,ce,oe),Ee+=lt,oe+=lt),++Ne&Ce||(me+=Ye)}break;case 3:if(Fe==ce&&Pe==oe&&0<me.b){for(Ee=ce,Fe=at=oe+(De-Ne)*at-(nt=(De-Ne)*Ue(me.Ea,me.b)),Pe=ce,Ce=oe,Ye=[],nt=(lt=nt)-1;0<=nt;--nt)Ye[nt]=Pe[Ce+nt];for(nt=lt-1;0<=nt;--nt)Ee[Fe+nt]=Ye[nt];nc(me,Ne,De,ce,at,ce,oe)}else nc(me,Ne,De,Fe,Pe,ce,oe)}oe=W,ce=R}ce!=R&&n(W,R,oe,ce,re)}function ve(S,T){var R=S.V,W=S.Ba+S.c*S.C,J=T-S.C;if(e(T<=S.l.o),e(16>=J),0<J){var re=S.l,se=S.Ta,oe=S.Ua,ce=re.width;if(ie(S,J,R,W),J=oe=[oe],e((R=S.C)<(W=T)),e(re.v<re.va),W>re.o&&(W=re.o),R<re.j){var me=re.j-R;R=re.j,J[0]+=me*ce}if(R>=W?R=0:(J[0]+=4*re.v,re.ka=R-re.j,re.U=re.va-re.v,re.T=W-R,R=1),R){if(oe=oe[0],11>(R=S.ca).S){var Ne=R.f.RGBA,De=(W=R.S,J=re.U,re=re.T,me=Ne.eb,Ne.A),Fe=re;for(Ne=Ne.fb+S.Ma*Ne.A;0<Fe--;){var Pe=se,at=oe,Ye=J,Ee=me,Ce=Ne;switch(W){case gE:So(Pe,at,Ye,Ee,Ce);break;case vE:Wa(Pe,at,Ye,Ee,Ce);break;case XM:Wa(Pe,at,Ye,Ee,Ce),ac(Ee,Ce,0,Ye,1,0);break;case fz:wh(Pe,at,Ye,Ee,Ce);break;case xE:lr(Pe,at,Ye,Ee,Ce,1);break;case QM:lr(Pe,at,Ye,Ee,Ce,1),ac(Ee,Ce,0,Ye,1,0);break;case yE:lr(Pe,at,Ye,Ee,Ce,0);break;case bE:lr(Pe,at,Ye,Ee,Ce,0),ac(Ee,Ce,1,Ye,1,0);break;case YM:dp(Pe,at,Ye,Ee,Ce);break;case JM:dp(Pe,at,Ye,Ee,Ce),Dn(Ee,Ce,Ye,1,0);break;case pz:bh(Pe,at,Ye,Ee,Ce);break;default:e(0)}oe+=ce,Ne+=De}S.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");e(S.Ma<=R.height)}}S.C=T,e(S.C<=S.i)}function de(S){var T;if(0<S.ua)return 0;for(T=0;T<S.Wb;++T){var R=S.Ya[T].G,W=S.Ya[T].H;if(0<R[1][W[1]+0].g||0<R[2][W[2]+0].g||0<R[3][W[3]+0].g)return 0}return 1}function he(S,T,R,W,J,re){if(S.Z!=0){var se=S.qd,oe=S.rd;for(e(mp[S.Z]!=null);T<R;++T)mp[S.Z](se,oe,W,J,W,J,re),se=W,oe=J,J+=re;S.qd=se,S.rd=oe}}function ge(S,T){var R=S.l.ma,W=R.Z==0||R.Z==1?S.l.j:S.C;if(W=S.C<W?W:S.C,e(T<=S.l.o),T>W){var J=S.l.width,re=R.ca,se=R.tb+J*W,oe=S.V,ce=S.Ba+S.c*W,me=S.gc;e(S.ab==1),e(me[0].hc==3),dE(me[0],W,T,oe,ce,re,se),he(R,W,T,re,se,J)}S.C=S.Ma=T}function xe(S,T,R,W,J,re,se){var oe=S.$/W,ce=S.$%W,me=S.m,Ne=S.s,De=R+S.$,Fe=De;J=R+W*J;var Pe=R+W*re,at=280+Ne.ua,Ye=S.Pb?oe:16777216,Ee=0<Ne.ua?Ne.Wa:null,Ce=Ne.wc,nt=De<Pe?xi(Ne,ce,oe):null;e(S.C<re),e(Pe<=J);var lt=!1;e:for(;;){for(;lt||De<Pe;){var st=0;if(oe>=Ye){var Mt=De-R;e((Ye=S).Pb),Ye.wd=Ye.m,Ye.xd=Mt,0<Ye.s.ua&&ke(Ye.s.Wa,Ye.s.vb),Ye=oe+g0e}if(ce&Ce||(nt=xi(Ne,ce,oe)),e(nt!=null),nt.Qb&&(T[De]=nt.qb,lt=!0),!lt)if(Y(me),nt.jc){st=me,Mt=T;var jt=De,tr=nt.pd[q(st)&qs-1];e(nt.jc),256>tr.g?(K(st,st.u+tr.g),Mt[jt]=tr.value,st=0):(K(st,st.u+tr.g-256),e(256<=tr.value),st=tr.value),st==0&&(lt=!0)}else st=da(nt.G[0],nt.H[0],me);if(me.h)break;if(lt||256>st){if(!lt)if(nt.nd)T[De]=(nt.qb|st<<8)>>>0;else{if(Y(me),lt=da(nt.G[1],nt.H[1],me),Y(me),Mt=da(nt.G[2],nt.H[2],me),jt=da(nt.G[3],nt.H[3],me),me.h)break;T[De]=(jt<<24|lt<<16|st<<8|Mt)>>>0}if(lt=!1,++De,++ce>=W&&(ce=0,++oe,se!=null&&oe<=re&&!(oe%16)&&se(S,oe),Ee!=null))for(;Fe<De;)st=T[Fe++],Ee.X[(506832829*st&4294967295)>>>Ee.Mb]=st}else if(280>st){if(st=sl(st-256,me),Mt=da(nt.G[4],nt.H[4],me),Y(me),Mt=bo(W,Mt=sl(Mt,me)),me.h)break;if(De-R<Mt||J-De<st)break e;for(jt=0;jt<st;++jt)T[De+jt]=T[De+jt-Mt];for(De+=st,ce+=st;ce>=W;)ce-=W,++oe,se!=null&&oe<=re&&!(oe%16)&&se(S,oe);if(e(De<=J),ce&Ce&&(nt=xi(Ne,ce,oe)),Ee!=null)for(;Fe<De;)st=T[Fe++],Ee.X[(506832829*st&4294967295)>>>Ee.Mb]=st}else{if(!(st<at))break e;for(lt=st-280,e(Ee!=null);Fe<De;)st=T[Fe++],Ee.X[(506832829*st&4294967295)>>>Ee.Mb]=st;st=De,e(!(lt>>>(Mt=Ee).Xa)),T[st]=Mt.X[lt],lt=!0}lt||e(me.h==V(me))}if(S.Pb&&me.h&&De<J)e(S.m.h),S.a=5,S.m=S.wd,S.$=S.xd,0<S.s.ua&&ke(S.s.vb,S.s.Wa);else{if(me.h)break e;se!=null&&se(S,oe>re?re:oe),S.a=0,S.$=De-R}return 1}return S.a=3,0}function Re(S){e(S!=null),S.vc=null,S.yc=null,S.Ya=null;var T=S.Wa;T!=null&&(T.X=null),S.vb=null,e(S!=null)}function Ke(){var S=new VM;return S==null?null:(S.a=0,S.xb=vz,Gn("Predictor","VP8LPredictors"),Gn("Predictor","VP8LPredictors_C"),Gn("PredictorAdd","VP8LPredictorsAdd"),Gn("PredictorAdd","VP8LPredictorsAdd_C"),uE=ar,M0=Ht,So=Xe,Wa=Lt,dp=Ot,bh=hr,wh=vr,E.VP8LMapColor32b=qx,E.VP8LMapColor8b=hE,S)}function Le(S,T,R,W,J){var re=1,se=[S],oe=[T],ce=W.m,me=W.s,Ne=null,De=0;e:for(;;){if(R)for(;re&&ne(ce,1);){var Fe=se,Pe=oe,at=W,Ye=1,Ee=at.m,Ce=at.gc[at.ab],nt=ne(Ee,2);if(at.Oc&1<<nt)re=0;else{switch(at.Oc|=1<<nt,Ce.hc=nt,Ce.Ea=Fe[0],Ce.nc=Pe[0],Ce.K=[null],++at.ab,e(4>=at.ab),nt){case 0:case 1:Ce.b=ne(Ee,3)+2,Ye=Le(Ue(Ce.Ea,Ce.b),Ue(Ce.nc,Ce.b),0,at,Ce.K),Ce.K=Ce.K[0];break;case 3:var lt,st=ne(Ee,8)+1,Mt=16<st?0:4<st?1:2<st?2:3;if(Fe[0]=Ue(Ce.Ea,Mt),Ce.b=Mt,lt=Ye=Le(st,1,0,at,Ce.K)){var jt,tr=st,Et=Ce,on=1<<(8>>Et.b),hn=s(on);if(hn==null)lt=0;else{var Yr=Et.K[0],Hr=Et.w;for(hn[0]=Et.K[0][0],jt=1;jt<1*tr;++jt)hn[jt]=Te(Yr[Hr+jt],hn[jt-1]);for(;jt<4*on;++jt)hn[jt]=0;Et.K[0]=null,Et.K[0]=hn,lt=1}}Ye=lt;break;case 2:break;default:e(0)}re=Ye}}if(se=se[0],oe=oe[0],re&&ne(ce,1)&&!(re=1<=(De=ne(ce,4))&&11>=De)){W.a=3;break e}var kn;if(kn=re)t:{var Nn,jr,Hi,Ao=W,Vi=se,jo=oe,fn=De,cl=R,ul=Ao.m,As=Ao.s,Ws=[null],Va=1,cc=0,od=m0e[fn];r:for(;;){if(cl&&ne(ul,1)){var js=ne(ul,3)+2,jh=Ue(Vi,js),F0=Ue(jo,js),Kx=jh*F0;if(!Le(jh,F0,0,Ao,Ws))break r;for(Ws=Ws[0],As.xc=js,Nn=0;Nn<Kx;++Nn){var gp=Ws[Nn]>>8&65535;Ws[Nn]=gp,gp>=Va&&(Va=gp+1)}}if(ul.h)break r;for(jr=0;5>jr;++jr){var bi=mz[jr];!jr&&0<fn&&(bi+=1<<fn),cc<bi&&(cc=bi)}var rL=a(Va*od,k),Nz=Va,Ez=a(Nz,F);if(Ez==null)var AE=null;else e(65536>=Nz),AE=Ez;var H2=s(cc);if(AE==null||H2==null||rL==null){Ao.a=1;break r}var jE=rL;for(Nn=Hi=0;Nn<Va;++Nn){var eu=AE[Nn],Yx=eu.G,Xx=eu.H,Cz=0,NE=1,Tz=0;for(jr=0;5>jr;++jr){bi=mz[jr],Yx[jr]=jE,Xx[jr]=Hi,!jr&&0<fn&&(bi+=1<<fn);i:{var EE,nL=bi,CE=Ao,V2=H2,R0e=jE,D0e=Hi,iL=0,vp=CE.m,F0e=ne(vp,1);if(i(V2,0,0,nL),F0e){var $0e=ne(vp,1)+1,B0e=ne(vp,1),Pz=ne(vp,B0e==0?1:8);V2[Pz]=1,$0e==2&&(V2[Pz=ne(vp,8)]=1);var TE=1}else{var kz=s(19),Oz=ne(vp,4)+4;if(19<Oz){CE.a=3;var PE=0;break i}for(EE=0;EE<Oz;++EE)kz[f0e[EE]]=ne(vp,3);var sL=void 0,G2=void 0,Mz=CE,U0e=kz,kE=nL,Lz=V2,aL=0,xp=Mz.m,Iz=8,Rz=a(128,k);n:for(;O(Rz,0,7,U0e,19);){if(ne(xp,1)){var z0e=2+2*ne(xp,3);if((sL=2+ne(xp,z0e))>kE)break n}else sL=kE;for(G2=0;G2<kE&&sL--;){Y(xp);var Dz=Rz[0+(127&q(xp))];K(xp,xp.u+Dz.g);var Qx=Dz.value;if(16>Qx)Lz[G2++]=Qx,Qx!=0&&(Iz=Qx);else{var q0e=Qx==16,Fz=Qx-16,W0e=d0e[Fz],$z=ne(xp,u0e[Fz])+W0e;if(G2+$z>kE)break n;for(var H0e=q0e?Iz:0;0<$z--;)Lz[G2++]=H0e}}aL=1;break n}aL||(Mz.a=3),TE=aL}(TE=TE&&!vp.h)&&(iL=O(R0e,D0e,8,V2,nL)),TE&&iL!=0?PE=iL:(CE.a=3,PE=0)}if(PE==0)break r;if(NE&&h0e[jr]==1&&(NE=jE[Hi].g==0),Cz+=jE[Hi].g,Hi+=PE,3>=jr){var K2,oL=H2[0];for(K2=1;K2<bi;++K2)H2[K2]>oL&&(oL=H2[K2]);Tz+=oL}}if(eu.nd=NE,eu.Qb=0,NE&&(eu.qb=(Yx[3][Xx[3]+0].value<<24|Yx[1][Xx[1]+0].value<<16|Yx[2][Xx[2]+0].value)>>>0,Cz==0&&256>Yx[0][Xx[0]+0].value&&(eu.Qb=1,eu.qb+=Yx[0][Xx[0]+0].value<<8)),eu.jc=!eu.Qb&&6>Tz,eu.jc){var OE,Nh=eu;for(OE=0;OE<qs;++OE){var yp=OE,bp=Nh.pd[yp],ME=Nh.G[0][Nh.H[0]+yp];256<=ME.value?(bp.g=ME.g+256,bp.value=ME.value):(bp.g=0,bp.value=0,yp>>=Ti(ME,8,bp),yp>>=Ti(Nh.G[1][Nh.H[1]+yp],16,bp),yp>>=Ti(Nh.G[2][Nh.H[2]+yp],0,bp),Ti(Nh.G[3][Nh.H[3]+yp],24,bp))}}}As.vc=Ws,As.Wb=Va,As.Ya=AE,As.yc=rL,kn=1;break t}kn=0}if(!(re=kn)){W.a=3;break e}if(0<De){if(me.ua=1<<De,!Ve(me.Wa,De)){W.a=1,re=0;break e}}else me.ua=0;var lL=W,Bz=se,V0e=oe,cL=lL.s,uL=cL.xc;if(lL.c=Bz,lL.i=V0e,cL.md=Ue(Bz,uL),cL.wc=uL==0?-1:(1<<uL)-1,R){W.xb=S0e;break e}if((Ne=s(se*oe))==null){W.a=1,re=0;break e}re=(re=xe(W,Ne,0,se,oe,oe,null))&&!ce.h;break e}return re?(J!=null?J[0]=Ne:(e(Ne==null),e(R)),W.$=0,R||Re(me)):Re(me),re}function Be(S,T){var R=S.c*S.i,W=R+T+16*T;return e(S.c<=T),S.V=s(W),S.V==null?(S.Ta=null,S.Ua=0,S.a=1,0):(S.Ta=S.V,S.Ua=S.Ba+R+T,1)}function ze(S,T){var R=S.C,W=T-R,J=S.V,re=S.Ba+S.c*R;for(e(T<=S.l.o);0<W;){var se=16<W?16:W,oe=S.l.ma,ce=S.l.width,me=ce*se,Ne=oe.ca,De=oe.tb+ce*R,Fe=S.Ta,Pe=S.Ua;ie(S,se,J,re),Oi(Fe,Pe,Ne,De,me),he(oe,R,R+se,Ne,De,ce),W-=se,J+=se*S.c,R+=se}e(R==T),S.C=S.Ma=T}function ht(){this.ub=this.yd=this.td=this.Rb=0}function bt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Tt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function vt(){this.Yb=function(){var S=[];return function T(R,W,J){for(var re=J[W],se=0;se<re&&(R.push(J.length>W+1?[]:0),!(J.length<W+1));se++)T(R[se],W+1,J)}(S,0,[3,11]),S}()}function Ct(){this.jb=s(3),this.Wc=o([4,8],vt),this.Xc=o([4,17],vt)}function fr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function un(){this.ld=this.La=this.dd=this.tc=0}function jn(){this.Na=this.la=0}function qi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kc(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function vh(){this.uc=this.M=this.Nb=0,this.wa=Array(new un),this.Y=0,this.ya=Array(new Kc),this.aa=0,this.l=new nd}function rd(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Yc(){this.cb=this.a=0,this.sc="",this.m=new fe,this.Od=new ht,this.Kc=new bt,this.ed=new fr,this.Qa=new Tt,this.Ic=this.$c=this.Aa=0,this.D=new vh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,fe),this.ia=0,this.pb=a(4,qi),this.Pa=new Ct,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new rd),this.Hd=0,this.rb=Array(new jn),this.sb=0,this.wa=Array(new un),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kc),this.L=this.aa=0,this.gd=o([4,2],un),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function nd(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function al(){var S=new Yc;return S!=null&&(S.a=0,S.sc="OK",S.cb=0,S.Xb=0,q2||(q2=YN)),S}function Pi(S,T,R){return S.a==0&&(S.a=T,S.sc=R,S.cb=0),0}function GN(S,T,R){return 3<=R&&S[T+0]==157&&S[T+1]==1&&S[T+2]==42}function KN(S,T){if(S==null)return 0;if(S.a=0,S.sc="OK",T==null)return Pi(S,2,"null VP8Io passed to VP8GetHeaders()");var R=T.data,W=T.w,J=T.ha;if(4>J)return Pi(S,7,"Truncated header.");var re=R[W+0]|R[W+1]<<8|R[W+2]<<16,se=S.Od;if(se.Rb=!(1&re),se.td=re>>1&7,se.yd=re>>4&1,se.ub=re>>5,3<se.td)return Pi(S,3,"Incorrect keyframe parameters.");if(!se.yd)return Pi(S,4,"Frame not displayable.");W+=3,J-=3;var oe=S.Kc;if(se.Rb){if(7>J)return Pi(S,7,"cannot parse picture header");if(!GN(R,W,J))return Pi(S,3,"Bad code word");oe.c=16383&(R[W+4]<<8|R[W+3]),oe.Td=R[W+4]>>6,oe.i=16383&(R[W+6]<<8|R[W+5]),oe.Ud=R[W+6]>>6,W+=7,J-=7,S.za=oe.c+15>>4,S.Ub=oe.i+15>>4,T.width=oe.c,T.height=oe.i,T.Da=0,T.j=0,T.v=0,T.va=T.width,T.o=T.height,T.da=0,T.ib=T.width,T.hb=T.height,T.U=T.width,T.T=T.height,i((re=S.Pa).jb,0,255,re.jb.length),e((re=S.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(se.ub>J)return Pi(S,7,"bad partition length");z(re=S.m,R,W,se.ub),W+=se.ub,J-=se.ub,se.Rb&&(oe.Ld=pe(re),oe.Kd=pe(re)),oe=S.Qa;var ce,me=S.Pa;if(e(re!=null),e(oe!=null),oe.Cb=pe(re),oe.Cb){if(oe.Bb=pe(re),pe(re)){for(oe.Fb=pe(re),ce=0;4>ce;++ce)oe.Zb[ce]=pe(re)?H(re,7):0;for(ce=0;4>ce;++ce)oe.Lb[ce]=pe(re)?H(re,6):0}if(oe.Bb)for(ce=0;3>ce;++ce)me.jb[ce]=pe(re)?U(re,8):255}else oe.Bb=0;if(re.Ka)return Pi(S,3,"cannot parse segment header");if((oe=S.ed).zd=pe(re),oe.Tb=U(re,6),oe.wb=U(re,3),oe.Pc=pe(re),oe.Pc&&pe(re)){for(me=0;4>me;++me)pe(re)&&(oe.vd[me]=H(re,6));for(me=0;4>me;++me)pe(re)&&(oe.od[me]=H(re,6))}if(S.L=oe.Tb==0?0:oe.zd?1:2,re.Ka)return Pi(S,3,"cannot parse filter header");var Ne=J;if(J=ce=W,W=ce+Ne,oe=Ne,S.Xb=(1<<U(S.m,2))-1,Ne<3*(me=S.Xb))R=7;else{for(ce+=3*me,oe-=3*me,Ne=0;Ne<me;++Ne){var De=R[J+0]|R[J+1]<<8|R[J+2]<<16;De>oe&&(De=oe),z(S.Jc[+Ne],R,ce,De),ce+=De,oe-=De,J+=3}z(S.Jc[+me],R,ce,oe),R=ce<W?0:5}if(R!=0)return Pi(S,R,"cannot parse partitions");for(R=U(ce=S.m,7),J=pe(ce)?H(ce,4):0,W=pe(ce)?H(ce,4):0,oe=pe(ce)?H(ce,4):0,me=pe(ce)?H(ce,4):0,ce=pe(ce)?H(ce,4):0,Ne=S.Qa,De=0;4>De;++De){if(Ne.Cb){var Fe=Ne.Zb[De];Ne.Fb||(Fe+=R)}else{if(0<De){S.pb[De]=S.pb[0];continue}Fe=R}var Pe=S.pb[De];Pe.Sc[0]=ZM[ol(Fe+J,127)],Pe.Sc[1]=eL[ol(Fe+0,127)],Pe.Eb[0]=2*ZM[ol(Fe+W,127)],Pe.Eb[1]=101581*eL[ol(Fe+oe,127)]>>16,8>Pe.Eb[1]&&(Pe.Eb[1]=8),Pe.Qc[0]=ZM[ol(Fe+me,117)],Pe.Qc[1]=eL[ol(Fe+ce,127)],Pe.lc=Fe+ce}if(!se.Rb)return Pi(S,4,"Not a key frame.");for(pe(re),se=S.Pa,R=0;4>R;++R){for(J=0;8>J;++J)for(W=0;3>W;++W)for(oe=0;11>oe;++oe)me=le(re,w0e[R][J][W][oe])?U(re,8):y0e[R][J][W][oe],se.Wc[R][J].Yb[W][oe]=me;for(J=0;17>J;++J)se.Xc[R][J]=se.Wc[R][_0e[J]]}return S.kc=pe(re),S.kc&&(S.Bd=U(re,8)),S.cb=1}function YN(S,T,R,W,J,re,se){var oe=T[J].Yb[R];for(R=0;16>J;++J){if(!le(S,oe[R+0]))return J;for(;!le(S,oe[R+1]);)if(oe=T[++J].Yb[0],R=0,J==16)return 16;var ce=T[J+1].Yb;if(le(S,oe[R+2])){var me=S,Ne=0;if(le(me,(Fe=oe)[(De=R)+3]))if(le(me,Fe[De+6])){for(oe=0,De=2*(Ne=le(me,Fe[De+8]))+(Fe=le(me,Fe[De+9+Ne])),Ne=0,Fe=v0e[De];Fe[oe];++oe)Ne+=Ne+le(me,Fe[oe]);Ne+=3+(8<<De)}else le(me,Fe[De+7])?(Ne=7+2*le(me,165),Ne+=le(me,145)):Ne=5+le(me,159);else Ne=le(me,Fe[De+4])?3+le(me,Fe[De+5]):2;oe=ce[2]}else Ne=1,oe=ce[1];ce=se+x0e[J],0>(me=S).b&&ae(me);var De,Fe=me.b,Pe=(De=me.Ca>>1)-(me.I>>Fe)>>31;--me.b,me.Ca+=Pe,me.Ca|=1,me.I-=(De+1&Pe)<<Fe,re[ce]=((Ne^Pe)-Pe)*W[(0<J)+0]}return 16}function b2(S){var T=S.rb[S.sb-1];T.la=0,T.Na=0,i(S.zc,0,0,S.zc.length),S.ja=0}function TM(S,T){if(S==null)return 0;if(T==null)return Pi(S,2,"NULL VP8Io parameter in VP8Decode().");if(!S.cb&&!KN(S,T))return 0;if(e(S.cb),T.ac==null||T.ac(T)){T.ob&&(S.L=0);var R=SE[S.L];if(S.L==2?(S.yb=0,S.zb=0):(S.yb=T.v-R>>4,S.zb=T.j-R>>4,0>S.yb&&(S.yb=0),0>S.zb&&(S.zb=0)),S.Va=T.o+15+R>>4,S.Hb=T.va+15+R>>4,S.Hb>S.za&&(S.Hb=S.za),S.Va>S.Ub&&(S.Va=S.Ub),0<S.L){var W=S.ed;for(R=0;4>R;++R){var J;if(S.Qa.Cb){var re=S.Qa.Lb[R];S.Qa.Fb||(re+=W.Tb)}else re=W.Tb;for(J=0;1>=J;++J){var se=S.gd[R][J],oe=re;if(W.Pc&&(oe+=W.vd[0],J&&(oe+=W.od[0])),0<(oe=0>oe?0:63<oe?63:oe)){var ce=oe;0<W.wb&&(ce=4<W.wb?ce>>2:ce>>1)>9-W.wb&&(ce=9-W.wb),1>ce&&(ce=1),se.dd=ce,se.tc=2*oe+ce,se.ld=40<=oe?2:15<=oe?1:0}else se.tc=0;se.La=J}}}R=0}else Pi(S,6,"Frame setup failed"),R=S.a;if(R=R==0){if(R){S.$c=0,0<S.Aa||(S.Ic=I0e);e:{R=S.Ic,W=4*(ce=S.za);var me=32*ce,Ne=ce+1,De=0<S.L?ce*(0<S.Aa?2:1):0,Fe=(S.Aa==2?2:1)*ce;if((se=W+832+(J=3*(16*R+SE[S.L])/2*me)+(re=S.Fa!=null&&0<S.Fa.length?S.Kc.c*S.Kc.i:0))!=se)R=0;else{if(se>S.Vb){if(S.Vb=0,S.Ec=s(se),S.Fc=0,S.Ec==null){R=Pi(S,1,"no memory during frame initialization.");break e}S.Vb=se}se=S.Ec,oe=S.Fc,S.Ac=se,S.Bc=oe,oe+=W,S.Gd=a(me,rd),S.Hd=0,S.rb=a(Ne+1,jn),S.sb=1,S.wa=De?a(De,un):null,S.Y=0,S.D.Nb=0,S.D.wa=S.wa,S.D.Y=S.Y,0<S.Aa&&(S.D.Y+=ce),e(!0),S.oc=se,S.pc=oe,oe+=832,S.ya=a(Fe,Kc),S.aa=0,S.D.ya=S.ya,S.D.aa=S.aa,S.Aa==2&&(S.D.aa+=ce),S.R=16*ce,S.B=8*ce,ce=(me=SE[S.L])*S.R,me=me/2*S.B,S.sa=se,S.ta=oe+ce,S.qa=S.sa,S.ra=S.ta+16*R*S.R+me,S.Ha=S.qa,S.Ia=S.ra+8*R*S.B+me,S.$c=0,oe+=J,S.mb=re?se:null,S.nb=re?oe:null,e(oe+re<=S.Fc+S.Vb),b2(S),i(S.Ac,S.Bc,0,W),R=1}}if(R){if(T.ka=0,T.y=S.sa,T.O=S.ta,T.f=S.qa,T.N=S.ra,T.ea=S.Ha,T.Vd=S.Ia,T.fa=S.R,T.Rc=S.B,T.F=null,T.J=0,!pE){for(R=-255;255>=R;++R)os[255+R]=0>R?-R:R;for(R=-1020;1020>=R;++R)Sh[1020+R]=-128>R?-128:127<R?127:R;for(R=-112;112>=R;++R)z2[112+R]=-16>R?-16:15<R?15:R;for(R=-255;510>=R;++R)Gx[255+R]=0>R?0:255<R?255:R;pE=1}Wx=OM,_h=PM,$2=QN,Ha=kM,ic=JN,ki=XN,Hx=N2,fE=k0,B2=HM,L0=E2,I0=WM,hp=Ix,R0=C2,Vx=oE,D0=aE,fp=sd,U2=yh,sc=qM,Zc[0]=id,Zc[1]=MM,Zc[2]=DM,Zc[3]=FM,Zc[4]=tE,Zc[5]=Mx,Zc[6]=rE,Zc[7]=S2,Zc[8]=BM,Zc[9]=$M,pp[0]=ZN,pp[1]=IM,pp[2]=xh,pp[3]=kx,pp[4]=ha,pp[5]=RM,pp[6]=eE,Ah[0]=op,Ah[1]=LM,Ah[2]=UM,Ah[3]=A2,Ah[4]=P0,Ah[5]=zM,Ah[6]=j2,R=1}else R=0}R&&(R=function(Pe,at){for(Pe.M=0;Pe.M<Pe.Va;++Pe.M){var Ye,Ee=Pe.Jc[Pe.M&Pe.Xb],Ce=Pe.m,nt=Pe;for(Ye=0;Ye<nt.za;++Ye){var lt=Ce,st=nt,Mt=st.Ac,jt=st.Bc+4*Ye,tr=st.zc,Et=st.ya[st.aa+Ye];if(st.Qa.Bb?Et.$b=le(lt,st.Pa.jb[0])?2+le(lt,st.Pa.jb[2]):le(lt,st.Pa.jb[1]):Et.$b=0,st.kc&&(Et.Ad=le(lt,st.Bd)),Et.Za=!le(lt,145)+0,Et.Za){var on=Et.Ob,hn=0;for(st=0;4>st;++st){var Yr,Hr=tr[0+st];for(Yr=0;4>Yr;++Yr){Hr=b0e[Mt[jt+Yr]][Hr];for(var kn=gz[le(lt,Hr[0])];0<kn;)kn=gz[2*kn+le(lt,Hr[kn])];Hr=-kn,Mt[jt+Yr]=Hr}n(on,hn,Mt,jt,4),hn+=4,tr[0+st]=Hr}}else Hr=le(lt,156)?le(lt,128)?1:3:le(lt,163)?2:0,Et.Ob[0]=Hr,i(Mt,jt,Hr,4),i(tr,0,Hr,4);Et.Dd=le(lt,142)?le(lt,114)?le(lt,183)?1:3:2:0}if(nt.m.Ka)return Pi(Pe,7,"Premature end-of-partition0 encountered.");for(;Pe.ja<Pe.za;++Pe.ja){if(nt=Ee,lt=(Ce=Pe).rb[Ce.sb-1],Mt=Ce.rb[Ce.sb+Ce.ja],Ye=Ce.ya[Ce.aa+Ce.ja],jt=Ce.kc?Ye.Ad:0)lt.la=Mt.la=0,Ye.Za||(lt.Na=Mt.Na=0),Ye.Hc=0,Ye.Gc=0,Ye.ia=0;else{var Nn,jr;if(lt=Mt,Mt=nt,jt=Ce.Pa.Xc,tr=Ce.ya[Ce.aa+Ce.ja],Et=Ce.pb[tr.$b],st=tr.ad,on=0,hn=Ce.rb[Ce.sb-1],Hr=Yr=0,i(st,on,0,384),tr.Za)var Hi=0,Ao=jt[3];else{kn=s(16);var Vi=lt.Na+hn.Na;if(Vi=q2(Mt,jt[1],Vi,Et.Eb,0,kn,0),lt.Na=hn.Na=(0<Vi)+0,1<Vi)Wx(kn,0,st,on);else{var jo=kn[0]+3>>3;for(kn=0;256>kn;kn+=16)st[on+kn]=jo}Hi=1,Ao=jt[0]}var fn=15&lt.la,cl=15&hn.la;for(kn=0;4>kn;++kn){var ul=1&cl;for(jo=jr=0;4>jo;++jo)fn=fn>>1|(ul=(Vi=q2(Mt,Ao,Vi=ul+(1&fn),Et.Sc,Hi,st,on))>Hi)<<7,jr=jr<<2|(3<Vi?3:1<Vi?2:st[on+0]!=0),on+=16;fn>>=4,cl=cl>>1|ul<<7,Yr=(Yr<<8|jr)>>>0}for(Ao=fn,Hi=cl>>4,Nn=0;4>Nn;Nn+=2){for(jr=0,fn=lt.la>>4+Nn,cl=hn.la>>4+Nn,kn=0;2>kn;++kn){for(ul=1&cl,jo=0;2>jo;++jo)Vi=ul+(1&fn),fn=fn>>1|(ul=0<(Vi=q2(Mt,jt[2],Vi,Et.Qc,0,st,on)))<<3,jr=jr<<2|(3<Vi?3:1<Vi?2:st[on+0]!=0),on+=16;fn>>=2,cl=cl>>1|ul<<5}Hr|=jr<<4*Nn,Ao|=fn<<4<<Nn,Hi|=(240&cl)<<Nn}lt.la=Ao,hn.la=Hi,tr.Hc=Yr,tr.Gc=Hr,tr.ia=43690&Hr?0:Et.ia,jt=!(Yr|Hr)}if(0<Ce.L&&(Ce.wa[Ce.Y+Ce.ja]=Ce.gd[Ye.$b][Ye.Za],Ce.wa[Ce.Y+Ce.ja].La|=!jt),nt.Ka)return Pi(Pe,7,"Premature end-of-file encountered.")}if(b2(Pe),Ce=at,nt=1,Ye=(Ee=Pe).D,lt=0<Ee.L&&Ee.M>=Ee.zb&&Ee.M<=Ee.Va,Ee.Aa==0)e:{if(Ye.M=Ee.M,Ye.uc=lt,L2(Ee,Ye),nt=1,Ye=(jr=Ee.D).Nb,lt=(Hr=SE[Ee.L])*Ee.R,Mt=Hr/2*Ee.B,kn=16*Ye*Ee.R,jo=8*Ye*Ee.B,jt=Ee.sa,tr=Ee.ta-lt+kn,Et=Ee.qa,st=Ee.ra-Mt+jo,on=Ee.Ha,hn=Ee.Ia-Mt+jo,cl=(fn=jr.M)==0,Yr=fn>=Ee.Va-1,Ee.Aa==2&&L2(Ee,jr),jr.uc)for(ul=(Vi=Ee).D.M,e(Vi.D.uc),jr=Vi.yb;jr<Vi.Hb;++jr){Hi=jr,Ao=ul;var As=(Ws=(bi=Vi).D).Nb;Nn=bi.R;var Ws=Ws.wa[Ws.Y+Hi],Va=bi.sa,cc=bi.ta+16*As*Nn+16*Hi,od=Ws.dd,js=Ws.tc;if(js!=0)if(e(3<=js),bi.L==1)0<Hi&&fp(Va,cc,Nn,js+4),Ws.La&&sc(Va,cc,Nn,js),0<Ao&&D0(Va,cc,Nn,js+4),Ws.La&&U2(Va,cc,Nn,js);else{var jh=bi.B,F0=bi.qa,Kx=bi.ra+8*As*jh+8*Hi,gp=bi.Ha,bi=bi.Ia+8*As*jh+8*Hi;As=Ws.ld,0<Hi&&(fE(Va,cc,Nn,js+4,od,As),L0(F0,Kx,gp,bi,jh,js+4,od,As)),Ws.La&&(hp(Va,cc,Nn,js,od,As),Vx(F0,Kx,gp,bi,jh,js,od,As)),0<Ao&&(Hx(Va,cc,Nn,js+4,od,As),B2(F0,Kx,gp,bi,jh,js+4,od,As)),Ws.La&&(I0(Va,cc,Nn,js,od,As),R0(F0,Kx,gp,bi,jh,js,od,As))}}if(Ee.ia&&alert("todo:DitherRow"),Ce.put!=null){if(jr=16*fn,fn=16*(fn+1),cl?(Ce.y=Ee.sa,Ce.O=Ee.ta+kn,Ce.f=Ee.qa,Ce.N=Ee.ra+jo,Ce.ea=Ee.Ha,Ce.W=Ee.Ia+jo):(jr-=Hr,Ce.y=jt,Ce.O=tr,Ce.f=Et,Ce.N=st,Ce.ea=on,Ce.W=hn),Yr||(fn-=Hr),fn>Ce.o&&(fn=Ce.o),Ce.F=null,Ce.J=null,Ee.Fa!=null&&0<Ee.Fa.length&&jr<fn&&(Ce.J=O2(Ee,Ce,jr,fn-jr),Ce.F=Ee.mb,Ce.F==null&&Ce.F.length==0)){nt=Pi(Ee,3,"Could not decode alpha data.");break e}jr<Ce.j&&(Hr=Ce.j-jr,jr=Ce.j,e(!(1&Hr)),Ce.O+=Ee.R*Hr,Ce.N+=Ee.B*(Hr>>1),Ce.W+=Ee.B*(Hr>>1),Ce.F!=null&&(Ce.J+=Ce.width*Hr)),jr<fn&&(Ce.O+=Ce.v,Ce.N+=Ce.v>>1,Ce.W+=Ce.v>>1,Ce.F!=null&&(Ce.J+=Ce.v),Ce.ka=jr-Ce.j,Ce.U=Ce.va-Ce.v,Ce.T=fn-jr,nt=Ce.put(Ce))}Ye+1!=Ee.Ic||Yr||(n(Ee.sa,Ee.ta-lt,jt,tr+16*Ee.R,lt),n(Ee.qa,Ee.ra-Mt,Et,st+8*Ee.B,Mt),n(Ee.Ha,Ee.Ia-Mt,on,hn+8*Ee.B,Mt))}if(!nt)return Pi(Pe,6,"Output aborted.")}return 1}(S,T)),T.bc!=null&&T.bc(T),R&=1}return R?(S.cb=0,R):0}function Xc(S,T,R,W,J){J=S[T+R+32*W]+(J>>3),S[T+R+32*W]=-256&J?0>J?0:255:J}function Px(S,T,R,W,J,re){Xc(S,T,0,R,W+J),Xc(S,T,1,R,W+re),Xc(S,T,2,R,W-re),Xc(S,T,3,R,W-J)}function wo(S){return(20091*S>>16)+S}function w2(S,T,R,W){var J,re=0,se=s(16);for(J=0;4>J;++J){var oe=S[T+0]+S[T+8],ce=S[T+0]-S[T+8],me=(35468*S[T+4]>>16)-wo(S[T+12]),Ne=wo(S[T+4])+(35468*S[T+12]>>16);se[re+0]=oe+Ne,se[re+1]=ce+me,se[re+2]=ce-me,se[re+3]=oe-Ne,re+=4,T++}for(J=re=0;4>J;++J)oe=(S=se[re+0]+4)+se[re+8],ce=S-se[re+8],me=(35468*se[re+4]>>16)-wo(se[re+12]),Xc(R,W,0,0,oe+(Ne=wo(se[re+4])+(35468*se[re+12]>>16))),Xc(R,W,1,0,ce+me),Xc(R,W,2,0,ce-me),Xc(R,W,3,0,oe-Ne),re++,W+=32}function XN(S,T,R,W){var J=S[T+0]+4,re=35468*S[T+4]>>16,se=wo(S[T+4]),oe=35468*S[T+1]>>16;Px(R,W,0,J+se,S=wo(S[T+1]),oe),Px(R,W,1,J+re,S,oe),Px(R,W,2,J-re,S,oe),Px(R,W,3,J-se,S,oe)}function PM(S,T,R,W,J){w2(S,T,R,W),J&&w2(S,T+16,R,W+4)}function QN(S,T,R,W){_h(S,T+0,R,W,1),_h(S,T+32,R,W+128,1)}function kM(S,T,R,W){var J;for(S=S[T+0]+4,J=0;4>J;++J)for(T=0;4>T;++T)Xc(R,W,T,J,S)}function JN(S,T,R,W){S[T+0]&&Ha(S,T+0,R,W),S[T+16]&&Ha(S,T+16,R,W+4),S[T+32]&&Ha(S,T+32,R,W+128),S[T+48]&&Ha(S,T+48,R,W+128+4)}function OM(S,T,R,W){var J,re=s(16);for(J=0;4>J;++J){var se=S[T+0+J]+S[T+12+J],oe=S[T+4+J]+S[T+8+J],ce=S[T+4+J]-S[T+8+J],me=S[T+0+J]-S[T+12+J];re[0+J]=se+oe,re[8+J]=se-oe,re[4+J]=me+ce,re[12+J]=me-ce}for(J=0;4>J;++J)se=(S=re[0+4*J]+3)+re[3+4*J],oe=re[1+4*J]+re[2+4*J],ce=re[1+4*J]-re[2+4*J],me=S-re[3+4*J],R[W+0]=se+oe>>3,R[W+16]=me+ce>>3,R[W+32]=se-oe>>3,R[W+48]=me-ce>>3,W+=64}function _2(S,T,R){var W,J=T-32,re=ll,se=255-S[J-1];for(W=0;W<R;++W){var oe,ce=re,me=se+S[T-1];for(oe=0;oe<R;++oe)S[T+oe]=ce[me+S[J+oe]];T+=32}}function MM(S,T){_2(S,T,4)}function LM(S,T){_2(S,T,8)}function IM(S,T){_2(S,T,16)}function xh(S,T){var R;for(R=0;16>R;++R)n(S,T+32*R,S,T-32,16)}function kx(S,T){var R;for(R=16;0<R;--R)i(S,T,S[T-1],16),T+=32}function Ox(S,T,R){var W;for(W=0;16>W;++W)i(T,R+32*W,S,16)}function ZN(S,T){var R,W=16;for(R=0;16>R;++R)W+=S[T-1+32*R]+S[T+R-32];Ox(W>>5,S,T)}function ha(S,T){var R,W=8;for(R=0;16>R;++R)W+=S[T-1+32*R];Ox(W>>4,S,T)}function RM(S,T){var R,W=8;for(R=0;16>R;++R)W+=S[T+R-32];Ox(W>>4,S,T)}function eE(S,T){Ox(128,S,T)}function xr(S,T,R){return S+2*T+R+2>>2}function DM(S,T){var R,W=T-32;for(W=new Uint8Array([xr(S[W-1],S[W+0],S[W+1]),xr(S[W+0],S[W+1],S[W+2]),xr(S[W+1],S[W+2],S[W+3]),xr(S[W+2],S[W+3],S[W+4])]),R=0;4>R;++R)n(S,T+32*R,W,0,W.length)}function FM(S,T){var R=S[T-1],W=S[T-1+32],J=S[T-1+64],re=S[T-1+96];ye(S,T+0,16843009*xr(S[T-1-32],R,W)),ye(S,T+32,16843009*xr(R,W,J)),ye(S,T+64,16843009*xr(W,J,re)),ye(S,T+96,16843009*xr(J,re,re))}function id(S,T){var R,W=4;for(R=0;4>R;++R)W+=S[T+R-32]+S[T-1+32*R];for(W>>=3,R=0;4>R;++R)i(S,T+32*R,W,4)}function tE(S,T){var R=S[T-1+0],W=S[T-1+32],J=S[T-1+64],re=S[T-1-32],se=S[T+0-32],oe=S[T+1-32],ce=S[T+2-32],me=S[T+3-32];S[T+0+96]=xr(W,J,S[T-1+96]),S[T+1+96]=S[T+0+64]=xr(R,W,J),S[T+2+96]=S[T+1+64]=S[T+0+32]=xr(re,R,W),S[T+3+96]=S[T+2+64]=S[T+1+32]=S[T+0+0]=xr(se,re,R),S[T+3+64]=S[T+2+32]=S[T+1+0]=xr(oe,se,re),S[T+3+32]=S[T+2+0]=xr(ce,oe,se),S[T+3+0]=xr(me,ce,oe)}function rE(S,T){var R=S[T+1-32],W=S[T+2-32],J=S[T+3-32],re=S[T+4-32],se=S[T+5-32],oe=S[T+6-32],ce=S[T+7-32];S[T+0+0]=xr(S[T+0-32],R,W),S[T+1+0]=S[T+0+32]=xr(R,W,J),S[T+2+0]=S[T+1+32]=S[T+0+64]=xr(W,J,re),S[T+3+0]=S[T+2+32]=S[T+1+64]=S[T+0+96]=xr(J,re,se),S[T+3+32]=S[T+2+64]=S[T+1+96]=xr(re,se,oe),S[T+3+64]=S[T+2+96]=xr(se,oe,ce),S[T+3+96]=xr(oe,ce,ce)}function Mx(S,T){var R=S[T-1+0],W=S[T-1+32],J=S[T-1+64],re=S[T-1-32],se=S[T+0-32],oe=S[T+1-32],ce=S[T+2-32],me=S[T+3-32];S[T+0+0]=S[T+1+64]=re+se+1>>1,S[T+1+0]=S[T+2+64]=se+oe+1>>1,S[T+2+0]=S[T+3+64]=oe+ce+1>>1,S[T+3+0]=ce+me+1>>1,S[T+0+96]=xr(J,W,R),S[T+0+64]=xr(W,R,re),S[T+0+32]=S[T+1+96]=xr(R,re,se),S[T+1+32]=S[T+2+96]=xr(re,se,oe),S[T+2+32]=S[T+3+96]=xr(se,oe,ce),S[T+3+32]=xr(oe,ce,me)}function S2(S,T){var R=S[T+0-32],W=S[T+1-32],J=S[T+2-32],re=S[T+3-32],se=S[T+4-32],oe=S[T+5-32],ce=S[T+6-32],me=S[T+7-32];S[T+0+0]=R+W+1>>1,S[T+1+0]=S[T+0+64]=W+J+1>>1,S[T+2+0]=S[T+1+64]=J+re+1>>1,S[T+3+0]=S[T+2+64]=re+se+1>>1,S[T+0+32]=xr(R,W,J),S[T+1+32]=S[T+0+96]=xr(W,J,re),S[T+2+32]=S[T+1+96]=xr(J,re,se),S[T+3+32]=S[T+2+96]=xr(re,se,oe),S[T+3+64]=xr(se,oe,ce),S[T+3+96]=xr(oe,ce,me)}function $M(S,T){var R=S[T-1+0],W=S[T-1+32],J=S[T-1+64],re=S[T-1+96];S[T+0+0]=R+W+1>>1,S[T+2+0]=S[T+0+32]=W+J+1>>1,S[T+2+32]=S[T+0+64]=J+re+1>>1,S[T+1+0]=xr(R,W,J),S[T+3+0]=S[T+1+32]=xr(W,J,re),S[T+3+32]=S[T+1+64]=xr(J,re,re),S[T+3+64]=S[T+2+64]=S[T+0+96]=S[T+1+96]=S[T+2+96]=S[T+3+96]=re}function BM(S,T){var R=S[T-1+0],W=S[T-1+32],J=S[T-1+64],re=S[T-1+96],se=S[T-1-32],oe=S[T+0-32],ce=S[T+1-32],me=S[T+2-32];S[T+0+0]=S[T+2+32]=R+se+1>>1,S[T+0+32]=S[T+2+64]=W+R+1>>1,S[T+0+64]=S[T+2+96]=J+W+1>>1,S[T+0+96]=re+J+1>>1,S[T+3+0]=xr(oe,ce,me),S[T+2+0]=xr(se,oe,ce),S[T+1+0]=S[T+3+32]=xr(R,se,oe),S[T+1+32]=S[T+3+64]=xr(W,R,se),S[T+1+64]=S[T+3+96]=xr(J,W,R),S[T+1+96]=xr(re,J,W)}function UM(S,T){var R;for(R=0;8>R;++R)n(S,T+32*R,S,T-32,8)}function A2(S,T){var R;for(R=0;8>R;++R)i(S,T,S[T-1],8),T+=32}function T0(S,T,R){var W;for(W=0;8>W;++W)i(T,R+32*W,S,8)}function op(S,T){var R,W=8;for(R=0;8>R;++R)W+=S[T+R-32]+S[T-1+32*R];T0(W>>4,S,T)}function zM(S,T){var R,W=4;for(R=0;8>R;++R)W+=S[T+R-32];T0(W>>3,S,T)}function P0(S,T){var R,W=4;for(R=0;8>R;++R)W+=S[T-1+32*R];T0(W>>3,S,T)}function j2(S,T){T0(128,S,T)}function Lx(S,T,R){var W=S[T-R],J=S[T+0],re=3*(J-W)+KM[1020+S[T-2*R]-S[T+R]],se=mE[112+(re+4>>3)];S[T-R]=ll[255+W+mE[112+(re+3>>3)]],S[T+0]=ll[255+J-se]}function nE(S,T,R,W){var J=S[T+0],re=S[T+R];return oc[255+S[T-2*R]-S[T-R]]>W||oc[255+re-J]>W}function iE(S,T,R,W){return 4*oc[255+S[T-R]-S[T+0]]+oc[255+S[T-2*R]-S[T+R]]<=W}function sE(S,T,R,W,J){var re=S[T-3*R],se=S[T-2*R],oe=S[T-R],ce=S[T+0],me=S[T+R],Ne=S[T+2*R],De=S[T+3*R];return 4*oc[255+oe-ce]+oc[255+se-me]>W?0:oc[255+S[T-4*R]-re]<=J&&oc[255+re-se]<=J&&oc[255+se-oe]<=J&&oc[255+De-Ne]<=J&&oc[255+Ne-me]<=J&&oc[255+me-ce]<=J}function aE(S,T,R,W){var J=2*W+1;for(W=0;16>W;++W)iE(S,T+W,R,J)&&Lx(S,T+W,R)}function sd(S,T,R,W){var J=2*W+1;for(W=0;16>W;++W)iE(S,T+W*R,1,J)&&Lx(S,T+W*R,1)}function yh(S,T,R,W){var J;for(J=3;0<J;--J)aE(S,T+=4*R,R,W)}function qM(S,T,R,W){var J;for(J=3;0<J;--J)sd(S,T+=4,R,W)}function lp(S,T,R,W,J,re,se,oe){for(re=2*re+1;0<J--;){if(sE(S,T,R,re,se))if(nE(S,T,R,oe))Lx(S,T,R);else{var ce=S,me=T,Ne=R,De=ce[me-2*Ne],Fe=ce[me-Ne],Pe=ce[me+0],at=ce[me+Ne],Ye=ce[me+2*Ne],Ee=27*(nt=KM[1020+3*(Pe-Fe)+KM[1020+De-at]])+63>>7,Ce=18*nt+63>>7,nt=9*nt+63>>7;ce[me-3*Ne]=ll[255+ce[me-3*Ne]+nt],ce[me-2*Ne]=ll[255+De+Ce],ce[me-Ne]=ll[255+Fe+Ee],ce[me+0]=ll[255+Pe-Ee],ce[me+Ne]=ll[255+at-Ce],ce[me+2*Ne]=ll[255+Ye-nt]}T+=W}}function Qc(S,T,R,W,J,re,se,oe){for(re=2*re+1;0<J--;){if(sE(S,T,R,re,se))if(nE(S,T,R,oe))Lx(S,T,R);else{var ce=S,me=T,Ne=R,De=ce[me-Ne],Fe=ce[me+0],Pe=ce[me+Ne],at=mE[112+((Ye=3*(Fe-De))+4>>3)],Ye=mE[112+(Ye+3>>3)],Ee=at+1>>1;ce[me-2*Ne]=ll[255+ce[me-2*Ne]+Ee],ce[me-Ne]=ll[255+De+Ye],ce[me+0]=ll[255+Fe-at],ce[me+Ne]=ll[255+Pe-Ee]}T+=W}}function N2(S,T,R,W,J,re){lp(S,T,R,1,16,W,J,re)}function k0(S,T,R,W,J,re){lp(S,T,1,R,16,W,J,re)}function WM(S,T,R,W,J,re){var se;for(se=3;0<se;--se)Qc(S,T+=4*R,R,1,16,W,J,re)}function Ix(S,T,R,W,J,re){var se;for(se=3;0<se;--se)Qc(S,T+=4,1,R,16,W,J,re)}function HM(S,T,R,W,J,re,se,oe){lp(S,T,J,1,8,re,se,oe),lp(R,W,J,1,8,re,se,oe)}function E2(S,T,R,W,J,re,se,oe){lp(S,T,1,J,8,re,se,oe),lp(R,W,1,J,8,re,se,oe)}function C2(S,T,R,W,J,re,se,oe){Qc(S,T+4*J,J,1,8,re,se,oe),Qc(R,W+4*J,J,1,8,re,se,oe)}function oE(S,T,R,W,J,re,se,oe){Qc(S,T+4,1,J,8,re,se,oe),Qc(R,W+4,1,J,8,re,se,oe)}function Rx(){this.ba=new Rn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Zr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function T2(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function P2(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lE(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new k}function VM(){this.xb=this.a=0,this.l=new nd,this.ca=new Rn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lE,this.ab=0,this.gc=a(4,P2),this.Oc=0}function Dx(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new nd,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function O0(S,T,R,W,J,re,se){for(S=S==null?0:S[T+0],T=0;T<se;++T)J[re+T]=S+R[W+T]&255,S=J[re+T]}function k2(S,T,R,W,J,re,se){var oe;if(S==null)O0(null,null,R,W,J,re,se);else for(oe=0;oe<se;++oe)J[re+oe]=S[T+oe]+R[W+oe]&255}function cp(S,T,R,W,J,re,se){if(S==null)O0(null,null,R,W,J,re,se);else{var oe,ce=S[T+0],me=ce,Ne=ce;for(oe=0;oe<se;++oe)me=Ne+(ce=S[T+oe])-me,Ne=R[W+oe]+(-256&me?0>me?0:255:me)&255,me=ce,J[re+oe]=Ne}}function O2(S,T,R,W){var J=T.width,re=T.o;if(e(S!=null&&T!=null),0>R||0>=W||R+W>re)return null;if(!S.Cc){if(S.ga==null){var se;if(S.ga=new Dx,(se=S.ga==null)||(se=T.width*T.o,e(S.Gb.length==0),S.Gb=s(se),S.Uc=0,S.Gb==null?se=0:(S.mb=S.Gb,S.nb=S.Uc,S.rc=null,se=1),se=!se),!se){se=S.ga;var oe=S.Fa,ce=S.P,me=S.qc,Ne=S.mb,De=S.nb,Fe=ce+1,Pe=me-1,at=se.l;if(e(oe!=null&&Ne!=null&&T!=null),mp[0]=null,mp[1]=O0,mp[2]=k2,mp[3]=cp,se.ca=Ne,se.tb=De,se.c=T.width,se.i=T.height,e(0<se.c&&0<se.i),1>=me)T=0;else if(se.$a=oe[ce+0]>>0&3,se.Z=oe[ce+0]>>2&3,se.Lc=oe[ce+0]>>4&3,ce=oe[ce+0]>>6&3,0>se.$a||1<se.$a||4<=se.Z||1<se.Lc||ce)T=0;else if(at.put=tc,at.ac=as,at.bc=rc,at.ma=se,at.width=T.width,at.height=T.height,at.Da=T.Da,at.v=T.v,at.va=T.va,at.j=T.j,at.o=T.o,se.$a)e:{e(se.$a==1),T=Ke();t:for(;;){if(T==null){T=0;break e}if(e(se!=null),se.mc=T,T.c=se.c,T.i=se.i,T.l=se.l,T.l.ma=se,T.l.width=se.c,T.l.height=se.i,T.a=0,B(T.m,oe,Fe,Pe),!Le(se.c,se.i,1,T,null)||(T.ab==1&&T.gc[0].hc==3&&de(T.s)?(se.ic=1,oe=T.c*T.i,T.Ta=null,T.Ua=0,T.V=s(oe),T.Ba=0,T.V==null?(T.a=1,T=0):T=1):(se.ic=0,T=Be(T,se.c)),!T))break t;T=1;break e}se.mc=null,T=0}else T=Pe>=se.c*se.i;se=!T}if(se)return null;S.ga.Lc!=1?S.Ga=0:W=re-R}e(S.ga!=null),e(R+W<=re);e:{if(T=(oe=S.ga).c,re=oe.l.o,oe.$a==0){if(Fe=S.rc,Pe=S.Vc,at=S.Fa,ce=S.P+1+R*T,me=S.mb,Ne=S.nb+R*T,e(ce<=S.P+S.qc),oe.Z!=0)for(e(mp[oe.Z]!=null),se=0;se<W;++se)mp[oe.Z](Fe,Pe,at,ce,me,Ne,T),Fe=me,Pe=Ne,Ne+=T,ce+=T;else for(se=0;se<W;++se)n(me,Ne,at,ce,T),Fe=me,Pe=Ne,Ne+=T,ce+=T;S.rc=Fe,S.Vc=Pe}else{if(e(oe.mc!=null),T=R+W,e((se=oe.mc)!=null),e(T<=se.i),se.C>=T)T=1;else if(oe.ic||Me(),oe.ic){oe=se.V,Fe=se.Ba,Pe=se.c;var Ye=se.i,Ee=(at=1,ce=se.$/Pe,me=se.$%Pe,Ne=se.m,De=se.s,se.$),Ce=Pe*Ye,nt=Pe*T,lt=De.wc,st=Ee<nt?xi(De,me,ce):null;e(Ee<=Ce),e(T<=Ye),e(de(De));t:for(;;){for(;!Ne.h&&Ee<nt;){if(me&lt||(st=xi(De,me,ce)),e(st!=null),Y(Ne),256>(Ye=da(st.G[0],st.H[0],Ne)))oe[Fe+Ee]=Ye,++Ee,++me>=Pe&&(me=0,++ce<=T&&!(ce%16)&&ge(se,ce));else{if(!(280>Ye)){at=0;break t}Ye=sl(Ye-256,Ne);var Mt,jt=da(st.G[4],st.H[4],Ne);if(Y(Ne),!(Ee>=(jt=bo(Pe,jt=sl(jt,Ne)))&&Ce-Ee>=Ye)){at=0;break t}for(Mt=0;Mt<Ye;++Mt)oe[Fe+Ee+Mt]=oe[Fe+Ee+Mt-jt];for(Ee+=Ye,me+=Ye;me>=Pe;)me-=Pe,++ce<=T&&!(ce%16)&&ge(se,ce);Ee<nt&&me&lt&&(st=xi(De,me,ce))}e(Ne.h==V(Ne))}ge(se,ce>T?T:ce);break t}!at||Ne.h&&Ee<Ce?(at=0,se.a=Ne.h?5:3):se.$=Ee,T=at}else T=xe(se,se.V,se.Ba,se.c,se.i,T,ze);if(!T){W=0;break e}}R+W>=re&&(S.Cc=1),W=1}if(!W)return null;if(S.Cc&&((W=S.ga)!=null&&(W.mc=null),S.ga=null,0<S.Ga))return alert("todo:WebPDequantizeLevels"),null}return S.nb+R*J}function M(S,T,R,W,J,re){for(;0<J--;){var se,oe=S,ce=T+(R?1:0),me=S,Ne=T+(R?0:3);for(se=0;se<W;++se){var De=me[Ne+4*se];De!=255&&(De*=32897,oe[ce+4*se+0]=oe[ce+4*se+0]*De>>23,oe[ce+4*se+1]=oe[ce+4*se+1]*De>>23,oe[ce+4*se+2]=oe[ce+4*se+2]*De>>23)}T+=re}}function Z(S,T,R,W,J){for(;0<W--;){var re;for(re=0;re<R;++re){var se=S[T+2*re+0],oe=15&(me=S[T+2*re+1]),ce=4369*oe,me=(240&me|me>>4)*ce>>16;S[T+2*re+0]=(240&se|se>>4)*ce>>16&240|(15&se|se<<4)*ce>>16>>4&15,S[T+2*re+1]=240&me|oe}T+=J}}function be(S,T,R,W,J,re,se,oe){var ce,me,Ne=255;for(me=0;me<J;++me){for(ce=0;ce<W;++ce){var De=S[T+ce];re[se+4*ce]=De,Ne&=De}T+=R,se+=oe}return Ne!=255}function Ae(S,T,R,W,J){var re;for(re=0;re<J;++re)R[W+re]=S[T+re]>>8}function Me(){ac=M,Dn=Z,Fn=be,Oi=Ae}function Qe(S,T,R){E[S]=function(W,J,re,se,oe,ce,me,Ne,De,Fe,Pe,at,Ye,Ee,Ce,nt,lt){var st,Mt=lt-1>>1,jt=oe[ce+0]|me[Ne+0]<<16,tr=De[Fe+0]|Pe[at+0]<<16;e(W!=null);var Et=3*jt+tr+131074>>2;for(T(W[J+0],255&Et,Et>>16,Ye,Ee),re!=null&&(Et=3*tr+jt+131074>>2,T(re[se+0],255&Et,Et>>16,Ce,nt)),st=1;st<=Mt;++st){var on=oe[ce+st]|me[Ne+st]<<16,hn=De[Fe+st]|Pe[at+st]<<16,Yr=jt+on+tr+hn+524296,Hr=Yr+2*(on+tr)>>3;Et=Hr+jt>>1,jt=(Yr=Yr+2*(jt+hn)>>3)+on>>1,T(W[J+2*st-1],255&Et,Et>>16,Ye,Ee+(2*st-1)*R),T(W[J+2*st-0],255&jt,jt>>16,Ye,Ee+(2*st-0)*R),re!=null&&(Et=Yr+tr>>1,jt=Hr+hn>>1,T(re[se+2*st-1],255&Et,Et>>16,Ce,nt+(2*st-1)*R),T(re[se+2*st+0],255&jt,jt>>16,Ce,nt+(2*st+0)*R)),jt=on,tr=hn}1&lt||(Et=3*jt+tr+131074>>2,T(W[J+lt-1],255&Et,Et>>16,Ye,Ee+(lt-1)*R),re!=null&&(Et=3*tr+jt+131074>>2,T(re[se+lt-1],255&Et,Et>>16,Ce,nt+(lt-1)*R)))}}function ut(){lc[gE]=A0e,lc[vE]=xz,lc[fz]=j0e,lc[xE]=yz,lc[yE]=bz,lc[YM]=wz,lc[pz]=N0e,lc[XM]=xz,lc[QM]=yz,lc[bE]=bz,lc[JM]=wz}function kt(S){return S&~E0e?0>S?0:255:S>>_z}function Qt(S,T){return kt((19077*S>>8)+(26149*T>>8)-14234)}function Sr(S,T,R){return kt((19077*S>>8)-(6419*T>>8)-(13320*R>>8)+8708)}function wr(S,T){return kt((19077*S>>8)+(33050*T>>8)-17685)}function Gr(S,T,R,W,J){W[J+0]=Qt(S,R),W[J+1]=Sr(S,T,R),W[J+2]=wr(S,T)}function ui(S,T,R,W,J){W[J+0]=wr(S,T),W[J+1]=Sr(S,T,R),W[J+2]=Qt(S,R)}function yi(S,T,R,W,J){var re=Sr(S,T,R);T=re<<3&224|wr(S,T)>>3,W[J+0]=248&Qt(S,R)|re>>5,W[J+1]=T}function Wi(S,T,R,W,J){var re=240&wr(S,T)|15;W[J+0]=240&Qt(S,R)|Sr(S,T,R)>>4,W[J+1]=re}function fa(S,T,R,W,J){W[J+0]=255,Gr(S,T,R,W,J+1)}function Ss(S,T,R,W,J){ui(S,T,R,W,J),W[J+3]=255}function Jc(S,T,R,W,J){Gr(S,T,R,W,J),W[J+3]=255}function ol(S,T){return 0>S?0:S>T?T:S}function ad(S,T,R){E[S]=function(W,J,re,se,oe,ce,me,Ne,De){for(var Fe=Ne+(-2&De)*R;Ne!=Fe;)T(W[J+0],re[se+0],oe[ce+0],me,Ne),T(W[J+1],re[se+0],oe[ce+0],me,Ne+R),J+=2,++se,++ce,Ne+=2*R;1&De&&T(W[J+0],re[se+0],oe[ce+0],me,Ne)}}function cE(S,T,R){return R==0?S==0?T==0?6:5:T==0?4:0:R}function M2(S,T,R,W,J){switch(S>>>30){case 3:_h(T,R,W,J,0);break;case 2:ki(T,R,W,J);break;case 1:Ha(T,R,W,J)}}function L2(S,T){var R,W,J=T.M,re=T.Nb,se=S.oc,oe=S.pc+40,ce=S.oc,me=S.pc+584,Ne=S.oc,De=S.pc+600;for(R=0;16>R;++R)se[oe+32*R-1]=129;for(R=0;8>R;++R)ce[me+32*R-1]=129,Ne[De+32*R-1]=129;for(0<J?se[oe-1-32]=ce[me-1-32]=Ne[De-1-32]=129:(i(se,oe-32-1,127,21),i(ce,me-32-1,127,9),i(Ne,De-32-1,127,9)),W=0;W<S.za;++W){var Fe=T.ya[T.aa+W];if(0<W){for(R=-1;16>R;++R)n(se,oe+32*R-4,se,oe+32*R+12,4);for(R=-1;8>R;++R)n(ce,me+32*R-4,ce,me+32*R+4,4),n(Ne,De+32*R-4,Ne,De+32*R+4,4)}var Pe=S.Gd,at=S.Hd+W,Ye=Fe.ad,Ee=Fe.Hc;if(0<J&&(n(se,oe-32,Pe[at].y,0,16),n(ce,me-32,Pe[at].f,0,8),n(Ne,De-32,Pe[at].ea,0,8)),Fe.Za){var Ce=se,nt=oe-32+16;for(0<J&&(W>=S.za-1?i(Ce,nt,Pe[at].y[15],4):n(Ce,nt,Pe[at+1].y,0,4)),R=0;4>R;R++)Ce[nt+128+R]=Ce[nt+256+R]=Ce[nt+384+R]=Ce[nt+0+R];for(R=0;16>R;++R,Ee<<=2)Ce=se,nt=oe+Az[R],Zc[Fe.Ob[R]](Ce,nt),M2(Ee,Ye,16*+R,Ce,nt)}else if(Ce=cE(W,J,Fe.Ob[0]),pp[Ce](se,oe),Ee!=0)for(R=0;16>R;++R,Ee<<=2)M2(Ee,Ye,16*+R,se,oe+Az[R]);for(R=Fe.Gc,Ce=cE(W,J,Fe.Dd),Ah[Ce](ce,me),Ah[Ce](Ne,De),Ee=Ye,Ce=ce,nt=me,255&(Fe=R>>0)&&(170&Fe?$2(Ee,256,Ce,nt):ic(Ee,256,Ce,nt)),Fe=Ne,Ee=De,255&(R>>=8)&&(170&R?$2(Ye,320,Fe,Ee):ic(Ye,320,Fe,Ee)),J<S.Ub-1&&(n(Pe[at].y,0,se,oe+480,16),n(Pe[at].f,0,ce,me+224,8),n(Pe[at].ea,0,Ne,De+224,8)),R=8*re*S.B,Pe=S.sa,at=S.ta+16*W+16*re*S.R,Ye=S.qa,Fe=S.ra+8*W+R,Ee=S.Ha,Ce=S.Ia+8*W+R,R=0;16>R;++R)n(Pe,at+R*S.R,se,oe+32*R,16);for(R=0;8>R;++R)n(Ye,Fe+R*S.B,ce,me+32*R,8),n(Ee,Ce+R*S.B,Ne,De+32*R,8)}}function Fx(S,T,R,W,J,re,se,oe,ce){var me=[0],Ne=[0],De=0,Fe=ce!=null?ce.kd:0,Pe=ce??new T2;if(S==null||12>R)return 7;Pe.data=S,Pe.w=T,Pe.ha=R,T=[T],R=[R],Pe.gb=[Pe.gb];e:{var at=T,Ye=R,Ee=Pe.gb;if(e(S!=null),e(Ye!=null),e(Ee!=null),Ee[0]=0,12<=Ye[0]&&!r(S,at[0],"RIFF")){if(r(S,at[0]+8,"WEBP")){Ee=3;break e}var Ce=We(S,at[0]+4);if(12>Ce||4294967286<Ce){Ee=3;break e}if(Fe&&Ce>Ye[0]-8){Ee=7;break e}Ee[0]=Ce,at[0]+=12,Ye[0]-=12}Ee=0}if(Ee!=0)return Ee;for(Ce=0<Pe.gb[0],R=R[0];;){e:{var nt=S;Ye=T,Ee=R;var lt=me,st=Ne,Mt=at=[0];if((Et=De=[De])[0]=0,8>Ee[0])Ee=7;else{if(!r(nt,Ye[0],"VP8X")){if(We(nt,Ye[0]+4)!=10){Ee=3;break e}if(18>Ee[0]){Ee=7;break e}var jt=We(nt,Ye[0]+8),tr=1+we(nt,Ye[0]+12);if(2147483648<=tr*(nt=1+we(nt,Ye[0]+15))){Ee=3;break e}Mt!=null&&(Mt[0]=jt),lt!=null&&(lt[0]=tr),st!=null&&(st[0]=nt),Ye[0]+=18,Ee[0]-=18,Et[0]=1}Ee=0}}if(De=De[0],at=at[0],Ee!=0)return Ee;if(Ye=!!(2&at),!Ce&&De)return 3;if(re!=null&&(re[0]=!!(16&at)),se!=null&&(se[0]=Ye),oe!=null&&(oe[0]=0),se=me[0],at=Ne[0],De&&Ye&&ce==null){Ee=0;break}if(4>R){Ee=7;break}if(Ce&&De||!Ce&&!De&&!r(S,T[0],"ALPH")){R=[R],Pe.na=[Pe.na],Pe.P=[Pe.P],Pe.Sa=[Pe.Sa];e:{jt=S,Ee=T,Ce=R;var Et=Pe.gb;lt=Pe.na,st=Pe.P,Mt=Pe.Sa,tr=22,e(jt!=null),e(Ce!=null),nt=Ee[0];var on=Ce[0];for(e(lt!=null),e(Mt!=null),lt[0]=null,st[0]=null,Mt[0]=0;;){if(Ee[0]=nt,Ce[0]=on,8>on){Ee=7;break e}var hn=We(jt,nt+4);if(4294967286<hn){Ee=3;break e}var Yr=8+hn+1&-2;if(tr+=Yr,0<Et&&tr>Et){Ee=3;break e}if(!r(jt,nt,"VP8 ")||!r(jt,nt,"VP8L")){Ee=0;break e}if(on[0]<Yr){Ee=7;break e}r(jt,nt,"ALPH")||(lt[0]=jt,st[0]=nt+8,Mt[0]=hn),nt+=Yr,on-=Yr}}if(R=R[0],Pe.na=Pe.na[0],Pe.P=Pe.P[0],Pe.Sa=Pe.Sa[0],Ee!=0)break}R=[R],Pe.Ja=[Pe.Ja],Pe.xa=[Pe.xa];e:if(Et=S,Ee=T,Ce=R,lt=Pe.gb[0],st=Pe.Ja,Mt=Pe.xa,jt=Ee[0],nt=!r(Et,jt,"VP8 "),tr=!r(Et,jt,"VP8L"),e(Et!=null),e(Ce!=null),e(st!=null),e(Mt!=null),8>Ce[0])Ee=7;else{if(nt||tr){if(Et=We(Et,jt+4),12<=lt&&Et>lt-12){Ee=3;break e}if(Fe&&Et>Ce[0]-8){Ee=7;break e}st[0]=Et,Ee[0]+=8,Ce[0]-=8,Mt[0]=tr}else Mt[0]=5<=Ce[0]&&Et[jt+0]==47&&!(Et[jt+4]>>5),st[0]=Ce[0];Ee=0}if(R=R[0],Pe.Ja=Pe.Ja[0],Pe.xa=Pe.xa[0],T=T[0],Ee!=0)break;if(4294967286<Pe.Ja)return 3;if(oe==null||Ye||(oe[0]=Pe.xa?2:1),se=[se],at=[at],Pe.xa){if(5>R){Ee=7;break}oe=se,Fe=at,Ye=re,S==null||5>R?S=0:5<=R&&S[T+0]==47&&!(S[T+4]>>5)?(Ce=[0],Et=[0],lt=[0],B(st=new I,S,T,R),er(st,Ce,Et,lt)?(oe!=null&&(oe[0]=Ce[0]),Fe!=null&&(Fe[0]=Et[0]),Ye!=null&&(Ye[0]=lt[0]),S=1):S=0):S=0}else{if(10>R){Ee=7;break}oe=at,S==null||10>R||!GN(S,T+3,R-3)?S=0:(Fe=S[T+0]|S[T+1]<<8|S[T+2]<<16,Ye=16383&(S[T+7]<<8|S[T+6]),S=16383&(S[T+9]<<8|S[T+8]),1&Fe||3<(Fe>>1&7)||!(Fe>>4&1)||Fe>>5>=Pe.Ja||!Ye||!S?S=0:(se&&(se[0]=Ye),oe&&(oe[0]=S),S=1))}if(!S||(se=se[0],at=at[0],De&&(me[0]!=se||Ne[0]!=at)))return 3;ce!=null&&(ce[0]=Pe,ce.offset=T-ce.w,e(4294967286>T-ce.w),e(ce.offset==ce.ha-R));break}return Ee==0||Ee==7&&De&&ce==null?(re!=null&&(re[0]|=Pe.na!=null&&0<Pe.na.length),W!=null&&(W[0]=se),J!=null&&(J[0]=at),0):Ee}function I2(S,T,R){var W=T.width,J=T.height,re=0,se=0,oe=W,ce=J;if(T.Da=S!=null&&0<S.Da,T.Da&&(oe=S.cd,ce=S.bd,re=S.v,se=S.j,11>R||(re&=-2,se&=-2),0>re||0>se||0>=oe||0>=ce||re+oe>W||se+ce>J))return 0;if(T.v=re,T.j=se,T.va=re+oe,T.o=se+ce,T.U=oe,T.T=ce,T.da=S!=null&&0<S.da,T.da){if(!_e(oe,ce,R=[S.ib],re=[S.hb]))return 0;T.ib=R[0],T.hb=re[0]}return T.ob=S!=null&&S.ob,T.Kb=S==null||!S.Sd,T.da&&(T.ob=T.ib<3*W/4&&T.hb<3*J/4,T.Kb=0),1}function R2(S){if(S==null)return 2;if(11>S.S){var T=S.f.RGBA;T.fb+=(S.height-1)*T.A,T.A=-T.A}else T=S.f.kb,S=S.height,T.O+=(S-1)*T.fa,T.fa=-T.fa,T.N+=(S-1>>1)*T.Ab,T.Ab=-T.Ab,T.W+=(S-1>>1)*T.Db,T.Db=-T.Db,T.F!=null&&(T.J+=(S-1)*T.lb,T.lb=-T.lb);return 0}function $x(S,T,R,W){if(W==null||0>=S||0>=T)return 2;if(R!=null){if(R.Da){var J=R.cd,re=R.bd,se=-2&R.v,oe=-2&R.j;if(0>se||0>oe||0>=J||0>=re||se+J>S||oe+re>T)return 2;S=J,T=re}if(R.da){if(!_e(S,T,J=[R.ib],re=[R.hb]))return 2;S=J[0],T=re[0]}}W.width=S,W.height=T;e:{var ce=W.width,me=W.height;if(S=W.S,0>=ce||0>=me||!(S>=gE&&13>S))S=2;else{if(0>=W.Rd&&W.sd==null){se=re=J=T=0;var Ne=(oe=ce*jz[S])*me;if(11>S||(re=(me+1)/2*(T=(ce+1)/2),S==12&&(se=(J=ce)*me)),(me=s(Ne+2*re+se))==null){S=1;break e}W.sd=me,11>S?((ce=W.f.RGBA).eb=me,ce.fb=0,ce.A=oe,ce.size=Ne):((ce=W.f.kb).y=me,ce.O=0,ce.fa=oe,ce.Fd=Ne,ce.f=me,ce.N=0+Ne,ce.Ab=T,ce.Cd=re,ce.ea=me,ce.W=0+Ne+re,ce.Db=T,ce.Ed=re,S==12&&(ce.F=me,ce.J=0+Ne+2*re),ce.Tc=se,ce.lb=J)}if(T=1,J=W.S,re=W.width,se=W.height,J>=gE&&13>J)if(11>J)S=W.f.RGBA,T&=(oe=Math.abs(S.A))*(se-1)+re<=S.size,T&=oe>=re*jz[J],T&=S.eb!=null;else{S=W.f.kb,oe=(re+1)/2,Ne=(se+1)/2,ce=Math.abs(S.fa),me=Math.abs(S.Ab);var De=Math.abs(S.Db),Fe=Math.abs(S.lb),Pe=Fe*(se-1)+re;T&=ce*(se-1)+re<=S.Fd,T&=me*(Ne-1)+oe<=S.Cd,T=(T&=De*(Ne-1)+oe<=S.Ed)&ce>=re&me>=oe&De>=oe,T&=S.y!=null,T&=S.f!=null,T&=S.ea!=null,J==12&&(T&=Fe>=re,T&=Pe<=S.Tc,T&=S.F!=null)}else T=0;S=T?0:2}}return S!=0||R!=null&&R.fd&&(S=R2(W)),S}var qs=64,Bx=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ux=24,zx=32,D2=8,_o=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(S){return S},E.Predictor2=function(S,T,R){return T[R+0]},E.Predictor3=function(S,T,R){return T[R+1]},E.Predictor4=function(S,T,R){return T[R-1]},E.Predictor5=function(S,T,R){return ct(ct(S,T[R+1]),T[R+0])},E.Predictor6=function(S,T,R){return ct(S,T[R-1])},E.Predictor7=function(S,T,R){return ct(S,T[R+0])},E.Predictor8=function(S,T,R){return ct(T[R-1],T[R+0])},E.Predictor9=function(S,T,R){return ct(T[R+0],T[R+1])},E.Predictor10=function(S,T,R){return ct(ct(S,T[R-1]),ct(T[R+0],T[R+1]))},E.Predictor11=function(S,T,R){var W=T[R+0];return 0>=Rt(W>>24&255,S>>24&255,(T=T[R-1])>>24&255)+Rt(W>>16&255,S>>16&255,T>>16&255)+Rt(W>>8&255,S>>8&255,T>>8&255)+Rt(255&W,255&S,255&T)?W:S},E.Predictor12=function(S,T,R){var W=T[R+0];return($e((S>>24&255)+(W>>24&255)-((T=T[R-1])>>24&255))<<24|$e((S>>16&255)+(W>>16&255)-(T>>16&255))<<16|$e((S>>8&255)+(W>>8&255)-(T>>8&255))<<8|$e((255&S)+(255&W)-(255&T)))>>>0},E.Predictor13=function(S,T,R){var W=T[R-1];return(At((S=ct(S,T[R+0]))>>24&255,W>>24&255)<<24|At(S>>16&255,W>>16&255)<<16|At(S>>8&255,W>>8&255)<<8|At(S>>0&255,W>>0&255))>>>0};var GM=E.PredictorAdd0;E.PredictorAdd1=Yt,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var F2=E.PredictorAdd2;et("ColorIndexInverseTransform","MapARGB","32b",function(S){return S>>8&255},function(S){return S}),et("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(S){return S},function(S){return S>>8&255});var uE,nc=E.ColorIndexInverseTransform,qx=E.MapARGB,dE=E.VP8LColorIndexInverseTransformAlpha,hE=E.MapAlpha,up=E.VP8LPredictorsAdd=[];up.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var M0,So,Wa,dp,bh,wh,Wx,_h,ki,$2,Ha,ic,Hx,fE,B2,L0,I0,hp,R0,Vx,D0,fp,U2,sc,ac,Dn,Fn,Oi,os=s(511),Sh=s(2041),z2=s(225),Gx=s(767),pE=0,KM=Sh,mE=z2,ll=Gx,oc=os,gE=0,vE=1,fz=2,xE=3,yE=4,YM=5,pz=6,XM=7,QM=8,bE=9,JM=10,u0e=[2,3,7],d0e=[3,3,11],mz=[280,256,256,256,40],h0e=[0,1,1,1,0],f0e=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],p0e=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],m0e=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],g0e=8,ZM=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eL=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],q2=null,v0e=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],x0e=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gz=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],y0e=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],b0e=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],w0e=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],_0e=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],pp=[],Zc=[],Ah=[],S0e=1,vz=2,mp=[],lc=[];Qe("UpsampleRgbLinePair",Gr,3),Qe("UpsampleBgrLinePair",ui,3),Qe("UpsampleRgbaLinePair",Jc,4),Qe("UpsampleBgraLinePair",Ss,4),Qe("UpsampleArgbLinePair",fa,4),Qe("UpsampleRgba4444LinePair",Wi,2),Qe("UpsampleRgb565LinePair",yi,2);var A0e=E.UpsampleRgbLinePair,j0e=E.UpsampleBgrLinePair,xz=E.UpsampleRgbaLinePair,yz=E.UpsampleBgraLinePair,bz=E.UpsampleArgbLinePair,wz=E.UpsampleRgba4444LinePair,N0e=E.UpsampleRgb565LinePair,wE=16,_E=1<<wE-1,W2=-227,tL=482,_z=6,E0e=(256<<_z)-1,Sz=0,C0e=s(256),T0e=s(256),P0e=s(256),k0e=s(256),O0e=s(tL-W2),M0e=s(tL-W2);ad("YuvToRgbRow",Gr,3),ad("YuvToBgrRow",ui,3),ad("YuvToRgbaRow",Jc,4),ad("YuvToBgraRow",Ss,4),ad("YuvToArgbRow",fa,4),ad("YuvToRgba4444Row",Wi,2),ad("YuvToRgb565Row",yi,2);var Az=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],SE=[0,2,8],L0e=[8,7,6,4,4,2,2,2,1,1,1,1],I0e=1;this.WebPDecodeRGBA=function(S,T,R,W,J){var re=vE,se=new Rx,oe=new Rn;se.ba=oe,oe.S=re,oe.width=[oe.width],oe.height=[oe.height];var ce=oe.width,me=oe.height,Ne=new Kn;if(Ne==null||S==null)var De=2;else e(Ne!=null),De=Fx(S,T,R,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(De!=0?ce=0:(ce!=null&&(ce[0]=Ne.width[0]),me!=null&&(me[0]=Ne.height[0]),ce=1),ce){oe.width=oe.width[0],oe.height=oe.height[0],W!=null&&(W[0]=oe.width),J!=null&&(J[0]=oe.height);e:{if(W=new nd,(J=new T2).data=S,J.w=T,J.ha=R,J.kd=1,T=[0],e(J!=null),((S=Fx(J.data,J.w,J.ha,null,null,null,T,null,J))==0||S==7)&&T[0]&&(S=4),(T=S)==0){if(e(se!=null),W.data=J.data,W.w=J.w+J.offset,W.ha=J.ha-J.offset,W.put=tc,W.ac=as,W.bc=rc,W.ma=se,J.xa){if((S=Ke())==null){se=1;break e}if(function(Fe,Pe){var at=[0],Ye=[0],Ee=[0];t:for(;;){if(Fe==null)return 0;if(Pe==null)return Fe.a=2,0;if(Fe.l=Pe,Fe.a=0,B(Fe.m,Pe.data,Pe.w,Pe.ha),!er(Fe.m,at,Ye,Ee)){Fe.a=3;break t}if(Fe.xb=vz,Pe.width=at[0],Pe.height=Ye[0],!Le(at[0],Ye[0],1,Fe,null))break t;return 1}return e(Fe.a!=0),0}(S,W)){if(W=(T=$x(W.width,W.height,se.Oa,se.ba))==0){t:{W=S;r:for(;;){if(W==null){W=0;break t}if(e(W.s.yc!=null),e(W.s.Ya!=null),e(0<W.s.Wb),e((R=W.l)!=null),e((J=R.ma)!=null),W.xb!=0){if(W.ca=J.ba,W.tb=J.tb,e(W.ca!=null),!I2(J.Oa,R,xE)){W.a=2;break r}if(!Be(W,R.width)||R.da)break r;if((R.da||xt(W.ca.S))&&Me(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Me()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!Ve(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!xe(W,W.V,W.Ba,W.c,W.i,R.o,ve))break r;J.Dc=W.Ma,W=1;break t}e(W.a!=0),W=0}W=!W}W&&(T=S.a)}else T=S.a}else{if((S=new al)==null){se=1;break e}if(S.Fa=J.na,S.P=J.P,S.qc=J.Sa,KN(S,W)){if((T=$x(W.width,W.height,se.Oa,se.ba))==0){if(S.Aa=0,R=se.Oa,e((J=S)!=null),R!=null){if(0<(ce=0>(ce=R.Md)?0:100<ce?255:255*ce/100)){for(me=Ne=0;4>me;++me)12>(De=J.pb[me]).lc&&(De.ia=ce*L0e[0>De.lc?0:De.lc]>>3),Ne|=De.ia;Ne&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=R.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}TM(S,W)||(T=S.a)}}else T=S.a}T==0&&se.Oa!=null&&se.Oa.fd&&(T=R2(se.ba))}se=T}re=se!=0?null:11>re?oe.f.RGBA.eb:oe.f.kb.y}else re=null;return re};var jz=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,P){for(var L="",O=0;O<4;O++)L+=String.fromCharCode(E[P++]);return L}function d(E,P){return(E[P+0]<<0|E[P+1]<<8|E[P+2]<<16)>>>0}function h(E,P){return(E[P+0]<<0|E[P+1]<<8|E[P+2]<<16|E[P+3]<<24)>>>0}new l;var f=[0],p=[0],g=[],m=new l,v=t,x=function(E,P){var L={},O=0,k=!1,D=0,F=0;if(L.frames=[],!function(q,V,K,Y){for(var ae=0;ae<Y;ae++)if(q[V+ae]!=K.charCodeAt(ae))return!0;return!1}(E,P,"RIFF",4)){for(h(E,P+=4),P+=8;P<E.length;){var z=u(E,P),U=h(E,P+=4);P+=4;var H=U+(1&U);switch(z){case"VP8 ":case"VP8L":L.frames[O]===void 0&&(L.frames[O]={}),(ne=L.frames[O]).src_off=k?F:P-8,ne.src_size=D+U+8,O++,k&&(k=!1,D=0,F=0);break;case"VP8X":(ne=L.header={}).feature_flags=E[P];var B=P+4;ne.canvas_width=1+d(E,B),B+=3,ne.canvas_height=1+d(E,B),B+=3;break;case"ALPH":k=!0,D=H+8,F=P-8;break;case"ANIM":(ne=L.header).bgcolor=h(E,P),B=P+4,ne.loop_count=(fe=E)[(I=B)+0]<<0|fe[I+1]<<8,B+=2;break;case"ANMF":var X,ne;(ne=L.frames[O]={}).offset_x=2*d(E,P),P+=3,ne.offset_y=2*d(E,P),P+=3,ne.width=1+d(E,P),P+=3,ne.height=1+d(E,P),P+=3,ne.duration=d(E,P),P+=3,X=E[P++],ne.dispose=1&X,ne.blend=X>>1&1}z!="ANMF"&&(P+=H)}var fe,I;return L}}(v,0);x.response=v,x.rgbaoutput=!0,x.dataurl=!1;var y=x.header?x.header:null,w=x.frames?x.frames:null;if(y){y.loop_counter=y.loop_count,f=[y.canvas_height],p=[y.canvas_width];for(var _=0;_<w.length&&w[_].blend!=0;_++);}var A=w[0],C=m.WebPDecodeRGBA(v,A.src_off,A.src_size,p,f);A.rgba=C,A.imgwidth=p[0],A.imgheight=f[0];for(var N=0;N<p[0]*f[0]*4;N++)g[N]=C[N];return this.width=p,this.height=f,this.data=g,this}(function(t){var e=function(){return typeof qF=="function"},r=function(f,p,g,m){var v=4,x=a;switch(m){case t.image_compression.FAST:v=1,x=s;break;case t.image_compression.MEDIUM:v=6,x=o;break;case t.image_compression.SLOW:v=9,x=l}f=n(f,p,g,x);var y=qF(f,{level:v});return t.__addimage__.arrayBufferToBinaryString(y)},n=function(f,p,g,m){for(var v,x,y,w=f.length/p,_=new Uint8Array(f.length+w),A=d(),C=0;C<w;C+=1){if(y=C*p,v=f.subarray(y,y+p),m)_.set(m(v,g,x),y+C);else{for(var N,E=A.length,P=[];N<E;N+=1)P[N]=A[N](v,g,x);var L=h(P.concat());_.set(P[L],y+C)}x=v}return _},i=function(f){var p=Array.apply([],f);return p.unshift(0),p},s=function(f,p){var g,m=[],v=f.length;m[0]=1;for(var x=0;x<v;x+=1)g=f[x-p]||0,m[x+1]=f[x]-g+256&255;return m},a=function(f,p,g){var m,v=[],x=f.length;v[0]=2;for(var y=0;y<x;y+=1)m=g&&g[y]||0,v[y+1]=f[y]-m+256&255;return v},o=function(f,p,g){var m,v,x=[],y=f.length;x[0]=3;for(var w=0;w<y;w+=1)m=f[w-p]||0,v=g&&g[w]||0,x[w+1]=f[w]+256-(m+v>>>1)&255;return x},l=function(f,p,g){var m,v,x,y,w=[],_=f.length;w[0]=4;for(var A=0;A<_;A+=1)m=f[A-p]||0,v=g&&g[A]||0,x=g&&g[A-p]||0,y=u(m,v,x),w[A+1]=f[A]-y+256&255;return w},u=function(f,p,g){if(f===p&&p===g)return f;var m=Math.abs(p-g),v=Math.abs(f-g),x=Math.abs(f+p-g-g);return m<=v&&m<=x?f:v<=x?p:g},d=function(){return[i,s,a,o,l]},h=function(f){var p=f.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(f,p,g,m){var v,x,y,w,_,A,C,N,E,P,L,O,k,D,F,z=this.decode.FLATE_DECODE,U="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(y=new JIe(f)).imgData,x=y.bits,v=y.colorSpace,_=y.colors,[4,6].indexOf(y.colorType)!==-1){if(y.bits===8){E=(N=y.pixelBitlength==32?new Uint32Array(y.decodePixels().buffer):y.pixelBitlength==16?new Uint16Array(y.decodePixels().buffer):new Uint8Array(y.decodePixels().buffer)).length,L=new Uint8Array(E*y.colors),P=new Uint8Array(E);var H,B=y.pixelBitlength-y.bits;for(D=0,F=0;D<E;D++){for(k=N[D],H=0;H<B;)L[F++]=k>>>H&255,H+=y.bits;P[D]=k>>>H&255}}if(y.bits===16){E=(N=new Uint32Array(y.decodePixels().buffer)).length,L=new Uint8Array(E*(32/y.pixelBitlength)*y.colors),P=new Uint8Array(E*(32/y.pixelBitlength)),O=y.colors>1,D=0,F=0;for(var X=0;D<E;)k=N[D++],L[F++]=k>>>0&255,O&&(L[F++]=k>>>16&255,k=N[D++],L[F++]=k>>>0&255),P[X++]=k>>>16&255;x=8}m!==t.image_compression.NONE&&e()?(f=r(L,y.width*y.colors,y.colors,m),C=r(P,y.width,1,m)):(f=L,C=P,z=void 0)}if(y.colorType===3&&(v=this.color_spaces.INDEXED,A=y.palette,y.transparency.indexed)){var ne=y.transparency.indexed,fe=0;for(D=0,E=ne.length;D<E;++D)fe+=ne[D];if((fe/=255)===E-1&&ne.indexOf(0)!==-1)w=[ne.indexOf(0)];else if(fe!==E){for(N=y.decodePixels(),P=new Uint8Array(N.length),D=0,E=N.length;D<E;D++)P[D]=ne[N[D]];C=r(P,y.width,1)}}var I=function(q){var V;switch(q){case t.image_compression.FAST:V=11;break;case t.image_compression.MEDIUM:V=13;break;case t.image_compression.SLOW:V=14;break;default:V=12}return V}(m);return z===this.decode.FLATE_DECODE&&(U="/Predictor "+I+" "),U+="/Colors "+_+" /BitsPerComponent "+x+" /Columns "+y.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(C&&this.__addimage__.isArrayBuffer(C)||this.__addimage__.isArrayBufferView(C))&&(C=this.__addimage__.arrayBufferToBinaryString(C)),{alias:g,data:f,index:p,filter:z,decodeParameters:U,transparency:w,palette:A,sMask:C,predictor:I,width:y.width,height:y.height,bitsPerComponent:x,colorSpace:v}}}})(ir.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new ZIe(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},d=new qI(100).encode(u,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(ir.API),nu.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},nu.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){On.log("bit decode error:"+r)}},nu.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},nu.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},nu.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},nu.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=a,this.data[d+3]=u}this.pos+=t}},nu.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},nu.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},nu.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},nu.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new nu(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new qI(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(ir.API),AG.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new AG(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new qI(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(ir.API),ir.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var d=n[u],h=n[u+1],f=n[u+2],p=n[u+3];s[o++]=d,s[o++]=h,s[o++]=f,a[l++]=p}var g=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:g,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},ir.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dy=ir.API,kC=dy.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,f=0,p=t.length,g=0,m=o[0]||l,v=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(f=h&&bn(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/d:0,v.push((o[n]||m)/l+f)),g=n;return v},bG=dy.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return dy.processArabic&&(t=dy.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:kC.apply(this,arguments).reduce(function(s,a){return s+a},0)},wG=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},_G=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,d=[],h=[d],f=r.textIndent||0,p=0,g=0,m=t.split(" "),v=kC.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var x=Array(l).join(" "),y=[];m.map(function(_){(_=_.split(/\s*\n/)).length>1?y=y.concat(_.map(function(A,C){return(C&&A.length?`
`:"")+A})):y.push(_[0])}),m=y,l=bG.apply(this,[x,r])}for(s=0,a=m.length;s<a;s++){var w=0;if(n=m[s],l&&n[0]==`
`&&(n=n.substr(1),w=1),f+p+(g=(i=kC.apply(this,[n,r])).reduce(function(_,A){return _+A},0))>e||w){if(g>e){for(o=wG.apply(this,[n,i,e-(f+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);g=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function(_,A){return _+A},0)}else d=[n];h.push(d),f=g+l,p=v}else d.push(n),f+=p+g,p=v}return u=l?function(_,A){return(A?x:"")+_.join(" ")}:function(_){return _.join(" ")},h.map(u)},dy.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(_G.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},a=t.__fontmetrics__.compress=function(h){var f,p,g,m,v=["{"];for(var x in h){if(f=h[x],isNaN(parseInt(x,10))?p="'"+x+"'":(x=parseInt(x,10),p=(p=s(x).slice(2)).slice(0,-1)+n[p.slice(-1)]),typeof f=="number")f<0?(g=s(f).slice(3),m="-"):(g=s(f).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(bn(f)!=="object")throw new Error("Don't know what to do with value type "+bn(f)+".");g=a(f)}v.push(p+g)}return v.push("}"),v.join("")},o=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,p,g,m,v={},x=1,y=v,w=[],_="",A="",C=h.length-1,N=1;N<C;N+=1)(m=h[N])=="'"?f?(g=f.join(""),f=void 0):f=[]:f?f.push(m):m=="{"?(w.push([y,g]),y={},g=void 0):m=="}"?((p=w.pop())[0][p[1]]=y,g=void 0,y=p[0]):m=="-"?x=-1:g===void 0?r.hasOwnProperty(m)?(_+=r[m],g=parseInt(_,16)*x,x=1,_=""):_+=m:r.hasOwnProperty(m)?(A+=r[m],y[g]=parseInt(A,16)*x,x=1,g=void 0,A=""):A+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var f=h.font,p=d.Unicode[f.postScriptName];p&&(f.metadata.Unicode={},f.metadata.Unicode.widths=p.widths,f.metadata.Unicode.kerning=p.kerning);var g=u.Unicode[f.postScriptName];g&&(f.metadata.Unicode.encoding=g,f.encoding=g.codePages[0])}])}(ir.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(NS(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(ir),function(t){function e(){return(sr.canvg?Promise.resolve(sr.canvg):t0(()=>import("./index.es-vtTpHYgi.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ir.API.addSvgAsImage=function(r,n,i,s,a,o,l,u){if(isNaN(n)||isNaN(i))throw On.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw On.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=a;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(g){return g.fromString(h,r,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),n,i,s,a,l,u)})}}(),ir.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},ir.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,d=0,h=0;function f(g,m){var v,x=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(h=0;h<p;h+=1)r[o[h]].value=r[o[h]].defaultValue,r[o[h]].explicitSet=!1}if(bn(t)==="object"){for(i in t)if(s=t[i],f(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&f(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(ir.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,f=s.length;h<f;++h){if(o=a.metadata.characterToGlyph(s.charCodeAt(h)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(h),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},n=function(s){var a,o,l,u,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,f=(o=Object.keys(s).sort(function(p,g){return p-g})).length;h<f;h++)a=o[h],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",g=0;g<f.length;g++)p+=String.fromCharCode(f[g]);var m=u();d({data:p,addLength1:!0,objectId:m}),l("endobj");var v=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ty(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ty(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+Ty(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,d=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var g=u();d({data:f,addLength1:!0,objectId:g}),l("endobj");var m=u();d({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ty(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Ty(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,d=s.options||{},h=s.mutex||{},f=h.pdfEscape,p=h.activeFontKey,g=h.fonts,m=p,v="",x=0,y="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:h};for(y=o,m=p,Array.isArray(o)&&(y=o[0]),x=0;x<y.length;x+=1)g[m].metadata.hasOwnProperty("cmap")&&(a=g[m].metadata.cmap.unicode.codeMap[y[x].charCodeAt(0)]),a||y[x].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=y[x]:v+="";var _="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?_=f(v,m).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(_=r(v,g[m])),h.isHex=!0,{text:_,x:l,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(ir),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ir.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,d,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,w=0;this.__bidiEngine__={};var _=function(O){var k=O.charCodeAt(),D=k>>8,F=m[D];return F!==void 0?h[256*F+(255&k)]:D===252||D===253?"AL":x.test(D)?"L":D===8?"R":"N"},A=function(O){for(var k,D=0;D<O.length;D++){if((k=_(O.charAt(D)))==="L")return!1;if(k==="R")return!0}return!1},C=function(O,k,D,F){var z,U,H,B,X=k[F];switch(X){case"L":case"R":y=!1;break;case"N":case"AN":break;case"EN":y&&(X="AN");break;case"AL":y=!0,X="R";break;case"WS":X="N";break;case"CS":F<1||F+1>=k.length||(z=D[F-1])!=="EN"&&z!=="AN"||(U=k[F+1])!=="EN"&&U!=="AN"?X="N":y&&(U="AN"),X=U===z?U:"N";break;case"ES":X=(z=F>0?D[F-1]:"B")==="EN"&&F+1<k.length&&k[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&D[F-1]==="EN"){X="EN";break}if(y){X="N";break}for(H=F+1,B=k.length;H<B&&k[H]==="ET";)H++;X=H<B&&k[H]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(B=k.length,H=F+1;H<B&&k[H]==="NSM";)H++;if(H<B){var ne=O[F],fe=ne>=1425&&ne<=2303||ne===64286;if(z=k[H],fe&&(z==="R"||z==="AL")){X="R";break}}}X=F<1||(z=k[F-1])==="B"?"N":D[F-1];break;case"B":y=!1,i=!0,X=w;break;case"S":s=!0,X="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"BN":X="N"}return X},N=function(O,k,D){var F=O.split("");return D&&E(F,D,{hiLevel:w}),F.reverse(),k&&k.reverse(),F.join("")},E=function(O,k,D){var F,z,U,H,B,X=-1,ne=O.length,fe=0,I=[],q=w?p:f,V=[];for(y=!1,i=!1,s=!1,z=0;z<ne;z++)V[z]=_(O[z]);for(U=0;U<ne;U++){if(B=fe,I[U]=C(O,V,I,U),F=240&(fe=q[B][g[I[U]]]),fe&=15,k[U]=H=q[fe][5],F>0)if(F===16){for(z=X;z<U;z++)k[z]=1;X=-1}else X=-1;if(q[fe][6])X===-1&&(X=U);else if(X>-1){for(z=X;z<U;z++)k[z]=H;X=-1}V[U]==="B"&&(k[U]=0),D.hiLevel|=H}s&&function(K,Y,ae){for(var pe=0;pe<ae;pe++)if(K[pe]==="S"){Y[pe]=w;for(var le=pe-1;le>=0&&K[le]==="WS";le--)Y[le]=w}}(V,k,ne)},P=function(O,k,D,F,z){if(!(z.hiLevel<O)){if(O===1&&w===1&&!i)return k.reverse(),void(D&&D.reverse());for(var U,H,B,X,ne=k.length,fe=0;fe<ne;){if(F[fe]>=O){for(B=fe+1;B<ne&&F[B]>=O;)B++;for(X=fe,H=B-1;X<H;X++,H--)U=k[X],k[X]=k[H],k[H]=U,D&&(U=D[X],D[X]=D[H],D[H]=U);fe=B}fe++}}},L=function(O,k,D){var F=O.split(""),z={hiLevel:w};return D||(D=[]),E(F,D,z),function(U,H,B){if(B.hiLevel!==0&&d)for(var X,ne=0;ne<U.length;ne++)H[ne]===1&&(X=v.indexOf(U[ne]))>=0&&(U[ne]=v[X+1])}(F,D,z),P(2,F,k,D,z),P(1,F,k,D,z),F.join("")};return this.__bidiEngine__.doBidiReorder=function(O,k,D){if(function(z,U){if(U)for(var H=0;H<z.length;H++)U[H]=H;o===void 0&&(o=A(z)),u===void 0&&(u=A(z))}(O,k),a||!l||u)if(a&&l&&o^u)w=o?1:0,O=N(O,k,D);else if(!a&&l&&u)w=o?1:0,O=L(O,k,D),O=N(O,k);else if(!a||o||l||u){if(a&&!l&&o^u)O=N(O,k),o?(w=0,O=L(O,k,D)):(w=1,O=L(O,k,D),O=N(O,k));else if(a&&o&&!l&&u)w=1,O=L(O,k,D),O=N(O,k);else if(!a&&!l&&o^u){var F=d;o?(w=1,O=L(O,k,D),w=0,d=!1,O=L(O,k,D),d=F):(w=0,O=L(O,k,D),O=N(O,k),w=1,d=!1,O=L(O,k,D),d=F,O=N(O,k))}}else w=0,O=L(O,k,D);else w=o?1:0,O=L(O,k,D);return O},this.__bidiEngine__.setOptions=function(O){O&&(a=O.isInputVisual,l=O.isOutputVisual,o=O.isInputRtl,u=O.isOutputRtl,d=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(ir),ir.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new o0(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new pRe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new eRe(this.contents),this.head=new rRe(this),this.name=new oRe(this),this.cmap=new Kce(this),this.toUnicode={},this.hhea=new nRe(this),this.maxp=new lRe(this),this.hmtx=new cRe(this),this.post=new sRe(this),this.os2=new iRe(this),this.loca=new fRe(this),this.glyf=new uRe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ed,o0=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),eRe=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,d,h,f,p,g,m;for(m in p=Object.keys(r).length,l=Math.log(2),h=16*Math.floor(Math.log(p)/l),a=Math.floor(h/l),d=16*p-h,(i=new o0).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(a),i.writeShort(d),s=16*p,u=i.pos+s,o=null,g=[],r)for(f=r[m],i.writeString(m),i.writeInt(t(f)),i.writeInt(u),i.writeInt(f.length),g=g.concat(f),m==="head"&&(o=u),u+=f.length;u%4;)g.push(0),u++;return i.write(g),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=Yce.call(r);r.length%4;)r.push(0);for(s=new o0(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),tRe={}.hasOwnProperty,fh=function(t,e){for(var r in e)tRe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ed=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var rRe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new o0).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),jG=function(){function t(e,r){var n,i,s,a,o,l,u,d,h,f,p,g,m,v,x,y,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),f=p/2,e.pos+=6,s=function(){var _,A;for(A=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)A.push(e.readUInt16());return A}(),e.pos+=2,m=function(){var _,A;for(A=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)A.push(e.readUInt16());return A}(),u=function(){var _,A;for(A=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)A.push(e.readUInt16());return A}(),d=function(){var _,A;for(A=[],l=_=0;0<=f?_<f:_>f;l=0<=f?++_:--_)A.push(e.readUInt16());return A}(),i=(this.length-e.pos+this.offset)/2,o=function(){var _,A;for(A=[],l=_=0;0<=i?_<i:_>i;l=0<=i?++_:--_)A.push(e.readUInt16());return A}(),l=x=0,w=s.length;x<w;l=++x)for(v=s[l],n=y=g=m[l];g<=v?y<=v:y>=v;n=g<=v?++y:--y)d[l]===0?a=n+u[l]:(a=o[d[l]/2+(n-g)-(f-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=h}return t.encode=function(e,r){var n,i,s,a,o,l,u,d,h,f,p,g,m,v,x,y,w,_,A,C,N,E,P,L,O,k,D,F,z,U,H,B,X,ne,fe,I,q,V,K,Y,ae,pe,le,ye,Se,we;switch(F=new o0,a=Object.keys(e).sort(function(We,Ve){return We-Ve}),r){case"macroman":for(m=0,v=function(){var We=[];for(g=0;g<256;++g)We.push(0);return We}(),y={0:0},s={},z=0,X=a.length;z<X;z++)y[le=e[i=a[z]]]==null&&(y[le]=++m),s[i]={old:e[i],new:y[e[i]]},v[i]=y[e[i]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(v),{charMap:s,subtable:F.data,maxGlyphID:m+1};case"unicode":for(k=[],h=[],w=0,y={},n={},x=u=null,U=0,ne=a.length;U<ne;U++)y[A=e[i=a[U]]]==null&&(y[A]=++w),n[i]={old:A,new:y[A]},o=y[A]-i,x!=null&&o===u||(x&&h.push(x),k.push(i),u=o),x=i;for(x&&h.push(x),h.push(65535),k.push(65535),L=2*(P=k.length),E=2*Math.pow(Math.log(P)/Math.LN2,2),f=Math.log(E/2)/Math.LN2,N=2*P-E,l=[],C=[],p=[],g=H=0,fe=k.length;H<fe;g=++H){if(O=k[g],d=h[g],O===65535){l.push(0),C.push(0);break}if(O-(D=n[O].new)>=32768)for(l.push(0),C.push(2*(p.length+P-g)),i=B=O;O<=d?B<=d:B>=d;i=O<=d?++B:--B)p.push(n[i].new);else l.push(D-O),C.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*P+2*p.length),F.writeUInt16(0),F.writeUInt16(L),F.writeUInt16(E),F.writeUInt16(f),F.writeUInt16(N),ae=0,I=h.length;ae<I;ae++)i=h[ae],F.writeUInt16(i);for(F.writeUInt16(0),pe=0,q=k.length;pe<q;pe++)i=k[pe],F.writeUInt16(i);for(ye=0,V=l.length;ye<V;ye++)o=l[ye],F.writeUInt16(o);for(Se=0,K=C.length;Se<K;Se++)_=C[Se],F.writeUInt16(_);for(we=0,Y=p.length;we<Y;we++)m=p[we],F.writeUInt16(m);return{charMap:n,subtable:F.data,maxGlyphID:w+1}}},t}(),Kce=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new jG(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=jG.encode(r,n),(s=new o0).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),nRe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),iRe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),sRe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},e}(),aRe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},oRe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,l,u,d,h,f,p;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},a=h=0,f=i.length;h<f;a=++h)s=i[a],r.pos=s.offset,d=r.readString(s.length),o=new aRe(d,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),lRe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),cRe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,h;for(h=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)h.push(r.readInt16());return h}(),this.widths=(function(){var d,h,f,p;for(p=[],d=0,h=(f=this.metrics).length;d<h;d++)a=f[d],p.push(a.advance);return p}).call(this),i=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),Yce=[].slice,uRe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,l,u,d,h,f;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new o0(n.read(s))).readShort(),d=l.readShort(),f=l.readShort(),u=l.readShort(),h=l.readShort(),this.cache[r]=o===-1?new hRe(l,d,f,u,h):new dRe(l,o,d,f,u,h),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=n.length;l<u;l++)s=r[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),dRe=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),hRe=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new o0(Yce.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),fRe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fh(e,ed),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var d=new Array(4*i.length),h=0;h<i.length;++h)d[4*h+3]=255&i[h],d[4*h+2]=(65280&i[h])>>8,d[4*h+1]=(16711680&i[h])>>16,d[4*h]=(4278190080&i[h])>>24;return d},e}(),pRe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,d,h,f,p,g,m,v,x;for(i in n=Kce.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},x=n.charMap)p[(l=x[i]).old]=l.new;for(g in f=n.maxGlyphID,a)g in p||(p[g]=f++);return d=function(y){var w,_;for(w in _={},y)_[y[w]]=w;return _}(p),h=Object.keys(d).sort(function(y,w){return y-w}),m=function(){var y,w,_;for(_=[],y=0,w=h.length;y<w;y++)o=h[y],_.push(d[o]);return _}(),s=this.font.glyf.encode(a,m,p),u=this.font.loca.encode(s.offsets,m),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();ir.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var vk={};vk.version="0.18.5";var Xce=1252,mRe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Qce=function(t){mRe.indexOf(t)!=-1&&(Xce=t)};function gRe(){Qce(1252)}var MA=function(t){Qce(t)};function vRe(){MA(1200),gRe()}var OC=function(e){return String.fromCharCode(e)},NG=function(e){return String.fromCharCode(e)},cg,km="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function LA(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=km.charAt(s)+km.charAt(a)+km.charAt(o)+km.charAt(l);return e}function Gf(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=km.indexOf(t.charAt(u++)),a=km.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=km.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=km.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var cn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),tp=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function nx(t){return cn?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function EG(t){return cn?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Mu=function(e){return cn?tp(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function CO(t){if(typeof ArrayBuffer>"u")return Mu(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function kN(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function xRe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var ta=cn?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:tp(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function yRe(t){for(var e=[],r=0,n=t.length+250,i=nx(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=nx(65535),n=65530)}return e.push(i.slice(0,r)),ta(e)}var ES=/\u0000/g,MC=/[\u0001-\u0006]/g;function b1(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function Iu(t,e){var r=""+t;return r.length>=e?r:ji("0",e-r.length)+r}function C9(t,e){var r=""+t;return r.length>=e?r:ji(" ",e-r.length)+r}function xk(t,e){var r=""+t;return r.length>=e?r:r+ji(" ",e-r.length)}function bRe(t,e){var r=""+Math.round(t);return r.length>=e?r:ji("0",e-r.length)+r}function wRe(t,e){var r=""+t;return r.length>=e?r:ji("0",e-r.length)+r}var CG=Math.pow(2,32);function hy(t,e){if(t>CG||t<-CG)return bRe(t,e);var r=Math.round(t);return wRe(r,e)}function yk(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var TG=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],WI=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function _Re(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Ci={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},PG={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SRe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function bk(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,d=0,h=Math.floor(i);u<e&&(h=Math.floor(i),o=h*a+s,d=h*u+l,!(i-h<5e-8));)i=1/(i-h),s=a,a=o,l=u,u=d;if(d>e&&(u>e?(d=l,o=s):(d=u,o=a)),!r)return[0,n*o,d];var f=Math.floor(n*o/d);return[f,n*o-f*d,d]}function LC(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=PRe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var Jce=new Date(1899,11,31,0,0,0),ARe=Jce.getTime(),jRe=new Date(1900,2,1,0,0,0);function Zce(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=jRe&&(r+=24*60*60*1e3),(r-(ARe+(t.getTimezoneOffset()-Jce.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function T9(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function NRe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ERe(t){var e=t<0?12:11,r=T9(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function CRe(t){var e=T9(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function TRe(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=ERe(t):e===10?r=t.toFixed(10).substr(0,12):r=CRe(t),T9(NRe(r.toUpperCase()))}function XF(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):TRe(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return l0(14,Zce(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function PRe(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function kRe(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return WI[r.m-1][1];case 5:return WI[r.m-1][0];default:return WI[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return TG[r.q][0];default:return TG[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?Iu(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=Iu(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?Iu(l,u):"";return d}function Om(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var eue=/%/g;function ORe(t,e,r){var n=e.replace(eue,""),i=e.length-n.length;return Ef(t,n,r*Math.pow(10,2*i))+ji("%",i)}function MRe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ef(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function tue(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+tue(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var rue=/# (\?+)( ?)\/( ?)(\d+)/;function LRe(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?ji(" ",t[1].length+1+t[4].length):C9(a,t[1].length)+t[2]+"/"+t[3]+Iu(o,t[4].length))}function IRe(t,e,r){return r+(e===0?"":""+e)+ji(" ",t[1].length+2+t[4].length)}var nue=/^#*0*\.([0#]+)/,iue=/\).*[0#]/,sue=/\(###\) ###\\?-####/;function ro(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function kG(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function OG(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function RRe(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function DRe(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function mc(t,e,r){if(t.charCodeAt(0)===40&&!e.match(iue)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?mc("n",n,r):"("+mc("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return MRe(t,e,r);if(e.indexOf("%")!==-1)return ORe(t,e,r);if(e.indexOf("E")!==-1)return tue(e,r);if(e.charCodeAt(0)===36)return"$"+mc(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+hy(l,e.length);if(e.match(/^[#?]+$/))return i=hy(r,0),i==="0"&&(i=""),i.length>e.length?i:ro(e.substr(0,e.length-i.length))+i;if(s=e.match(rue))return LRe(s,l,u);if(e.match(/^#+0+$/))return u+hy(l,e.length-e.indexOf("0"));if(s=e.match(nue))return i=kG(r,s[1].length).replace(/^([^\.]+)$/,"$1."+ro(s[1])).replace(/\.$/,"."+ro(s[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+ji("0",ro(s[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+kG(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Om(hy(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+mc(t,e,-r):Om(""+(Math.floor(r)+RRe(r,s[1].length)))+"."+Iu(OG(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return mc(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=b1(mc(t,e.replace(/[\\-]/g,""),r)),a=0,b1(b1(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(e.match(sue))return i=mc(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=bk(l,Math.pow(10,a)-1,!1),i=""+u,d=Ef("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=xk(o[2],a),d.length<s[4].length&&(d=ro(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=bk(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?C9(o[1],a)+s[2]+"/"+s[3]+xk(o[2],a):ji(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=hy(r,0),e.length<=i.length?i:ro(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,f=e.length-i.length-h;return ro(e.substr(0,h)+i+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=OG(r,s[1].length),r<0?"-"+mc(t,e,-r):Om(DRe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Iu(0,3-g.length):"")+g})+"."+Iu(a,s[1].length);switch(e){case"###,##0.00":return mc(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Om(hy(l,0));return p!=="0"?u+p:"";case"###,###.00":return mc(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return mc(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function FRe(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return Ef(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function $Re(t,e,r){var n=e.replace(eue,""),i=e.length-n.length;return Ef(t,n,r*Math.pow(10,2*i))+ji("%",i)}function aue(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+aue(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function md(t,e,r){if(t.charCodeAt(0)===40&&!e.match(iue)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?md("n",n,r):"("+md("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return FRe(t,e,r);if(e.indexOf("%")!==-1)return $Re(t,e,r);if(e.indexOf("E")!==-1)return aue(e,r);if(e.charCodeAt(0)===36)return"$"+md(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Iu(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:ro(e.substr(0,e.length-i.length))+i;if(s=e.match(rue))return IRe(s,l,u);if(e.match(/^#+0+$/))return u+Iu(l,e.length-e.indexOf("0"));if(s=e.match(nue))return i=(""+r).replace(/^([^\.]+)$/,"$1."+ro(s[1])).replace(/\.$/,"."+ro(s[1])),i=i.replace(/\.(\d*)$/,function(g,m){return"."+m+ji("0",ro(s[1]).length-m.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Om(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+md(t,e,-r):Om(""+r)+"."+ji("0",s[1].length);if(s=e.match(/^#,#*,#0/))return md(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=b1(md(t,e.replace(/[\\-]/g,""),r)),a=0,b1(b1(e.replace(/\\/g,"")).replace(/[0#]/g,function(g){return a<i.length?i.charAt(a++):g==="0"?"0":""}));if(e.match(sue))return i=md(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=bk(l,Math.pow(10,a)-1,!1),i=""+u,d=Ef("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=xk(o[2],a),d.length<s[4].length&&(d=ro(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=bk(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?C9(o[1],a)+s[2]+"/"+s[3]+xk(o[2],a):ji(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:ro(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,f=e.length-i.length-h;return ro(e.substr(0,h)+i+e.substr(e.length-f))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+md(t,e,-r):Om(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Iu(0,3-g.length):"")+g})+"."+Iu(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var p=Om(""+l);return p!=="0"?u+p:"";default:if(e.match(/\.[0#?]*$/))return md(t,e.slice(0,e.lastIndexOf(".")),r)+ro(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Ef(t,e,r){return(r|0)===r?md(t,e,r):mc(t,e,r)}function BRe(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var oue=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function lue(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":yk(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(oue))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function URe(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,d,h,f="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!yk(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(h=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++a;break;case"\\":var p=t.charAt(++a),g=p==="("||p===")"?p:"t";i[i.length]={t:g,v:p},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=LC(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=LC(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=f),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(u==null&&(u=LC(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(m.v=u.H>=12?"P":"A"),m.t="T",f="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(m.v=u.H>=12?"PM":"AM"),m.t="T",a+=5,f="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(m.v=u.H>=12?"":""),m.t="T",a+=5,f="h"):(m.t="t",++a),u==null&&m.t==="T")return"";i[i.length]=m,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(oue)){if(u==null&&(u=LC(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",lue(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var v=0,x=0,y;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=f,l="h",v<1&&(v=1);break;case"s":(y=i[a].v.match(/\.0+$/))&&(x=Math.max(x,y[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[a].v.match(/[Hh]/)&&(v=1),v<2&&i[a].v.match(/[Mm]/)&&(v=2),v<3&&i[a].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",_;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=kRe(i[a].t.charCodeAt(0),i[a].v,u,x),i[a].t="t";break;case"n":case"?":for(_=a+1;i[_]!=null&&((o=i[_].t)==="?"||o==="D"||(o===" "||o==="t")&&i[_+1]!=null&&(i[_+1].t==="?"||i[_+1].t==="t"&&i[_+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[_].v==="/"||i[_].v===" "&&i[_+1]!=null&&i[_+1].t=="?"));)i[a].v+=i[_].v,i[_]={v:"",t:";"},++_;w+=i[a].v,a=_-1;break;case"G":i[a].t="t",i[a].v=XF(e,r);break}var A="",C,N;if(w.length>0){w.charCodeAt(0)==40?(C=e<0&&w.charCodeAt(0)===45?-e:e,N=Ef("n",w,C)):(C=e<0&&n>1?-e:e,N=Ef("n",w,C),C<0&&i[0]&&i[0].t=="t"&&(N=N.substr(1),i[0].v="-"+i[0].v)),_=N.length-1;var E=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){E=a;break}var P=i.length;if(E===i.length&&N.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(_>=i[a].v.length-1?(_-=i[a].v.length,i[a].v=N.substr(_+1,i[a].v.length)):_<0?i[a].v="":(i[a].v=N.substr(0,_+1),_=-1),i[a].t="t",P=a);_>=0&&P<i.length&&(i[P].v=N.substr(0,_+1)+i[P].v)}else if(E!==i.length&&N.indexOf("E")===-1){for(_=N.indexOf(".")-1,a=E;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(d=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")-1:i[a].v.length-1,A=i[a].v.substr(d+1);d>=0;--d)_>=0&&(i[a].v.charAt(d)==="0"||i[a].v.charAt(d)==="#")&&(A=N.charAt(_--)+A);i[a].v=A,i[a].t="t",P=a}for(_>=0&&P<i.length&&(i[P].v=N.substr(0,_+1)+i[P].v),_=N.indexOf(".")+1,a=E;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==E)){for(d=i[a].v.indexOf(".")>-1&&a===E?i[a].v.indexOf(".")+1:0,A=i[a].v.substr(0,d);d<i[a].v.length;++d)_<N.length&&(A+=N.charAt(_++));i[a].v=A,i[a].t="t",P=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(C=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=Ef(i[a].t,i[a].v,C),i[a].t="t");var L="";for(a=0;a!==i.length;++a)i[a]!=null&&(L+=i[a].v);return L}var MG=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function LG(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function zRe(t,e){var r=BRe(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(MG),o=r[1].match(MG);return LG(e,a)?[n,r[0]]:LG(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function l0(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ci)[t],n==null&&(n=r.table&&r.table[PG[t]]||Ci[PG[t]]),n==null&&(n=SRe[t]||"General");break}if(yk(n,0))return XF(e,r);e instanceof Date&&(e=Zce(e,r.date1904));var i=zRe(n,e);if(yk(i[1]))return XF(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return URe(i[1],e,r,i[0])}function cue(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Ci[r]==null){e<0&&(e=r);continue}if(Ci[r]==t){e=r;break}}e<0&&(e=391)}return Ci[e]=t,e}function TO(t){for(var e=0;e!=392;++e)t[e]!==void 0&&cue(t[e],e)}function PO(){Ci=_Re()}var uue=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function qRe(t){var e=typeof t=="number"?Ci[t]:t;return e=e.replace(uue,"(\\d+)"),new RegExp("^"+e+"$")}function WRe(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(uue)||[]).forEach(function(h,f){var p=parseInt(r[f+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":a=p;break;case"s":l=p;break;case"m":a>=0?o=p:i=p;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?d:u+"T"+d}var HRe=function(){var t={};t.version="1.2.0";function e(){for(var N=0,E=new Array(256),P=0;P!=256;++P)N=P,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,E[P]=N;return typeof Int32Array<"u"?new Int32Array(E):E}var r=e();function n(N){var E=0,P=0,L=0,O=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)O[L]=N[L];for(L=0;L!=256;++L)for(P=N[L],E=256+L;E<4096;E+=256)P=O[E]=P>>>8^N[P&255];var k=[];for(L=1;L!=16;++L)k[L-1]=typeof Int32Array<"u"?O.subarray(L*256,L*256+256):O.slice(L*256,L*256+256);return k}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],d=i[5],h=i[6],f=i[7],p=i[8],g=i[9],m=i[10],v=i[11],x=i[12],y=i[13],w=i[14];function _(N,E){for(var P=E^-1,L=0,O=N.length;L<O;)P=P>>>8^r[(P^N.charCodeAt(L++))&255];return~P}function A(N,E){for(var P=E^-1,L=N.length-15,O=0;O<L;)P=w[N[O++]^P&255]^y[N[O++]^P>>8&255]^x[N[O++]^P>>16&255]^v[N[O++]^P>>>24]^m[N[O++]]^g[N[O++]]^p[N[O++]]^f[N[O++]]^h[N[O++]]^d[N[O++]]^u[N[O++]]^l[N[O++]]^o[N[O++]]^a[N[O++]]^s[N[O++]]^r[N[O++]];for(L+=15;O<L;)P=P>>>8^r[(P^N[O++])&255];return~P}function C(N,E){for(var P=E^-1,L=0,O=N.length,k=0,D=0;L<O;)k=N.charCodeAt(L++),k<128?P=P>>>8^r[(P^k)&255]:k<2048?(P=P>>>8^r[(P^(192|k>>6&31))&255],P=P>>>8^r[(P^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,D=N.charCodeAt(L++)&1023,P=P>>>8^r[(P^(240|k>>8&7))&255],P=P>>>8^r[(P^(128|k>>2&63))&255],P=P>>>8^r[(P^(128|D>>6&15|(k&3)<<4))&255],P=P>>>8^r[(P^(128|D&63))&255]):(P=P>>>8^r[(P^(224|k>>12&15))&255],P=P>>>8^r[(P^(128|k>>6&63))&255],P=P>>>8^r[(P^(128|k&63))&255]);return~P}return t.table=r,t.bstr=_,t.buf=A,t.str=C,t}(),En=function(){var e={};e.version="1.2.1";function r(ie,ve){for(var de=ie.split("/"),he=ve.split("/"),ge=0,xe=0,Re=Math.min(de.length,he.length);ge<Re;++ge){if(xe=de[ge].length-he[ge].length)return xe;if(de[ge]!=he[ge])return de[ge]<he[ge]?-1:1}return de.length-he.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var ve=ie.lastIndexOf("/");return ve===-1?ie:ie.slice(0,ve+1)}function i(ie){if(ie.charAt(ie.length-1)=="/")return i(ie.slice(0,-1));var ve=ie.lastIndexOf("/");return ve===-1?ie:ie.slice(ve+1)}function s(ie,ve){typeof ve=="string"&&(ve=new Date(ve));var de=ve.getHours();de=de<<6|ve.getMinutes(),de=de<<5|ve.getSeconds()>>>1,ie.write_shift(2,de);var he=ve.getFullYear()-1980;he=he<<4|ve.getMonth()+1,he=he<<5|ve.getDate(),ie.write_shift(2,he)}function a(ie){var ve=ie.read_shift(2)&65535,de=ie.read_shift(2)&65535,he=new Date,ge=de&31;de>>>=5;var xe=de&15;de>>>=4,he.setMilliseconds(0),he.setFullYear(de+1980),he.setMonth(xe-1),he.setDate(ge);var Re=ve&31;ve>>>=5;var Ke=ve&63;return ve>>>=6,he.setHours(ve),he.setMinutes(Ke),he.setSeconds(Re<<1),he}function o(ie){Ol(ie,0);for(var ve={},de=0;ie.l<=ie.length-4;){var he=ie.read_shift(2),ge=ie.read_shift(2),xe=ie.l+ge,Re={};switch(he){case 21589:de=ie.read_shift(1),de&1&&(Re.mtime=ie.read_shift(4)),ge>5&&(de&2&&(Re.atime=ie.read_shift(4)),de&4&&(Re.ctime=ie.read_shift(4))),Re.mtime&&(Re.mt=new Date(Re.mtime*1e3));break}ie.l=xe,ve[he]=Re}return ve}var l;function u(){return l||(l={})}function d(ie,ve){if(ie[0]==80&&ie[1]==75)return Zt(ie,ve);if((ie[0]|32)==109&&(ie[1]|32)==105)return rc(ie,ve);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var de=3,he=512,ge=0,xe=0,Re=0,Ke=0,Le=0,Be=[],ze=ie.slice(0,512);Ol(ze,0);var ht=h(ze);switch(de=ht[0],de){case 3:he=512;break;case 4:he=4096;break;case 0:if(ht[1]==0)return Zt(ie,ve);default:throw new Error("Major Version: Expected 3 or 4 saw "+de)}he!==512&&(ze=ie.slice(0,he),Ol(ze,28));var bt=ie.slice(0,he);f(ze,de);var Tt=ze.read_shift(4,"i");if(de===3&&Tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Tt);ze.l+=4,Re=ze.read_shift(4,"i"),ze.l+=4,ze.chk("00100000","Mini Stream Cutoff Size: "),Ke=ze.read_shift(4,"i"),ge=ze.read_shift(4,"i"),Le=ze.read_shift(4,"i"),xe=ze.read_shift(4,"i");for(var vt=-1,Ct=0;Ct<109&&(vt=ze.read_shift(4,"i"),!(vt<0));++Ct)Be[Ct]=vt;var fr=p(ie,he);v(Le,xe,fr,he,Be);var un=y(fr,Re,Be,he);un[Re].name="!Directory",ge>0&&Ke!==D&&(un[Ke].name="!MiniFAT"),un[Be[0]].name="!FAT",un.fat_addrs=Be,un.ssz=he;var jn={},qi=[],Kc=[],vh=[];w(Re,un,fr,qi,ge,jn,Kc,Ke),g(Kc,vh,qi),qi.shift();var rd={FileIndex:Kc,FullPaths:vh};return ve&&ve.raw&&(rd.raw={header:bt,sectors:fr}),rd}function h(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(F,"Header Signature: "),ie.l+=16;var ve=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),ve]}function f(ie,ve){var de=9;switch(ie.l+=2,de=ie.read_shift(2)){case 9:if(ve!=3)throw new Error("Sector Shift: Expected 9 saw "+de);break;case 12:if(ve!=4)throw new Error("Sector Shift: Expected 12 saw "+de);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+de)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function p(ie,ve){for(var de=Math.ceil(ie.length/ve)-1,he=[],ge=1;ge<de;++ge)he[ge-1]=ie.slice(ge*ve,(ge+1)*ve);return he[de-1]=ie.slice(de*ve),he}function g(ie,ve,de){for(var he=0,ge=0,xe=0,Re=0,Ke=0,Le=de.length,Be=[],ze=[];he<Le;++he)Be[he]=ze[he]=he,ve[he]=de[he];for(;Ke<ze.length;++Ke)he=ze[Ke],ge=ie[he].L,xe=ie[he].R,Re=ie[he].C,Be[he]===he&&(ge!==-1&&Be[ge]!==ge&&(Be[he]=Be[ge]),xe!==-1&&Be[xe]!==xe&&(Be[he]=Be[xe])),Re!==-1&&(Be[Re]=he),ge!==-1&&he!=Be[he]&&(Be[ge]=Be[he],ze.lastIndexOf(ge)<Ke&&ze.push(ge)),xe!==-1&&he!=Be[he]&&(Be[xe]=Be[he],ze.lastIndexOf(xe)<Ke&&ze.push(xe));for(he=1;he<Le;++he)Be[he]===he&&(xe!==-1&&Be[xe]!==xe?Be[he]=Be[xe]:ge!==-1&&Be[ge]!==ge&&(Be[he]=Be[ge]));for(he=1;he<Le;++he)if(ie[he].type!==0){if(Ke=he,Ke!=Be[Ke])do Ke=Be[Ke],ve[he]=ve[Ke]+"/"+ve[he];while(Ke!==0&&Be[Ke]!==-1&&Ke!=Be[Ke]);Be[he]=-1}for(ve[0]+="/",he=1;he<Le;++he)ie[he].type!==2&&(ve[he]+="/")}function m(ie,ve,de){for(var he=ie.start,ge=ie.size,xe=[],Re=he;de&&ge>0&&Re>=0;)xe.push(ve.slice(Re*k,Re*k+k)),ge-=k,Re=ug(de,Re*4);return xe.length===0?Je(0):ta(xe).slice(0,ie.size)}function v(ie,ve,de,he,ge){var xe=D;if(ie===D){if(ve!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Re=de[ie],Ke=(he>>>2)-1;if(!Re)return;for(var Le=0;Le<Ke&&(xe=ug(Re,Le*4))!==D;++Le)ge.push(xe);v(ug(Re,he-4),ve-1,de,he,ge)}}function x(ie,ve,de,he,ge){var xe=[],Re=[];ge||(ge=[]);var Ke=he-1,Le=0,Be=0;for(Le=ve;Le>=0;){ge[Le]=!0,xe[xe.length]=Le,Re.push(ie[Le]);var ze=de[Math.floor(Le*4/he)];if(Be=Le*4&Ke,he<4+Be)throw new Error("FAT boundary crossed: "+Le+" 4 "+he);if(!ie[ze])break;Le=ug(ie[ze],Be)}return{nodes:xe,data:zG([Re])}}function y(ie,ve,de,he){var ge=ie.length,xe=[],Re=[],Ke=[],Le=[],Be=he-1,ze=0,ht=0,bt=0,Tt=0;for(ze=0;ze<ge;++ze)if(Ke=[],bt=ze+ve,bt>=ge&&(bt-=ge),!Re[bt]){Le=[];var vt=[];for(ht=bt;ht>=0;){vt[ht]=!0,Re[ht]=!0,Ke[Ke.length]=ht,Le.push(ie[ht]);var Ct=de[Math.floor(ht*4/he)];if(Tt=ht*4&Be,he<4+Tt)throw new Error("FAT boundary crossed: "+ht+" 4 "+he);if(!ie[Ct]||(ht=ug(ie[Ct],Tt),vt[ht]))break}xe[bt]={nodes:Ke,data:zG([Le])}}return xe}function w(ie,ve,de,he,ge,xe,Re,Ke){for(var Le=0,Be=he.length?2:0,ze=ve[ie].data,ht=0,bt=0,Tt;ht<ze.length;ht+=128){var vt=ze.slice(ht,ht+128);Ol(vt,64),bt=vt.read_shift(2),Tt=L9(vt,0,bt-Be),he.push(Tt);var Ct={name:Tt,type:vt.read_shift(1),color:vt.read_shift(1),L:vt.read_shift(4,"i"),R:vt.read_shift(4,"i"),C:vt.read_shift(4,"i"),clsid:vt.read_shift(16),state:vt.read_shift(4,"i"),start:0,size:0},fr=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);fr!==0&&(Ct.ct=_(vt,vt.l-8));var un=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);un!==0&&(Ct.mt=_(vt,vt.l-8)),Ct.start=vt.read_shift(4,"i"),Ct.size=vt.read_shift(4,"i"),Ct.size<0&&Ct.start<0&&(Ct.size=Ct.type=0,Ct.start=D,Ct.name=""),Ct.type===5?(Le=Ct.start,ge>0&&Le!==D&&(ve[Le].name="!StreamData")):Ct.size>=4096?(Ct.storage="fat",ve[Ct.start]===void 0&&(ve[Ct.start]=x(de,Ct.start,ve.fat_addrs,ve.ssz)),ve[Ct.start].name=Ct.name,Ct.content=ve[Ct.start].data.slice(0,Ct.size)):(Ct.storage="minifat",Ct.size<0?Ct.size=0:Le!==D&&Ct.start!==D&&ve[Le]&&(Ct.content=m(Ct,ve[Le].data,(ve[Ke]||{}).data))),Ct.content&&Ol(Ct.content,0),xe[Tt]=Ct,Re.push(Ct)}}function _(ie,ve){return new Date((Il(ie,ve+4)/1e7*Math.pow(2,32)+Il(ie,ve)/1e7-11644473600)*1e3)}function A(ie,ve){return u(),d(l.readFileSync(ie),ve)}function C(ie,ve){var de=ve&&ve.type;switch(de||cn&&Buffer.isBuffer(ie)&&(de="buffer"),de||"base64"){case"file":return A(ie,ve);case"base64":return d(Mu(Gf(ie)),ve);case"binary":return d(Mu(ie),ve)}return d(ie,ve)}function N(ie,ve){var de=ve||{},he=de.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=he+"/",ie.FileIndex[0]={name:he,type:5}),de.CLSID&&(ie.FileIndex[0].clsid=de.CLSID),E(ie)}function E(ie){var ve="Sh33tJ5";if(!En.find(ie,"/"+ve)){var de=Je(4);de[0]=55,de[1]=de[3]=50,de[2]=54,ie.FileIndex.push({name:ve,type:2,content:de,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+ve),P(ie)}}function P(ie,ve){N(ie);for(var de=!1,he=!1,ge=ie.FullPaths.length-1;ge>=0;--ge){var xe=ie.FileIndex[ge];switch(xe.type){case 0:he?de=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:he=!0,isNaN(xe.R*xe.L*xe.C)&&(de=!0),xe.R>-1&&xe.L>-1&&xe.R==xe.L&&(de=!0);break;default:de=!0;break}}if(!(!de&&!ve)){var Re=new Date(1987,1,19),Ke=0,Le=Object.create?Object.create(null):{},Be=[];for(ge=0;ge<ie.FullPaths.length;++ge)Le[ie.FullPaths[ge]]=!0,ie.FileIndex[ge].type!==0&&Be.push([ie.FullPaths[ge],ie.FileIndex[ge]]);for(ge=0;ge<Be.length;++ge){var ze=n(Be[ge][0]);he=Le[ze],he||(Be.push([ze,{name:i(ze).replace("/",""),type:1,clsid:U,ct:Re,mt:Re,content:null}]),Le[ze]=!0)}for(Be.sort(function(Tt,vt){return r(Tt[0],vt[0])}),ie.FullPaths=[],ie.FileIndex=[],ge=0;ge<Be.length;++ge)ie.FullPaths[ge]=Be[ge][0],ie.FileIndex[ge]=Be[ge][1];for(ge=0;ge<Be.length;++ge){var ht=ie.FileIndex[ge],bt=ie.FullPaths[ge];if(ht.name=i(bt).replace("/",""),ht.L=ht.R=ht.C=-(ht.color=1),ht.size=ht.content?ht.content.length:0,ht.start=0,ht.clsid=ht.clsid||U,ge===0)ht.C=Be.length>1?1:-1,ht.size=0,ht.type=5;else if(bt.slice(-1)=="/"){for(Ke=ge+1;Ke<Be.length&&n(ie.FullPaths[Ke])!=bt;++Ke);for(ht.C=Ke>=Be.length?-1:Ke,Ke=ge+1;Ke<Be.length&&n(ie.FullPaths[Ke])!=n(bt);++Ke);ht.R=Ke>=Be.length?-1:Ke,ht.type=1}else n(ie.FullPaths[ge+1]||"")==n(bt)&&(ht.R=ge+1),ht.type=2}}}function L(ie,ve){var de=ve||{};if(de.fileType=="mad")return er(ie,de);switch(P(ie),de.fileType){case"zip":return Kn(ie,de)}var he=function(Tt){for(var vt=0,Ct=0,fr=0;fr<Tt.FileIndex.length;++fr){var un=Tt.FileIndex[fr];if(un.content){var jn=un.content.length;jn>0&&(jn<4096?vt+=jn+63>>6:Ct+=jn+511>>9)}}for(var qi=Tt.FullPaths.length+3>>2,Kc=vt+7>>3,vh=vt+127>>7,rd=Kc+Ct+qi+vh,Yc=rd+127>>7,nd=Yc<=109?0:Math.ceil((Yc-109)/127);rd+Yc+nd+127>>7>Yc;)nd=++Yc<=109?0:Math.ceil((Yc-109)/127);var al=[1,nd,Yc,vh,qi,Ct,vt,0];return Tt.FileIndex[0].size=vt<<6,al[7]=(Tt.FileIndex[0].start=al[0]+al[1]+al[2]+al[3]+al[4]+al[5])+(al[6]+7>>3),al}(ie),ge=Je(he[7]<<9),xe=0,Re=0;{for(xe=0;xe<8;++xe)ge.write_shift(1,z[xe]);for(xe=0;xe<8;++xe)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),xe=0;xe<3;++xe)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,he[2]),ge.write_shift(4,he[0]+he[1]+he[2]+he[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,he[3]?he[0]+he[1]+he[2]-1:D),ge.write_shift(4,he[3]),ge.write_shift(-4,he[1]?he[0]-1:D),ge.write_shift(4,he[1]),xe=0;xe<109;++xe)ge.write_shift(-4,xe<he[2]?he[1]+xe:-1)}if(he[1])for(Re=0;Re<he[1];++Re){for(;xe<236+Re*127;++xe)ge.write_shift(-4,xe<he[2]?he[1]+xe:-1);ge.write_shift(-4,Re===he[1]-1?D:Re+1)}var Ke=function(Tt){for(Re+=Tt;xe<Re-1;++xe)ge.write_shift(-4,xe+1);Tt&&(++xe,ge.write_shift(-4,D))};for(Re=xe=0,Re+=he[1];xe<Re;++xe)ge.write_shift(-4,H.DIFSECT);for(Re+=he[2];xe<Re;++xe)ge.write_shift(-4,H.FATSECT);Ke(he[3]),Ke(he[4]);for(var Le=0,Be=0,ze=ie.FileIndex[0];Le<ie.FileIndex.length;++Le)ze=ie.FileIndex[Le],ze.content&&(Be=ze.content.length,!(Be<4096)&&(ze.start=Re,Ke(Be+511>>9)));for(Ke(he[6]+7>>3);ge.l&511;)ge.write_shift(-4,H.ENDOFCHAIN);for(Re=xe=0,Le=0;Le<ie.FileIndex.length;++Le)ze=ie.FileIndex[Le],ze.content&&(Be=ze.content.length,!(!Be||Be>=4096)&&(ze.start=Re,Ke(Be+63>>6)));for(;ge.l&511;)ge.write_shift(-4,H.ENDOFCHAIN);for(xe=0;xe<he[4]<<2;++xe){var ht=ie.FullPaths[xe];if(!ht||ht.length===0){for(Le=0;Le<17;++Le)ge.write_shift(4,0);for(Le=0;Le<3;++Le)ge.write_shift(4,-1);for(Le=0;Le<12;++Le)ge.write_shift(4,0);continue}ze=ie.FileIndex[xe],xe===0&&(ze.start=ze.size?ze.start-1:D);var bt=xe===0&&de.root||ze.name;if(Be=2*(bt.length+1),ge.write_shift(64,bt,"utf16le"),ge.write_shift(2,Be),ge.write_shift(1,ze.type),ge.write_shift(1,ze.color),ge.write_shift(-4,ze.L),ge.write_shift(-4,ze.R),ge.write_shift(-4,ze.C),ze.clsid)ge.write_shift(16,ze.clsid,"hex");else for(Le=0;Le<4;++Le)ge.write_shift(4,0);ge.write_shift(4,ze.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,ze.start),ge.write_shift(4,ze.size),ge.write_shift(4,0)}for(xe=1;xe<ie.FileIndex.length;++xe)if(ze=ie.FileIndex[xe],ze.size>=4096)if(ge.l=ze.start+1<<9,cn&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+511&-512;else{for(Le=0;Le<ze.size;++Le)ge.write_shift(1,ze.content[Le]);for(;Le&511;++Le)ge.write_shift(1,0)}for(xe=1;xe<ie.FileIndex.length;++xe)if(ze=ie.FileIndex[xe],ze.size>0&&ze.size<4096)if(cn&&Buffer.isBuffer(ze.content))ze.content.copy(ge,ge.l,0,ze.size),ge.l+=ze.size+63&-64;else{for(Le=0;Le<ze.size;++Le)ge.write_shift(1,ze.content[Le]);for(;Le&63;++Le)ge.write_shift(1,0)}if(cn)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function O(ie,ve){var de=ie.FullPaths.map(function(Le){return Le.toUpperCase()}),he=de.map(function(Le){var Be=Le.split("/");return Be[Be.length-(Le.slice(-1)=="/"?2:1)]}),ge=!1;ve.charCodeAt(0)===47?(ge=!0,ve=de[0].slice(0,-1)+ve):ge=ve.indexOf("/")!==-1;var xe=ve.toUpperCase(),Re=ge===!0?de.indexOf(xe):he.indexOf(xe);if(Re!==-1)return ie.FileIndex[Re];var Ke=!xe.match(MC);for(xe=xe.replace(ES,""),Ke&&(xe=xe.replace(MC,"!")),Re=0;Re<de.length;++Re)if((Ke?de[Re].replace(MC,"!"):de[Re]).replace(ES,"")==xe||(Ke?he[Re].replace(MC,"!"):he[Re]).replace(ES,"")==xe)return ie.FileIndex[Re];return null}var k=64,D=-2,F="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],U="00000000000000000000000000000000",H={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:F,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:U,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function B(ie,ve,de){u();var he=L(ie,de);l.writeFileSync(ve,he)}function X(ie){for(var ve=new Array(ie.length),de=0;de<ie.length;++de)ve[de]=String.fromCharCode(ie[de]);return ve.join("")}function ne(ie,ve){var de=L(ie,ve);switch(ve&&ve.type||"buffer"){case"file":return u(),l.writeFileSync(ve.filename,de),de;case"binary":return typeof de=="string"?de:X(de);case"base64":return LA(typeof de=="string"?de:X(de));case"buffer":if(cn)return Buffer.isBuffer(de)?de:tp(de);case"array":return typeof de=="string"?Mu(de):de}return de}var fe;function I(ie){try{var ve=ie.InflateRaw,de=new ve;if(de._processChunk(new Uint8Array([3,0]),de._finishFlushFlag),de.bytesRead)fe=ie;else throw new Error("zlib does not expose bytesRead")}catch(he){console.error("cannot use native zlib: "+(he.message||he))}}function q(ie,ve){if(!fe)return xt(ie,ve);var de=fe.InflateRaw,he=new de,ge=he._processChunk(ie.slice(ie.l),he._finishFlushFlag);return ie.l+=he.bytesRead,ge}function V(ie){return fe?fe.deflateRawSync(ie):et(ie)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ae=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(ie){var ve=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(ve>>16|ve>>8|ve)&255}for(var le=typeof Uint8Array<"u",ye=le?new Uint8Array(256):[],Se=0;Se<256;++Se)ye[Se]=pe(Se);function we(ie,ve){var de=ye[ie&255];return ve<=8?de>>>8-ve:(de=de<<8|ye[ie>>8&255],ve<=16?de>>>16-ve:(de=de<<8|ye[ie>>16&255],de>>>24-ve))}function We(ie,ve){var de=ve&7,he=ve>>>3;return(ie[he]|(de<=6?0:ie[he+1]<<8))>>>de&3}function Ve(ie,ve){var de=ve&7,he=ve>>>3;return(ie[he]|(de<=5?0:ie[he+1]<<8))>>>de&7}function ke(ie,ve){var de=ve&7,he=ve>>>3;return(ie[he]|(de<=4?0:ie[he+1]<<8))>>>de&15}function Q(ie,ve){var de=ve&7,he=ve>>>3;return(ie[he]|(de<=3?0:ie[he+1]<<8))>>>de&31}function _e(ie,ve){var de=ve&7,he=ve>>>3;return(ie[he]|(de<=1?0:ie[he+1]<<8))>>>de&127}function Ue(ie,ve,de){var he=ve&7,ge=ve>>>3,xe=(1<<de)-1,Re=ie[ge]>>>he;return de<8-he||(Re|=ie[ge+1]<<8-he,de<16-he)||(Re|=ie[ge+2]<<16-he,de<24-he)||(Re|=ie[ge+3]<<24-he),Re&xe}function Te(ie,ve,de){var he=ve&7,ge=ve>>>3;return he<=5?ie[ge]|=(de&7)<<he:(ie[ge]|=de<<he&255,ie[ge+1]=(de&7)>>8-he),ve+3}function qe(ie,ve,de){var he=ve&7,ge=ve>>>3;return de=(de&1)<<he,ie[ge]|=de,ve+1}function rt(ie,ve,de){var he=ve&7,ge=ve>>>3;return de<<=he,ie[ge]|=de&255,de>>>=8,ie[ge+1]=de,ve+8}function ct(ie,ve,de){var he=ve&7,ge=ve>>>3;return de<<=he,ie[ge]|=de&255,de>>>=8,ie[ge+1]=de&255,ie[ge+2]=de>>>8,ve+16}function $e(ie,ve){var de=ie.length,he=2*de>ve?2*de:ve+5,ge=0;if(de>=ve)return ie;if(cn){var xe=EG(he);if(ie.copy)ie.copy(xe);else for(;ge<ie.length;++ge)xe[ge]=ie[ge];return xe}else if(le){var Re=new Uint8Array(he);if(Re.set)Re.set(ie);else for(;ge<de;++ge)Re[ge]=ie[ge];return Re}return ie.length=he,ie}function At(ie){for(var ve=new Array(ie),de=0;de<ie;++de)ve[de]=0;return ve}function Rt(ie,ve,de){var he=1,ge=0,xe=0,Re=0,Ke=0,Le=ie.length,Be=le?new Uint16Array(32):At(32);for(xe=0;xe<32;++xe)Be[xe]=0;for(xe=Le;xe<de;++xe)ie[xe]=0;Le=ie.length;var ze=le?new Uint16Array(Le):At(Le);for(xe=0;xe<Le;++xe)Be[ge=ie[xe]]++,he<ge&&(he=ge),ze[xe]=0;for(Be[0]=0,xe=1;xe<=he;++xe)Be[xe+16]=Ke=Ke+Be[xe-1]<<1;for(xe=0;xe<Le;++xe)Ke=ie[xe],Ke!=0&&(ze[xe]=Be[Ke+16]++);var ht=0;for(xe=0;xe<Le;++xe)if(ht=ie[xe],ht!=0)for(Ke=we(ze[xe],he)>>he-ht,Re=(1<<he+4-ht)-1;Re>=0;--Re)ve[Ke|Re<<ht]=ht&15|xe<<4;return he}var Yt=le?new Uint16Array(512):At(512),ar=le?new Uint16Array(32):At(32);if(!le){for(var or=0;or<512;++or)Yt[or]=0;for(or=0;or<32;++or)ar[or]=0}(function(){for(var ie=[],ve=0;ve<32;ve++)ie.push(5);Rt(ie,ar,32);var de=[];for(ve=0;ve<=143;ve++)de.push(8);for(;ve<=255;ve++)de.push(9);for(;ve<=279;ve++)de.push(7);for(;ve<=287;ve++)de.push(8);Rt(de,Yt,288)})();var Ht=function(){for(var ve=le?new Uint8Array(32768):[],de=0,he=0;de<ae.length-1;++de)for(;he<ae[de+1];++he)ve[he]=de;for(;he<32768;++he)ve[he]=29;var ge=le?new Uint8Array(259):[];for(de=0,he=0;de<Y.length-1;++de)for(;he<Y[de+1];++he)ge[he]=de;function xe(Ke,Le){for(var Be=0;Be<Ke.length;){var ze=Math.min(65535,Ke.length-Be),ht=Be+ze==Ke.length;for(Le.write_shift(1,+ht),Le.write_shift(2,ze),Le.write_shift(2,~ze&65535);ze-- >0;)Le[Le.l++]=Ke[Be++]}return Le.l}function Re(Ke,Le){for(var Be=0,ze=0,ht=le?new Uint16Array(32768):[];ze<Ke.length;){var bt=Math.min(65535,Ke.length-ze);if(bt<10){for(Be=Te(Le,Be,+(ze+bt==Ke.length)),Be&7&&(Be+=8-(Be&7)),Le.l=Be/8|0,Le.write_shift(2,bt),Le.write_shift(2,~bt&65535);bt-- >0;)Le[Le.l++]=Ke[ze++];Be=Le.l*8;continue}Be=Te(Le,Be,+(ze+bt==Ke.length)+2);for(var Tt=0;bt-- >0;){var vt=Ke[ze];Tt=(Tt<<5^vt)&32767;var Ct=-1,fr=0;if((Ct=ht[Tt])&&(Ct|=ze&-32768,Ct>ze&&(Ct-=32768),Ct<ze))for(;Ke[Ct+fr]==Ke[ze+fr]&&fr<250;)++fr;if(fr>2){vt=ge[fr],vt<=22?Be=rt(Le,Be,ye[vt+1]>>1)-1:(rt(Le,Be,3),Be+=5,rt(Le,Be,ye[vt-23]>>5),Be+=3);var un=vt<8?0:vt-4>>2;un>0&&(ct(Le,Be,fr-Y[vt]),Be+=un),vt=ve[ze-Ct],Be=rt(Le,Be,ye[vt]>>3),Be-=3;var jn=vt<4?0:vt-2>>1;jn>0&&(ct(Le,Be,ze-Ct-ae[vt]),Be+=jn);for(var qi=0;qi<fr;++qi)ht[Tt]=ze&32767,Tt=(Tt<<5^Ke[ze])&32767,++ze;bt-=fr-1}else vt<=143?vt=vt+48:Be=qe(Le,Be,1),Be=rt(Le,Be,ye[vt]),ht[Tt]=ze&32767,++ze}Be=rt(Le,Be,0)-1}return Le.l=(Be+7)/8|0,Le.l}return function(Le,Be){return Le.length<8?xe(Le,Be):Re(Le,Be)}}();function et(ie){var ve=Je(50+Math.floor(ie.length*1.1)),de=Ht(ie,ve);return ve.slice(0,de)}var Xe=le?new Uint16Array(32768):At(32768),Lt=le?new Uint16Array(32768):At(32768),Ot=le?new Uint16Array(128):At(128),hr=1,vr=1;function lr(ie,ve){var de=Q(ie,ve)+257;ve+=5;var he=Q(ie,ve)+1;ve+=5;var ge=ke(ie,ve)+4;ve+=4;for(var xe=0,Re=le?new Uint8Array(19):At(19),Ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Le=1,Be=le?new Uint8Array(8):At(8),ze=le?new Uint8Array(8):At(8),ht=Re.length,bt=0;bt<ge;++bt)Re[K[bt]]=xe=Ve(ie,ve),Le<xe&&(Le=xe),Be[xe]++,ve+=3;var Tt=0;for(Be[0]=0,bt=1;bt<=Le;++bt)ze[bt]=Tt=Tt+Be[bt-1]<<1;for(bt=0;bt<ht;++bt)(Tt=Re[bt])!=0&&(Ke[bt]=ze[Tt]++);var vt=0;for(bt=0;bt<ht;++bt)if(vt=Re[bt],vt!=0){Tt=ye[Ke[bt]]>>8-vt;for(var Ct=(1<<7-vt)-1;Ct>=0;--Ct)Ot[Tt|Ct<<vt]=vt&7|bt<<3}var fr=[];for(Le=1;fr.length<de+he;)switch(Tt=Ot[_e(ie,ve)],ve+=Tt&7,Tt>>>=3){case 16:for(xe=3+We(ie,ve),ve+=2,Tt=fr[fr.length-1];xe-- >0;)fr.push(Tt);break;case 17:for(xe=3+Ve(ie,ve),ve+=3;xe-- >0;)fr.push(0);break;case 18:for(xe=11+_e(ie,ve),ve+=7;xe-- >0;)fr.push(0);break;default:fr.push(Tt),Le<Tt&&(Le=Tt);break}var un=fr.slice(0,de),jn=fr.slice(de);for(bt=de;bt<286;++bt)un[bt]=0;for(bt=he;bt<30;++bt)jn[bt]=0;return hr=Rt(un,Xe,286),vr=Rt(jn,Lt,30),ve}function Gn(ie,ve){if(ie[0]==3&&!(ie[1]&3))return[nx(ve),2];for(var de=0,he=0,ge=EG(ve||1<<18),xe=0,Re=ge.length>>>0,Ke=0,Le=0;!(he&1);){if(he=Ve(ie,de),de+=3,he>>>1)he>>1==1?(Ke=9,Le=5):(de=lr(ie,de),Ke=hr,Le=vr);else{de&7&&(de+=8-(de&7));var Be=ie[de>>>3]|ie[(de>>>3)+1]<<8;if(de+=32,Be>0)for(!ve&&Re<xe+Be&&(ge=$e(ge,xe+Be),Re=ge.length);Be-- >0;)ge[xe++]=ie[de>>>3],de+=8;continue}for(;;){!ve&&Re<xe+32767&&(ge=$e(ge,xe+32767),Re=ge.length);var ze=Ue(ie,de,Ke),ht=he>>>1==1?Yt[ze]:Xe[ze];if(de+=ht&15,ht>>>=4,!(ht>>>8&255))ge[xe++]=ht;else{if(ht==256)break;ht-=257;var bt=ht<8?0:ht-4>>2;bt>5&&(bt=0);var Tt=xe+Y[ht];bt>0&&(Tt+=Ue(ie,de,bt),de+=bt),ze=Ue(ie,de,Le),ht=he>>>1==1?ar[ze]:Lt[ze],de+=ht&15,ht>>>=4;var vt=ht<4?0:ht-2>>1,Ct=ae[ht];for(vt>0&&(Ct+=Ue(ie,de,vt),de+=vt),!ve&&Re<Tt&&(ge=$e(ge,Tt+100),Re=ge.length);xe<Tt;)ge[xe]=ge[xe-Ct],++xe}}}return ve?[ge,de+7>>>3]:[ge.slice(0,xe),de+7>>>3]}function xt(ie,ve){var de=ie.slice(ie.l||0),he=Gn(de,ve);return ie.l+=he[1],he[0]}function Jt(ie,ve){if(ie)typeof console<"u"&&console.error(ve);else throw new Error(ve)}function Zt(ie,ve){var de=ie;Ol(de,0);var he=[],ge=[],xe={FileIndex:he,FullPaths:ge};N(xe,{root:ve.root});for(var Re=de.length-4;(de[Re]!=80||de[Re+1]!=75||de[Re+2]!=5||de[Re+3]!=6)&&Re>=0;)--Re;de.l=Re+4,de.l+=4;var Ke=de.read_shift(2);de.l+=6;var Le=de.read_shift(4);for(de.l=Le,Re=0;Re<Ke;++Re){de.l+=20;var Be=de.read_shift(4),ze=de.read_shift(4),ht=de.read_shift(2),bt=de.read_shift(2),Tt=de.read_shift(2);de.l+=8;var vt=de.read_shift(4),Ct=o(de.slice(de.l+ht,de.l+ht+bt));de.l+=ht+bt+Tt;var fr=de.l;de.l=vt+4,Rn(de,Be,ze,xe,Ct),de.l=fr}return xe}function Rn(ie,ve,de,he,ge){ie.l+=2;var xe=ie.read_shift(2),Re=ie.read_shift(2),Ke=a(ie);if(xe&8257)throw new Error("Unsupported ZIP encryption");for(var Le=ie.read_shift(4),Be=ie.read_shift(4),ze=ie.read_shift(4),ht=ie.read_shift(2),bt=ie.read_shift(2),Tt="",vt=0;vt<ht;++vt)Tt+=String.fromCharCode(ie[ie.l++]);if(bt){var Ct=o(ie.slice(ie.l,ie.l+bt));(Ct[21589]||{}).mt&&(Ke=Ct[21589].mt),((ge||{})[21589]||{}).mt&&(Ke=ge[21589].mt)}ie.l+=bt;var fr=ie.slice(ie.l,ie.l+Be);switch(Re){case 8:fr=q(ie,ze);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Re)}var un=!1;xe&8&&(Le=ie.read_shift(4),Le==134695760&&(Le=ie.read_shift(4),un=!0),Be=ie.read_shift(4),ze=ie.read_shift(4)),Be!=ve&&Jt(un,"Bad compressed size: "+ve+" != "+Be),ze!=de&&Jt(un,"Bad uncompressed size: "+de+" != "+ze),bo(he,Tt,fr,{unsafe:!0,mt:Ke})}function Kn(ie,ve){var de=ve||{},he=[],ge=[],xe=Je(1),Re=de.compression?8:0,Ke=0,Le=0,Be=0,ze=0,ht=0,bt=ie.FullPaths[0],Tt=bt,vt=ie.FileIndex[0],Ct=[],fr=0;for(Le=1;Le<ie.FullPaths.length;++Le)if(Tt=ie.FullPaths[Le].slice(bt.length),vt=ie.FileIndex[Le],!(!vt.size||!vt.content||Tt=="Sh33tJ5")){var un=ze,jn=Je(Tt.length);for(Be=0;Be<Tt.length;++Be)jn.write_shift(1,Tt.charCodeAt(Be)&127);jn=jn.slice(0,jn.l),Ct[ht]=HRe.buf(vt.content,0);var qi=vt.content;Re==8&&(qi=V(qi)),xe=Je(30),xe.write_shift(4,67324752),xe.write_shift(2,20),xe.write_shift(2,Ke),xe.write_shift(2,Re),vt.mt?s(xe,vt.mt):xe.write_shift(4,0),xe.write_shift(-4,Ct[ht]),xe.write_shift(4,qi.length),xe.write_shift(4,vt.content.length),xe.write_shift(2,jn.length),xe.write_shift(2,0),ze+=xe.length,he.push(xe),ze+=jn.length,he.push(jn),ze+=qi.length,he.push(qi),xe=Je(46),xe.write_shift(4,33639248),xe.write_shift(2,0),xe.write_shift(2,20),xe.write_shift(2,Ke),xe.write_shift(2,Re),xe.write_shift(4,0),xe.write_shift(-4,Ct[ht]),xe.write_shift(4,qi.length),xe.write_shift(4,vt.content.length),xe.write_shift(2,jn.length),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(4,0),xe.write_shift(4,un),fr+=xe.l,ge.push(xe),fr+=jn.length,ge.push(jn),++ht}return xe=Je(22),xe.write_shift(4,101010256),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,ht),xe.write_shift(2,ht),xe.write_shift(4,fr),xe.write_shift(4,ze),xe.write_shift(2,0),ta([ta(he),ta(ge),xe])}var Zr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function cr(ie,ve){if(ie.ctype)return ie.ctype;var de=ie.name||"",he=de.match(/\.([^\.]+)$/);return he&&Zr[he[1]]||ve&&(he=(de=ve).match(/[\.\\]([^\.\\])+$/),he&&Zr[he[1]])?Zr[he[1]]:"application/octet-stream"}function en(ie){for(var ve=LA(ie),de=[],he=0;he<ve.length;he+=76)de.push(ve.slice(he,he+76));return de.join(`\r
`)+`\r
`}function gh(ie){var ve=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Be){var ze=Be.charCodeAt(0).toString(16).toUpperCase();return"="+(ze.length==1?"0"+ze:ze)});ve=ve.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ve.charAt(0)==`
`&&(ve="=0D"+ve.slice(1)),ve=ve.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var de=[],he=ve.split(`\r
`),ge=0;ge<he.length;++ge){var xe=he[ge];if(xe.length==0){de.push("");continue}for(var Re=0;Re<xe.length;){var Ke=76,Le=xe.slice(Re,Re+Ke);Le.charAt(Ke-1)=="="?Ke--:Le.charAt(Ke-2)=="="?Ke-=2:Le.charAt(Ke-3)=="="&&(Ke-=3),Le=xe.slice(Re,Re+Ke),Re+=Ke,Re<xe.length&&(Le+="="),de.push(Le)}}return de.join(`\r
`)}function as(ie){for(var ve=[],de=0;de<ie.length;++de){for(var he=ie[de];de<=ie.length&&he.charAt(he.length-1)=="=";)he=he.slice(0,he.length-1)+ie[++de];ve.push(he)}for(var ge=0;ge<ve.length;++ge)ve[ge]=ve[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(xe){return String.fromCharCode(parseInt(xe.slice(1),16))});return Mu(ve.join(`\r
`))}function tc(ie,ve,de){for(var he="",ge="",xe="",Re,Ke=0;Ke<10;++Ke){var Le=ve[Ke];if(!Le||Le.match(/^\s*$/))break;var Be=Le.match(/^(.*?):\s*([^\s].*)$/);if(Be)switch(Be[1].toLowerCase()){case"content-location":he=Be[2].trim();break;case"content-type":xe=Be[2].trim();break;case"content-transfer-encoding":ge=Be[2].trim();break}}switch(++Ke,ge.toLowerCase()){case"base64":Re=Mu(Gf(ve.slice(Ke).join("")));break;case"quoted-printable":Re=as(ve.slice(Ke));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var ze=bo(ie,he.slice(de.length),Re,{unsafe:!0});xe&&(ze.ctype=xe)}function rc(ie,ve){if(X(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var de=ve&&ve.root||"",he=(cn&&Buffer.isBuffer(ie)?ie.toString("binary"):X(ie)).split(`\r
`),ge=0,xe="";for(ge=0;ge<he.length;++ge)if(xe=he[ge],!!/^Content-Location:/i.test(xe)&&(xe=xe.slice(xe.indexOf("file")),de||(de=xe.slice(0,xe.lastIndexOf("/")+1)),xe.slice(0,de.length)!=de))for(;de.length>0&&(de=de.slice(0,de.length-1),de=de.slice(0,de.lastIndexOf("/")+1),xe.slice(0,de.length)!=de););var Re=(he[1]||"").match(/boundary="(.*?)"/);if(!Re)throw new Error("MAD cannot find boundary");var Ke="--"+(Re[1]||""),Le=[],Be=[],ze={FileIndex:Le,FullPaths:Be};N(ze);var ht,bt=0;for(ge=0;ge<he.length;++ge){var Tt=he[ge];Tt!==Ke&&Tt!==Ke+"--"||(bt++&&tc(ze,he.slice(ht,ge),de),ht=ge)}return ze}function er(ie,ve){var de=ve||{},he=de.boundary||"SheetJS";he="------="+he;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+he.slice(2)+'"',"","",""],xe=ie.FullPaths[0],Re=xe,Ke=ie.FileIndex[0],Le=1;Le<ie.FullPaths.length;++Le)if(Re=ie.FullPaths[Le].slice(xe.length),Ke=ie.FileIndex[Le],!(!Ke.size||!Ke.content||Re=="Sh33tJ5")){Re=Re.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(fr){return"_x"+fr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(fr){return"_u"+fr.charCodeAt(0).toString(16)+"_"});for(var Be=Ke.content,ze=cn&&Buffer.isBuffer(Be)?Be.toString("binary"):X(Be),ht=0,bt=Math.min(1024,ze.length),Tt=0,vt=0;vt<=bt;++vt)(Tt=ze.charCodeAt(vt))>=32&&Tt<128&&++ht;var Ct=ht>=bt*4/5;ge.push(he),ge.push("Content-Location: "+(de.root||"file:///C:/SheetJS/")+Re),ge.push("Content-Transfer-Encoding: "+(Ct?"quoted-printable":"base64")),ge.push("Content-Type: "+cr(Ke,Re)),ge.push(""),ge.push(Ct?gh(ze):en(ze))}return ge.push(he+`--\r
`),ge.join(`\r
`)}function sl(ie){var ve={};return N(ve,ie),ve}function bo(ie,ve,de,he){var ge=he&&he.unsafe;ge||N(ie);var xe=!ge&&En.find(ie,ve);if(!xe){var Re=ie.FullPaths[0];ve.slice(0,Re.length)==Re?Re=ve:(Re.slice(-1)!="/"&&(Re+="/"),Re=(Re+ve).replace("//","/")),xe={name:i(ve),type:2},ie.FileIndex.push(xe),ie.FullPaths.push(Re),ge||En.utils.cfb_gc(ie)}return xe.content=de,xe.size=de?de.length:0,he&&(he.CLSID&&(xe.clsid=he.CLSID),he.mt&&(xe.mt=he.mt),he.ct&&(xe.ct=he.ct)),xe}function da(ie,ve){N(ie);var de=En.find(ie,ve);if(de){for(var he=0;he<ie.FileIndex.length;++he)if(ie.FileIndex[he]==de)return ie.FileIndex.splice(he,1),ie.FullPaths.splice(he,1),!0}return!1}function Ti(ie,ve,de){N(ie);var he=En.find(ie,ve);if(he){for(var ge=0;ge<ie.FileIndex.length;++ge)if(ie.FileIndex[ge]==he)return ie.FileIndex[ge].name=i(de),ie.FullPaths[ge]=de,!0}return!1}function xi(ie){P(ie,!0)}return e.find=O,e.read=C,e.parse=d,e.write=ne,e.writeFile=B,e.utils={cfb_new:sl,cfb_add:bo,cfb_del:da,cfb_mov:Ti,cfb_gc:xi,ReadShift:TS,CheckField:Cue,prep_blob:Ol,bconcat:ta,use_zlib:I,_deflateRaw:et,_inflateRaw:xt,consts:H},e}();function VRe(t){return typeof t=="string"?CO(t):Array.isArray(t)?xRe(t):t}function ON(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=CO(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?RA(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([VRe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=kN(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function ca(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function IG(t,e){for(var r=[],n=ca(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function P9(t){for(var e=[],r=ca(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function kO(t){for(var e=[],r=ca(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function GRe(t){for(var e=[],r=ca(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var wk=new Date(1899,11,30,0,0,0);function tl(t,e){var r=t.getTime(),n=wk.getTime()+(t.getTimezoneOffset()-wk.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var due=new Date,KRe=wk.getTime()+(due.getTimezoneOffset()-wk.getTimezoneOffset())*6e4,RG=due.getTimezoneOffset();function hue(t){var e=new Date;return e.setTime(t*24*60*60*1e3+KRe),e.getTimezoneOffset()!==RG&&e.setTime(e.getTime()+(e.getTimezoneOffset()-RG)*6e4),e}var DG=new Date("2017-02-19T19:06:09.000Z"),fue=isNaN(DG.getFullYear())?new Date("2/19/17"):DG,YRe=fue.getFullYear()==2017;function ho(t,e){var r=new Date(t);if(YRe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(fue.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function OO(t,e){if(cn&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function rl(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=rl(t[r]));return e}function ji(t,e){for(var r="";r.length<e;)r+=t;return r}function Cf(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var XRe=["january","february","march","april","may","june","july","august","september","october","november","december"];function IA(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&XRe.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Ir(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return cn?n=tp(r):n=yRe(r),En.utils.cfb_add(t,e,n)}En.utils.cfb_add(t,e,r)}else t.file(e,r)}function k9(){return En.utils.cfb_new()}var ss=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,QRe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},O9=P9(QRe),M9=/[&<>'"]/g,JRe=/[\u0000-\u0008\u000b-\u001f]/g;function wn(t){var e=t+"";return e.replace(M9,function(r){return O9[r]}).replace(JRe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function FG(t){return wn(t).replace(/ /g,"_x0020_")}var pue=/[\u0000-\u001f]/g;function ZRe(t){var e=t+"";return e.replace(M9,function(r){return O9[r]}).replace(/\n/g,"<br/>").replace(pue,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function eDe(t){var e=t+"";return e.replace(M9,function(r){return O9[r]}).replace(pue,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function tDe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function rDe(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function HI(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function $G(t){var e=nx(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function BG(t){return tp(t,"binary").toString("utf8")}var IC="foo bar baz",CS=cn&&(BG(IC)==HI(IC)&&BG||$G(IC)==HI(IC)&&$G)||HI,RA=cn?function(t){return tp(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},nDe=function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),mue=/(^\s|\s$|\n)/;function ra(t,e){return"<"+t+(e.match(mue)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function DA(t){return ca(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function wt(t,e,r){return"<"+t+(r!=null?DA(r):"")+(e!=null?(e.match(mue)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function QF(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function iDe(t,e){switch(typeof t){case"string":var r=wt("vt:lpwstr",wn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return wt((t|0)==t?"vt:i4":"vt:r8",wn(String(t)));case"boolean":return wt("vt:bool",t?"true":"false")}if(t instanceof Date)return wt("vt:filetime",QF(t));throw new Error("Unable to serialize "+t)}var Fs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},t2=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ll={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function sDe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function aDe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var UG=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},zG=cn?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:tp(e)})):UG(t)}:UG,qG=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(iS(t,i)));return n.join("").replace(ES,"")},L9=cn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(ES,""):qG(t,e,r)}:qG,WG=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},gue=cn?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):WG(t,e,r)}:WG,HG=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Py(t,i)));return n.join("")},MN=cn?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):HG(e,r,n)}:HG,vue=function(t,e){var r=Il(t,e);return r>0?MN(t,e+4,e+4+r-1):""},xue=vue,yue=function(t,e){var r=Il(t,e);return r>0?MN(t,e+4,e+4+r-1):""},bue=yue,wue=function(t,e){var r=2*Il(t,e);return r>0?MN(t,e+4,e+4+r-1):""},_ue=wue,Sue=function(e,r){var n=Il(e,r);return n>0?L9(e,r+4,r+4+n):""},Aue=Sue,jue=function(t,e){var r=Il(t,e);return r>0?MN(t,e+4,e+4+r):""},Nue=jue,Eue=function(t,e){return sDe(t,e)},_k=Eue,I9=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};cn&&(xue=function(e,r){if(!Buffer.isBuffer(e))return vue(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},bue=function(e,r){if(!Buffer.isBuffer(e))return yue(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},_ue=function(e,r){if(!Buffer.isBuffer(e))return wue(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},Aue=function(e,r){if(!Buffer.isBuffer(e))return Sue(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},Nue=function(e,r){if(!Buffer.isBuffer(e))return jue(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},_k=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):Eue(e,r)},I9=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Py=function(t,e){return t[e]},iS=function(t,e){return t[e+1]*256+t[e]},oDe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Il=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ug=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},lDe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function TS(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,cn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(iS(this,u)),u+=2;t*=2;break;case"utf8":r=MN(this,this.l,this.l+t);break;case"utf16le":t*=2,r=L9(this,this.l,this.l+t);break;case"wstr":return TS.call(this,t,"dbcs");case"lpstr-ansi":r=xue(this,this.l),t=4+Il(this,this.l);break;case"lpstr-cp":r=bue(this,this.l),t=4+Il(this,this.l);break;case"lpwstr":r=_ue(this,this.l),t=4+2*Il(this,this.l);break;case"lpp4":t=4+Il(this,this.l),r=Aue(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Il(this,this.l),r=Nue(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Py(this,this.l+t++))!==0;)s.push(OC(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=iS(this,this.l+t))!==0;)s.push(OC(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Py(this,u),this.l=u+1,o=TS.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(OC(iS(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Py(this,u),this.l=u+1,o=TS.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(OC(Py(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=Py(this,this.l),this.l++,n;case 2:return n=(e==="i"?oDe:iS)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?ug:lDe)(this,this.l),this.l+=4,n):(i=Il(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=_k(this,this.l):i=_k([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=gue(this,this.l,t);break}}return this.l+=t,r}var cDe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},uDe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},dDe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function hDe(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)dDe(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,cDe(this,e,this.l);break;case 8:if(n=8,r==="f"){aDe(this,e,this.l);break}case 16:break;case-4:n=4,uDe(this,e,this.l);break}return this.l+=n,this}function Cue(t,e){var r=gue(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Ol(t,e){t.l=e,t.read_shift=TS,t.chk=Cue,t.write_shift=hDe}function ah(t,e){t.l+=e}function Je(t){var e=nx(t);return Ol(e,0),e}function Vo(){var t=[],e=cn?256:2048,r=function(u){var d=Je(u);return Ol(d,0),d},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),ta(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function ot(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=sBe[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&I9(r)&&t.push(r)}}function PS(t,e,r){var n=rl(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function VG(t,e,r){var n=rl(t);return n.s=PS(n.s,e.s,r),n.e=PS(n.e,e.s,r),n}function kS(t,e){if(t.cRel&&t.c<0)for(t=rl(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=rl(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Sn(t);return!t.cRel&&t.cRel!=null&&(r=mDe(r)),!t.rRel&&t.rRel!=null&&(r=fDe(r)),r}function VI(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+$a(t.s.c)+":"+(t.e.cRel?"":"$")+$a(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+oa(t.s.r)+":"+(t.e.rRel?"":"$")+oa(t.e.r):kS(t.s,e.biff)+":"+kS(t.e,e.biff)}function R9(t){return parseInt(pDe(t),10)-1}function oa(t){return""+(t+1)}function fDe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function pDe(t){return t.replace(/\$(\d+)$/,"$1")}function D9(t){for(var e=gDe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function $a(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function mDe(t){return t.replace(/^([A-Z])/,"$$$1")}function gDe(t){return t.replace(/^\$([A-Z])/,"$1")}function vDe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function $s(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Sn(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function Ql(t){var e=t.indexOf(":");return e==-1?{s:$s(t),e:$s(t)}:{s:$s(t.slice(0,e)),e:$s(t.slice(e+1))}}function es(t,e){return typeof e>"u"||typeof e=="number"?es(t.s,t.e):(typeof t!="string"&&(t=Sn(t)),typeof e!="string"&&(e=Sn(e)),t==e?t:t+":"+e)}function ri(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function GG(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=l0(t.z,r?tl(e):e)}catch{}try{return t.w=l0((t.XF||{}).numFmtId||(r?14:0),r?tl(e):e)}catch{return""+e}}function Kf(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?LN[t.v]||t.v:e==null?GG(t,t.v):GG(t,e))}function _x(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Tue(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?$s(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=ri(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),a==-1&&(u.e.r=a=d.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var f=0;f!=e[h].length;++f)if(!(typeof e[h][f]>"u")){var p={v:e[h][f]},g=a+h,m=o+f;if(u.s.r>g&&(u.s.r=g),u.s.c>m&&(u.s.c=m),u.e.r<g&&(u.e.r=g),u.e.c<m&&(u.e.c=m),e[h][f]&&typeof e[h][f]=="object"&&!Array.isArray(e[h][f])&&!(e[h][f]instanceof Date))p=e[h][f];else if(Array.isArray(p.v)&&(p.f=e[h][f][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Ci[14],n.cellDates?(p.t="d",p.w=l0(p.z,tl(p.v))):(p.t="n",p.v=tl(p.v),p.w=l0(p.z,p.v))):p.t="s";if(i)s[g]||(s[g]=[]),s[g][m]&&s[g][m].z&&(p.z=s[g][m].z),s[g][m]=p;else{var v=Sn({c:m,r:g});s[v]&&s[v].z&&(p.z=s[v].z),s[v]=p}}}return u.s.c<1e7&&(s["!ref"]=es(u)),s}function r2(t,e){return Tue(null,t,e)}function xDe(t){return t.read_shift(4,"i")}function $u(t,e){return e||(e=Je(4)),e.write_shift(4,t),e}function Ba(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Bs(t,e){var r=!1;return e==null&&(r=!0,e=Je(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function yDe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function bDe(t,e){return e||(e=Je(4)),e.write_shift(2,0),e.write_shift(2,0),e}function F9(t,e){var r=t.l,n=t.read_shift(1),i=Ba(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(yDe(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function wDe(t,e){var r=!1;return e==null&&(r=!0,e=Je(15+4*t.t.length)),e.write_shift(1,0),Bs(t.t,e),r?e.slice(0,e.l):e}var _De=F9;function SDe(t,e){var r=!1;return e==null&&(r=!0,e=Je(23+4*t.t.length)),e.write_shift(1,1),Bs(t.t,e),e.write_shift(4,1),bDe({ich:0,ifnt:0},e),r?e.slice(0,e.l):e}function Hc(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Sx(t,e){return e==null&&(e=Je(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Ax(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function jx(t,e){return e==null&&(e=Je(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var ADe=Ba,Pue=Bs;function $9(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function Sk(t,e){var r=!1;return e==null&&(r=!0,e=Je(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var jDe=Ba,JF=$9,B9=Sk;function kue(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?_k([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ug(e,0)>>2;return r?i/100:i}function Oue(t,e){e==null&&(e=Je(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-(1<<29)&&t<1<<29?n=1:i==(i|0)&&i>=-(1<<29)&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function Mue(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function NDe(t,e){return e||(e=Je(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Nx=Mue,n2=NDe;function i2(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ix(t,e){return(e||Je(8)).write_shift(8,t,"f")}function EDe(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=RDe[i];u&&(e.rgb=iK(u));break;case 2:e.rgb=iK([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function Ak(t,e){if(e||(e=Je(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function CDe(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function TDe(t,e){e||(e=Je(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var Lue=2,Cl=3,RC=11,jk=19,DC=64,PDe=65,kDe=71,ODe=4108,MDe=4126,Zs=80,KG={1:{n:"CodePage",t:Lue},2:{n:"Category",t:Zs},3:{n:"PresentationFormat",t:Zs},4:{n:"ByteCount",t:Cl},5:{n:"LineCount",t:Cl},6:{n:"ParagraphCount",t:Cl},7:{n:"SlideCount",t:Cl},8:{n:"NoteCount",t:Cl},9:{n:"HiddenCount",t:Cl},10:{n:"MultimediaClipCount",t:Cl},11:{n:"ScaleCrop",t:RC},12:{n:"HeadingPairs",t:ODe},13:{n:"TitlesOfParts",t:MDe},14:{n:"Manager",t:Zs},15:{n:"Company",t:Zs},16:{n:"LinksUpToDate",t:RC},17:{n:"CharacterCount",t:Cl},19:{n:"SharedDoc",t:RC},22:{n:"HyperlinksChanged",t:RC},23:{n:"AppVersion",t:Cl,p:"version"},24:{n:"DigSig",t:PDe},26:{n:"ContentType",t:Zs},27:{n:"ContentStatus",t:Zs},28:{n:"Language",t:Zs},29:{n:"Version",t:Zs},255:{},2147483648:{n:"Locale",t:jk},2147483651:{n:"Behavior",t:jk},1919054434:{}},YG={1:{n:"CodePage",t:Lue},2:{n:"Title",t:Zs},3:{n:"Subject",t:Zs},4:{n:"Author",t:Zs},5:{n:"Keywords",t:Zs},6:{n:"Comments",t:Zs},7:{n:"Template",t:Zs},8:{n:"LastAuthor",t:Zs},9:{n:"RevNumber",t:Zs},10:{n:"EditTime",t:DC},11:{n:"LastPrinted",t:DC},12:{n:"CreatedDate",t:DC},13:{n:"ModifiedDate",t:DC},14:{n:"PageCount",t:Cl},15:{n:"WordCount",t:Cl},16:{n:"CharCount",t:Cl},17:{n:"Thumbnail",t:kDe},18:{n:"Application",t:Zs},19:{n:"DocSecurity",t:Cl},255:{},2147483648:{n:"Locale",t:jk},2147483651:{n:"Behavior",t:jk},1919054434:{}};function LDe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var IDe=LDe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),RDe=rl(IDe),LN={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},DDe={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},FC={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Iue(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Rue(t,e){var r=GRe(DDe),n=[],i;n[n.length]=ss,n[n.length]=wt("Types",null,{xmlns:Fs.CT,"xmlns:xsd":Fs.xsd,"xmlns:xsi":Fs.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return wt("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=wt("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:FC[l][e.bookType]||FC[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=wt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:FC[l][e.bookType]||FC[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=wt("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var tn={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Due(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function w1(t){var e=[ss,wt("Relationships",null,{xmlns:Fs.RELS})];return ca(t["!id"]).forEach(function(r){e[e.length]=wt("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function xn(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[tn.HLINK,tn.XPATH,tn.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function FDe(t){var e=[ss];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function XG(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function $De(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function BDe(t){var e=[ss];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(XG(t[r][0],t[r][1])),e.push($De("",t[r][0]));return e.push(XG("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function Fue(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+vk.version+"</meta:generator></office:meta></office:document-meta>"}var $v=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function GI(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=wn(e),n[n.length]=r?wt(t,e,r):ra(t,e))}function $ue(t,e){var r=e||{},n=[ss,wt("cp:coreProperties",null,{"xmlns:cp":Fs.CORE_PROPS,"xmlns:dc":Fs.dc,"xmlns:dcterms":Fs.dcterms,"xmlns:dcmitype":Fs.dcmitype,"xmlns:xsi":Fs.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&GI("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:QF(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&GI("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:QF(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=$v.length;++s){var a=$v[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&GI(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var _1=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Bue=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Uue(t){var e=[],r=wt;return t||(t={}),t.Application="SheetJS",e[e.length]=ss,e[e.length]=wt("Properties",null,{xmlns:Fs.EXT_PROPS,"xmlns:vt":Fs.vt}),_1.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=wn(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+wn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function zue(t){var e=[ss,wt("Properties",null,{xmlns:Fs.CUST_PROPS,"xmlns:vt":Fs.vt})];if(!t)return e.join("");var r=1;return ca(t).forEach(function(i){++r,e[e.length]=wt("property",iDe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:wn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var QG={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function UDe(t,e){var r=[];return ca(QG).map(function(n){for(var i=0;i<$v.length;++i)if($v[i][1]==n)return $v[i];for(i=0;i<_1.length;++i)if(_1[i][1]==n)return _1[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(ra(QG[n[1]]||n[1],i))}}),wt("DocumentProperties",r.join(""),{xmlns:Ll.o})}function zDe(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&ca(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<$v.length;++a)if(s==$v[a][1])return;for(a=0;a<_1.length;++a)if(s==_1[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(wt(FG(s),o,{"dt:dt":l}))}}),e&&ca(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(wt(FG(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Ll.o+'">'+i.join("")+"</"+n+">"}function qDe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Je(8);return a.write_shift(4,n),a.write_shift(4,i),a}function JG(t,e){var r=Je(4),n=Je(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Je(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=qDe(e);break;case 31:case 80:for(n=Je(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return ta([r,n])}var que=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function WDe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function ZG(t,e,r){var n=Je(8),i=[],s=[],a=8,o=0,l=Je(8),u=Je(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=Je(8),u.write_shift(4,0),i.unshift(u);var d=[Je(4)];for(d[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=Je(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=ta(d),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(que.indexOf(t[o][0])>-1||Bue.indexOf(t[o][0])>-1)&&t[o][1]!=null){var f=t[o][1],p=0;if(e){p=+e[t[o][0]];var g=r[p];if(g.p=="version"&&typeof f=="string"){var m=f.split(".");f=(+m[0]<<16)+(+m[1]||0)}l=JG(g.t,f)}else{var v=WDe(f);v==-1&&(v=31,f=String(f)),l=JG(v,f)}s.push(l),u=Je(8),u.write_shift(4,e?p:2+o),i.push(u),a+=8+l.length}var x=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,x),x+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),ta([n].concat(i).concat(s))}function eK(t,e,r,n,i,s){var a=Je(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,En.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=ZG(t,r,n);if(o.push(l),i){var u=ZG(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return ta(o)}function HDe(t,e){e||(e=Je(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function VDe(t,e){return t.read_shift(e)===1}function no(t,e){return e||(e=Je(2)),e.write_shift(2,+!!t),e}function Wue(t){return t.read_shift(2,"u")}function Ac(t,e){return e||(e=Je(2)),e.write_shift(2,t),e}function Hue(t,e,r){return r||(r=Je(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Vue(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function GDe(t){var e=t.t||"",r=Je(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Je(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return ta(i)}function KDe(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function YDe(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):KDe(t,n,r)}function XDe(t,e,r){if(r.biff>5)return YDe(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Gue(t,e,r){return r||(r=Je(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function tK(t,e){e||(e=Je(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function QDe(t){var e=Je(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),tK(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&tK(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function sx(t,e,r,n){return n||(n=Je(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function JDe(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function ZDe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function Kue(t,e){return e||(e=Je(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function U9(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Je(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function e6e(t,e){var r=!e||e.biff==8,n=Je(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function t6e(t,e){var r=!e||e.biff>=8?2:1,n=Je(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function r6e(t,e){var r=Je(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=GDe(t[i]);var s=ta([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function n6e(){var t=Je(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function i6e(t){var e=Je(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function s6e(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Je(i);return s.write_shift(2,(t.sz||12)*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function a6e(t,e,r,n){var i=Je(10);return sx(t,e,n,i),i.write_shift(4,r),i}function o6e(t,e,r,n,i){var s=!i||i.biff==8,a=Je(8+ +s+(1+s)*r.length);return sx(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function l6e(t,e,r,n){var i=r&&r.biff==5;n||(n=Je(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function c6e(t,e){var r=e.biff==8||!e.biff?4:2,n=Je(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function rK(t,e,r,n){var i=r&&r.biff==5;n||(n=Je(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function u6e(t){var e=Je(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function d6e(t,e,r,n,i,s){var a=Je(8);return sx(t,e,n,a),Hue(r,s,a),a}function h6e(t,e,r,n){var i=Je(14);return sx(t,e,n,i),ix(r,i),i}function f6e(t,e,r){if(r.biff<8)return p6e(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(JDe(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function p6e(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Vue(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function m6e(t){var e=Je(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)Kue(t[r],e);return e}function g6e(t){var e=Je(24),r=$s(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return ta([e,QDe(t[1])])}function v6e(t){var e=t[1].Tooltip,r=Je(10+2*(e.length+1));r.write_shift(2,2048);var n=$s(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function x6e(t){return t||(t=Je(4)),t.write_shift(2,1),t.write_shift(2,1),t}function y6e(t,e,r){if(!r.cellStyles)return ah(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function b6e(t,e){var r=Je(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function w6e(t){for(var e=Je(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function _6e(t,e,r){var n=Je(15);return RN(n,t,e),n.write_shift(8,r,"f"),n}function S6e(t,e,r){var n=Je(9);return RN(n,t,e),n.write_shift(2,r),n}var A6e=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=P9({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=nx(1);switch(l.type){case"base64":d=Mu(Gf(o));break;case"binary":d=Mu(o);break;case"buffer":case"array":d=o;break}Ol(d,0);var h=d.read_shift(1),f=!!(h&136),p=!1,g=!1;switch(h){case 2:break;case 3:break;case 48:p=!0,f=!0;break;case 49:p=!0,f=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var m=0,v=521;h==2&&(m=d.read_shift(2)),d.l+=3,h!=2&&(m=d.read_shift(4)),m>1048576&&(m=1e6),h!=2&&(v=d.read_shift(2));var x=d.read_shift(2),y=l.codepage||1252;h!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(y=t[d[d.l]]),d.l+=1,d.l+=2),g&&(d.l+=36);for(var w=[],_={},A=Math.min(d.length,h==2?521:v-10-(p?264:0)),C=g?32:11;d.l<A&&d[d.l]!=13;)switch(_={},_.name=cg.utils.decode(y,d.slice(d.l,d.l+C)).replace(/[\u0000\r\n].*$/g,""),d.l+=C,_.type=String.fromCharCode(d.read_shift(1)),h!=2&&!g&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),h==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&w.push(_),h!=2&&(d.l+=g?13:14),_.type){case"B":(!p||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=v-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=v;var N=0,E=0;for(u[0]=[],E=0;E!=w.length;++E)u[0][E]=w[E].name;for(;m-- >0;){if(d[d.l]===42){d.l+=x;continue}for(++d.l,u[++N]=[],E=0,E=0;E!=w.length;++E){var P=d.slice(d.l,d.l+w[E].len);d.l+=w[E].len,Ol(P,0);var L=cg.utils.decode(y,P);switch(w[E].type){case"C":L.trim().length&&(u[N][E]=L.replace(/\s+$/,""));break;case"D":L.length===8?u[N][E]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):u[N][E]=L;break;case"F":u[N][E]=parseFloat(L.trim());break;case"+":case"I":u[N][E]=g?P.read_shift(-4,"i")^2147483648:P.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":u[N][E]=!0;break;case"N":case"F":u[N][E]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!f)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[N][E]="##MEMO##"+(g?parseInt(L.trim(),10):P.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(u[N][E]=+L||0);break;case"@":u[N][E]=new Date(P.read_shift(-8,"f")-621356832e5);break;case"T":u[N][E]=new Date((P.read_shift(4)-2440588)*864e5+P.read_shift(4));break;case"Y":u[N][E]=P.read_shift(4,"i")/1e4+P.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][E]=-P.read_shift(-8,"f");break;case"B":if(p&&w[E].len==8){u[N][E]=P.read_shift(8,"f");break}case"G":case"P":P.l+=w[E].len;break;case"0":if(w[E].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[E].type)}}}if(h!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=w,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=r2(r(o,u),u);return d["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,d}function i(o,l){try{return _x(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&MA(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=Vo(),h=Pk(o,{header:1,raw:!0,cellDates:!0}),f=h[0],p=h.slice(1),g=o["!cols"]||[],m=0,v=0,x=0,y=1;for(m=0;m<f.length;++m){if(((g[m]||{}).DBF||{}).name){f[m]=g[m].DBF.name,++x;continue}if(f[m]!=null){if(++x,typeof f[m]=="number"&&(f[m]=f[m].toString(10)),typeof f[m]!="string")throw new Error("DBF Invalid column name "+f[m]+" |"+typeof f[m]+"|");if(f.indexOf(f[m])!==m){for(v=0;v<1024;++v)if(f.indexOf(f[m]+"_"+v)==-1){f[m]+="_"+v;break}}}}var w=ri(o["!ref"]),_=[],A=[],C=[];for(m=0;m<=w.e.c-w.s.c;++m){var N="",E="",P=0,L=[];for(v=0;v<p.length;++v)p[v][m]!=null&&L.push(p[v][m]);if(L.length==0||f[m]==null){_[m]="?";continue}for(v=0;v<L.length;++v){switch(typeof L[v]){case"number":E="B";break;case"string":E="C";break;case"boolean":E="L";break;case"object":E=L[v]instanceof Date?"D":"C";break;default:E="C"}P=Math.max(P,String(L[v]).length),N=N&&N!=E?"C":E}P>250&&(P=250),E=((g[m]||{}).DBF||{}).type,E=="C"&&g[m].DBF.len>P&&(P=g[m].DBF.len),N=="B"&&E=="N"&&(N="N",C[m]=g[m].DBF.dec,P=g[m].DBF.len),A[m]=N=="C"||E=="N"?P:s[N]||0,y+=A[m],_[m]=N}var O=d.next(32);for(O.write_shift(4,318902576),O.write_shift(4,p.length),O.write_shift(2,296+32*x),O.write_shift(2,y),m=0;m<4;++m)O.write_shift(4,0);for(O.write_shift(4,0|(+e[Xce]||3)<<8),m=0,v=0;m<f.length;++m)if(f[m]!=null){var k=d.next(32),D=(f[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,D,"sbcs"),k.write_shift(1,_[m]=="?"?"C":_[m],"sbcs"),k.write_shift(4,v),k.write_shift(1,A[m]||s[_[m]]||0),k.write_shift(1,C[m]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),v+=A[m]||s[_[m]]||0}var F=d.next(264);for(F.write_shift(4,13),m=0;m<65;++m)F.write_shift(4,0);for(m=0;m<p.length;++m){var z=d.next(y);for(z.write_shift(1,0),v=0;v<f.length;++v)if(f[v]!=null)switch(_[v]){case"L":z.write_shift(1,p[m][v]==null?63:p[m][v]?84:70);break;case"B":z.write_shift(8,p[m][v]||0,"f");break;case"N":var U="0";for(typeof p[m][v]=="number"&&(U=p[m][v].toFixed(C[v]||0)),x=0;x<A[v]-U.length;++x)z.write_shift(1,32);z.write_shift(1,U,"sbcs");break;case"D":p[m][v]?(z.write_shift(4,("0000"+p[m][v].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(p[m][v].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+p[m][v].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var H=String(p[m][v]!=null?p[m][v]:"").slice(0,A[v]);for(z.write_shift(1,H,"sbcs"),x=0;x<A[v]-H.length;++x)z.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),j6e=function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ca(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(f,p){var g=t[p];return typeof g=="number"?NG(g):g},n=function(f,p,g){var m=p.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?f:NG(m)};t["|"]=254;function i(f,p){switch(p.type){case"base64":return s(Gf(f),p);case"binary":return s(f,p);case"buffer":return s(cn&&Buffer.isBuffer(f)?f.toString("binary"):kN(f),p);case"array":return s(OO(f),p)}throw new Error("Unrecognized type "+p.type)}function s(f,p){var g=f.split(/[\n\r]+/),m=-1,v=-1,x=0,y=0,w=[],_=[],A=null,C={},N=[],E=[],P=[],L=0,O;for(+p.codepage>=0&&MA(+p.codepage);x!==g.length;++x){L=0;var k=g[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),D=k.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),F=D[0],z;if(k.length>0)switch(F){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&_.push(k.slice(3).replace(/;;/g,";"));break;case"C":var U=!1,H=!1,B=!1,X=!1,ne=-1,fe=-1;for(y=1;y<D.length;++y)switch(D[y].charAt(0)){case"A":break;case"X":v=parseInt(D[y].slice(1))-1,H=!0;break;case"Y":for(m=parseInt(D[y].slice(1))-1,H||(v=0),O=w.length;O<=m;++O)w[O]=[];break;case"K":z=D[y].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(Cf(z))?isNaN(IA(z).getDate())||(z=ho(z)):(z=Cf(z),A!==null&&lue(A)&&(z=hue(z))),U=!0;break;case"E":X=!0;var I=SFe(D[y].slice(1),{r:m,c:v});w[m][v]=[w[m][v],I];break;case"S":B=!0,w[m][v]=[w[m][v],"S5S"];break;case"G":break;case"R":ne=parseInt(D[y].slice(1))-1;break;case"C":fe=parseInt(D[y].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}if(U&&(w[m][v]&&w[m][v].length==2?w[m][v][0]=z:w[m][v]=z,A=null),B){if(X)throw new Error("SYLK shared formula cannot have own formula");var q=ne>-1&&w[ne][fe];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");w[m][v][1]=AFe(q[1],{r:m-ne,c:v-fe})}break;case"F":var V=0;for(y=1;y<D.length;++y)switch(D[y].charAt(0)){case"X":v=parseInt(D[y].slice(1))-1,++V;break;case"Y":for(m=parseInt(D[y].slice(1))-1,O=w.length;O<=m;++O)w[O]=[];break;case"M":L=parseInt(D[y].slice(1))/20;break;case"F":break;case"G":break;case"P":A=_[parseInt(D[y].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(P=D[y].slice(1).split(" "),O=parseInt(P[0],10);O<=parseInt(P[1],10);++O)L=parseInt(P[2],10),E[O-1]=L===0?{hidden:!0}:{wch:L},z9(E[O-1]);break;case"C":v=parseInt(D[y].slice(1))-1,E[v]||(E[v]={});break;case"R":m=parseInt(D[y].slice(1))-1,N[m]||(N[m]={}),L>0?(N[m].hpt=L,N[m].hpx=Zue(L)):L===0&&(N[m].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}V<1&&(A=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+k)}}return N.length>0&&(C["!rows"]=N),E.length>0&&(C["!cols"]=E),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,C]}function a(f,p){var g=i(f,p),m=g[0],v=g[1],x=r2(m,p);return ca(v).forEach(function(y){x[y]=v[y]}),x}function o(f,p){return _x(a(f,p),p)}function l(f,p,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(f.t){case"n":v+=f.v||0,f.f&&!f.F&&(v+=";E"+W9(f.f,{r:g,c:m}));break;case"b":v+=f.v?"TRUE":"FALSE";break;case"e":v+=f.w||f.v;break;case"d":v+='"'+(f.w||f.v)+'"';break;case"s":v+='"'+f.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function u(f,p){p.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=Nk(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=Ek(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&f.push(v)})}function d(f,p){p.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*Ck(g.hpx)+";"),v.length>2&&f.push(v+"R"+(m+1))})}function h(f,p){var g=["ID;PWXL;N;E"],m=[],v=ri(f["!ref"]),x,y=Array.isArray(f),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),f["!cols"]&&u(g,f["!cols"]),f["!rows"]&&d(g,f["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var _=v.s.r;_<=v.e.r;++_)for(var A=v.s.c;A<=v.e.c;++A){var C=Sn({r:_,c:A});x=y?(f[_]||[])[A]:f[C],!(!x||x.v==null&&(!x.f||x.F))&&m.push(l(x,f,_,A))}return g.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:a,from_sheet:h}}(),N6e=function(){function t(s,a){switch(a.type){case"base64":return e(Gf(s),a);case"binary":return e(s,a);case"buffer":return e(cn&&Buffer.isBuffer(s)?s.toString("binary"):kN(s),a);case"array":return e(OO(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,d=0,h=[];d!==o.length;++d){if(o[d].trim()==="BOT"){h[++l]=[],u=0;continue}if(!(l<0)){var f=o[d].trim().split(","),p=f[0],g=f[1];++d;for(var m=o[d]||"";(m.match(/["]/g)||[]).length&1&&d<o.length-1;)m+=`
`+o[++d];switch(m=m.trim(),+p){case-1:if(m==="BOT"){h[++l]=[],u=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?h[l][u]=!0:m==="FALSE"?h[l][u]=!1:isNaN(Cf(g))?isNaN(IA(g).getDate())?h[l][u]=g:h[l][u]=ho(g):h[l][u]=Cf(g),++u;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),h[l][u++]=m!==""?m:null;break}if(m==="EOD")break}}return a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),h}function r(s,a){return r2(t(s,a),a)}function n(s,a){return _x(r(s,a),a)}var i=function(){var s=function(l,u,d,h,f){l.push(u),l.push(d+","+h),l.push('"'+f.replace(/"/g,'""')+'"')},a=function(l,u,d,h){l.push(u+","+d),l.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var u=[],d=ri(l["!ref"]),h,f=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){a(u,-1,0,"BOT");for(var g=d.s.c;g<=d.e.c;++g){var m=Sn({r:p,c:g});if(h=f?(l[p]||[])[g]:l[m],!h){a(u,1,0,"");continue}switch(h.t){case"n":var v=h.w;!v&&h.v!=null&&(v=h.v),v==null?h.f&&!h.F?a(u,1,0,"="+h.f):a(u,1,0,""):a(u,0,v,"V");break;case"b":a(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=l0(h.z||Ci[14],tl(ho(h.v)))),a(u,0,h.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var x=`\r
`,y=u.join(x);return y}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),Yue=function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,f){for(var p=h.split(`
`),g=-1,m=-1,v=0,x=[];v!==p.length;++v){var y=p[v].trim().split(":");if(y[0]==="cell"){var w=$s(y[1]);if(x.length<=w.r)for(g=x.length;g<=w.r;++g)x[g]||(x[g]=[]);switch(g=w.r,m=w.c,y[2]){case"t":x[g][m]=t(y[3]);break;case"v":x[g][m]=+y[3];break;case"vtf":var _=y[y.length-1];case"vtc":switch(y[3]){case"nl":x[g][m]=!!+y[4];break;default:x[g][m]=+y[4];break}y[2]=="vtf"&&(x[g][m]=[x[g][m],_])}}}return f&&f.sheetRows&&(x=x.slice(0,f.sheetRows)),x}function n(h,f){return r2(r(h,f),f)}function i(h,f){return _x(n(h,f),f)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var f=[],p=[],g,m="",v=Ql(h["!ref"]),x=Array.isArray(h),y=v.s.r;y<=v.e.r;++y)for(var w=v.s.c;w<=v.e.c;++w)if(m=Sn({r:y,c:w}),g=x?(h[y]||[])[w]:h[m],!(!g||g.v==null||g.t==="z")){switch(p=["cell",m,"t"],g.t){case"s":case"str":p.push(e(g.v));break;case"n":g.f?(p[2]="vtf",p[3]="n",p[4]=g.v,p[5]=e(g.f)):(p[2]="v",p[3]=g.v);break;case"b":p[2]="vt"+(g.f?"f":"c"),p[3]="nl",p[4]=g.v?"1":"0",p[5]=e(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var _=tl(ho(g.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=g.w||l0(g.z||Ci[14],_);break;case"e":continue}f.push(p.join(":"))}return f.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),f.push("valueformat:1:text-wiki"),f.join(`
`)}function d(h){return[s,a,o,a,u(h),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}}(),E6e=function(){function t(d,h,f,p,g){g.raw?h[f][p]=d:d===""||(d==="TRUE"?h[f][p]=!0:d==="FALSE"?h[f][p]=!1:isNaN(Cf(d))?isNaN(IA(d).getDate())?h[f][p]=d:h[f][p]=ho(d):h[f][p]=Cf(d))}function e(d,h){var f=h||{},p=[];if(!d||d.length===0)return p;for(var g=d.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,x=0,y=0;y<=m;++y)x=g[y].indexOf(" "),x==-1?x=g[y].length:x++,v=Math.max(v,x);for(y=0;y<=m;++y){p[y]=[];var w=0;for(t(g[y].slice(0,v).trim(),p,y,w,f),w=1;w<=(g[y].length-v)/10+1;++w)t(g[y].slice(v+(w-1)*10,v+w*10).trim(),p,y,w,f)}return f.sheetRows&&(p=p.slice(0,f.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var h={},f=!1,p=0,g=0;p<d.length;++p)(g=d.charCodeAt(p))==34?f=!f:!f&&g in r&&(h[g]=(h[g]||0)+1);g=[];for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&g.push([h[p],p]);if(!g.length){h=n;for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&g.push([h[p],p])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function s(d,h){var f=h||{},p="",g=f.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=i(d.slice(0,1024)):f&&f.FS?p=f.FS:p=i(d.slice(0,1024));var v=0,x=0,y=0,w=0,_=0,A=p.charCodeAt(0),C=!1,N=0,E=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var P=f.dateNF!=null?qRe(f.dateNF):null;function L(){var O=d.slice(w,_),k={};if(O.charAt(0)=='"'&&O.charAt(O.length-1)=='"'&&(O=O.slice(1,-1).replace(/""/g,'"')),O.length===0)k.t="z";else if(f.raw)k.t="s",k.v=O;else if(O.trim().length===0)k.t="s",k.v=O;else if(O.charCodeAt(0)==61)O.charCodeAt(1)==34&&O.charCodeAt(O.length-1)==34?(k.t="s",k.v=O.slice(2,-1).replace(/""/g,'"')):jFe(O)?(k.t="n",k.f=O.slice(1)):(k.t="s",k.v=O);else if(O=="TRUE")k.t="b",k.v=!0;else if(O=="FALSE")k.t="b",k.v=!1;else if(!isNaN(y=Cf(O)))k.t="n",f.cellText!==!1&&(k.w=O),k.v=y;else if(!isNaN(IA(O).getDate())||P&&O.match(P)){k.z=f.dateNF||Ci[14];var D=0;P&&O.match(P)&&(O=WRe(O,f.dateNF,O.match(P)||[]),D=1),f.cellDates?(k.t="d",k.v=ho(O,D)):(k.t="n",k.v=tl(ho(O,D))),f.cellText!==!1&&(k.w=l0(k.z,k.v instanceof Date?tl(k.v):k.v)),f.cellNF||delete k.z}else k.t="s",k.v=O;if(k.t=="z"||(f.dense?(g[v]||(g[v]=[]),g[v][x]=k):g[Sn({c:x,r:v})]=k),w=_+1,E=d.charCodeAt(w),m.e.c<x&&(m.e.c=x),m.e.r<v&&(m.e.r=v),N==A)++x;else if(x=0,++v,f.sheetRows&&f.sheetRows<=v)return!0}e:for(;_<d.length;++_)switch(N=d.charCodeAt(_)){case 34:E===34&&(C=!C);break;case A:case 10:case 13:if(!C&&L())break e;break}return _-w>0&&L(),g["!ref"]=es(m),g}function a(d,h){return!(h&&h.PRN)||h.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,h):r2(e(d,h),h)}function o(d,h){var f="",p=h.type=="string"?[0,0,0,0]:$Be(d,h);switch(h.type){case"base64":f=Gf(d);break;case"binary":f=d;break;case"buffer":h.codepage==65001?f=d.toString("utf8"):h.codepage&&typeof cg<"u"?f=cg.utils.decode(h.codepage,d):f=cn&&Buffer.isBuffer(d)?d.toString("binary"):kN(d);break;case"array":f=OO(d);break;case"string":f=d;break;default:throw new Error("Unrecognized type "+h.type)}return p[0]==239&&p[1]==187&&p[2]==191?f=CS(f.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?f=CS(f):h.type=="binary"&&typeof cg<"u"&&h.codepage&&(f=cg.utils.decode(h.codepage,cg.utils.encode(28591,f))),f.slice(0,19)=="socialcalc:version:"?Yue.to_sheet(h.type=="string"?f:CS(f),h):a(f,h)}function l(d,h){return _x(o(d,h),h)}function u(d){for(var h=[],f=ri(d["!ref"]),p,g=Array.isArray(d),m=f.s.r;m<=f.e.r;++m){for(var v=[],x=f.s.c;x<=f.e.c;++x){var y=Sn({r:m,c:x});if(p=g?(d[m]||[])[x]:d[y],!p||p.v==null){v.push("          ");continue}for(var w=(p.w||(Kf(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(x===0?" ":""))}h.push(v.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),nK=function(){function t(I,q,V){if(I){Ol(I,I.l||0);for(var K=V.Enum||ne;I.l<I.length;){var Y=I.read_shift(2),ae=K[Y]||K[65535],pe=I.read_shift(2),le=I.l+pe,ye=ae.f&&ae.f(I,pe,V);if(I.l=le,q(ye,ae,Y))return}}}function e(I,q){switch(q.type){case"base64":return r(Mu(Gf(I)),q);case"binary":return r(Mu(I),q);case"buffer":case"array":return r(I,q)}throw"Unsupported type "+q.type}function r(I,q){if(!I)return I;var V=q||{},K=V.dense?[]:{},Y="Sheet1",ae="",pe=0,le={},ye=[],Se=[],we={s:{r:0,c:0},e:{r:0,c:0}},We=V.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)V.Enum=ne,t(I,function(_e,Ue,Te){switch(Te){case 0:V.vers=_e,_e>=4096&&(V.qpro=!0);break;case 6:we=_e;break;case 204:_e&&(ae=_e);break;case 222:ae=_e;break;case 15:case 51:V.qpro||(_e[1].v=_e[1].v.slice(1));case 13:case 14:case 16:Te==14&&(_e[2]&112)==112&&(_e[2]&15)>1&&(_e[2]&15)<15&&(_e[1].z=V.dateNF||Ci[14],V.cellDates&&(_e[1].t="d",_e[1].v=hue(_e[1].v))),V.qpro&&_e[3]>pe&&(K["!ref"]=es(we),le[Y]=K,ye.push(Y),K=V.dense?[]:{},we={s:{r:0,c:0},e:{r:0,c:0}},pe=_e[3],Y=ae||"Sheet"+(pe+1),ae="");var qe=V.dense?(K[_e[0].r]||[])[_e[0].c]:K[Sn(_e[0])];if(qe){qe.t=_e[1].t,qe.v=_e[1].v,_e[1].z!=null&&(qe.z=_e[1].z),_e[1].f!=null&&(qe.f=_e[1].f);break}V.dense?(K[_e[0].r]||(K[_e[0].r]=[]),K[_e[0].r][_e[0].c]=_e[1]):K[Sn(_e[0])]=_e[1];break}},V);else if(I[2]==26||I[2]==14)V.Enum=fe,I[2]==14&&(V.qpro=!0,I.l=0),t(I,function(_e,Ue,Te){switch(Te){case 204:Y=_e;break;case 22:_e[1].v=_e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(_e[3]>pe&&(K["!ref"]=es(we),le[Y]=K,ye.push(Y),K=V.dense?[]:{},we={s:{r:0,c:0},e:{r:0,c:0}},pe=_e[3],Y="Sheet"+(pe+1)),We>0&&_e[0].r>=We)break;V.dense?(K[_e[0].r]||(K[_e[0].r]=[]),K[_e[0].r][_e[0].c]=_e[1]):K[Sn(_e[0])]=_e[1],we.e.c<_e[0].c&&(we.e.c=_e[0].c),we.e.r<_e[0].r&&(we.e.r=_e[0].r);break;case 27:_e[14e3]&&(Se[_e[14e3][0]]=_e[14e3][1]);break;case 1537:Se[_e[0]]=_e[1],_e[0]==pe&&(Y=_e[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(K["!ref"]=es(we),le[ae||Y]=K,ye.push(ae||Y),!Se.length)return{SheetNames:ye,Sheets:le};for(var Ve={},ke=[],Q=0;Q<Se.length;++Q)le[ye[Q]]?(ke.push(Se[Q]||ye[Q]),Ve[Se[Q]]=le[Se[Q]]||le[ye[Q]]):(ke.push(Se[Q]),Ve[Se[Q]]={"!ref":"A1"});return{SheetNames:ke,Sheets:Ve}}function n(I,q){var V=q||{};if(+V.codepage>=0&&MA(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var K=Vo(),Y=ri(I["!ref"]),ae=Array.isArray(I),pe=[];_t(K,0,s(1030)),_t(K,6,l(Y));for(var le=Math.min(Y.e.r,8191),ye=Y.s.r;ye<=le;++ye)for(var Se=oa(ye),we=Y.s.c;we<=Y.e.c;++we){ye===Y.s.r&&(pe[we]=$a(we));var We=pe[we]+Se,Ve=ae?(I[ye]||[])[we]:I[We];if(!(!Ve||Ve.t=="z"))if(Ve.t=="n")(Ve.v|0)==Ve.v&&Ve.v>=-32768&&Ve.v<=32767?_t(K,13,p(ye,we,Ve.v)):_t(K,14,m(ye,we,Ve.v));else{var ke=Kf(Ve);_t(K,15,h(ye,we,ke.slice(0,239)))}}return _t(K,1),K.end()}function i(I,q){var V=q||{};if(+V.codepage>=0&&MA(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var K=Vo();_t(K,0,a(I));for(var Y=0,ae=0;Y<I.SheetNames.length;++Y)(I.Sheets[I.SheetNames[Y]]||{})["!ref"]&&_t(K,27,X(I.SheetNames[Y],ae++));var pe=0;for(Y=0;Y<I.SheetNames.length;++Y){var le=I.Sheets[I.SheetNames[Y]];if(!(!le||!le["!ref"])){for(var ye=ri(le["!ref"]),Se=Array.isArray(le),we=[],We=Math.min(ye.e.r,8191),Ve=ye.s.r;Ve<=We;++Ve)for(var ke=oa(Ve),Q=ye.s.c;Q<=ye.e.c;++Q){Ve===ye.s.r&&(we[Q]=$a(Q));var _e=we[Q]+ke,Ue=Se?(le[Ve]||[])[Q]:le[_e];if(!(!Ue||Ue.t=="z"))if(Ue.t=="n")_t(K,23,L(Ve,Q,pe,Ue.v));else{var Te=Kf(Ue);_t(K,22,N(Ve,Q,pe,Te.slice(0,239)))}}++pe}}return _t(K,1),K.end()}function s(I){var q=Je(2);return q.write_shift(2,I),q}function a(I){var q=Je(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var V=0,K=0,Y=0,ae=0;ae<I.SheetNames.length;++ae){var pe=I.SheetNames[ae],le=I.Sheets[pe];if(!(!le||!le["!ref"])){++Y;var ye=Ql(le["!ref"]);V<ye.e.r&&(V=ye.e.r),K<ye.e.c&&(K=ye.e.c)}}return V>8191&&(V=8191),q.write_shift(2,V),q.write_shift(1,Y),q.write_shift(1,K),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(I,q,V){var K={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&V.qpro?(K.s.c=I.read_shift(1),I.l++,K.s.r=I.read_shift(2),K.e.c=I.read_shift(1),I.l++,K.e.r=I.read_shift(2),K):(K.s.c=I.read_shift(2),K.s.r=I.read_shift(2),q==12&&V.qpro&&(I.l+=2),K.e.c=I.read_shift(2),K.e.r=I.read_shift(2),q==12&&V.qpro&&(I.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(I){var q=Je(8);return q.write_shift(2,I.s.c),q.write_shift(2,I.s.r),q.write_shift(2,I.e.c),q.write_shift(2,I.e.r),q}function u(I,q,V){var K=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(K[0].c=I.read_shift(1),K[3]=I.read_shift(1),K[0].r=I.read_shift(2),I.l+=2):(K[2]=I.read_shift(1),K[0].c=I.read_shift(2),K[0].r=I.read_shift(2)),K}function d(I,q,V){var K=I.l+q,Y=u(I,q,V);if(Y[1].t="s",V.vers==20768){I.l++;var ae=I.read_shift(1);return Y[1].v=I.read_shift(ae,"utf8"),Y}return V.qpro&&I.l++,Y[1].v=I.read_shift(K-I.l,"cstr"),Y}function h(I,q,V){var K=Je(7+V.length);K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,I),K.write_shift(1,39);for(var Y=0;Y<K.length;++Y){var ae=V.charCodeAt(Y);K.write_shift(1,ae>=128?95:ae)}return K.write_shift(1,0),K}function f(I,q,V){var K=u(I,q,V);return K[1].v=I.read_shift(2,"i"),K}function p(I,q,V){var K=Je(7);return K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,I),K.write_shift(2,V,"i"),K}function g(I,q,V){var K=u(I,q,V);return K[1].v=I.read_shift(8,"f"),K}function m(I,q,V){var K=Je(13);return K.write_shift(1,255),K.write_shift(2,q),K.write_shift(2,I),K.write_shift(8,V,"f"),K}function v(I,q,V){var K=I.l+q,Y=u(I,q,V);if(Y[1].v=I.read_shift(8,"f"),V.qpro)I.l=K;else{var ae=I.read_shift(2);_(I.slice(I.l,I.l+ae),Y),I.l+=ae}return Y}function x(I,q,V){var K=q&32768;return q&=-32769,q=(K?I:0)+(q>=8192?q-16384:q),(K?"":"$")+(V?$a(q):oa(q))}var y={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(I,q){Ol(I,0);for(var V=[],K=0,Y="",ae="",pe="",le="";I.l<I.length;){var ye=I[I.l++];switch(ye){case 0:V.push(I.read_shift(8,"f"));break;case 1:ae=x(q[0].c,I.read_shift(2),!0),Y=x(q[0].r,I.read_shift(2),!1),V.push(ae+Y);break;case 2:{var Se=x(q[0].c,I.read_shift(2),!0),we=x(q[0].r,I.read_shift(2),!1);ae=x(q[0].c,I.read_shift(2),!0),Y=x(q[0].r,I.read_shift(2),!1),V.push(Se+we+":"+ae+Y)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(I.read_shift(2));break;case 6:{for(var We="";ye=I[I.l++];)We+=String.fromCharCode(ye);V.push('"'+We.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:le=V.pop(),pe=V.pop(),V.push(["AND","OR"][ye-20]+"("+pe+","+le+")");break;default:if(ye<32&&w[ye])le=V.pop(),pe=V.pop(),V.push(pe+w[ye]+le);else if(y[ye]){if(K=y[ye][1],K==69&&(K=I[I.l++]),K>V.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+V.join("|")+"|");return}var Ve=V.slice(-K);V.length-=K,V.push(y[ye][0]+"("+Ve.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}V.length==1?q[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function A(I){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=I.read_shift(2),q[3]=I[I.l++],q[0].c=I[I.l++],q}function C(I,q){var V=A(I);return V[1].t="s",V[1].v=I.read_shift(q-4,"cstr"),V}function N(I,q,V,K){var Y=Je(6+K.length);Y.write_shift(2,I),Y.write_shift(1,V),Y.write_shift(1,q),Y.write_shift(1,39);for(var ae=0;ae<K.length;++ae){var pe=K.charCodeAt(ae);Y.write_shift(1,pe>=128?95:pe)}return Y.write_shift(1,0),Y}function E(I,q){var V=A(I);V[1].v=I.read_shift(2);var K=V[1].v>>1;if(V[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return V[1].v=K,V}function P(I,q){var V=A(I),K=I.read_shift(4),Y=I.read_shift(4),ae=I.read_shift(2);if(ae==65535)return K===0&&Y===3221225472?(V[1].t="e",V[1].v=15):K===0&&Y===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var pe=ae&32768;return ae=(ae&32767)-16446,V[1].v=(1-pe*2)*(Y*Math.pow(2,ae+32)+K*Math.pow(2,ae)),V}function L(I,q,V,K){var Y=Je(14);if(Y.write_shift(2,I),Y.write_shift(1,V),Y.write_shift(1,q),K==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var ae=0,pe=0,le=0,ye=0;return K<0&&(ae=1,K=-K),pe=Math.log2(K)|0,K/=Math.pow(2,pe-31),ye=K>>>0,ye&2147483648||(K/=2,++pe,ye=K>>>0),K-=ye,ye|=2147483648,ye>>>=0,K*=Math.pow(2,32),le=K>>>0,Y.write_shift(4,le),Y.write_shift(4,ye),pe+=16383+(ae?32768:0),Y.write_shift(2,pe),Y}function O(I,q){var V=P(I);return I.l+=q-14,V}function k(I,q){var V=A(I),K=I.read_shift(4);return V[1].v=K>>6,V}function D(I,q){var V=A(I),K=I.read_shift(8,"f");return V[1].v=K,V}function F(I,q){var V=D(I);return I.l+=q-10,V}function z(I,q){return I[I.l+q-1]==0?I.read_shift(q,"cstr"):""}function U(I,q){var V=I[I.l++];V>q-1&&(V=q-1);for(var K="";K.length<V;)K+=String.fromCharCode(I[I.l++]);return K}function H(I,q,V){if(!(!V.qpro||q<21)){var K=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var Y=I.read_shift(q-21,"cstr");return[K,Y]}}function B(I,q){for(var V={},K=I.l+q;I.l<K;){var Y=I.read_shift(2);if(Y==14e3){for(V[Y]=[0,""],V[Y][0]=I.read_shift(2);I[I.l];)V[Y][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return V}function X(I,q){var V=Je(5+I.length);V.write_shift(2,14e3),V.write_shift(2,q);for(var K=0;K<I.length;++K){var Y=I.charCodeAt(K);V[V.l++]=Y>127?95:Y}return V[V.l++]=0,V}var ne={0:{n:"BOF",f:Wue},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:U},65535:{n:""}},fe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:P},24:{n:"NUMBER18",f:E},25:{n:"FORMULA19",f:O},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:B},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:F},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:H},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),C6e=/^\s|\s$|[\t\n\r]/;function Xue(t,e){if(!e.bookSST)return"";var r=[ss];r[r.length]=wt("sst",null,{xmlns:t2[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(C6e)&&(s+=' xml:space="preserve"'),s+=">"+wn(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function T6e(t){return[t.read_shift(4),t.read_shift(4)]}function P6e(t,e){return e||(e=Je(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var k6e=wDe;function O6e(t){var e=Vo();ot(e,159,P6e(t));for(var r=0;r<t.length;++r)ot(e,19,k6e(t[r]));return ot(e,160),e.end()}function M6e(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Que(t){var e=0,r,n=M6e(t),i=n.length+1,s,a,o,l,u;for(r=nx(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var L6e=function(){function t(i,s){switch(s.type){case"base64":return e(Gf(i),s);case"binary":return e(i,s);case"buffer":return e(cn&&Buffer.isBuffer(i)?i.toString("binary"):kN(i),s);case"array":return e(OO(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,h){Array.isArray(o)&&(o[h]=[]);for(var f=/\\\w+\b/g,p=0,g,m=-1;g=f.exec(d);){switch(g[0]){case"\\cell":var v=d.slice(p,f.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var x={v,t:"s"};Array.isArray(o)?o[h][m]=x:o[Sn({r:h,c:m})]=x}break}p=f.lastIndex}m>u.e.c&&(u.e.c=m)}),o["!ref"]=es(u),o}function r(i,s){return _x(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=ri(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var h=Sn({r:u,c:d});o=l?(i[u]||[])[d]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Kf(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function iK(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var I6e=6,Tf=I6e;function Nk(t){return Math.floor((t+Math.round(128/Tf)/256)*Tf)}function Ek(t){return Math.floor((t-5)/Tf*100+.5)/100}function ZF(t){return Math.round((t*Tf+5)/Tf*256)/256}function z9(t){t.width?(t.wpx=Nk(t.width),t.wch=Ek(t.wpx),t.MDW=Tf):t.wpx?(t.wch=Ek(t.wpx),t.width=ZF(t.wch),t.MDW=Tf):typeof t.wch=="number"&&(t.width=ZF(t.wch),t.wpx=Nk(t.width),t.MDW=Tf),t.customWidth&&delete t.customWidth}var R6e=96,Jue=R6e;function Ck(t){return t*96/Jue}function Zue(t){return t*Jue/96}function D6e(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=wt("numFmt",null,{numFmtId:n,formatCode:wn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=wt("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function F6e(t){var e=[];return e[e.length]=wt("cellXfs",null),t.forEach(function(r){e[e.length]=wt("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=wt("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function ede(t,e){var r=[ss,wt("styleSheet",null,{xmlns:t2[0],"xmlns:vt":Fs.vt})],n;return t.SSF&&(n=D6e(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=F6e(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function $6e(t,e){var r=t.read_shift(2),n=Ba(t);return[r,n]}function B6e(t,e,r){r||(r=Je(6+4*e.length)),r.write_shift(2,t),Bs(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function U6e(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=CDe(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=EDe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ba(t),n}function z6e(t,e){e||(e=Je(25+4*32)),e.write_shift(2,t.sz*20),TDe(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),Ak(t.color,e);var n=0;return t.scheme=="major"&&(n=1),t.scheme=="minor"&&(n=2),e.write_shift(1,n),Bs(t.name,e),e.length>e.l?e.slice(0,e.l):e}var q6e=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],KI,W6e=ah;function sK(t,e){e||(e=Je(4*3+8*7+16*1)),KI||(KI=P9(q6e));var r=KI[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(Ak({auto:1},e),Ak({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function H6e(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function tde(t,e,r){r||(r=Je(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function y_(t,e){return e||(e=Je(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var V6e=ah;function G6e(t,e){return e||(e=Je(51)),e.write_shift(1,0),y_(null,e),y_(null,e),y_(null,e),y_(null,e),y_(null,e),e.length>e.l?e.slice(0,e.l):e}function K6e(t,e){return e||(e=Je(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,+t.builtinId),e.write_shift(1,0),Sk(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function Y6e(t,e,r){var n=Je(2052);return n.write_shift(4,t),Sk(e,n),Sk(r,n),n.length>n.l?n.slice(0,n.l):n}function X6e(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(ot(t,615,$u(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ot(t,44,B6e(i,e[i]))}),ot(t,616))}}function Q6e(t){var e=1;ot(t,611,$u(e)),ot(t,43,z6e({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ot(t,612)}function J6e(t){var e=2;ot(t,603,$u(e)),ot(t,45,sK({patternType:"none"})),ot(t,45,sK({patternType:"gray125"})),ot(t,604)}function Z6e(t){var e=1;ot(t,613,$u(e)),ot(t,46,G6e()),ot(t,614)}function eFe(t){var e=1;ot(t,626,$u(e)),ot(t,47,tde({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ot(t,627)}function tFe(t,e){ot(t,617,$u(e.length)),e.forEach(function(r){ot(t,47,tde(r,0))}),ot(t,618)}function rFe(t){var e=1;ot(t,619,$u(e)),ot(t,48,K6e({xfId:0,builtinId:0,name:"Normal"})),ot(t,620)}function nFe(t){var e=0;ot(t,505,$u(e)),ot(t,506)}function iFe(t){var e=0;ot(t,508,Y6e(e,"TableStyleMedium9","PivotStyleMedium4")),ot(t,509)}function sFe(t,e){var r=Vo();return ot(r,278),X6e(r,t.SSF),Q6e(r),J6e(r),Z6e(r),eFe(r),tFe(r,e.cellXfs),rFe(r),nFe(r),iFe(r),ot(r,279),r.end()}function rde(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[ss];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function aFe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ba(t)}}function oFe(t){var e=Je(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Bs(t.name,e),e.slice(0,e.l)}function lFe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function cFe(t){var e=Je(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function uFe(t,e){var r=Je(8+2*e.length);return r.write_shift(4,t),Bs(e,r),r.slice(0,r.l)}function dFe(t){return t.l+=4,t.read_shift(4)!=0}function hFe(t,e){var r=Je(8);return r.write_shift(4,t),r.write_shift(4,1),r}function fFe(){var t=Vo();return ot(t,332),ot(t,334,$u(1)),ot(t,335,oFe({name:"XLDAPR",version:12e4,flags:3496657072})),ot(t,336),ot(t,339,uFe(1,"XLDAPR")),ot(t,52),ot(t,35,$u(514)),ot(t,4096,$u(0)),ot(t,4097,Ac(1)),ot(t,36),ot(t,53),ot(t,340),ot(t,337,hFe(1)),ot(t,51,cFe([[1,0]])),ot(t,338),ot(t,333),t.end()}function nde(){var t=[ss];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function pFe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Sn(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Gy=1024;function ide(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[wt("xml",null,{"xmlns:v":Ll.v,"xmlns:o":Ll.o,"xmlns:x":Ll.x,"xmlns:mv":Ll.mv}).replace(/\/>/,">"),wt("o:shapelayout",wt("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),wt("v:shapetype",[wt("v:stroke",null,{joinstyle:"miter"}),wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Gy<t*1e3;)Gy+=1e3;return e.forEach(function(s){var a=$s(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=wt("v:fill",l,o),d={on:"t",obscured:"t"};++Gy,i=i.concat(["<v:shape"+DA({id:"_x0000_s"+Gy,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,wt("v:shadow",null,d),wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ra("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),ra("x:AutoFill","False"),ra("x:Row",String(a.r)),ra("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function sde(t){var e=[ss,wt("comments",null,{xmlns:t2[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=wn(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(wn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(ra("t",wn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(ra("t",wn(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function mFe(t,e,r){var n=[ss,wt("ThreadedComments",null,{xmlns:Fs.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(wt("threadedComment",ra("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function gFe(t){var e=[ss,wt("personList",null,{xmlns:Fs.TCMNT,"xmlns:x":t2[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(wt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function vFe(t){var e={};e.iauthor=t.read_shift(4);var r=Nx(t);return e.rfx=r.s,e.ref=Sn(r.s),t.l+=16,e}function xFe(t,e){return e==null&&(e=Je(36)),e.write_shift(4,t[1].iauthor),n2(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var yFe=Ba;function bFe(t){return Bs(t.slice(0,54))}function wFe(t){var e=Vo(),r=[];return ot(e,628),ot(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),ot(e,632,bFe(i.a)))})}),ot(e,631),ot(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:$s(n[0]),e:$s(n[0])};ot(e,635,xFe([s,i])),i.t&&i.t.length>0&&ot(e,637,SDe(i)),ot(e,636),delete i.iauthor})}),ot(e,634),ot(e,629),e.end()}function _Fe(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&En.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var ade=["xlsb","xlsm","xlam","biff8","xla"],SFe=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return o?d+=e.c:--d,l?u+=e.r:--u,i+(o?"":"$")+$a(d)+(l?"":"$")+oa(u)}return function(i,s){return e=s,i.replace(t,r)}}(),q9=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,W9=function(){return function(e,r){return e.replace(q9,function(n,i,s,a,o,l){var u=D9(a)-(s?0:r.c),d=R9(l)-(o?0:r.r),h=d==0?"":o?d+1:"["+d+"]",f=u==0?"":s?u+1:"["+u+"]";return i+"R"+h+"C"+f})}}();function AFe(t,e){return t.replace(q9,function(r,n,i,s,a,o){return n+(i=="$"?i+s:$a(D9(s)+e.c))+(a=="$"?a+o:oa(R9(o)+e.r))})}function jFe(t){return t.length!=1}function Ki(t){t.l+=1}function c0(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function ode(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return lde(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=c0(t),o=c0(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function lde(t){var e=c0(t),r=c0(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function NFe(t,e,r){if(r.biff<8)return lde(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=c0(t),a=c0(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function cde(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return EFe(t);var n=t.read_shift(r&&r.biff==12?4:2),i=c0(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function EFe(t){var e=c0(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function CFe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function TFe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return PFe(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function PFe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function kFe(t,e,r){var n=(t[t.l++]&96)>>5,i=ode(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function OFe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=ode(t,s,r);return[n,i,a]}function MFe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function LFe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function IFe(t,e,r){var n=(t[t.l++]&96)>>5,i=NFe(t,e-1,r);return[n,i]}function RFe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function aK(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function DFe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function FFe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function $Fe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function BFe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function UFe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function ude(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function zFe(t){return t.read_shift(2),ude(t)}function qFe(t){return t.read_shift(2),ude(t)}function WFe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=cde(t,0,r);return[n,i]}function HFe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=TFe(t,0,r);return[n,i]}function VFe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=cde(t,0,r);return[n,i,s]}function GFe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[G8e[i],fde[i],n]}function KFe(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:YFe(t);return[i,(s[0]===0?fde:V8e)[s[1]]]}function YFe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function XFe(t,e,r){t.l+=r&&r.biff==2?3:4}function QFe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function JFe(t){return t.l++,LN[t.read_shift(1)]}function ZFe(t){return t.l++,t.read_shift(2)}function e8e(t){return t.l++,t.read_shift(1)!==0}function t8e(t){return t.l++,i2(t)}function r8e(t,e,r){return t.l++,Vue(t,e-1,r)}function n8e(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=VDe(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=LN[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=i2(t);break;case 2:r[1]=XDe(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function i8e(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Nx:ZDe)(t));return i}function s8e(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=n8e(t,r.biff);return a}function a8e(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function o8e(t,e,r){if(r.biff==5)return l8e(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function l8e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function c8e(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function u8e(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function d8e(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function h8e(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var f8e=ah,p8e=ah,m8e=ah;function IN(t,e,r){return t.l+=2,[CFe(t)]}function H9(t){return t.l+=6,[]}var g8e=IN,v8e=H9,x8e=H9,y8e=IN;function dde(t){return t.l+=2,[Wue(t),t.read_shift(2)&1]}var b8e=IN,w8e=dde,_8e=H9,S8e=IN,A8e=IN,j8e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function N8e(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=j8e[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function E8e(t){return t.l+=2,[t.read_shift(4)]}function C8e(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function T8e(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function P8e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function k8e(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function O8e(t){return t.l+=4,[0,0]}var oK={1:{n:"PtgExp",f:QFe},2:{n:"PtgTbl",f:m8e},3:{n:"PtgAdd",f:Ki},4:{n:"PtgSub",f:Ki},5:{n:"PtgMul",f:Ki},6:{n:"PtgDiv",f:Ki},7:{n:"PtgPower",f:Ki},8:{n:"PtgConcat",f:Ki},9:{n:"PtgLt",f:Ki},10:{n:"PtgLe",f:Ki},11:{n:"PtgEq",f:Ki},12:{n:"PtgGe",f:Ki},13:{n:"PtgGt",f:Ki},14:{n:"PtgNe",f:Ki},15:{n:"PtgIsect",f:Ki},16:{n:"PtgUnion",f:Ki},17:{n:"PtgRange",f:Ki},18:{n:"PtgUplus",f:Ki},19:{n:"PtgUminus",f:Ki},20:{n:"PtgPercent",f:Ki},21:{n:"PtgParen",f:Ki},22:{n:"PtgMissArg",f:Ki},23:{n:"PtgStr",f:r8e},26:{n:"PtgSheet",f:C8e},27:{n:"PtgEndSheet",f:T8e},28:{n:"PtgErr",f:JFe},29:{n:"PtgBool",f:e8e},30:{n:"PtgInt",f:ZFe},31:{n:"PtgNum",f:t8e},32:{n:"PtgArray",f:RFe},33:{n:"PtgFunc",f:GFe},34:{n:"PtgFuncVar",f:KFe},35:{n:"PtgName",f:a8e},36:{n:"PtgRef",f:WFe},37:{n:"PtgArea",f:kFe},38:{n:"PtgMemArea",f:c8e},39:{n:"PtgMemErr",f:f8e},40:{n:"PtgMemNoMem",f:p8e},41:{n:"PtgMemFunc",f:u8e},42:{n:"PtgRefErr",f:d8e},43:{n:"PtgAreaErr",f:MFe},44:{n:"PtgRefN",f:HFe},45:{n:"PtgAreaN",f:IFe},46:{n:"PtgMemAreaN",f:P8e},47:{n:"PtgMemNoMemN",f:k8e},57:{n:"PtgNameX",f:o8e},58:{n:"PtgRef3d",f:VFe},59:{n:"PtgArea3d",f:OFe},60:{n:"PtgRefErr3d",f:h8e},61:{n:"PtgAreaErr3d",f:LFe},255:{}},M8e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},L8e={1:{n:"PtgElfLel",f:dde},2:{n:"PtgElfRw",f:S8e},3:{n:"PtgElfCol",f:g8e},6:{n:"PtgElfRwV",f:A8e},7:{n:"PtgElfColV",f:y8e},10:{n:"PtgElfRadical",f:b8e},11:{n:"PtgElfRadicalS",f:_8e},13:{n:"PtgElfColS",f:v8e},15:{n:"PtgElfColSV",f:x8e},16:{n:"PtgElfRadicalLel",f:w8e},25:{n:"PtgList",f:N8e},29:{n:"PtgSxName",f:E8e},255:{}},I8e={0:{n:"PtgAttrNoop",f:O8e},1:{n:"PtgAttrSemi",f:UFe},2:{n:"PtgAttrIf",f:$Fe},4:{n:"PtgAttrChoose",f:DFe},8:{n:"PtgAttrGoto",f:FFe},16:{n:"PtgAttrSum",f:XFe},32:{n:"PtgAttrBaxcel",f:aK},33:{n:"PtgAttrBaxcel",f:aK},64:{n:"PtgAttrSpace",f:zFe},65:{n:"PtgAttrSpaceSemi",f:qFe},128:{n:"PtgAttrIfError",f:BFe},255:{}};function R8e(t,e,r,n){if(n.biff<8)return ah(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=s8e(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=i8e(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(ah(t,e)),s}function D8e(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=oK[s]||oK[M8e[s]],(s===24||s===25)&&(i=(s===24?L8e:I8e)[t[t.l+1]]),!i||!i.f?ah(t,e):a.push([i.n,i.f(t,e,r)]);return a}function F8e(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var $8e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function B8e(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function hde(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function lK(t,e,r){var n=hde(t,e,r);return n=="#REF"?n:B8e(n,r)}function hw(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,u,d,h=0,f=0,p,g="";if(!t[0]||!t[0][0])return"";for(var m=-1,v="",x=0,y=t[0].length;x<y;++x){var w=t[0][x];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),m>=0){switch(t[0][m][1][0]){case 0:v=ji(" ",t[0][m][1][1]);break;case 1:v=ji("\r",t[0][m][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}u=u+v,m=-1}o.push(u+$8e[w[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=PS(w[1][1],a,i),o.push(kS(d,s));break;case"PtgRefN":d=r?PS(w[1][1],r,i):w[1][1],o.push(kS(d,s));break;case"PtgRef3d":h=w[1][1],d=PS(w[1][2],a,i),g=lK(n,h,i),o.push(g+"!"+kS(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=w[1][0],A=w[1][1];_||(_=0),_&=127;var C=_==0?[]:o.slice(-_);o.length-=_,A==="User"&&(A=C.shift()),o.push(A+"("+C.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=VG(w[1][1],r?{s:r}:a,i),o.push(VI(p,i));break;case"PtgArea":p=VG(w[1][1],a,i),o.push(VI(p,i));break;case"PtgArea3d":h=w[1][1],p=w[1][2],g=lK(n,h,i),o.push(g+"!"+VI(p,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":f=w[1][2];var N=(n.names||[])[f-1]||(n[0]||[])[f],E=N?N.Name:"SH33TJSNAME"+String(f);E&&E.slice(0,6)=="_xlfn."&&!i.xlfn&&(E=E.slice(6)),o.push(E);break;case"PtgNameX":var P=w[1][1];f=w[1][2];var L;if(i.biff<=5)P<0&&(P=-P),n[P]&&(L=n[P][f]);else{var O="";if(((n[P]||[])[0]||[])[0]==14849||(((n[P]||[])[0]||[])[0]==1025?n[P][f]&&n[P][f].itab>0&&(O=n.SheetNames[n[P][f].itab-1]+"!"):O=n.SheetNames[f-1]+"!"),n[P]&&n[P][f])O+=n[P][f].Name;else if(n[0]&&n[0][f])O+=n[0][f].Name;else{var k=(hde(n,P,i)||"").split(";;");k[f-1]?O=k[f-1]:O+="SH33TJSERRX"}o.push(O);break}L||(L={Name:"SH33TJSERRY"}),o.push(L.Name);break;case"PtgParen":var D="(",F=")";if(m>=0){switch(v="",t[0][m][1][0]){case 2:D=ji(" ",t[0][m][1][1])+D;break;case 3:D=ji("\r",t[0][m][1][1])+D;break;case 4:F=ji(" ",t[0][m][1][1])+F;break;case 5:F=ji("\r",t[0][m][1][1])+F;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][m][1][0])}m=-1}o.push(D+o.pop()+F);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:w[1][1],r:w[1][0]};var z={c:r.c,r:r.r};if(n.sharedf[Sn(d)]){var U=n.sharedf[Sn(d)];o.push(hw(U,a,z,n,i))}else{var H=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(hw(u[1],a,z,n,i)),H=!0;break}H||o.push(w[1])}break;case"PtgArray":o.push("{"+F8e(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var B=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&B.indexOf(t[0][x][0])==-1){w=t[0][m];var X=!0;switch(w[1][0]){case 4:X=!1;case 0:v=ji(" ",w[1][1]);break;case 5:X=!1;case 1:v=ji("\r",w[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((X?v:"")+o.pop()+(X?"":v)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function U8e(t){if(t==null){var e=Je(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return ix(t);return ix(0)}function z8e(t,e,r,n,i){var s=sx(e,r,i),a=U8e(t.v),o=Je(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Je(t.bf.length),d=0;d<t.bf.length;++d)u[d]=t.bf[d];var h=ta([s,a,o,u]);return h}function MO(t,e,r){var n=t.read_shift(4),i=D8e(t,n,r),s=t.read_shift(4),a=s>0?R8e(t,s,i,r):null;return[i,a]}var q8e=MO,LO=MO,W8e=MO,H8e=MO,V8e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fde={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},G8e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function K8e(t){var e="of:="+t.replace(q9,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Y8e(t){return t.replace(/\./,"!")}var OS=typeof Map<"u";function V9(t,e,r){var n=0,i=t.length;if(r){if(OS?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=OS?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(OS?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function IO(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Tf=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Ek(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=ZF(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function pde(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function A0(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){cue(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function X8e(t,e,r){if(t&&t["!ref"]){var n=ri(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function Q8e(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+es(t[r])+'"/>';return e+"</mergeCells>"}function J8e(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=RA(wn(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+wt("outlinePr",null,u)}!s&&!o||(i[i.length]=wt("sheetPr",o,a))}var Z8e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],e7e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function t7e(t){var e={sheet:1};return Z8e.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),e7e.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=Que(t.password).toString(16).toUpperCase()),wt("sheetProtection",null,e)}function r7e(t){return pde(t),wt("pageMargins",null,t)}function n7e(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=wt("col",null,IO(i,n)));return r[r.length]="</cols>",r.join("")}function i7e(t,e,r,n){var i=typeof t.ref=="string"?t.ref:es(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=Ql(i);a.s.r==a.e.r&&(a.e.r=Ql(e["!ref"]).e.r,i=es(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),wt("autoFilter",null,{ref:i})}function s7e(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),wt("sheetViews",wt("sheetView",null,i),{})}function a7e(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=LN[t.v];break;case"d":n&&n.cellDates?i=ho(t.v,-1).toISOString():(t=rl(t),t.t="n",i=""+(t.v=tl(ho(t.v)))),typeof t.z>"u"&&(t.z=Ci[14]);break;default:i=t.v;break}var o=ra("v",wn(i)),l={r:e},u=A0(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ra("v",""+V9(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var d=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=wt("f",wn(t.f),d)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),wt("c",o,l)}function o7e(t,e,r,n){var i=[],s=[],a=ri(t["!ref"]),o="",l,u="",d=[],h=0,f=0,p=t["!rows"],g=Array.isArray(t),m={r:u},v,x=-1;for(f=a.s.c;f<=a.e.c;++f)d[f]=$a(f);for(h=a.s.r;h<=a.e.r;++h){for(s=[],u=oa(h),f=a.s.c;f<=a.e.c;++f){l=d[f]+u;var y=g?(t[h]||[])[f]:t[l];y!==void 0&&(o=a7e(y,l,t,e))!=null&&s.push(o)}(s.length>0||p&&p[h])&&(m={r:u},p&&p[h]&&(v=p[h],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=Ck(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level)),i[i.length]=wt("row",s.join(""),m))}if(p)for(;h<p.length;++h)p&&p[h]&&(m={r:h+1},v=p[h],v.hidden&&(m.hidden=1),x=-1,v.hpx?x=Ck(v.hpx):v.hpt&&(x=v.hpt),x>-1&&(m.ht=x,m.customHeight=1),v.level&&(m.outlineLevel=v.level),i[i.length]=wt("row","",m));return i.join("")}function mde(t,e,r,n){var i=[ss,wt("worksheet",null,{xmlns:t2[0],"xmlns:r":Fs.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",d=ri(u);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=es(d)}n||(n={}),l["!comments"]=[];var h=[];J8e(l,r,t,e,i),i[i.length]=wt("dimension",null,{ref:u}),i[i.length]=s7e(l,e,t,r),e.sheetFormat&&(i[i.length]=wt("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=n7e(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=o7e(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=t7e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=i7e(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=Q8e(l["!merges"]));var f=-1,p,g=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(p={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=xn(n,-1,wn(m[1].Target).replace(/#.*$/,""),tn.HLINK),p["r:id"]="rId"+g),(f=m[1].Target.indexOf("#"))>-1&&(p.location=wn(m[1].Target.slice(f+1))),m[1].Tooltip&&(p.tooltip=wn(m[1].Tooltip)),i[i.length]=wt("hyperlink",null,p))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=r7e(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=ra("ignoredErrors",wt("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(g=xn(n,-1,"../drawings/drawing"+(t+1)+".xml",tn.DRAW),i[i.length]=wt("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=h),l["!comments"].length>0&&(g=xn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",tn.VML),i[i.length]=wt("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function l7e(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function c7e(t,e,r){var n=Je(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=Ck(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var h=-1,f=-1,p=d<<10;p<d+1<<10;++p){u.c=p;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Sn(u)];g&&(h<0&&(h=p),f=p)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,f))}var m=n.l;return n.l=l,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function u7e(t,e,r,n){var i=c7e(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&ot(t,0,i)}var d7e=Nx,h7e=n2;function f7e(){}function p7e(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=ADe(t),r}function m7e(t,e,r){r==null&&(r=Je(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Ak({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Pue(t,r),r.slice(0,r.l)}function g7e(t){var e=Hc(t);return[e]}function v7e(t,e,r){return r==null&&(r=Je(8)),Sx(e,r)}function x7e(t){var e=Ax(t);return[e]}function y7e(t,e,r){return r==null&&(r=Je(4)),jx(e,r)}function b7e(t){var e=Hc(t),r=t.read_shift(1);return[e,r,"b"]}function w7e(t,e,r){return r==null&&(r=Je(9)),Sx(e,r),r.write_shift(1,t.v?1:0),r}function _7e(t){var e=Ax(t),r=t.read_shift(1);return[e,r,"b"]}function S7e(t,e,r){return r==null&&(r=Je(5)),jx(e,r),r.write_shift(1,t.v?1:0),r}function A7e(t){var e=Hc(t),r=t.read_shift(1);return[e,r,"e"]}function j7e(t,e,r){return r==null&&(r=Je(9)),Sx(e,r),r.write_shift(1,t.v),r}function N7e(t){var e=Ax(t),r=t.read_shift(1);return[e,r,"e"]}function E7e(t,e,r){return r==null&&(r=Je(8)),jx(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function C7e(t){var e=Hc(t),r=t.read_shift(4);return[e,r,"s"]}function T7e(t,e,r){return r==null&&(r=Je(12)),Sx(e,r),r.write_shift(4,e.v),r}function P7e(t){var e=Ax(t),r=t.read_shift(4);return[e,r,"s"]}function k7e(t,e,r){return r==null&&(r=Je(8)),jx(e,r),r.write_shift(4,e.v),r}function O7e(t){var e=Hc(t),r=i2(t);return[e,r,"n"]}function M7e(t,e,r){return r==null&&(r=Je(16)),Sx(e,r),ix(t.v,r),r}function L7e(t){var e=Ax(t),r=i2(t);return[e,r,"n"]}function I7e(t,e,r){return r==null&&(r=Je(12)),jx(e,r),ix(t.v,r),r}function R7e(t){var e=Hc(t),r=kue(t);return[e,r,"n"]}function D7e(t,e,r){return r==null&&(r=Je(12)),Sx(e,r),Oue(t.v,r),r}function F7e(t){var e=Ax(t),r=kue(t);return[e,r,"n"]}function $7e(t,e,r){return r==null&&(r=Je(8)),jx(e,r),Oue(t.v,r),r}function B7e(t){var e=Hc(t),r=F9(t);return[e,r,"is"]}function U7e(t){var e=Hc(t),r=Ba(t);return[e,r,"str"]}function z7e(t,e,r){return r==null&&(r=Je(12+4*t.v.length)),Sx(e,r),Bs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function q7e(t){var e=Ax(t),r=Ba(t);return[e,r,"str"]}function W7e(t,e,r){return r==null&&(r=Je(8+4*t.v.length)),jx(e,r),Bs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function H7e(t,e,r){var n=t.l+e,i=Hc(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=LO(t,n-t.l,r);a[3]=hw(o,null,i,r.supbooks,r)}else t.l=n;return a}function V7e(t,e,r){var n=t.l+e,i=Hc(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=LO(t,n-t.l,r);a[3]=hw(o,null,i,r.supbooks,r)}else t.l=n;return a}function G7e(t,e,r){var n=t.l+e,i=Hc(t);i.r=r["!row"];var s=i2(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=LO(t,n-t.l,r);a[3]=hw(o,null,i,r.supbooks,r)}else t.l=n;return a}function K7e(t,e,r){var n=t.l+e,i=Hc(t);i.r=r["!row"];var s=Ba(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=LO(t,n-t.l,r);a[3]=hw(o,null,i,r.supbooks,r)}else t.l=n;return a}var Y7e=Nx,X7e=n2;function Q7e(t,e){return e==null&&(e=Je(4)),e.write_shift(4,t),e}function J7e(t,e){var r=t.l+e,n=Nx(t),i=$9(t),s=Ba(t),a=Ba(t),o=Ba(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function Z7e(t,e){var r=Je(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));n2({s:$s(t[0]),e:$s(t[0])},r),B9("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Bs(i||"",r),Bs(t[1].Tooltip||"",r),Bs("",r),r.slice(0,r.l)}function e$e(){}function t$e(t,e,r){var n=t.l+e,i=Mue(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=q8e(t,n-t.l,r);a[1]=o}else t.l=n;return a}function r$e(t,e,r){var n=t.l+e,i=Nx(t),s=[i];if(r.cellFormula){var a=H8e(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function n$e(t,e,r){r==null&&(r=Je(18));var n=IO(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var gde=["left","right","top","bottom","header","footer"];function i$e(t){var e={};return gde.forEach(function(r){e[r]=i2(t)}),e}function s$e(t,e){return e==null&&(e=Je(6*8)),pde(t),gde.forEach(function(r){ix(t[r],e)}),e}function a$e(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function o$e(t,e,r){r==null&&(r=Je(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function l$e(t){var e=Je(24);return e.write_shift(4,4),e.write_shift(4,1),n2(t,e),e}function c$e(t,e){return e==null&&(e=Je(16*4+2)),e.write_shift(2,t.password?Que(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function u$e(){}function d$e(){}function h$e(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=rl(e),e.z=e.z||Ci[14],e.v=tl(ho(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=A0(i.cellXfs,e,i),e.l&&s["!links"].push([Sn(l),e.l]),e.c&&s["!comments"].push([Sn(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=V9(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?ot(t,18,k7e(e,l)):ot(t,7,T7e(e,l))):(l.t="str",a?ot(t,17,W7e(e,l)):ot(t,6,z7e(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?ot(t,13,$7e(e,l)):ot(t,2,D7e(e,l)):a?ot(t,16,I7e(e,l)):ot(t,5,M7e(e,l)),!0;case"b":return l.t="b",a?ot(t,15,S7e(e,l)):ot(t,4,w7e(e,l)),!0;case"e":return l.t="e",a?ot(t,14,E7e(e,l)):ot(t,3,j7e(e,l)),!0}return a?ot(t,12,y7e(e,l)):ot(t,1,v7e(e,l)),!0}function f$e(t,e,r,n){var i=ri(e["!ref"]||"A1"),s,a="",o=[];ot(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=u;++d){a=oa(d),u7e(t,e,i,d);var h=!1;if(d<=i.e.r)for(var f=i.s.c;f<=i.e.c;++f){d===i.s.r&&(o[f]=$a(f)),s=o[f]+a;var p=l?(e[d]||[])[f]:e[s];if(!p){h=!1;continue}h=h$e(t,p,d,f,n,e,h)}}ot(t,146)}function p$e(t,e){!e||!e["!merges"]||(ot(t,177,Q7e(e["!merges"].length)),e["!merges"].forEach(function(r){ot(t,176,X7e(r))}),ot(t,178))}function m$e(t,e){!e||!e["!cols"]||(ot(t,390),e["!cols"].forEach(function(r,n){r&&ot(t,60,n$e(n,r))}),ot(t,391))}function g$e(t,e){!e||!e["!ref"]||(ot(t,648),ot(t,649,l$e(ri(e["!ref"]))),ot(t,650))}function v$e(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=xn(r,-1,n[1].Target.replace(/#.*$/,""),tn.HLINK);ot(t,494,Z7e(n,i))}}),delete e["!links"]}function x$e(t,e,r,n){if(e["!comments"].length>0){var i=xn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",tn.VML);ot(t,551,B9("rId"+i)),e["!legacy"]=i}}function y$e(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:es(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=Ql(s);o.s.r==o.e.r&&(o.e.r=Ql(e["!ref"]).e.r,s=es(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),ot(t,161,n2(ri(s))),ot(t,162)}}function b$e(t,e,r){ot(t,133),ot(t,137,o$e(e,r)),ot(t,138),ot(t,134)}function w$e(t,e){e["!protect"]&&ot(t,535,c$e(e["!protect"]))}function _$e(t,e,r,n){var i=Vo(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=ri(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],ot(i,129),(r.vbaraw||a["!outline"])&&ot(i,147,m7e(o,a["!outline"])),ot(i,148,h7e(l)),b$e(i,a,r.Workbook),m$e(i,a),f$e(i,a,t,e),w$e(i,a),y$e(i,a,r,t),p$e(i,a),v$e(i,a,n),a["!margins"]&&ot(i,476,s$e(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&g$e(i,a),x$e(i,a,t,n),ot(i,130),i.end()}function S$e(t,e){t.l+=10;var r=Ba(t);return{name:r}}var A$e=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function j$e(t){return!t.Workbook||!t.Workbook.WBProps?"false":rDe(t.Workbook.WBProps.date1904)?"true":"false"}var N$e="][*?/\\".split("");function vde(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return N$e.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function E$e(t,e,r){t.forEach(function(n,i){vde(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function C$e(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];E$e(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)X8e(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function xde(t){var e=[ss];e[e.length]=wt("workbook",null,{xmlns:t2[0],"xmlns:r":Fs.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(A$e.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=wt("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:wn(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=wt("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=wt("definedName",wn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function T$e(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=JF(t),r.name=Ba(t),r}function P$e(t,e){return e||(e=Je(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),B9(t.strRelID,e),Bs(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function k$e(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Ba(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function O$e(t,e){e||(e=Je(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),Pue(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function M$e(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=jDe(t),a=W8e(t,0,r),o=$9(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function L$e(t,e){ot(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};ot(t,156,P$e(i))}ot(t,144)}function I$e(t,e){e||(e=Je(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Bs("SheetJS",e),Bs(vk.version,e),Bs(vk.version,e),Bs("7262",e),e.length>e.l?e.slice(0,e.l):e}function R$e(t,e){e||(e=Je(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function D$e(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(ot(t,135),ot(t,158,R$e(i)),ot(t,136))}}function F$e(t,e){var r=Vo();return ot(r,131),ot(r,128,I$e()),ot(r,153,O$e(t.Workbook&&t.Workbook.WBProps||null)),D$e(r,t),L$e(r,t),ot(r,132),r.end()}function $$e(t,e,r){return(e.slice(-4)===".bin"?F$e:xde)(t)}function B$e(t,e,r,n,i){return(e.slice(-4)===".bin"?_$e:mde)(t,r,n,i)}function U$e(t,e,r){return(e.slice(-4)===".bin"?sFe:ede)(t,r)}function z$e(t,e,r){return(e.slice(-4)===".bin"?O6e:Xue)(t,r)}function q$e(t,e,r){return(e.slice(-4)===".bin"?wFe:sde)(t)}function W$e(t){return(t.slice(-4)===".bin"?fFe:nde)()}function H$e(t,e){var r=[];return t.Props&&r.push(UDe(t.Props,e)),t.Custprops&&r.push(zDe(t.Props,t.Custprops)),r.join("")}function V$e(){return""}function G$e(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(wt("NumberFormat",null,{"ss:Format":wn(Ci[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(wt("Style",s.join(""),a))}),wt("Styles",r.join(""))}function yde(t){return wt("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+W9(t.Ref,{r:0,c:0})})}function K$e(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(yde(i)))}return wt("Names",r.join(""))}function Y$e(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(yde(o)))}return s.join("")}function X$e(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(wt("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(wt("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(wt("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(wt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(ra("ProtectContents","True")),t["!protect"].objects&&i.push(ra("ProtectObjects","True")),t["!protect"].scenarios&&i.push(ra("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(ra("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(ra("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":wt("WorksheetOptions",i.join(""),{xmlns:Ll.x})}function Q$e(t){return t.map(function(e){var r=tDe(e.t||""),n=wt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return wt("Comment",n,{"ss:Author":e.a})}).join("")}function J$e(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+wn(W9(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=$s(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=wn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=wn(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=a.c||u[d].s.r!=a.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var h="",f="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",f=String(t.v);break;case"b":h="Boolean",f=t.v?"1":"0";break;case"e":h="Error",f=LN[t.v];break;case"d":h="DateTime",f=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Ci[14]);break;case"s":h="String",f=eDe(t.v||"");break}var p=A0(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=a.c+1;var g=t.v!=null?f:"",m=t.t=="z"?"":'<Data ss:Type="'+h+'">'+g+"</Data>";return(t.c||[]).length>0&&(m+=Q$e(t.c)),wt("Cell",m,o)}function Z$e(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Zue(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function eBe(t,e,r,n){if(!t["!ref"])return"";var i=ri(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(v,x){z9(v);var y=!!v.width,w=IO(x,v),_={"ss:Index":x+1};y&&(_["ss:Width"]=Nk(w.width)),v.hidden&&(_["ss:Hidden"]="1"),o.push(wt("Column",null,_))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var d=[Z$e(u,(t["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var f=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>h)&&!(s[a].s.r>u)&&!(s[a].e.c<h)&&!(s[a].e.r<u)){(s[a].s.c!=h||s[a].s.r!=u)&&(f=!0);break}if(!f){var p={r:u,c:h},g=Sn(p),m=l?(t[u]||[])[h]:t[g];d.push(J$e(m,g,t,e,r,n,p))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function tBe(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?Y$e(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?eBe(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(X$e(s,e,t,r)),n.join("")}function rBe(t,e){e||(e={}),t.SSF||(t.SSF=rl(Ci)),t.SSF&&(PO(),TO(t.SSF),e.revssf=kO(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],A0(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(H$e(t,e)),r.push(V$e()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(wt("Worksheet",tBe(n,e,t),{"ss:Name":wn(t.SheetNames[n])}));return r[2]=G$e(t,e),r[3]=K$e(t),ss+wt("Workbook",r.join(""),{xmlns:Ll.ss,"xmlns:o":Ll.o,"xmlns:x":Ll.x,"xmlns:ss":Ll.ss,"xmlns:dt":Ll.dt,"xmlns:html":Ll.html})}var YI={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function nBe(t,e){var r=[],n=[],i=[],s=0,a,o=IG(KG,"n"),l=IG(YG,"n");if(t.Props)for(a=ca(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=ca(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)que.indexOf(i[s][0])>-1||Bue.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&En.utils.cfb_add(e,"/SummaryInformation",eK(n,YI.SI,l,YG)),(r.length||u.length)&&En.utils.cfb_add(e,"/DocumentSummaryInformation",eK(r,YI.DSI,o,KG,u.length?u:null,YI.UDI))}function iBe(t,e){var r=e||{},n=En.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return En.utils.cfb_add(n,i,bde(t,r)),r.biff==8&&(t.Props||t.Custprops)&&nBe(t,n),r.biff==8&&t.vbaraw&&_Fe(n,En.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var sBe={0:{f:l7e},1:{f:g7e},2:{f:R7e},3:{f:A7e},4:{f:b7e},5:{f:O7e},6:{f:U7e},7:{f:C7e},8:{f:K7e},9:{f:G7e},10:{f:H7e},11:{f:V7e},12:{f:x7e},13:{f:F7e},14:{f:N7e},15:{f:_7e},16:{f:L7e},17:{f:q7e},18:{f:P7e},19:{f:F9},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:M$e},40:{},42:{},43:{f:U6e},44:{f:$6e},45:{f:W6e},46:{f:V6e},47:{f:H6e},48:{},49:{f:xDe},50:{},51:{f:lFe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:y6e},62:{f:B7e},63:{f:pFe},64:{f:u$e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ah,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:a$e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:p7e},148:{f:d7e,p:16},151:{f:e$e},152:{},153:{f:k$e},154:{},155:{},156:{f:T$e},157:{},158:{},159:{T:1,f:T6e},160:{T:-1},161:{T:1,f:Nx},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Y7e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:aFe},336:{T:-1},337:{f:dFe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:JF},357:{},358:{},359:{},360:{T:1},361:{},362:{f:f6e},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:t$e},427:{f:r$e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:i$e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:f7e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:J7e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:JF},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:yFe},633:{T:1},634:{T:-1},635:{T:1,f:vFe},636:{T:-1},637:{f:_De},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:S$e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:d$e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function _t(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&I9(r)&&t.push(r)}}function aBe(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return _t(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var d=t.next(4);for(d.write_shift(2,s),d.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(d=t.next(4),d.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;d.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function RN(t,e,r){return t||(t=Je(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function oBe(t,e,r,n){var i=Je(9);return RN(i,t,e),Hue(r,n||"b",i),i}function lBe(t,e,r){var n=Je(8+2*r.length);return RN(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function cBe(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?tl(ho(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?_t(t,2,S6e(r,n,i)):_t(t,3,_6e(r,n,i));return;case"b":case"e":_t(t,5,oBe(r,n,e.v,e.t));return;case"s":case"str":_t(t,4,lBe(r,n,(e.v||"").slice(0,255)));return}_t(t,1,RN(null,r,n))}function uBe(t,e,r,n){var i=Array.isArray(e),s=ri(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=es(s)}for(var u=s.s.r;u<=s.e.r;++u){o=oa(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(l[d]=$a(d)),a=l[d]+o;var h=i?(e[u]||[])[d]:e[a];h&&cBe(t,h,u,d)}}}function dBe(t,e){for(var r=e||{},n=Vo(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return _t(n,r.biff==4?1033:r.biff==3?521:9,U9(t,16,r)),uBe(n,t.Sheets[t.SheetNames[i]],i,r),_t(n,10),n.end()}function hBe(t,e,r){_t(t,49,s6e({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function fBe(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&_t(t,1054,l6e(i,e[i],r))})}function pBe(t,e){var r=Je(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),_t(t,2151,r),r=Je(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Kue(ri(e["!ref"]||"A1"),r),r.write_shift(4,4),_t(t,2152,r)}function mBe(t,e){for(var r=0;r<16;++r)_t(t,224,rK({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){_t(t,224,rK(n,0,e))})}function gBe(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];_t(t,440,g6e(n)),n[1].Tooltip&&_t(t,2048,v6e(n))}delete e["!links"]}function vBe(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&_t(t,125,b6e(IO(i,n),i))})}}function xBe(t,e,r,n,i){var s=16+A0(i.cellXfs,e,i);if(e.v==null&&!e.bf){_t(t,513,sx(r,n,s));return}if(e.bf)_t(t,6,z8e(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?tl(ho(e.v)):e.v;_t(t,515,h6e(r,n,a,s));break;case"b":case"e":_t(t,517,d6e(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=V9(i.Strings,e.v,i.revStrings);_t(t,253,a6e(r,n,o,s))}else _t(t,516,o6e(r,n,(e.v||"").slice(0,255),s,i));break;default:_t(t,513,sx(r,n,s))}}function yBe(t,e,r){var n=Vo(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,d,h="",f=[],p=ri(s["!ref"]||"A1"),g=u?65536:16384;if(p.e.c>255||p.e.r>=g){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,g-1)}_t(n,2057,U9(r,16,e)),_t(n,13,Ac(1)),_t(n,12,Ac(100)),_t(n,15,no(!0)),_t(n,17,no(!1)),_t(n,16,ix(.001)),_t(n,95,no(!0)),_t(n,42,no(!1)),_t(n,43,no(!1)),_t(n,130,Ac(1)),_t(n,128,u6e()),_t(n,131,no(!1)),_t(n,132,no(!1)),u&&vBe(n,s["!cols"]),_t(n,512,c6e(p,e)),u&&(s["!links"]=[]);for(var m=p.s.r;m<=p.e.r;++m){h=oa(m);for(var v=p.s.c;v<=p.e.c;++v){m===p.s.r&&(f[v]=$a(v)),d=f[v]+h;var x=l?(s[m]||[])[v]:s[d];x&&(xBe(n,x,m,v,e),u&&x.l&&s["!links"].push([d,x.l]))}}var y=o.CodeName||o.name||i;return u&&_t(n,574,i6e((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&_t(n,229,m6e(s["!merges"])),u&&gBe(n,s),_t(n,442,Gue(y)),u&&pBe(n,s),_t(n,10),n.end()}function bBe(t,e,r){var n=Vo(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(_t(n,2057,U9(t,5,r)),r.bookType=="xla"&&_t(n,135),_t(n,225,o?Ac(1200):null),_t(n,193,HDe(2)),l&&_t(n,191),l&&_t(n,192),_t(n,226),_t(n,92,e6e("SheetJS",r)),_t(n,66,Ac(o?1200:1252)),o&&_t(n,353,Ac(0)),o&&_t(n,448),_t(n,317,w6e(t.SheetNames.length)),o&&t.vbaraw&&_t(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";_t(n,442,Gue(u))}_t(n,156,Ac(17)),_t(n,25,no(!1)),_t(n,18,no(!1)),_t(n,19,Ac(0)),o&&_t(n,431,no(!1)),o&&_t(n,444,Ac(0)),_t(n,61,n6e()),_t(n,64,no(!1)),_t(n,141,Ac(0)),_t(n,34,no(j$e(t)=="true")),_t(n,14,no(!0)),o&&_t(n,439,no(!1)),_t(n,218,Ac(0)),hBe(n,t,r),fBe(n,t.SSF,r),mBe(n,r),o&&_t(n,352,no(!1));var d=n.end(),h=Vo();o&&_t(h,140,x6e()),o&&r.Strings&&aBe(h,252,r6e(r.Strings)),_t(h,10);var f=h.end(),p=Vo(),g=0,m=0;for(m=0;m<t.SheetNames.length;++m)g+=(o?12:11)+(o?2:1)*t.SheetNames[m].length;var v=d.length+g+f.length;for(m=0;m<t.SheetNames.length;++m){var x=s[m]||{};_t(p,133,t6e({pos:v,hs:x.Hidden||0,dt:0,name:t.SheetNames[m]},r)),v+=e[m].length}var y=p.end();if(g!=y.length)throw new Error("BS8 "+g+" != "+y.length);var w=[];return d.length&&w.push(d),y.length&&w.push(y),f.length&&w.push(f),ta(w)}function wBe(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=rl(Ci)),t&&t.SSF&&(PO(),TO(t.SSF),r.revssf=kO(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,G9(r),r.cellXfs=[],A0(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=yBe(i,r,t);return n.unshift(bBe(t,n,r)),ta(n)}function bde(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=Ql(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return wBe(t,e);case 4:case 3:case 2:return dBe(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function _Be(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=Sn({r,c:a}),h=n.dense?(t[r]||[])[a]:t[d],f=h&&h.v!=null&&(h.h||ZRe(h.w||(Kf(h),h.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?f='<span contenteditable="true">'+f+"</span>":h&&(p["data-t"]=h&&h.t||"z",h.v!=null&&(p["data-v"]=h.v),h.z!=null&&(p["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(f='<a href="'+h.l.Target+'">'+f+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(wt("td",f,p))}}var g="<tr>";return g+s.join("")+"</tr>"}var SBe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ABe="</body></html>";function jBe(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function wde(t,e){var r=e||{},n=r.header!=null?r.header:SBe,i=r.footer!=null?r.footer:ABe,s=[n],a=Ql(t["!ref"]);r.dense=Array.isArray(t),s.push(jBe(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(_Be(t,a,o,r));return s.push("</table>"+i),s.join("")}function _de(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?$s(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var d=Ql(t["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var h=[],f=0,p=t["!rows"]||(t["!rows"]=[]),g=0,m=0,v=0,x=0,y=0,w=0;for(t["!cols"]||(t["!cols"]=[]);g<o.length&&m<l;++g){var _=o[g];if(cK(_)){if(n.display)continue;p[m]={hidden:!0}}var A=_.children;for(v=x=0;v<A.length;++v){var C=A[v];if(!(n.display&&cK(C))){var N=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):nDe(C.innerHTML),E=C.getAttribute("data-z")||C.getAttribute("z");for(f=0;f<h.length;++f){var P=h[f];P.s.c==x+s&&P.s.r<m+i&&m+i<=P.e.r&&(x=P.e.c+1-s,f=-1)}w=+C.getAttribute("colspan")||1,((y=+C.getAttribute("rowspan")||1)>1||w>1)&&h.push({s:{r:m+i,c:x+s},e:{r:m+i+(y||1)-1,c:x+s+(w||1)-1}});var L={t:"s",v:N},O=C.getAttribute("data-t")||C.getAttribute("t")||"";N!=null&&(N.length==0?L.t=O||"z":n.raw||N.trim().length==0||O=="s"||(N==="TRUE"?L={t:"b",v:!0}:N==="FALSE"?L={t:"b",v:!1}:isNaN(Cf(N))?isNaN(IA(N).getDate())||(L={t:"d",v:ho(N)},n.cellDates||(L={t:"n",v:tl(L.v)}),L.z=n.dateNF||Ci[14]):L={t:"n",v:Cf(N)})),L.z===void 0&&E!=null&&(L.z=E);var k="",D=C.getElementsByTagName("A");if(D&&D.length)for(var F=0;F<D.length&&!(D[F].hasAttribute("href")&&(k=D[F].getAttribute("href"),k.charAt(0)!="#"));++F);k&&k.charAt(0)!="#"&&(L.l={Target:k}),n.dense?(t[m+i]||(t[m+i]=[]),t[m+i][x+s]=L):t[Sn({c:x+s,r:m+i})]=L,u.e.c<x+s&&(u.e.c=x+s),x+=w}}++m}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,m-1+i),t["!ref"]=es(u),m>=l&&(t["!fullref"]=es((u.e.r=o.length-g+m-1+i,u))),t}function Sde(t,e){var r=e||{},n=r.dense?[]:{};return _de(n,t,e)}function NBe(t,e){return _x(Sde(t,e),e)}function cK(t){var e="",r=EBe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function EBe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var CBe=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+DA({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return ss+e}}(),uK=function(){var t=function(s){return wn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+wn(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,h=Ql(s["!ref"]||"A1"),f=s["!merges"]||[],p=0,g=Array.isArray(s);if(s["!cols"])for(d=0;d<=h.e.c;++d)l.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var m="",v=s["!rows"]||[];for(u=0;u<h.s.r;++u)m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;u<=h.e.r;++u){for(m=v[u]?' table:style-name="ro'+v[u].ods+'"':"",l.push("        <table:table-row"+m+`>
`),d=0;d<h.s.c;++d)l.push(e);for(;d<=h.e.c;++d){var x=!1,y={},w="";for(p=0;p!=f.length;++p)if(!(f[p].s.c>d)&&!(f[p].s.r>u)&&!(f[p].e.c<d)&&!(f[p].e.r<u)){(f[p].s.c!=d||f[p].s.r!=u)&&(x=!0),y["table:number-columns-spanned"]=f[p].e.c-f[p].s.c+1,y["table:number-rows-spanned"]=f[p].e.r-f[p].s.r+1;break}if(x){l.push(r);continue}var _=Sn({r:u,c:d}),A=g?(s[u]||[])[d]:s[_];if(A&&A.f&&(y["table:formula"]=wn(K8e(A.f)),A.F&&A.F.slice(0,_.length)==_)){var C=Ql(A.F);y["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,y["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!A){l.push(e);continue}switch(A.t){case"b":w=A.v?"TRUE":"FALSE",y["office:value-type"]="boolean",y["office:boolean-value"]=A.v?"true":"false";break;case"n":w=A.w||String(A.v||0),y["office:value-type"]="float",y["office:value"]=A.v||0;break;case"s":case"str":w=A.v==null?"":A.v,y["office:value-type"]="string";break;case"d":w=A.w||ho(A.v).toISOString(),y["office:value-type"]="date",y["office:date-value"]=ho(A.v).toISOString(),y["table:style-name"]="ce1";break;default:l.push(e);continue}var N=t(w);if(A.l&&A.l.Target){var E=A.l.Target;E=E.charAt(0)=="#"?"#"+Y8e(E.slice(1)):E,E.charAt(0)!="#"&&!E.match(/^\w+:/)&&(E="../"+E),N=wt("text:a",N,{"xlink:href":E.replace(/&/g,"&amp;")})}l.push("          "+wt("table:table-cell",wt("text:p",N,{}),y)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var h=u["!cols"][d];if(h.width==null&&h.wpx==null&&h.wch==null)continue;z9(h),h.ods=o;var f=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+f+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var h=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[ss],u=DA({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=DA({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(Fue().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=a.SheetNames.length;++h)l.push(n(a.Sheets[a.SheetNames[h]],a,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function Ade(t,e){if(e.bookType=="fods")return uK(t,e);var r=k9(),n="",i=[],s=[];return n="mimetype",Ir(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ir(r,n,uK(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Ir(r,n,CBe(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Ir(r,n,ss+Fue()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Ir(r,n,BDe(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ir(r,n,FDe(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Tk(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function TBe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Mu(RA(t))}function PBe(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function u0(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function kBe(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function FA(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function gn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function S1(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function ds(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=FA(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=FA(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Hs(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(gn(n*8+i.type)),i.type==2&&e.push(gn(i.data.length)),e.push(i.data))})}),u0(e)}function iu(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=FA(t,n),s=ds(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:S1(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=ds(o.data),u=S1(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=S1(s[3][0].data)>>>0>0),r.push(a)}return r}function fy(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:gn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:gn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:gn(a.data.length)}],n[2].push({data:Hs(a.meta),type:2})});var s=Hs(n);e.push(gn(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),u0(e)}function OBe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=FA(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[u0(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var d=u0(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function su(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(OBe(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return u0(e)}function py(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=gn(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return u0(e)}function XI(t,e){var r=new Uint8Array(32),n=Tk(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,kBe(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function QI(t,e){var r=new Uint8Array(32),n=Tk(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Cp(t){var e=ds(t);return FA(e[1][0].data)}function MBe(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&S1(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=Tk(t[7][0].data),d=0,h=[],f=Tk(t[4][0].data),p=0,g=[],m=0;m<e.length;++m){if(e[m]==null){u.setUint16(m*2,65535,!0),f.setUint16(m*2,65535);continue}u.setUint16(m*2,d,!0),f.setUint16(m*2,p,!0);var v,x;switch(typeof e[m]){case"string":v=XI({t:"s",v:e[m]},r),x=QI({t:"s",v:e[m]},r);break;case"number":v=XI({t:"n",v:e[m]},r),x=QI({t:"n",v:e[m]},r);break;case"boolean":v=XI({t:"b",v:e[m]},r),x=QI({t:"b",v:e[m]},r);break;default:throw new Error("Unsupported value "+e[m])}h.push(v),d+=v.length,g.push(x),p+=x.length,++l}for(t[2][0].data=gn(l);m<t[7][0].data.length/2;++m)u.setUint16(m*2,65535,!0),f.setUint16(m*2,65535,!0);return t[6][0].data=u0(h),t[3][0].data=u0(g),l}function LBe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Ql(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(es(n)));var s=Pk(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(V){typeof V=="string"&&a.push(V)})});var o={},l=[],u=En.read(e.numbers,{type:"base64"});u.FileIndex.map(function(q,V){return[q,u.FullPaths[V]]}).forEach(function(q){var V=q[0],K=q[1];if(V.type==2&&V.name.match(/\.iwa/)){var Y=V.content,ae=su(Y),pe=iu(ae);pe.forEach(function(le){l.push(le.id),o[le.id]={deps:[],location:K,type:S1(le.messages[0].meta[1][0].data)}})}}),l.sort(function(q,V){return q-V});var d=l.filter(function(q){return q>1}).map(function(q){return[q,gn(q)]});u.FileIndex.map(function(q,V){return[q,u.FullPaths[V]]}).forEach(function(q){var V=q[0];if(q[1],!!V.name.match(/\.iwa/)){var K=iu(su(V.content));K.forEach(function(Y){Y.messages.forEach(function(ae){d.forEach(function(pe){Y.messages.some(function(le){return S1(le.meta[1][0].data)!=11006&&PBe(le.data,pe[1])})&&o[pe[0]].deps.push(Y.id)})})})}});for(var h=En.find(u,o[1].location),f=iu(su(h.content)),p,g=0;g<f.length;++g){var m=f[g];m.id==1&&(p=m)}var v=Cp(ds(p.messages[0].data)[1][0].data);for(h=En.find(u,o[v].location),f=iu(su(h.content)),g=0;g<f.length;++g)m=f[g],m.id==v&&(p=m);for(v=Cp(ds(p.messages[0].data)[2][0].data),h=En.find(u,o[v].location),f=iu(su(h.content)),g=0;g<f.length;++g)m=f[g],m.id==v&&(p=m);for(v=Cp(ds(p.messages[0].data)[2][0].data),h=En.find(u,o[v].location),f=iu(su(h.content)),g=0;g<f.length;++g)m=f[g],m.id==v&&(p=m);var x=ds(p.messages[0].data);{x[6][0].data=gn(n.e.r+1),x[7][0].data=gn(n.e.c+1);var y=Cp(x[46][0].data),w=En.find(u,o[y].location),_=iu(su(w.content));{for(var A=0;A<_.length&&_[A].id!=y;++A);if(_[A].id!=y)throw"Bad ColumnRowUIDMapArchive";var C=ds(_[A].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var N=0;N<=n.e.c;++N){var E=[];E[1]=E[2]=[{type:0,data:gn(N+420690)}],C[1].push({type:2,data:Hs(E)}),C[2].push({type:0,data:gn(N)}),C[3].push({type:0,data:gn(N)})}C[4]=[],C[5]=[],C[6]=[];for(var P=0;P<=n.e.r;++P)E=[],E[1]=E[2]=[{type:0,data:gn(P+726270)}],C[4].push({type:2,data:Hs(E)}),C[5].push({type:0,data:gn(P)}),C[6].push({type:0,data:gn(P)});_[A].messages[0].data=Hs(C)}w.content=py(fy(_)),w.size=w.content.length,delete x[46];var L=ds(x[4][0].data);{L[7][0].data=gn(n.e.r+1);var O=ds(L[1][0].data),k=Cp(O[2][0].data);w=En.find(u,o[k].location),_=iu(su(w.content));{if(_[0].id!=k)throw"Bad HeaderStorageBucket";var D=ds(_[0].messages[0].data);for(P=0;P<s.length;++P){var F=ds(D[2][0].data);F[1][0].data=gn(P),F[4][0].data=gn(s[P].length),D[2][P]={type:D[2][0].type,data:Hs(F)}}_[0].messages[0].data=Hs(D)}w.content=py(fy(_)),w.size=w.content.length;var z=Cp(L[2][0].data);w=En.find(u,o[z].location),_=iu(su(w.content));{if(_[0].id!=z)throw"Bad HeaderStorageBucket";for(D=ds(_[0].messages[0].data),N=0;N<=n.e.c;++N)F=ds(D[2][0].data),F[1][0].data=gn(N),F[4][0].data=gn(n.e.r+1),D[2][N]={type:D[2][0].type,data:Hs(F)};_[0].messages[0].data=Hs(D)}w.content=py(fy(_)),w.size=w.content.length;var U=Cp(L[4][0].data);(function(){for(var q=En.find(u,o[U].location),V=iu(su(q.content)),K,Y=0;Y<V.length;++Y){var ae=V[Y];ae.id==U&&(K=ae)}var pe=ds(K.messages[0].data);{pe[3]=[];var le=[];a.forEach(function(we,We){le[1]=[{type:0,data:gn(We)}],le[2]=[{type:0,data:gn(1)}],le[3]=[{type:2,data:TBe(we)}],pe[3].push({type:2,data:Hs(le)})})}K.messages[0].data=Hs(pe);var ye=fy(V),Se=py(ye);q.content=Se,q.size=q.content.length})();var H=ds(L[3][0].data);{var B=H[1][0];delete H[2];var X=ds(B.data);{var ne=Cp(X[2][0].data);(function(){for(var q=En.find(u,o[ne].location),V=iu(su(q.content)),K,Y=0;Y<V.length;++Y){var ae=V[Y];ae.id==ne&&(K=ae)}var pe=ds(K.messages[0].data);{delete pe[6],delete H[7];var le=new Uint8Array(pe[5][0].data);pe[5]=[];for(var ye=0,Se=0;Se<=n.e.r;++Se){var we=ds(le);ye+=MBe(we,s[Se],a),we[1][0].data=gn(Se),pe[5].push({data:Hs(we),type:2})}pe[1]=[{type:0,data:gn(n.e.c+1)}],pe[2]=[{type:0,data:gn(n.e.r+1)}],pe[3]=[{type:0,data:gn(ye)}],pe[4]=[{type:0,data:gn(n.e.r+1)}]}K.messages[0].data=Hs(pe);var We=fy(V),Ve=py(We);q.content=Ve,q.size=q.content.length})()}B.data=Hs(X)}L[3][0].data=Hs(H)}x[4][0].data=Hs(L)}p.messages[0].data=Hs(x);var fe=fy(f),I=py(fe);return h.content=I,h.size=h.content.length,u}function IBe(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function G9(t){IBe([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function RBe(t,e){return e.bookType=="ods"?Ade(t,e):e.bookType=="numbers"?LBe(t,e):e.bookType=="xlsb"?DBe(t,e):FBe(t,e)}function DBe(t,e){Gy=1024,t&&!t.SSF&&(t.SSF=rl(Ci)),t&&t.SSF&&(PO(),TO(t.SSF),e.revssf=kO(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,OS?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=ade.indexOf(e.bookType)>-1,i=Iue();G9(e=e||{});var s=k9(),a="",o=0;if(e.cellXfs=[],A0(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Ir(s,a,$ue(t.Props,e)),i.coreprops.push(a),xn(e.rels,2,a,tn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Ir(s,a,Uue(t.Props)),i.extprops.push(a),xn(e.rels,3,a,tn.EXT_PROPS),t.Custprops!==t.Props&&ca(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Ir(s,a,zue(t.Custprops)),i.custprops.push(a),xn(e.rels,4,a,tn.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],f=(h||{})["!type"]||"sheet";switch(f){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Ir(s,a,B$e(o-1,a,e,t,d)),i.sheets.push(a),xn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,tn.WS[0])}if(h){var p=h["!comments"],g=!1,m="";p&&p.length>0&&(m="xl/comments"+o+"."+r,Ir(s,m,q$e(p,m)),i.comments.push(m),xn(d,-1,"../comments"+o+"."+r,tn.CMNT),g=!0),h["!legacy"]&&g&&Ir(s,"xl/drawings/vmlDrawing"+o+".vml",ide(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}d["!id"].rId1&&Ir(s,Due(a),w1(d))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Ir(s,a,z$e(e.Strings,a,e)),i.strs.push(a),xn(e.wbrels,-1,"sharedStrings."+r,tn.SST)),a="xl/workbook."+r,Ir(s,a,$$e(t,a)),i.workbooks.push(a),xn(e.rels,1,a,tn.WB),a="xl/theme/theme1.xml",Ir(s,a,rde(t.Themes,e)),i.themes.push(a),xn(e.wbrels,-1,"theme/theme1.xml",tn.THEME),a="xl/styles."+r,Ir(s,a,U$e(t,a,e)),i.styles.push(a),xn(e.wbrels,-1,"styles."+r,tn.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Ir(s,a,t.vbaraw),i.vba.push(a),xn(e.wbrels,-1,"vbaProject.bin",tn.VBA)),a="xl/metadata."+r,Ir(s,a,W$e(a)),i.metadata.push(a),xn(e.wbrels,-1,"metadata."+r,tn.XLMETA),Ir(s,"[Content_Types].xml",Rue(i,e)),Ir(s,"_rels/.rels",w1(e.rels)),Ir(s,"xl/_rels/workbook."+r+".rels",w1(e.wbrels)),delete e.revssf,delete e.ssf,s}function FBe(t,e){Gy=1024,t&&!t.SSF&&(t.SSF=rl(Ci)),t&&t.SSF&&(PO(),TO(t.SSF),e.revssf=kO(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,OS?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=ade.indexOf(e.bookType)>-1,i=Iue();G9(e=e||{});var s=k9(),a="",o=0;if(e.cellXfs=[],A0(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Ir(s,a,$ue(t.Props,e)),i.coreprops.push(a),xn(e.rels,2,a,tn.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Ir(s,a,Uue(t.Props)),i.extprops.push(a),xn(e.rels,3,a,tn.EXT_PROPS),t.Custprops!==t.Props&&ca(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Ir(s,a,zue(t.Custprops)),i.custprops.push(a),xn(e.rels,4,a,tn.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],p=(f||{})["!type"]||"sheet";switch(p){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Ir(s,a,mde(o-1,e,t,h)),i.sheets.push(a),xn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,tn.WS[0])}if(f){var g=f["!comments"],m=!1,v="";if(g&&g.length>0){var x=!1;g.forEach(function(y){y[1].forEach(function(w){w.T==!0&&(x=!0)})}),x&&(v="xl/threadedComments/threadedComment"+o+"."+r,Ir(s,v,mFe(g,d,e)),i.threadedcomments.push(v),xn(h,-1,"../threadedComments/threadedComment"+o+"."+r,tn.TCMNT)),v="xl/comments"+o+"."+r,Ir(s,v,sde(g)),i.comments.push(v),xn(h,-1,"../comments"+o+"."+r,tn.CMNT),m=!0}f["!legacy"]&&m&&Ir(s,"xl/drawings/vmlDrawing"+o+".vml",ide(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}h["!id"].rId1&&Ir(s,Due(a),w1(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Ir(s,a,Xue(e.Strings,e)),i.strs.push(a),xn(e.wbrels,-1,"sharedStrings."+r,tn.SST)),a="xl/workbook."+r,Ir(s,a,xde(t)),i.workbooks.push(a),xn(e.rels,1,a,tn.WB),a="xl/theme/theme1.xml",Ir(s,a,rde(t.Themes,e)),i.themes.push(a),xn(e.wbrels,-1,"theme/theme1.xml",tn.THEME),a="xl/styles."+r,Ir(s,a,ede(t,e)),i.styles.push(a),xn(e.wbrels,-1,"styles."+r,tn.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Ir(s,a,t.vbaraw),i.vba.push(a),xn(e.wbrels,-1,"vbaProject.bin",tn.VBA)),a="xl/metadata."+r,Ir(s,a,nde()),i.metadata.push(a),xn(e.wbrels,-1,"metadata."+r,tn.XLMETA),d.length>1&&(a="xl/persons/person.xml",Ir(s,a,gFe(d)),i.people.push(a),xn(e.wbrels,-1,"persons/person.xml",tn.PEOPLE)),Ir(s,"[Content_Types].xml",Rue(i,e)),Ir(s,"_rels/.rels",w1(e.rels)),Ir(s,"xl/_rels/workbook."+r+".rels",w1(e.wbrels)),delete e.revssf,delete e.ssf,s}function $Be(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Gf(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function jde(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return ON(e.file,En.write(t,{type:cn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return En.write(t,e)}function BBe(t,e){var r=rl(e||{}),n=RBe(t,r);return UBe(n,r)}function UBe(t,e){var r={},n=cn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?En.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(CO(i))}return e.password&&typeof encrypt_agile<"u"?jde(encrypt_agile(i,e.password),e):e.type==="file"?ON(e.file,i):e.type=="string"?CS(i):i}function zBe(t,e){var r=e||{},n=iBe(t,r);return jde(n,r)}function gd(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return LA(RA(n));case"binary":return RA(n);case"string":return t;case"file":return ON(e.file,n,"utf8");case"buffer":return cn?tp(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):gd(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function qBe(t,e){switch(e.type){case"base64":return LA(t);case"binary":return t;case"string":return t;case"file":return ON(e.file,t,"binary");case"buffer":return cn?tp(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function $C(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?LA(r):e.type=="string"?CS(r):r;case"file":return ON(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function Nde(t,e){vRe(),C$e(t);var r=rl(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Nde(t,r);return r.type="array",CO(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return gd(rBe(t,r),r);case"slk":case"sylk":return gd(j6e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return gd(wde(t.Sheets[t.SheetNames[i]],r),r);case"txt":return qBe(Ede(t.Sheets[t.SheetNames[i]],r),r);case"csv":return gd(K9(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return gd(N6e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return $C(A6e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return gd(E6e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return gd(L6e.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return gd(Yue.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return gd(Ade(t,r),r);case"wk1":return $C(nK.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return $C(nK.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),$C(bde(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),zBe(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return BBe(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function WBe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function HBe(t,e,r){var n={};return n.type="file",n.file=e,WBe(n),Nde(t,n)}function VBe(t,e,r,n,i,s,a,o){var l=oa(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,f=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(f,"__rowNum__",{value:r,enumerable:!1})}catch{f.__rowNum__=r}else f.__rowNum__=r;if(!a||t[r])for(var p=e.s.c;p<=e.e.c;++p){var g=a?t[r][p]:t[n[p]+l];if(g===void 0||g.t===void 0){if(u===void 0)continue;s[p]!=null&&(f[s[p]]=u);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(s[p]!=null){if(m==null)if(g.t=="e"&&m===null)f[s[p]]=null;else if(u!==void 0)f[s[p]]=u;else if(d&&m===null)f[s[p]]=null;else continue;else f[s[p]]=d&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Kf(g,m,o);m!=null&&(h=!1)}}return{row:f,isempty:h}}function Pk(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=ri(d);break;case"number":l=ri(t["!ref"]),l.s.r=d;break;default:l=d}n>0&&(i=0);var h=oa(l.s.r),f=[],p=[],g=0,m=0,v=Array.isArray(t),x=l.s.r,y=0,w={};v&&!t[x]&&(t[x]=[]);var _=u.skipHidden&&t["!cols"]||[],A=u.skipHidden&&t["!rows"]||[];for(y=l.s.c;y<=l.e.c;++y)if(!(_[y]||{}).hidden)switch(f[y]=$a(y),r=v?t[x][y]:t[f[y]+h],n){case 1:s[y]=y-l.s.c;break;case 2:s[y]=f[y];break;case 3:s[y]=u.header[y-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=Kf(r,null,u),m=w[a]||0,!m)w[a]=1;else{do o=a+"_"+m++;while(w[o]);w[a]=m,w[o]=1}s[y]=o}for(x=l.s.r+i;x<=l.e.r;++x)if(!(A[x]||{}).hidden){var C=VBe(t,l,x,f,n,s,v,u);(C.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(p[g++]=C.row)}return p.length=g,p}var dK=/"/g;function GBe(t,e,r,n,i,s,a,o){for(var l=!0,u=[],d="",h=oa(r),f=e.s.c;f<=e.e.c;++f)if(n[f]){var p=o.dense?(t[r]||[])[f]:t[n[f]+h];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:Kf(p,null,o));for(var g=0,m=0;g!==d.length;++g)if((m=d.charCodeAt(g))===i||m===s||m===34||o.forceQuotes){d='"'+d.replace(dK,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(dK,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(a)}function K9(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=ri(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",h=[];n.dense=Array.isArray(t);for(var f=n.skipHidden&&t["!cols"]||[],p=n.skipHidden&&t["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(f[g]||{}).hidden||(h[g]=$a(g));for(var m=0,v=i.s.r;v<=i.e.r;++v)(p[v]||{}).hidden||(d=GBe(t,i,v,h,a,l,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((m++?o:"")+d)));return delete n.dense,r.join("")}function Ede(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=K9(t,e);return r}function KBe(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=ri(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=$a(o);for(var d=i.s.r;d<=i.e.r;++d)for(s=oa(d),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[d]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function Cde(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?$s(n.origin):n.origin;a=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var h=ri(s["!ref"]);d.e.c=Math.max(d.e.c,h.e.c),d.e.r=Math.max(d.e.r,h.e.r),a==-1&&(a=h.e.r+1,d.e.r=a+e.length-1+i)}else a==-1&&(a=0,d.e.r=e.length-1+i);var f=n.header||[],p=0;e.forEach(function(m,v){ca(m).forEach(function(x){(p=f.indexOf(x))==-1&&(f[p=f.length]=x);var y=m[x],w="z",_="",A=Sn({c:o+p,r:a+v+i});u=$A(s,A),y&&typeof y=="object"&&!(y instanceof Date)?s[A]=y:(typeof y=="number"?w="n":typeof y=="boolean"?w="b":typeof y=="string"?w="s":y instanceof Date?(w="d",n.cellDates||(w="n",y=tl(y)),_=n.dateNF||Ci[14]):y===null&&n.nullError&&(w="e",y=0),u?(u.t=w,u.v=y,delete u.w,delete u.R,_&&(u.z=_)):s[A]=u={t:w,v:y},_&&(u.z=_))})}),d.e.c=Math.max(d.e.c,o+f.length-1);var g=oa(a);if(i)for(p=0;p<f.length;++p)s[$a(p+o)+g]={t:"s",v:f[p]};return s["!ref"]=es(d),s}function YBe(t,e){return Cde(null,t,e)}function $A(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=$s(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?$A(t,Sn(e)):$A(t,Sn({r:e,c:r||0}))}function XBe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function QBe(){return{SheetNames:[],Sheets:{}}}function JBe(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(vde(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function ZBe(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=XBe(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function e9e(t,e){return t.z=e,t}function Tde(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function t9e(t,e,r){return Tde(t,"#"+e,r)}function r9e(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function n9e(t,e,r,n){for(var i=typeof e!="string"?e:ri(e),s=typeof e=="string"?e:es(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=$A(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var b_={encode_col:$a,encode_row:oa,encode_cell:Sn,encode_range:es,decode_col:D9,decode_row:R9,split_cell:vDe,decode_cell:$s,decode_range:Ql,format_cell:Kf,sheet_add_aoa:Tue,sheet_add_json:Cde,sheet_add_dom:_de,aoa_to_sheet:r2,json_to_sheet:YBe,table_to_sheet:Sde,table_to_book:NBe,sheet_to_csv:K9,sheet_to_txt:Ede,sheet_to_json:Pk,sheet_to_html:wde,sheet_to_formulae:KBe,sheet_to_row_object_array:Pk,sheet_get_cell:$A,book_new:QBe,book_append_sheet:JBe,book_set_sheet_visibility:ZBe,cell_set_number_format:e9e,cell_set_hyperlink:Tde,cell_set_internal_link:t9e,cell_add_comment:r9e,sheet_set_array_formula:n9e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const i9e=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState([]),[a,o]=j.useState(),[l,u]=j.useState("pdf"),[d,h]=j.useState(!0),[f,p]=j.useState(!1),[g,m]=j.useState([]),[v,x]=j.useState([]),{profile:y}=is(),{toast:w}=Kr();j.useEffect(()=>{_()},[]);const _=async()=>{try{if((y==null?void 0:y.role)==="parent"){const{data:O}=await je.from("parent_child_relationships").select(`
            child_id,
            profiles!parent_child_relationships_child_id_fkey(
              full_name,
              user_id
            )
          `).eq("parent_id",y.user_id);m(O||[])}let P=je.from("question_papers").select("id, title, user_id");(y==null?void 0:y.role)==="parent"&&(P=P.eq("user_id",y.user_id));const{data:L}=await P;x(L||[])}catch{w({title:"Error",description:"Failed to fetch data",variant:"destructive"})}},A=async()=>{try{p(!0);let P=je.from("paper_attempts").select(`
          *,
          question_papers!inner(
            title,
            user_id,
            class_level,
            subjects(name)
          ),
          profiles!paper_attempts_user_id_fkey(
            full_name,
            user_id
          )
        `).not("completed_at","is",null);(y==null?void 0:y.role)==="parent"?P=P.eq("question_papers.user_id",y.user_id):(y==null?void 0:y.role)==="child"&&(P=P.eq("user_id",y.user_id)),r.length>0&&(P=P.in("user_id",r)),i.length>0&&(P=P.in("paper_id",i)),a!=null&&a.from&&(P=P.gte("completed_at",a.from.toISOString())),a!=null&&a.to&&(P=P.lte("completed_at",a.to.toISOString()));const{data:L,error:O}=await P;if(O)throw O;const k=(L==null?void 0:L.map(D=>{var F,z;return{student_name:((F=D.profiles)==null?void 0:F.full_name)||"Unknown Student",test_title:D.question_papers.title,score:D.score||0,total_questions:D.total_questions||0,percentage:D.total_questions>0?Math.round(D.score/D.total_questions*100):0,completed_at:ai(new Date(D.completed_at),"dd/MM/yyyy HH:mm"),time_taken:D.completed_at&&D.started_at?Math.round((new Date(D.completed_at).getTime()-new Date(D.started_at).getTime())/6e4):0,subject:((z=D.question_papers.subjects)==null?void 0:z.name)||"Unknown",class_level:D.question_papers.class_level||"Unknown"}}))||[];return e(k),k}catch{return w({title:"Error",description:"Failed to fetch export data",variant:"destructive"}),[]}finally{p(!1)}},C=async P=>{try{const L=new ir("l","mm","a4");L.setFontSize(20),L.text("Test Results Report",20,20),L.setFontSize(12);let O=35;if(a!=null&&a.from||a!=null&&a.to){const U=a!=null&&a.from?ai(a.from,"dd/MM/yyyy"):"N/A",H=a!=null&&a.to?ai(a.to,"dd/MM/yyyy"):"N/A";L.text(`Date Range: ${U} - ${H}`,20,O),O+=10}L.text(`Total Records: ${P.length}`,20,O),O+=15;const k=["Student","Test","Score","Total","%","Completed","Time (min)","Subject","Class"],D=[35,40,20,20,15,35,25,30,20];let F=20;if(L.setFillColor(59,130,246),L.setTextColor(255,255,255),L.setFontSize(10),k.forEach((U,H)=>{L.rect(F,O,D[H],8,"F"),L.text(U,F+2,O+6),F+=D[H]}),L.setTextColor(0,0,0),O+=8,P.forEach((U,H)=>{O>180&&(L.addPage(),O=20),F=20,[U.student_name.substring(0,20),U.test_title.substring(0,25),U.score.toString(),U.total_questions.toString(),U.percentage.toString(),U.completed_at,U.time_taken.toString(),U.subject.substring(0,18),U.class_level].forEach((X,ne)=>{H%2===0&&(L.setFillColor(248,250,252),L.rect(F,O,D[ne],6,"F")),L.text(X,F+2,O+4),F+=D[ne]}),O+=6}),P.length>0){L.addPage(),L.setFontSize(16),L.text("Summary Statistics",20,20),L.setFontSize(12);const U=P.reduce((B,X)=>B+X.percentage,0)/P.length,H=P.length/P.length*100;L.text(`Average Score: ${U.toFixed(1)}%`,20,40),L.text(`Total Tests Completed: ${P.length}`,20,50),L.text(`Completion Rate: ${H}%`,20,60)}const z=`test-results-${ai(new Date,"yyyy-MM-dd")}.pdf`;L.save(z),w({title:"Success",description:"PDF report generated successfully"})}catch{w({title:"Error",description:"Failed to generate PDF",variant:"destructive"})}},N=async P=>{try{const L=b_.book_new(),O=b_.json_to_sheet(P.map(D=>({"Student Name":D.student_name,"Test Title":D.test_title,Score:D.score,"Total Questions":D.total_questions,Percentage:D.percentage,"Completed At":D.completed_at,"Time Taken (minutes)":D.time_taken,Subject:D.subject,"Class Level":D.class_level})));if(b_.book_append_sheet(L,O,"Test Results"),P.length>0){const D=P.reduce((H,B)=>H+B.percentage,0)/P.length,F=P.reduce((H,B)=>(H[B.subject]||(H[B.subject]={count:0,totalScore:0}),H[B.subject].count++,H[B.subject].totalScore+=B.percentage,H),{}),z=[{Metric:"Total Tests",Value:P.length},{Metric:"Average Score (%)",Value:D.toFixed(1)},{Metric:"Highest Score (%)",Value:Math.max(...P.map(H=>H.percentage))},{Metric:"Lowest Score (%)",Value:Math.min(...P.map(H=>H.percentage))},{},{Metric:"Subject Statistics",Value:""},...Object.entries(F).map(([H,B])=>({Metric:`${H} - Average`,Value:(B.totalScore/B.count).toFixed(1)+"%"}))],U=b_.json_to_sheet(z);b_.book_append_sheet(L,U,"Summary")}const k=`test-results-${ai(new Date,"yyyy-MM-dd")}.xlsx`;HBe(L,k),w({title:"Success",description:"Excel report generated successfully"})}catch{w({title:"Error",description:"Failed to generate Excel file",variant:"destructive"})}},E=async()=>{const P=await A();if(P.length===0){w({title:"No Data",description:"No data available for the selected filters",variant:"destructive"});return}l==="pdf"?await C(P):await N(P)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Export Configuration"}),c.jsx(Xt,{children:"Configure your export settings and filters"})]}),c.jsxs(Ie,{className:"space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Export Format"}),c.jsxs(Ur,{value:l,onValueChange:P=>u(P),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"pdf",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(sa,{className:"w-4 h-4"}),"PDF Report"]})}),c.jsx(pt,{value:"excel",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Iye,{className:"w-4 h-4"}),"Excel Spreadsheet"]})})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Date Range"}),c.jsxs(zm,{children:[c.jsx(qm,{asChild:!0,children:c.jsxs(Ge,{variant:"outline",className:He("w-full justify-start text-left font-normal",!a&&"text-muted-foreground"),children:[c.jsx(ia,{className:"mr-2 h-4 w-4"}),a!=null&&a.from?a.to?c.jsxs(c.Fragment,{children:[ai(a.from,"LLL dd, y")," -"," ",ai(a.to,"LLL dd, y")]}):ai(a.from,"LLL dd, y"):"Select date range"]})}),c.jsx(Nf,{className:"w-auto p-0",align:"start",children:c.jsx(f1,{initialFocus:!0,mode:"range",defaultMonth:a==null?void 0:a.from,selected:a,onSelect:o,numberOfMonths:2})})]})]}),(y==null?void 0:y.role)==="parent"&&g.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Students"}),c.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:g.map(P=>{var L;return c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(co,{id:P.child_id,checked:r.includes(P.child_id),onCheckedChange:O=>{n(O?[...r,P.child_id]:r.filter(k=>k!==P.child_id))}}),c.jsx("label",{htmlFor:P.child_id,className:"text-sm",children:((L=P.profiles)==null?void 0:L.full_name)||"Unknown Student"})]},P.child_id)})})]}),v.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Tests"}),c.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:v.map(P=>c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(co,{id:P.id,checked:i.includes(P.id),onCheckedChange:L=>{s(L?[...i,P.id]:i.filter(O=>O!==P.id))}}),c.jsx("label",{htmlFor:P.id,className:"text-sm",children:P.title})]},P.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{className:"text-sm font-medium",children:"Export Options"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(co,{id:"include-charts",checked:d,onCheckedChange:P=>h(P===!0)}),c.jsx("label",{htmlFor:"include-charts",className:"text-sm",children:"Include charts and graphs (PDF only)"})]})]}),c.jsxs(Ge,{onClick:E,disabled:f,className:"w-full",size:"lg",children:[f?c.jsx(zw,{className:"w-4 h-4 mr-2 animate-spin"}):c.jsx(dA,{className:"w-4 h-4 mr-2"}),"Export ",l.toUpperCase()]})]})]}),t.length>0&&c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Data Preview"}),c.jsxs(Xt,{children:["Preview of data to be exported (",t.length," records)"]})]}),c.jsx(Ie,{children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b",children:[c.jsx("th",{className:"text-left p-2",children:"Student"}),c.jsx("th",{className:"text-left p-2",children:"Test"}),c.jsx("th",{className:"text-left p-2",children:"Score"}),c.jsx("th",{className:"text-left p-2",children:"%"}),c.jsx("th",{className:"text-left p-2",children:"Completed"}),c.jsx("th",{className:"text-left p-2",children:"Subject"})]})}),c.jsxs("tbody",{children:[t.slice(0,5).map((P,L)=>c.jsxs("tr",{className:"border-b",children:[c.jsx("td",{className:"p-2",children:P.student_name}),c.jsx("td",{className:"p-2",children:P.test_title}),c.jsxs("td",{className:"p-2",children:[P.score,"/",P.total_questions]}),c.jsxs("td",{className:"p-2",children:[P.percentage,"%"]}),c.jsx("td",{className:"p-2",children:P.completed_at}),c.jsx("td",{className:"p-2",children:P.subject})]},L)),t.length>5&&c.jsx("tr",{children:c.jsxs("td",{colSpan:6,className:"p-2 text-center text-muted-foreground",children:["... and ",t.length-5," more records"]})})]})]})})})]})]})},hK=[{id:"average_score",label:"Average Score",icon:iN},{id:"completion_rate",label:"Completion Rate",icon:zc},{id:"time_taken",label:"Average Time Taken",icon:ia},{id:"question_accuracy",label:"Question Accuracy",icon:zu},{id:"improvement_trend",label:"Improvement Trend",icon:zc},{id:"subject_performance",label:"Subject Performance",icon:wye},{id:"difficulty_analysis",label:"Difficulty Analysis",icon:zu},{id:"participation_rate",label:"Participation Rate",icon:ns}],s9e=[{value:"line",label:"Line Chart"},{value:"bar",label:"Bar Chart"},{value:"pie",label:"Pie Chart"},{value:"area",label:"Area Chart"},{value:"table",label:"Data Table"}],a9e=[{value:"student",label:"By Student"},{value:"subject",label:"By Subject"},{value:"class",label:"By Class Level"},{value:"test",label:"By Test"},{value:"date",label:"By Date"},{value:"week",label:"By Week"},{value:"month",label:"By Month"}],o9e=()=>{var d;const[t,e]=j.useState([{id:"1",name:"Student Performance Overview",description:"Comprehensive view of individual student performance",metrics:["average_score","completion_rate","improvement_trend"],groupBy:"student",filterBy:["date_range","subject"],chartType:"bar",timeRange:"30"},{id:"2",name:"Subject Analysis",description:"Performance breakdown by subject areas",metrics:["subject_performance","difficulty_analysis"],groupBy:"subject",filterBy:["class_level","date_range"],chartType:"pie",timeRange:"90"}]),[r,n]=j.useState({name:"",description:"",metrics:[],groupBy:"",filterBy:[],chartType:"bar",timeRange:"30"}),[i,s]=j.useState(!1),a=(h,f)=>{const p=r.metrics||[];n(f?{...r,metrics:[...p,h]}:{...r,metrics:p.filter(g=>g!==h)})},o=(h,f)=>{const p=r.filterBy||[];n(f?{...r,filterBy:[...p,h]}:{...r,filterBy:p.filter(g=>g!==h)})},l=()=>{var f;if(!r.name||!((f=r.metrics)!=null&&f.length))return;const h={id:Date.now().toString(),name:r.name,description:r.description||"",metrics:r.metrics,groupBy:r.groupBy||"student",filterBy:r.filterBy||[],chartType:r.chartType||"bar",timeRange:r.timeRange||"30"};e([...t,h]),n({name:"",description:"",metrics:[],groupBy:"",filterBy:[],chartType:"bar",timeRange:"30"}),s(!1)},u=h=>{console.log("Generating report for template:",h)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Custom Report Templates"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and manage custom report templates"})]}),c.jsxs(Ge,{onClick:()=>s(!0),disabled:i,children:[c.jsx(Qb,{className:"w-4 h-4 mr-2"}),"New Template"]})]}),i&&c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Create New Report Template"}),c.jsx(Xt,{children:"Configure the metrics and visualization for your custom report"})]}),c.jsxs(Ie,{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"template-name",children:"Template Name"}),c.jsx(pr,{id:"template-name",value:r.name||"",onChange:h=>n({...r,name:h.target.value}),placeholder:"Enter template name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"time-range",children:"Default Time Range"}),c.jsxs(Ur,{value:r.timeRange||"30",onValueChange:h=>n({...r,timeRange:h}),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"7",children:"Last 7 days"}),c.jsx(pt,{value:"30",children:"Last 30 days"}),c.jsx(pt,{value:"90",children:"Last 3 months"}),c.jsx(pt,{value:"365",children:"Last year"})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"template-description",children:"Description"}),c.jsx(Xl,{id:"template-description",value:r.description||"",onChange:h=>n({...r,description:h.target.value}),placeholder:"Describe what this report shows",rows:3})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(ft,{children:"Metrics to Include"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:hK.map(h=>{var p;const f=h.icon;return c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(co,{id:h.id,checked:((p=r.metrics)==null?void 0:p.includes(h.id))||!1,onCheckedChange:g=>a(h.id,g)}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(f,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("label",{htmlFor:h.id,className:"text-sm",children:h.label})]})]},h.id)})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Group Data By"}),c.jsxs(Ur,{value:r.groupBy||"",onValueChange:h=>n({...r,groupBy:h}),children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select grouping"})}),c.jsx(Dr,{children:a9e.map(h=>c.jsx(pt,{value:h.value,children:h.label},h.value))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Chart Type"}),c.jsxs(Ur,{value:r.chartType||"bar",onValueChange:h=>n({...r,chartType:h}),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsx(Dr,{children:s9e.map(h=>c.jsx(pt,{value:h.value,children:h.label},h.value))})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(ft,{children:"Available Filters"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["date_range","subject","class_level","student","test_type","difficulty"].map(h=>{var f;return c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(co,{id:h,checked:((f=r.filterBy)==null?void 0:f.includes(h))||!1,onCheckedChange:p=>o(h,p)}),c.jsx("label",{htmlFor:h,className:"text-sm capitalize",children:h.replace("_"," ")})]},h)})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Ge,{onClick:l,disabled:!r.name||!((d=r.metrics)!=null&&d.length),children:[c.jsx(Jb,{className:"w-4 h-4 mr-2"}),"Save Template"]}),c.jsx(Ge,{variant:"outline",onClick:()=>s(!1),children:"Cancel"})]})]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(h=>c.jsxs(Oe,{className:"hover:shadow-md transition-shadow",children:[c.jsx(tt,{children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx(it,{className:"text-lg",children:h.name}),c.jsx(Xt,{className:"text-sm",children:h.description})]}),c.jsx(Ge,{variant:"ghost",size:"sm",children:c.jsx(Kd,{className:"w-4 h-4"})})]})}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{className:"text-xs font-medium text-muted-foreground",children:"METRICS"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:h.metrics.map(f=>{const p=hK.find(g=>g.id===f);return c.jsx(Pt,{variant:"secondary",className:"text-xs",children:p==null?void 0:p.label},f)})})]}),c.jsx(cN,{}),c.jsxs("div",{className:"space-y-2 text-xs text-muted-foreground",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Group by:"}),c.jsx("span",{className:"capitalize",children:h.groupBy.replace("_"," ")})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Chart type:"}),c.jsx("span",{className:"capitalize",children:h.chartType})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Time range:"}),c.jsxs("span",{children:[h.timeRange," days"]})]})]}),c.jsx("div",{className:"pt-2",children:c.jsxs(Ge,{onClick:()=>u(h),className:"w-full",size:"sm",children:[c.jsx(sa,{className:"w-4 h-4 mr-2"}),"Generate Report"]})})]})]},h.id))}),t.length===0&&!i&&c.jsx(Oe,{children:c.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(sa,{className:"w-12 h-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Custom Reports"}),c.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"Create your first custom report template to get started"}),c.jsxs(Ge,{onClick:()=>s(!0),children:[c.jsx(Qb,{className:"w-4 h-4 mr-2"}),"Create First Template"]})]})})]})};PN.register(hk,fk,AS,Hy,jS,wce,Sce,yce,nS);const l9e=()=>{var y,w,_,A;const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState("students"),[a,o]=j.useState("30"),[l,u]=j.useState(!0),{profile:d}=is(),{toast:h}=Kr();j.useEffect(()=>{f()},[i,a]);const f=async()=>{try{u(!0);let C=je.from("paper_attempts").select(`
          *,
          question_papers!inner(
            title,
            user_id,
            class_parent_id,
            subjects_parent!subject_parent_id(subject_name),
            classes_parent!class_parent_id(class_name)
          )
        `).gte("started_at",new Date(Date.now()-parseInt(a)*24*60*60*1e3).toISOString()).not("completed_at","is",null);(d==null?void 0:d.role)==="parent"&&(C=C.eq("question_papers.user_id",d.user_id));const{data:N,error:E}=await C;if(E)throw E;const P=[...new Set((N==null?void 0:N.map(D=>D.user_id))||[])],{data:L,error:O}=await je.from("profiles").select("user_id, full_name").in("user_id",P);if(O)throw O;const k=(L==null?void 0:L.reduce((D,F)=>(D[F.user_id]=F,D),{}))||{};i==="students"?p(N||[],k):i==="classes"&&g(N||[],k)}catch{h({title:"Error",description:"Failed to fetch comparison data",variant:"destructive"})}finally{u(!1)}},p=(C,N)=>{const E=new Map;C.forEach(L=>{var z,U;const O=L.user_id,k=((z=N[O])==null?void 0:z.full_name)||"Unknown Student",D=((U=L.question_papers.subjects_parent)==null?void 0:U.subject_name)||"Unknown";E.has(O)||E.set(O,{student_id:O,student_name:k,total_tests:0,average_score:0,completion_rate:0,improvement_trend:0,subject_scores:{},time_efficiency:0});const F=E.get(O);if(F.total_tests++,L.completed_at){const H=L.score||0,B=L.total_questions||1,X=H/B*100;if(F.subject_scores[D]||(F.subject_scores[D]=0),F.subject_scores[D]=(F.subject_scores[D]+X)/2,L.started_at&&L.completed_at){const ne=(new Date(L.completed_at).getTime()-new Date(L.started_at).getTime())/6e4;F.time_efficiency+=B/ne}}});const P=Array.from(E.values()).map(L=>{const O=C.filter(k=>k.user_id===L.student_id&&k.completed_at);if(L.completion_rate=L.total_tests>0?O.length/L.total_tests*100:0,L.average_score=O.length>0?O.reduce((k,D)=>{const F=D.score||0,z=D.total_questions||1;return k+F/z*100},0)/O.length:0,L.time_efficiency=O.length>0?L.time_efficiency/O.length:0,O.length>=6){const k=O.sort((H,B)=>new Date(H.completed_at).getTime()-new Date(B.completed_at).getTime()),D=k.slice(0,3),F=k.slice(-3),z=D.reduce((H,B)=>H+(B.score||0)/(B.total_questions||1)*100,0)/3,U=F.reduce((H,B)=>H+(B.score||0)/(B.total_questions||1)*100,0)/3;L.improvement_trend=U-z}return L});e(P)},g=(C,N)=>{const E=new Map;C.forEach(P=>{var O,k;const L=((O=P.question_papers.classes_parent)==null?void 0:O.class_name)||"Unknown";(k=P.question_papers.subjects_parent)!=null&&k.subject_name,E.has(L)||E.set(L,{class_level:L,average_score:0,total_students:0,completion_rate:0,top_subjects:[],weak_subjects:[]})}),n(Array.from(E.values()))},m=()=>{const C=t.sort((N,E)=>E.average_score-N.average_score).slice(0,10);return{labels:C.map(N=>N.student_name.split(" ")[0]),datasets:[{label:"Average Score (%)",data:C.map(N=>N.average_score),backgroundColor:"hsl(var(--primary) / 0.8)",borderColor:"hsl(var(--primary))",borderWidth:1},{label:"Completion Rate (%)",data:C.map(N=>N.completion_rate),backgroundColor:"hsl(var(--success) / 0.8)",borderColor:"hsl(var(--success))",borderWidth:1}]}},v=()=>{const C=t.filter(N=>N.improvement_trend!==0).sort((N,E)=>E.improvement_trend-N.improvement_trend);return{labels:C.map(N=>N.student_name.split(" ")[0]),datasets:[{label:"Improvement Trend (%)",data:C.map(N=>N.improvement_trend),backgroundColor:C.map(N=>N.improvement_trend>0?"hsl(var(--success) / 0.8)":"hsl(var(--destructive) / 0.8)"),borderColor:C.map(N=>N.improvement_trend>0?"hsl(var(--success))":"hsl(var(--destructive))"),borderWidth:1}]}},x={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,max:100}}};return l?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((C,N)=>c.jsxs(Oe,{className:"animate-pulse",children:[c.jsxs(tt,{className:"space-y-2",children:[c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),c.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"h-20 bg-muted rounded"})})]},N))}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs(Ur,{value:i,onValueChange:C=>s(C),children:[c.jsx(Rr,{className:"w-full sm:w-48",children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"students",children:"Compare Students"}),c.jsx(pt,{value:"classes",children:"Compare Classes"}),c.jsx(pt,{value:"subjects",children:"Compare Subjects"})]})]}),c.jsxs(Ur,{value:a,onValueChange:o,children:[c.jsx(Rr,{className:"w-full sm:w-48",children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"7",children:"Last 7 days"}),c.jsx(pt,{value:"30",children:"Last 30 days"}),c.jsx(pt,{value:"90",children:"Last 3 months"}),c.jsx(pt,{value:"365",children:"Last year"})]})]})]}),i==="students"&&c.jsxs(ua,{defaultValue:"overview",className:"w-full",children:[c.jsxs(xo,{className:"grid w-full grid-cols-3",children:[c.jsx(Cr,{value:"overview",children:"Overview"}),c.jsx(Cr,{value:"performance",children:"Performance"}),c.jsx(Cr,{value:"trends",children:"Trends"})]}),c.jsxs(Kt,{value:"overview",className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Top Performer"}),c.jsx(I$,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Ie,{children:t.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-bold",children:(y=t.sort((C,N)=>N.average_score-C.average_score)[0])==null?void 0:y.student_name}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[Math.round(((w=t.sort((C,N)=>N.average_score-C.average_score)[0])==null?void 0:w.average_score)||0),"% avg"]})]})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Most Improved"}),c.jsx(zc,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsx(Ie,{children:t.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"text-lg font-bold",children:(_=t.sort((C,N)=>N.improvement_trend-C.improvement_trend)[0])==null?void 0:_.student_name}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",Math.round(((A=t.sort((C,N)=>N.improvement_trend-C.improvement_trend)[0])==null?void 0:A.improvement_trend)||0),"% trend"]})]})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Class Average"}),c.jsx(zu,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[t.length>0?Math.round(t.reduce((C,N)=>C+N.average_score,0)/t.length):0,"%"]}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," students"]})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Completion Rate"}),c.jsx(iN,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[t.length>0?Math.round(t.reduce((C,N)=>C+N.completion_rate,0)/t.length):0,"%"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Average completion"})]})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Student Performance Comparison"}),c.jsx(Xt,{children:"Top performing students by average score and completion rate"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"h-80",children:c.jsx(sG,{data:m(),options:x})})})]})]}),c.jsx(Kt,{value:"performance",className:"space-y-6",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((C,N)=>c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(it,{className:"text-lg",children:C.student_name}),c.jsxs(Pt,{variant:N<3?"default":"secondary",children:["#",N+1]})]})}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Average Score"}),c.jsxs("span",{children:[Math.round(C.average_score),"%"]})]}),c.jsx(Rc,{value:C.average_score})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:"Completion Rate"}),c.jsxs("span",{children:[Math.round(C.completion_rate),"%"]})]}),c.jsx(Rc,{value:C.completion_rate})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm",children:"Tests Taken"}),c.jsx(Pt,{variant:"outline",children:C.total_tests})]}),C.improvement_trend!==0&&c.jsxs("div",{className:"flex items-center gap-2",children:[C.improvement_trend>0?c.jsx(zc,{className:"w-4 h-4 text-success"}):c.jsx(y3,{className:"w-4 h-4 text-destructive"}),c.jsxs("span",{className:`text-sm ${C.improvement_trend>0?"text-success":"text-destructive"}`,children:[C.improvement_trend>0?"+":"",Math.round(C.improvement_trend),"% trend"]})]})]})]},C.student_id))})}),c.jsx(Kt,{value:"trends",className:"space-y-6",children:c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Improvement Trends"}),c.jsx(Xt,{children:"Student improvement over time (comparing recent vs earlier performance)"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"h-80",children:c.jsx(sG,{data:v(),options:x})})})]})})]}),i==="classes"&&c.jsx(Oe,{children:c.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(zu,{className:"w-12 h-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Class Comparison Coming Soon"}),c.jsx("p",{className:"text-muted-foreground text-center",children:"Class-level comparative analysis will be available in the next update"})]})}),i==="subjects"&&c.jsx(Oe,{children:c.jsxs(Ie,{className:"flex flex-col items-center justify-center py-12",children:[c.jsx($d,{className:"w-12 h-12 text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Subject Comparison Coming Soon"}),c.jsx("p",{className:"text-muted-foreground text-center",children:"Subject-wise comparative analysis will be available in the next update"})]})})]})},c9e=()=>{const{tab:t,subtab:e}=dh(),r=ec(),n=e||"progress";j.useEffect(()=>{t==="reports"&&!e&&r("/parent/reports/progress",{replace:!0})},[t,e,r]);const i=s=>{r(`/parent/reports/${s}`)};return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-4",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Reports & Analytics"}),c.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:"Comprehensive reporting and analysis tools"})]})}),c.jsxs(ua,{value:n,onValueChange:i,className:"w-full",children:[c.jsxs(xo,{className:"grid w-full grid-cols-2 md:grid-cols-4 gap-1",children:[c.jsxs(Cr,{value:"progress",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[c.jsx(zc,{className:"w-3 h-3 md:w-4 md:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Progress"})]}),c.jsxs(Cr,{value:"export",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[c.jsx(dA,{className:"w-3 h-3 md:w-4 md:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Export"})]}),c.jsxs(Cr,{value:"custom",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[c.jsx(sa,{className:"w-3 h-3 md:w-4 md:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Custom"})]}),c.jsxs(Cr,{value:"compare",className:"flex items-center gap-1 md:gap-2 text-xs md:text-sm",children:[c.jsx(zu,{className:"w-3 h-3 md:w-4 md:h-4"}),c.jsx("span",{className:"hidden sm:inline",children:"Compare"})]})]}),c.jsx(Kt,{value:"progress",children:c.jsx(vIe,{})}),c.jsx(Kt,{value:"export",children:c.jsx(i9e,{})}),c.jsx(Kt,{value:"custom",children:c.jsx(o9e,{})}),c.jsx(Kt,{value:"compare",children:c.jsx(l9e,{})})]})]})},u9e=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(null),[i,s]=j.useState([]),[a,o]=j.useState("list"),[l,u]=j.useState(!0),[d,h]=j.useState(!1),[f,p]=j.useState(!1),{user:g,profile:m}=is(),{toast:v}=Kr();j.useEffect(()=>{g!=null&&g.id&&x()},[g]);const x=async()=>{try{u(!0);const{data:N,error:E}=await je.from("parent_child_relationships").select("child_id").eq("parent_id",g==null?void 0:g.id);if(E)throw E;const P=(N==null?void 0:N.map(X=>X.child_id))||[];if(P.length===0){e([]),u(!1);return}const{data:L,error:O}=await je.from("question_papers").select("id").eq("user_id",g==null?void 0:g.id);if(O)throw O;const k=(L==null?void 0:L.map(X=>X.id))||[];if(k.length===0){e([]),u(!1);return}const{data:D,error:F}=await je.from("paper_attempts").select(`
          id,
          score,
          total_questions,
          completed_at,
          answers,
          show_results,
          feedback,
          user_id,
          paper_id,
          question_papers!inner (
            title,
            subjects_parent (subject_name)
          )
        `).in("user_id",P).in("paper_id",k).not("completed_at","is",null).order("completed_at",{ascending:!1});if(F)throw F;const{data:z,error:U}=await je.from("profiles").select("user_id, full_name, email").in("user_id",P);if(U)throw U;const H=(z==null?void 0:z.reduce((X,ne)=>(X[ne.user_id]=ne,X),{}))||{},B=(D==null?void 0:D.map(X=>{var ne,fe,I,q,V;return{id:X.id,score:X.score||0,total_questions:X.total_questions||0,completed_at:X.completed_at,show_results:X.show_results||!1,feedback:X.feedback,answers:X.answers||{},student:{id:X.user_id,full_name:((ne=H[X.user_id])==null?void 0:ne.full_name)||"Unknown",email:((fe=H[X.user_id])==null?void 0:fe.email)||""},test:{title:((I=X.question_papers)==null?void 0:I.title)||"Unknown Test",subject:((V=(q=X.question_papers)==null?void 0:q.subjects_parent)==null?void 0:V.subject_name)||"Unknown Subject",question_paper_id:X.paper_id||""}}}))||[];e(B)}catch(N){console.error("Error loading results:",N),v({title:"Error",description:"Failed to load results",variant:"destructive"})}finally{u(!1)}},y=async(N,E)=>{var P;try{p(!0);const{data:L,error:O}=await je.from("paper_attempts").select(`
          user_id,
          question_papers!inner(user_id)
        `).eq("id",N).single();if(O)throw O;if(((P=L==null?void 0:L.question_papers)==null?void 0:P.user_id)!==(g==null?void 0:g.id))throw new Error("Unauthorized: You can only manage results for your own papers");const{error:k}=await je.from("paper_attempts").update({show_results:E}).eq("id",N);if(k)throw k;v({title:"Success",description:`Results ${E?"shown":"hidden"} successfully`,variant:"default"}),e(D=>D.map(F=>F.id===N?{...F,show_results:E}:F))}catch(L){console.error("Error updating show results status:",L),v({title:"Error",description:"Failed to update show results status",variant:"destructive"})}finally{p(!1)}},w=N=>N>=90?"text-green-600":N>=70?"text-blue-600":N>=50?"text-yellow-600":"text-red-600",_=N=>{n(N),o("detail"),C(N)},A=()=>{n(null),o("list"),s([])},C=async N=>{if(!N.test.question_paper_id){v({title:"Error",description:"Question paper not found for this test",variant:"destructive"});return}try{h(!0);const{data:E,error:P}=await je.from("question_paper_questions").select(`
          questions (
            id,
            question_text,
            option_a,
            option_b,
            option_c,
            option_d,
            correct_answer
          )
        `).eq("question_paper_id",N.test.question_paper_id).order("question_order");if(P)throw P;if(!E||E.length===0){v({title:"Error",description:"No questions found for this test",variant:"destructive"});return}let L=N.answers;if(typeof N.answers=="string")try{L=JSON.parse(N.answers)}catch{console.warn("Failed to parse answers as JSON, using as-is")}const O=E.map(k=>{var U;const D=k.questions,F=((U=L.userAnswers)==null?void 0:U[D.id])||"",z=F&&F.toLowerCase()===D.correct_answer.toLowerCase();return{question_id:D.id,question_text:D.question_text,option_a:D.option_a,option_b:D.option_b,option_c:D.option_c,option_d:D.option_d,correct_answer:D.correct_answer,user_answer:F||"",is_correct:z}});s(O)}catch(E){console.error("Error loading question breakdown:",E),v({title:"Error",description:"Failed to load question details",variant:"destructive"})}finally{h(!1)}};return l?c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"animate-pulse space-y-4",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),c.jsx("div",{className:"h-64 bg-muted rounded"})]})}):(m==null?void 0:m.role)!=="parent"?c.jsx(Oe,{children:c.jsxs(Ie,{className:"pt-6 text-center",children:[c.jsx(za,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-muted-foreground",children:"Result approval is only available for parents/teachers."})]})}):a==="detail"&&r?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h2",{className:"text-2xl font-bold",children:[r.test.title," - ",r.student.full_name]}),c.jsx("p",{className:"text-muted-foreground",children:"Test result details"})]}),c.jsxs(Ge,{variant:"outline",onClick:A,children:[c.jsx(v3,{className:"w-4 h-4 mr-2"}),"Back"]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsx(it,{children:"Student Information"})}),c.jsxs(Ie,{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Name:"}),c.jsx("span",{children:r.student.full_name})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Email:"}),c.jsx("span",{children:r.student.email})]})]})]}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsx(it,{children:"Score"})}),c.jsx(Ie,{children:c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:`text-4xl font-bold ${w(r.score)}`,children:[r.score,"%"]}),c.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:[Math.round(r.score/100*r.total_questions),"/",r.total_questions," correct answers"]})]})})]}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsx(it,{children:"Test Information"})}),c.jsxs(Ie,{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Subject:"}),c.jsx("span",{children:r.test.subject})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"text-muted-foreground",children:"Completed:"}),c.jsx("span",{children:new Date(r.completed_at).toLocaleString()})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-muted-foreground",children:"Results Visible:"}),c.jsx(La,{checked:r.show_results,onCheckedChange:N=>y(r.id,N),disabled:f})]})]})]})]}),d?c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading question details..."})]})})}):i.length>0?c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Questions and Answers"}),c.jsx(Xt,{children:"Detailed breakdown of each question, answer options, student's response, and correct answer"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{className:"w-12",children:"#"}),c.jsx(qt,{children:"Question"}),c.jsx(qt,{className:"whitespace-nowrap w-32",children:"Student Answer"}),c.jsx(qt,{className:"whitespace-nowrap w-32",children:"Correct Answer"})]})}),c.jsx(Zo,{children:i.map((N,E)=>c.jsxs(Ln,{children:[c.jsx(Wt,{className:"font-medium",children:E+1}),c.jsx(Wt,{className:"max-w-md",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm font-medium",children:N.question_text}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground",children:[c.jsxs("div",{children:["A. ",N.option_a]}),c.jsxs("div",{children:["B. ",N.option_b]}),c.jsxs("div",{children:["C. ",N.option_c]}),c.jsxs("div",{children:["D. ",N.option_d]})]})]})}),c.jsx(Wt,{children:c.jsx(Pt,{variant:N.user_answer?N.is_correct?"success":"destructive":"secondary",className:"whitespace-nowrap",children:N.user_answer?N.user_answer.toUpperCase():"No Answer"})}),c.jsx(Wt,{children:c.jsx(Pt,{variant:"outline",className:"whitespace-nowrap",children:N.correct_answer.toUpperCase()})})]},N.question_id))})]})})})]}):null]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Result Management"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage result visibility for your students' test attempts"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Total Results"}),c.jsx(Ui,{className:"h-4 w-4 text-blue-600"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"text-2xl font-bold",children:t.length})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Results Shown"}),c.jsx(th,{className:"h-4 w-4 text-green-600"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"text-2xl font-bold",children:t.filter(N=>N.show_results).length})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Results Hidden"}),c.jsx(rN,{className:"h-4 w-4 text-gray-600"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"text-2xl font-bold",children:t.filter(N=>!N.show_results).length})})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Test Results Management"}),c.jsx(Xt,{children:"Manage result visibility and feedback for your students"})]}),c.jsxs(Ie,{children:[c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{children:"Student"}),c.jsx(qt,{children:"Test"}),c.jsx(qt,{children:"Score"}),c.jsx(qt,{children:"Completed"}),c.jsx(qt,{children:"Show Results"}),c.jsx(qt,{children:"Actions"})]})}),c.jsx(Zo,{children:t.map(N=>c.jsxs(Ln,{children:[c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Fa,{className:"w-4 h-4 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:N.student.full_name}),c.jsx("div",{className:"text-sm text-muted-foreground",children:N.student.email})]})]})}),c.jsx(Wt,{children:c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:N.test.title}),c.jsx("div",{className:"text-sm text-muted-foreground",children:N.test.subject})]})}),c.jsxs(Wt,{children:[c.jsxs("div",{className:`font-bold ${w(N.score)}`,children:[N.score,"%"]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[Math.round(N.score/100*N.total_questions),"/",N.total_questions," correct"]})]}),c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[c.jsx(ia,{className:"w-3 h-3"}),c.jsx("span",{children:new Date(N.completed_at).toLocaleDateString()})]})}),c.jsx(Wt,{children:c.jsx(La,{checked:N.show_results,onCheckedChange:E=>y(N.id,E),disabled:f})}),c.jsx(Wt,{children:c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>_(N),children:[c.jsx(th,{className:"w-4 h-4 mr-1"}),"View"]})})]},N.id))})]}),t.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Ui,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Results Found"}),c.jsx("p",{className:"text-muted-foreground",children:"No test results available to manage at this time."})]})]})]})]})};var Y9="Avatar",[d9e,x0t]=vo(Y9),[h9e,Pde]=d9e(Y9),kde=j.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=j.useState("idle");return c.jsx(h9e,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:c.jsx(Ut.span,{...n,ref:e})})});kde.displayName=Y9;var Ode="AvatarImage",Mde=j.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,a=Pde(Ode,r),o=f9e(n,s.referrerPolicy),l=li(u=>{i(u),a.onImageLoadingStatusChange(u)});return bs(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?c.jsx(Ut.img,{...s,ref:e,src:n}):null});Mde.displayName=Ode;var Lde="AvatarFallback",Ide=j.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=Pde(Lde,r),[a,o]=j.useState(n===void 0);return j.useEffect(()=>{if(n!==void 0){const l=window.setTimeout(()=>o(!0),n);return()=>window.clearTimeout(l)}},[n]),a&&s.imageLoadingStatus!=="loaded"?c.jsx(Ut.span,{...i,ref:e}):null});Ide.displayName=Lde;function f9e(t,e){const[r,n]=j.useState("idle");return bs(()=>{if(!t){n("error");return}let i=!0;const s=new window.Image,a=o=>()=>{i&&n(o)};return n("loading"),s.onload=a("loaded"),s.onerror=a("error"),s.src=t,e&&(s.referrerPolicy=e),()=>{i=!1}},[t,e]),r}var Rde=kde,Dde=Mde,Fde=Ide;const e8=j.forwardRef(({className:t,...e},r)=>c.jsx(Rde,{ref:r,className:He("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));e8.displayName=Rde.displayName;const t8=j.forwardRef(({className:t,...e},r)=>c.jsx(Dde,{ref:r,className:He("aspect-square h-full w-full",t),...e}));t8.displayName=Dde.displayName;const r8=j.forwardRef(({className:t,...e},r)=>c.jsx(Fde,{ref:r,className:He("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));r8.displayName=Fde.displayName;const fK=async t=>{try{const{error:e}=await je.from("notifications").insert({user_id:t.userId,title:t.title,message:t.message,type:t.type,related_id:t.relatedId});if(e)throw e;return{success:!0}}catch(e){return console.error("Error creating notification:",e),{success:!1,error:e}}},pK={messageReceived:(t,e)=>({title:"New Message",message:`You have a new message from ${t}: ${e}`,type:"message"}),testAssigned:t=>({title:"Test Assignment",message:`You have been assigned a new test: ${t}`,type:"test_assignment"}),testCompleted:(t,e)=>({title:"Test Completed",message:`${t} has completed the test: ${e}`,type:"test_result"}),announcementCreated:t=>({title:"New Announcement",message:`A new announcement has been posted: ${t}`,type:"announcement"}),testDeadlineReminder:(t,e)=>({title:"Test Deadline Reminder",message:`Reminder: Test "${t}" is due in ${e}`,type:"deadline"})},p9e=()=>{var P,L,O,k,D,F;const{user:t,profile:e}=is(),{toast:r}=Kr(),[n,i]=j.useState([]),[s,a]=j.useState(null),[o,l]=j.useState([]),[u,d]=j.useState({recipient_id:"",subject:"",content:""}),[h,f]=j.useState(""),[p,g]=j.useState(!1),[m,v]=j.useState("inbox");j.useEffect(()=>{t&&(x(),y(),w())},[t]);const x=async()=>{if(t){g(!0);try{const{data:z,error:U}=await je.from("messages").select("*").or(`sender_id.eq.${t.id},recipient_id.eq.${t.id}`).order("created_at",{ascending:!1});if(U)throw U;const H=new Set;z==null||z.forEach(I=>{H.add(I.sender_id),H.add(I.recipient_id)});const{data:B,error:X}=await je.from("profiles").select("user_id, full_name, email, avatar_url").in("user_id",Array.from(H));if(X)throw X;const ne=new Map((B==null?void 0:B.map(I=>[I.user_id,I]))||[]),fe=(z==null?void 0:z.map(I=>({...I,sender:ne.get(I.sender_id),recipient:ne.get(I.recipient_id)})))||[];i(fe)}catch(z){console.error("Error fetching messages:",z),r({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{g(!1)}}},y=async()=>{if(!(!t||!e))try{let z=je.from("profiles").select("*");if(e.role==="parent"){const{data:B}=await je.from("parent_child_relationships").select("child_id").eq("parent_id",t.id),X=(B==null?void 0:B.map(ne=>ne.child_id))||[];X.length>0&&(z=z.in("user_id",X))}else if(e.role==="child"){const{data:B}=await je.from("parent_child_relationships").select("parent_id").eq("child_id",t.id),X=(B==null?void 0:B.map(ne=>ne.parent_id))||[];X.length>0&&(z=z.in("user_id",X))}const{data:U,error:H}=await z;if(H)throw H;l(U||[])}catch(z){console.error("Error fetching users:",z)}},w=()=>{if(!t)return;const z=je.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`recipient_id=eq.${t.id}`},()=>{x()}).subscribe();return()=>{je.removeChannel(z)}},_=async()=>{if(!t||!u.recipient_id||!u.subject||!u.content){r({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}try{const{error:z}=await je.from("messages").insert({sender_id:t.id,recipient_id:u.recipient_id,subject:u.subject,content:u.content});if(z)throw z;const U=(e==null?void 0:e.full_name)||(e==null?void 0:e.email)||"Someone",H=pK.messageReceived(U,u.subject);await fK({userId:u.recipient_id,...H}),d({recipient_id:"",subject:"",content:""}),v("sent"),await x(),r({title:"Success",description:"Message sent successfully"})}catch(z){console.error("Error sending message:",z),r({title:"Error",description:"Failed to send message",variant:"destructive"})}},A=async()=>{if(!(!t||!s||!h))try{const{error:z}=await je.from("messages").insert({sender_id:t.id,recipient_id:s.sender_id,subject:`Re: ${s.subject}`,content:h,parent_message_id:s.id});if(z)throw z;const U=(e==null?void 0:e.full_name)||(e==null?void 0:e.email)||"Someone",H=pK.messageReceived(U,`Re: ${s.subject}`);await fK({userId:s.sender_id,...H}),f(""),await x(),r({title:"Success",description:"Reply sent successfully"})}catch(z){console.error("Error sending reply:",z),r({title:"Error",description:"Failed to send reply",variant:"destructive"})}},C=async z=>{if(t)try{const{error:U}=await je.from("messages").update({is_read:!0}).eq("id",z).eq("recipient_id",t.id);if(U)throw U;i(H=>H.map(B=>B.id===z?{...B,is_read:!0}:B))}catch(U){console.error("Error marking message as read:",U)}},N=async z=>{try{const{error:U}=await je.from("messages").delete().eq("id",z);if(U)throw U;i(H=>H.filter(B=>B.id!==z)),(s==null?void 0:s.id)===z&&a(null),r({title:"Success",description:"Message deleted successfully"})}catch(U){console.error("Error deleting message:",U),r({title:"Error",description:"Failed to delete message",variant:"destructive"})}},E=()=>{if(!t)return[];switch(m){case"inbox":return n.filter(z=>z.recipient_id===t.id);case"sent":return n.filter(z=>z.sender_id===t.id);default:return[]}};return c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[600px]",children:[c.jsxs(Oe,{className:"lg:col-span-1",children:[c.jsx(tt,{className:"pb-3",children:c.jsxs("div",{className:"flex space-x-1",children:[c.jsx(Ge,{variant:m==="inbox"?"default":"ghost",size:"sm",onClick:()=>v("inbox"),className:"flex-1",children:"Inbox"}),c.jsx(Ge,{variant:m==="sent"?"default":"ghost",size:"sm",onClick:()=>v("sent"),className:"flex-1",children:"Sent"}),c.jsx(Ge,{variant:m==="compose"?"default":"ghost",size:"sm",onClick:()=>v("compose"),className:"flex-1",children:"Compose"})]})}),c.jsx(Ie,{className:"p-0",children:c.jsx(Wf,{className:"h-[500px]",children:m==="compose"?c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsxs(Ur,{value:u.recipient_id,onValueChange:z=>d(U=>({...U,recipient_id:z})),children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select recipient"})}),c.jsx(Dr,{children:o.map(z=>c.jsx(pt,{value:z.user_id,children:z.full_name||z.email},z.user_id))})]}),c.jsx(pr,{placeholder:"Subject",value:u.subject,onChange:z=>d(U=>({...U,subject:z.target.value}))}),c.jsx(Xl,{placeholder:"Message content...",value:u.content,onChange:z=>d(U=>({...U,content:z.target.value})),rows:10}),c.jsxs(Ge,{onClick:_,className:"w-full",children:[c.jsx(ED,{className:"h-4 w-4 mr-2"}),"Send Message"]})]}):c.jsx("div",{children:E().map(z=>{var U,H,B,X,ne,fe;return c.jsx("div",{className:`p-3 border-b cursor-pointer hover:bg-muted/50 transition-colors ${(s==null?void 0:s.id)===z.id?"bg-muted":""} ${!z.is_read&&m==="inbox"?"border-l-4 border-l-primary":""}`,onClick:()=>{a(z),m==="inbox"&&!z.is_read&&C(z.id)},children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsxs(e8,{className:"h-8 w-8",children:[c.jsx(t8,{src:m==="inbox"?(U=z.sender)==null?void 0:U.avatar_url:(H=z.recipient)==null?void 0:H.avatar_url}),c.jsx(r8,{children:c.jsx(Fa,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium text-sm truncate",children:m==="inbox"?((B=z.sender)==null?void 0:B.full_name)||((X=z.sender)==null?void 0:X.email):((ne=z.recipient)==null?void 0:ne.full_name)||((fe=z.recipient)==null?void 0:fe.email)}),c.jsx("p",{className:"text-sm font-medium truncate",children:z.subject}),c.jsx("p",{className:"text-xs text-muted-foreground truncate",children:z.content}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[lw(new Date(z.created_at))," ago"]})]})]})},z.id)})})})})]}),c.jsxs(Oe,{className:"lg:col-span-2",children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(Gv,{className:"h-5 w-5"}),s?s.subject:"Select a message"]}),s&&c.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>N(s.id),className:"text-destructive hover:text-destructive",children:c.jsx(qw,{className:"h-4 w-4"})})]})}),c.jsx(Ie,{children:s?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[c.jsxs(e8,{children:[c.jsx(t8,{src:m==="inbox"?(P=s.sender)==null?void 0:P.avatar_url:(L=s.recipient)==null?void 0:L.avatar_url}),c.jsx(r8,{children:c.jsx(Fa,{className:"h-4 w-4"})})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:m==="inbox"?((O=s.sender)==null?void 0:O.full_name)||((k=s.sender)==null?void 0:k.email):((D=s.recipient)==null?void 0:D.full_name)||((F=s.recipient)==null?void 0:F.email)}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[lw(new Date(s.created_at))," ago"]})]})]}),c.jsx("div",{className:"prose max-w-none",children:c.jsx("p",{className:"whitespace-pre-wrap",children:s.content})}),m==="inbox"&&c.jsxs("div",{className:"space-y-3 pt-4 border-t",children:[c.jsx(Xl,{placeholder:"Write your reply...",value:h,onChange:z=>f(z.target.value),rows:4}),c.jsxs(Ge,{onClick:A,disabled:!h,children:[c.jsx(Mye,{className:"h-4 w-4 mr-2"}),"Reply"]})]})]}):c.jsx("div",{className:"text-center text-muted-foreground py-8",children:"Select a message to view its content"})})]})]})},m9e=t=>{switch(t){case"urgent":return"bg-red-500/10 text-red-500 border-red-200";case"high":return"bg-orange-500/10 text-orange-500 border-orange-200";case"normal":return"bg-blue-500/10 text-blue-500 border-blue-200";case"low":return"bg-gray-500/10 text-gray-500 border-gray-200";default:return"bg-gray-500/10 text-gray-500 border-gray-200"}},g9e=()=>{const{user:t,profile:e}=is(),{toast:r}=Kr(),[n,i]=j.useState([]);j.useState(null);const[s,a]=j.useState(!1),[o,l]=j.useState(!1),[u,d]=j.useState({title:"",content:"",target_audience:"all",priority:"normal",expires_at:""}),h=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="parent";j.useEffect(()=>{t&&(f(),p())},[t]);const f=async()=>{if(t){l(!0);try{const{data:y,error:w}=await je.from("announcements").select("*").eq("is_active",!0).or("expires_at.is.null,expires_at.gt.now()").order("created_at",{ascending:!1});if(w)throw w;const _=new Set;y==null||y.forEach(k=>{_.add(k.creator_id)});const{data:A,error:C}=await je.from("profiles").select("user_id, full_name, email").in("user_id",Array.from(_));if(C)throw C;const N=new Map((A==null?void 0:A.map(k=>[k.user_id,k]))||[]),{data:E,error:P}=await je.from("announcement_recipients").select("announcement_id, is_read, read_at").eq("user_id",t.id);if(P)throw P;const L=new Map((E==null?void 0:E.map(k=>[k.announcement_id,{is_read:k.is_read,read_at:k.read_at}]))||[]),O=(y==null?void 0:y.map(k=>({...k,creator:N.get(k.creator_id),read_status:L.get(k.id)})))||[];i(O)}catch(y){console.error("Error fetching announcements:",y),r({title:"Error",description:"Failed to load announcements",variant:"destructive"})}finally{l(!1)}}},p=()=>{if(!t)return;const y=je.channel("announcements").on("postgres_changes",{event:"*",schema:"public",table:"announcements"},()=>{f()}).subscribe();return()=>{je.removeChannel(y)}},g=async()=>{if(!(!t||!h)){if(!u.title||!u.content){r({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}try{const{data:y,error:w}=await je.from("announcements").insert({creator_id:t.id,title:u.title,content:u.content,target_audience:u.target_audience,priority:u.priority,expires_at:u.expires_at||null}).select().single();if(w)throw w;await m(y.id,u.target_audience),d({title:"",content:"",target_audience:"all",priority:"normal",expires_at:""}),a(!1),await f(),r({title:"Success",description:"Announcement created successfully"})}catch(y){console.error("Error creating announcement:",y),r({title:"Error",description:"Failed to create announcement",variant:"destructive"})}}},m=async(y,w)=>{try{let _=[];if(w==="all"){const{data:A}=await je.from("profiles").select("user_id").neq("user_id",t.id);_=(A==null?void 0:A.map(C=>C.user_id))||[]}else if(w==="parents"||w==="children"){const{data:A}=await je.from("profiles").select("user_id").eq("role",w==="parents"?"parent":"child").neq("user_id",t.id);_=(A==null?void 0:A.map(C=>C.user_id))||[]}if(_.length>0){const A=_.map(C=>({user_id:C,title:"New Announcement",message:u.title,type:"announcement",related_id:y}));await je.from("notifications").insert(A)}}catch(_){console.error("Error creating notifications:",_)}},v=async y=>{if(t)try{const{error:w}=await je.from("announcement_recipients").upsert({announcement_id:y,user_id:t.id,is_read:!0,read_at:new Date().toISOString()});if(w)throw w;i(_=>_.map(A=>A.id===y?{...A,read_status:{is_read:!0,read_at:new Date().toISOString()}}:A))}catch(w){console.error("Error marking announcement as read:",w)}},x=async(y,w)=>{try{const{error:_}=await je.from("announcements").update({is_active:!w}).eq("id",y);if(_)throw _;await f(),r({title:"Success",description:`Announcement ${w?"deactivated":"activated"} successfully`})}catch(_){console.error("Error toggling announcement status:",_),r({title:"Error",description:"Failed to update announcement status",variant:"destructive"})}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ND,{className:"h-6 w-6"}),c.jsx("h2",{className:"text-2xl font-bold",children:"Announcements"})]}),h&&c.jsxs(Hf,{open:s,onOpenChange:a,children:[c.jsx(MB,{asChild:!0,children:c.jsxs(Ge,{children:[c.jsx(Qb,{className:"h-4 w-4 mr-2"}),"New Announcement"]})}),c.jsxs(sh,{className:"max-w-2xl",children:[c.jsx(Gu,{children:c.jsx(Ku,{children:"Create New Announcement"})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(pr,{placeholder:"Announcement title",value:u.title,onChange:y=>d(w=>({...w,title:y.target.value}))}),c.jsx(Xl,{placeholder:"Announcement content...",value:u.content,onChange:y=>d(w=>({...w,content:y.target.value})),rows:6}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Target Audience"}),c.jsxs(Ur,{value:u.target_audience,onValueChange:y=>d(w=>({...w,target_audience:y})),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"Everyone"}),c.jsx(pt,{value:"parents",children:"Parents Only"}),c.jsx(pt,{value:"children",children:"Students Only"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Priority"}),c.jsxs(Ur,{value:u.priority,onValueChange:y=>d(w=>({...w,priority:y})),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"low",children:"Low"}),c.jsx(pt,{value:"normal",children:"Normal"}),c.jsx(pt,{value:"high",children:"High"}),c.jsx(pt,{value:"urgent",children:"Urgent"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium",children:"Expiry Date (Optional)"}),c.jsx(pr,{type:"datetime-local",value:u.expires_at,onChange:y=>d(w=>({...w,expires_at:y.target.value}))})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(Ge,{onClick:g,className:"flex-1",children:"Create Announcement"}),c.jsx(Ge,{variant:"outline",onClick:()=>a(!1),className:"flex-1",children:"Cancel"})]})]})]})]})]}),c.jsx("div",{className:"space-y-4",children:o?c.jsx("div",{className:"text-center py-8",children:"Loading announcements..."}):n.length===0?c.jsx(Oe,{children:c.jsxs(Ie,{className:"text-center py-8",children:[c.jsx(ND,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"No announcements yet"})]})}):n.map(y=>{var w,_,A,C;return c.jsxs(Oe,{className:`transition-all ${(w=y.read_status)!=null&&w.is_read?"opacity-75":"border-l-4 border-l-primary"}`,children:[c.jsx(tt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Pt,{className:m9e(y.priority),children:y.priority.toUpperCase()}),c.jsxs(Pt,{variant:"outline",className:"flex items-center gap-1",children:[c.jsx(ns,{className:"h-3 w-3"}),y.target_audience==="all"?"Everyone":y.target_audience==="parents"?"Parents":"Students"]}),y.expires_at&&c.jsxs(Pt,{variant:"outline",className:"flex items-center gap-1",children:[c.jsx(ia,{className:"h-3 w-3"}),"Expires ",lw(new Date(y.expires_at))]})]}),c.jsx(it,{className:"text-lg",children:y.title}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["By ",((_=y.creator)==null?void 0:_.full_name)||((A=y.creator)==null?void 0:A.email),"  "," ",lw(new Date(y.created_at))," ago"]})]}),c.jsxs("div",{className:"flex gap-2",children:[!((C=y.read_status)!=null&&C.is_read)&&c.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>v(y.id),children:c.jsx(th,{className:"h-4 w-4"})}),h&&y.creator_id===(t==null?void 0:t.id)&&c.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>x(y.id,y.is_active),children:y.is_active?c.jsx(rN,{className:"h-4 w-4"}):c.jsx(th,{className:"h-4 w-4"})})]})]})}),c.jsx(Ie,{children:c.jsx("div",{className:"prose max-w-none",children:c.jsx("p",{className:"whitespace-pre-wrap",children:y.content})})})]},y.id)})})]})},v9e=()=>{const{user:t,profile:e}=is(),{toast:r}=Kr(),[n,i]=j.useState({test_assignment_notifications:!0,test_result_notifications:!0,deadline_reminders:!0,announcement_notifications:!0,message_notifications:!0}),[s,a]=j.useState([]),[o,l]=j.useState({recipient:"",subject:"",content:""}),[u,d]=j.useState(!1),h=(e==null?void 0:e.role)==="admin";j.useEffect(()=>{t&&(f(),h&&g())},[t,h]);const f=async()=>{try{const y=localStorage.getItem(`email_settings_${t==null?void 0:t.id}`);y&&i(JSON.parse(y))}catch(y){console.error("Error loading email settings:",y)}},p=async y=>{try{localStorage.setItem(`email_settings_${t==null?void 0:t.id}`,JSON.stringify(y)),i(y),r({title:"Success",description:"Email notification settings saved"})}catch(w){console.error("Error saving email settings:",w),r({title:"Error",description:"Failed to save settings",variant:"destructive"})}},g=async()=>{if(h)try{const{data:y,error:w}=await je.from("email_queue").select("*").order("created_at",{ascending:!1}).limit(50);if(w)throw w;a(y||[])}catch(y){console.error("Error loading email queue:",y),r({title:"Error",description:"Failed to load email queue",variant:"destructive"})}},m=async()=>{if(!o.recipient||!o.subject||!o.content){r({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}d(!0);try{const{error:y}=await je.from("email_queue").insert({recipient_email:o.recipient,recipient_id:t.id,subject:o.subject,template_name:"test_email",template_data:{content:o.content}});if(y)throw y;l({recipient:"",subject:"",content:""}),r({title:"Success",description:"Test email queued for delivery"}),h&&g()}catch(y){console.error("Error sending test email:",y),r({title:"Error",description:"Failed to queue test email",variant:"destructive"})}finally{d(!1)}},v=async y=>{try{const{error:w}=await je.from("email_queue").update({status:"pending",scheduled_for:new Date().toISOString()}).eq("id",y);if(w)throw w;r({title:"Success",description:"Email queued for retry"}),g()}catch(w){console.error("Error retrying email:",w),r({title:"Error",description:"Failed to retry email",variant:"destructive"})}},x=y=>{switch(y){case"sent":return"bg-green-500/10 text-green-500 border-green-200";case"failed":return"bg-red-500/10 text-red-500 border-red-200";case"pending":return"bg-yellow-500/10 text-yellow-500 border-yellow-200";default:return"bg-gray-500/10 text-gray-500 border-gray-200"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(Uf,{className:"h-5 w-5"}),"Email Notification Preferences"]})}),c.jsx(Ie,{className:"space-y-4",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ft,{htmlFor:"test-assignment",children:"Test Assignment Notifications"}),c.jsx(La,{id:"test-assignment",checked:n.test_assignment_notifications,onCheckedChange:y=>p({...n,test_assignment_notifications:y})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ft,{htmlFor:"test-result",children:"Test Result Notifications"}),c.jsx(La,{id:"test-result",checked:n.test_result_notifications,onCheckedChange:y=>p({...n,test_result_notifications:y})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ft,{htmlFor:"deadline",children:"Deadline Reminders"}),c.jsx(La,{id:"deadline",checked:n.deadline_reminders,onCheckedChange:y=>p({...n,deadline_reminders:y})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ft,{htmlFor:"announcement",children:"Announcement Notifications"}),c.jsx(La,{id:"announcement",checked:n.announcement_notifications,onCheckedChange:y=>p({...n,announcement_notifications:y})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(ft,{htmlFor:"message",children:"Message Notifications"}),c.jsx(La,{id:"message",checked:n.message_notifications,onCheckedChange:y=>p({...n,message_notifications:y})})]})]})})]}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(ED,{className:"h-5 w-5"}),"Send Test Email"]})}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"recipient",children:"Recipient Email"}),c.jsx(pr,{id:"recipient",type:"email",placeholder:"test@example.com",value:o.recipient,onChange:y=>l(w=>({...w,recipient:y.target.value}))})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"subject",children:"Subject"}),c.jsx(pr,{id:"subject",placeholder:"Test email subject",value:o.subject,onChange:y=>l(w=>({...w,subject:y.target.value}))})]})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"content",children:"Content"}),c.jsx(Xl,{id:"content",placeholder:"Test email content...",value:o.content,onChange:y=>l(w=>({...w,content:y.target.value})),rows:4})]}),c.jsxs(Ge,{onClick:m,disabled:u,children:[c.jsx(ED,{className:"h-4 w-4 mr-2"}),u?"Sending...":"Send Test Email"]})]})]}),h&&c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(Ui,{className:"h-5 w-5"}),"Email Queue"]})}),c.jsx(Ie,{children:c.jsx(Wf,{className:"h-96",children:s.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No emails in queue"}):c.jsx("div",{className:"space-y-3",children:s.map(y=>c.jsxs("div",{className:"flex items-start justify-between p-3 border rounded-lg",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Pt,{className:x(y.status),children:y.status.toUpperCase()}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["to ",y.recipient_email]})]}),c.jsx("p",{className:"font-medium",children:y.subject}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[y.template_name,"  "," ",lw(new Date(y.created_at))," ago"]}),y.error_message&&c.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-red-500",children:[c.jsx(za,{className:"h-3 w-3"}),y.error_message]})]}),y.status==="failed"&&c.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>v(y.id),children:"Retry"})]},y.id))})})})]})]})},x9e=()=>{const{subtab:t}=dh(),e=ec(),r=t||"messages";j.useEffect(()=>{const i=window.location.pathname;if(!t&&(i.startsWith("/parent/communications")||i.startsWith("/admin/communications"))){const s=i.startsWith("/parent")?"/parent":"/admin";e(`${s}/communications/messages`,{replace:!0})}},[t,e]);const n=i=>{const a=window.location.pathname.startsWith("/parent")?"/parent":"/admin";e(`${a}/communications/${i}`)};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Gv,{className:"h-6 w-6"}),c.jsx("h1",{className:"text-2xl md:text-3xl font-bold",children:"Communication Center"})]}),c.jsx(r6,{})]}),c.jsxs(ua,{value:r,onValueChange:n,children:[c.jsxs(xo,{className:"grid w-full grid-cols-4",children:[c.jsxs(Cr,{value:"messages",className:"flex items-center gap-2",children:[c.jsx(Gv,{className:"h-4 w-4"}),"Messages"]}),c.jsxs(Cr,{value:"announcements",className:"flex items-center gap-2",children:[c.jsx(ND,{className:"h-4 w-4"}),"Announcements"]}),c.jsxs(Cr,{value:"notifications",className:"flex items-center gap-2",children:[c.jsx(OP,{className:"h-4 w-4"}),"Notifications"]}),c.jsxs(Cr,{value:"email",className:"flex items-center gap-2",children:[c.jsx(Uf,{className:"h-4 w-4"}),"Email Settings"]})]}),c.jsx(Kt,{value:"messages",children:c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsx(it,{children:"Messages"})}),c.jsx(Ie,{children:c.jsx(p9e,{})})]})}),c.jsx(Kt,{value:"announcements",children:c.jsx(g9e,{})}),c.jsx(Kt,{value:"notifications",children:c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsx(it,{children:"Notification History"})}),c.jsx(Ie,{children:c.jsx("p",{className:"text-muted-foreground",children:"Your notifications are managed through the notification center in the top navigation. All recent notifications appear there with real-time updates."})})]})}),c.jsx(Kt,{value:"email",children:c.jsx(v9e,{})})]})]})},y9e=({onSettingsUpdate:t})=>{const[e,r]=j.useState([]),[n,i]=j.useState([]),[s,a]=j.useState(!0),[o,l]=j.useState(null),[u,d]=j.useState(""),[h,f]=j.useState(!1),[p,g]=j.useState(!1),[m,v]=j.useState(!1),[x,y]=j.useState(!1),[w,_]=j.useState({}),{toast:A}=Kr();j.useEffect(()=>{C()},[]);const C=async()=>{try{const{data:z}=await je.auth.getUser();if(!z.user)return;const{data:U,error:H}=await je.from("ai_providers").select("*").eq("is_active",!0).order("name");if(H)throw H;const{data:B,error:X}=await je.from("user_ai_provider_keys").select(`
          *,
          ai_providers(*)
        `).eq("user_id",z.user.id);if(X)throw X;r((U||[]).filter(ne=>["gemini","groq"].includes(ne.provider_key.toLowerCase()))),i(B||[])}catch(z){A({title:"Error fetching AI providers",description:z.message,variant:"destructive"})}finally{a(!1)}},N=z=>{l(z),d(""),g(!0)},E=z=>{l(z.ai_providers||null),d(""),g(!0)},P=async()=>{if(!o||!u.trim()){A({title:"Missing information",description:"Please provide a valid API key.",variant:"destructive"});return}v(!0);try{const{data:z,error:U}=await je.functions.invoke("encrypt-api-key",{body:{providerId:o.id,apiKey:u}});if(U)throw U;if(!z.success)throw new Error(z.error);A({title:"API key saved securely",description:`Your ${o.name} API key has been encrypted and saved with audit logging.`}),g(!1),d(""),l(null),C(),t==null||t()}catch(z){A({title:"Failed to save API key",description:z.message||"Server-side encryption failed",variant:"destructive"})}finally{v(!1)}},L=async(z,U)=>{if(confirm(`Are you sure you want to delete your ${U} API key?`))try{const{error:H}=await je.from("user_ai_provider_keys").delete().eq("id",z);if(H)throw H;A({title:"API key deleted",description:`Your ${U} API key has been deleted.`}),C(),t==null||t()}catch(H){A({title:"Failed to delete API key",description:H.message,variant:"destructive"})}},O=async z=>{if(z.ai_providers&&confirm(`This will delete your current ${z.ai_providers.name} API key due to encryption key changes. You'll need to re-enter it. Continue?`))try{const{error:U}=await je.from("user_ai_provider_keys").delete().eq("id",z.id);if(U)throw U;A({title:"API key cleared",description:`Your ${z.ai_providers.name} API key has been cleared. Please add it again.`}),_(H=>{const B={...H};return delete B[z.id],B}),C(),t==null||t()}catch(U){A({title:"Failed to clear API key",description:U.message,variant:"destructive"})}},k=async z=>{var U,H;if(z.ai_providers){y(!0),console.log("Starting API key test for:",z.ai_providers.name);try{console.log("Calling decrypt-api-key function...");const{data:B,error:X}=await je.functions.invoke("decrypt-api-key",{body:{providerId:z.ai_provider_id}});if(console.log("Decrypt response:",{decryptData:B,decryptError:X}),X||!(B!=null&&B.success)){if(console.error("Decryption failed:",X,B),(U=B==null?void 0:B.error)!=null&&U.includes("Failed to decrypt API key")){_(I=>({...I,[z.id]:{success:!1,message:" Encryption key mismatch - click Fix to resolve"}})),A({title:"Encryption Key Mismatch",description:`Your ${z.ai_providers.name} API key was encrypted with a different key. Click the "Fix Encryption" button to resolve this.`,variant:"destructive"});return}throw new Error((B==null?void 0:B.error)||(X==null?void 0:X.message)||"Failed to decrypt API key")}console.log("Testing API key for provider:",z.ai_providers.name),console.log("Calling test-api-key function...");const{data:ne,error:fe}=await je.functions.invoke("test-api-key",{body:{providerId:z.ai_provider_id,apiKey:B.apiKey}});if(console.log("Test response:",{data:ne,error:fe}),fe)throw fe;if(ne.success)console.log("API key test successful:",ne),_(I=>({...I,[z.id]:{success:!0,message:` Working with ${ne.model}`,model:ne.model}})),A({title:"API Key Valid",description:`${z.ai_providers.name} API key is working correctly with ${ne.model}.`});else throw console.error("API key test failed:",ne),new Error(ne.error||"API key test failed")}catch(B){console.error("handleTestKey error:",B),_(X=>({...X,[z.id]:{success:!1,message:` ${B.message}`}})),A({title:"API Key Test Failed",description:`${(H=z.ai_providers)==null?void 0:H.name} API key test failed: ${B.message}`,variant:"destructive"})}finally{y(!1)}}},D=z=>n.some(U=>U.ai_provider_id===z),F=z=>{switch(z.toLowerCase()){case"gemini":return c.jsx(Kd,{className:"w-5 h-5"});default:return c.jsx(vg,{className:"w-5 h-5"})}};return s?c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center",children:"Loading AI provider settings..."})})}):c.jsx("div",{className:"space-y-6",children:c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(vg,{className:"w-5 h-5 mr-2"}),"AI Provider Settings"]}),c.jsx(Xt,{children:"Configure your API keys for the AI providers set up by your administrator."})]}),c.jsxs(Ie,{className:"space-y-6",children:[c.jsxs(Ko,{children:[c.jsx(aa,{className:"h-4 w-4"}),c.jsx(Yo,{children:"Your API keys are encrypted and stored securely. They are only used to process your pages and generate questions. Test your keys to ensure they're working correctly before generating questions."})]}),c.jsx("div",{className:"grid gap-4",children:e.map(z=>{var B,X;const U=n.find(ne=>ne.ai_provider_id===z.id),H=D(z.id);return c.jsx(Oe,{className:"border-2",children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:F(z.provider_key)}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium",children:z.name}),c.jsx("p",{className:"text-sm text-muted-foreground",children:z.description})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:H?c.jsxs(c.Fragment,{children:[c.jsxs(Pt,{variant:"default",className:"bg-green-100 text-green-800",children:[c.jsx(qu,{className:"w-3 h-3 mr-1"}),"Configured"]}),w[U.id]&&c.jsx(Pt,{variant:w[U.id].success?"default":"destructive",className:w[U.id].success?"bg-blue-100 text-blue-800":"",children:w[U.id].message}),((X=(B=w[U.id])==null?void 0:B.message)==null?void 0:X.includes("Encryption key mismatch"))&&c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>O(U),className:"text-orange-600 hover:text-orange-700",children:[c.jsx(fA,{className:"w-4 h-4 mr-1"}),"Fix Encryption"]}),c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>k(U),disabled:x,children:[x?c.jsx(zw,{className:"w-4 h-4 mr-1 animate-spin"}):c.jsx(qu,{className:"w-4 h-4 mr-1"}),"Test"]}),c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>E(U),children:[c.jsx(nN,{className:"w-4 h-4 mr-1"}),"Edit"]}),c.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>L(U.id,z.name),className:"text-red-600 hover:text-red-700",children:c.jsx(qw,{className:"w-4 h-4"})})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Pt,{variant:"secondary",children:[c.jsx(za,{className:"w-3 h-3 mr-1"}),"Not Configured"]}),c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>N(z),children:[c.jsx(vg,{className:"w-4 h-4 mr-1"}),"Add Key"]})]})})]})})},z.id)})}),e.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(vg,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No AI providers available"}),c.jsx("p",{className:"text-muted-foreground",children:"Contact your administrator to enable AI providers."})]})]}),c.jsx(Hf,{open:p,onOpenChange:g,children:c.jsxs(sh,{children:[c.jsxs(Gu,{children:[c.jsxs(Ku,{children:[n.find(z=>z.ai_provider_id===(o==null?void 0:o.id))?"Update":"Add"," API Key"]}),c.jsx(r0,{children:o&&c.jsxs(c.Fragment,{children:["Enter your ",o.name," API key. This will be encrypted and stored securely."]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"apiKey",children:"API Key"}),c.jsxs("div",{className:"relative",children:[c.jsx(pr,{id:"apiKey",type:h?"text":"password",value:u,onChange:z=>d(z.target.value),placeholder:"Enter your API key",className:"pr-10"}),c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!h),children:h?c.jsx(rN,{className:"h-4 w-4"}):c.jsx(th,{className:"h-4 w-4"})})]})]}),c.jsxs(Ko,{children:[c.jsx(aa,{className:"h-4 w-4"}),c.jsx(Yo,{children:"Your API key will be encrypted before storage and only used for processing your documents."})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(Ge,{onClick:P,disabled:m||!u.trim(),className:"flex-1",children:m?"Saving...":"Save API Key"}),c.jsx(Ge,{variant:"outline",onClick:()=>{g(!1),d(""),l(null)},children:"Cancel"})]})]})]})})]})})},X9=()=>{var g,m,v;const{user:t,profile:e,updateProfile:r}=is(),{toast:n}=Kr(),[i,s]=j.useState(!1),[a,o]=j.useState([]),[l,u]=j.useState({full_name:(e==null?void 0:e.full_name)||"",email:(e==null?void 0:e.email)||""});j.useEffect(()=>{e&&(u({full_name:e.full_name||"",email:e.email||""}),e.role==="parent"&&d())},[e]);const d=async()=>{if(t)try{const{data:x,error:y}=await je.from("parent_child_relationships").select("child_id").eq("parent_id",t.id);if(y)throw y;if(x&&x.length>0){const w=x.map(C=>C.child_id),{data:_,error:A}=await je.from("profiles").select("id, user_id, full_name, email, created_at").in("user_id",w);if(A)throw A;o(_||[])}}catch(x){console.error("Error loading children:",x)}},h=async()=>{if(!l.full_name.trim()){n({title:"Error",description:"Full name is required",variant:"destructive"});return}s(!0);try{const{error:x}=await r({full_name:l.full_name.trim()});if(x)throw new Error(x);n({title:"Success",description:"Profile updated successfully"})}catch(x){n({title:"Error",description:x.message,variant:"destructive"})}finally{s(!1)}},f=x=>{switch(x){case"admin":return c.jsx(R$,{className:"h-5 w-5"});case"parent":return c.jsx(ns,{className:"h-5 w-5"});case"child":return c.jsx(qy,{className:"h-5 w-5"});default:return c.jsx(Fa,{className:"h-5 w-5"})}},p=x=>{switch(x){case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"parent":return"bg-blue-100 text-blue-800 border-blue-200";case"child":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return e?c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(Fa,{className:"h-5 w-5"}),"Profile Information"]})}),c.jsx(Ie,{className:"space-y-6",children:c.jsxs("div",{className:"flex items-start gap-6",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-primary/10 flex items-center justify-center text-2xl font-semibold",children:((g=e.full_name)==null?void 0:g[0])||((v=(m=e.email)==null?void 0:m[0])==null?void 0:v.toUpperCase())||"U"}),c.jsx(Ge,{variant:"outline",size:"sm",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",children:c.jsx(bye,{className:"h-3 w-3"})})]}),c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs(Pt,{className:`flex items-center gap-1 ${p(e.role)}`,children:[f(e.role),e.role.charAt(0).toUpperCase()+e.role.slice(1)]}),c.jsx(Pt,{variant:e.is_approved?"default":"secondary",children:e.is_approved?"Approved":"Pending Approval"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"full_name",children:"Full Name"}),c.jsx(pr,{id:"full_name",value:l.full_name,onChange:x=>u(y=>({...y,full_name:x.target.value})),placeholder:"Enter your full name"})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"email",children:"Email"}),c.jsxs("div",{className:"relative",children:[c.jsx(Uf,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(pr,{id:"email",value:l.email,disabled:!0,className:"pl-9"})]})]})]}),c.jsx(Ge,{onClick:h,disabled:i,className:"w-full md:w-auto",children:i?c.jsxs(c.Fragment,{children:[c.jsx(zw,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Jb,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})]})]})})]}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(aa,{className:"h-5 w-5"}),"Account Details"]})}),c.jsx(Ie,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(Uf,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Email:"}),c.jsx("span",{children:e.email})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(ia,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Member since:"}),c.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(aa,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Role:"}),c.jsxs(Pt,{className:`${p(e.role)}`,children:[f(e.role),e.role.charAt(0).toUpperCase()+e.role.slice(1)]})]}),c.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[c.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-muted-foreground",children:"Status:"}),c.jsx(Pt,{variant:e.is_approved?"default":"secondary",children:e.is_approved?"Approved":"Pending"})]})]})]})})]}),e.role==="parent"&&c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(qy,{className:"h-5 w-5"}),"My Children"]})}),c.jsx(Ie,{children:a.length===0?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(qy,{className:"h-12 w-12 mx-auto mb-4"}),c.jsx("p",{children:"No children added yet"}),c.jsx("p",{className:"text-sm",children:"Children can be added by creating accounts with their information"})]}):c.jsx("div",{className:"space-y-3",children:a.map(x=>c.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:c.jsx(qy,{className:"h-5 w-5 text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:x.full_name||"Unknown"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:x.email})]}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Added ",new Date(x.created_at).toLocaleDateString()]})]},x.id))})})]}),e.role==="admin"&&!e.is_approved&&c.jsx(Oe,{className:"border-orange-200 bg-orange-50",children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(aa,{className:"h-5 w-5 text-orange-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-orange-800",children:"Account Pending Approval"}),c.jsx("p",{className:"text-sm text-orange-700 mt-1",children:"Your admin account requires approval from an existing administrator. Please contact the system administrator to activate your account."})]})]})})})]}):c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center",children:"Loading profile..."})})})};var $de="AlertDialog",[b9e,y0t]=vo($de,[sie]),rp=sie(),Bde=t=>{const{__scopeAlertDialog:e,...r}=t,n=rp(e);return c.jsx(_B,{...n,...r,modal:!0})};Bde.displayName=$de;var w9e="AlertDialogTrigger",Ude=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rp(r);return c.jsx(wie,{...i,...n,ref:e})});Ude.displayName=w9e;var _9e="AlertDialogPortal",zde=t=>{const{__scopeAlertDialog:e,...r}=t,n=rp(e);return c.jsx(SB,{...n,...r})};zde.displayName=_9e;var S9e="AlertDialogOverlay",qde=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rp(r);return c.jsx(mN,{...i,...n,ref:e})});qde.displayName=S9e;var A1="AlertDialogContent",[A9e,j9e]=b9e(A1),Wde=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=rp(r),a=j.useRef(null),o=br(e,a),l=j.useRef(null);return c.jsx(wNe,{contentName:A1,titleName:Hde,docsSlug:"alert-dialog",children:c.jsx(A9e,{scope:r,cancelRef:l,children:c.jsxs(gN,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:mt(i.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(P$,{children:n}),c.jsx(E9e,{contentRef:a})]})})})});Wde.displayName=A1;var Hde="AlertDialogTitle",Vde=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rp(r);return c.jsx(vN,{...i,...n,ref:e})});Vde.displayName=Hde;var Gde="AlertDialogDescription",Kde=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rp(r);return c.jsx(xN,{...i,...n,ref:e})});Kde.displayName=Gde;var N9e="AlertDialogAction",Yde=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=rp(r);return c.jsx(Q3,{...i,...n,ref:e})});Yde.displayName=N9e;var Xde="AlertDialogCancel",Qde=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=j9e(Xde,r),s=rp(r),a=br(e,i);return c.jsx(Q3,{...s,...n,ref:a})});Qde.displayName=Xde;var E9e=({contentRef:t})=>{const e=`\`${A1}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${A1}\` by passing a \`${Gde}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${A1}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{var n;document.getElementById((n=t.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},C9e=Bde,T9e=Ude,P9e=zde,Jde=qde,Zde=Wde,ehe=Yde,the=Qde,rhe=Vde,nhe=Kde;const aP=C9e,k9e=T9e,O9e=P9e,ihe=j.forwardRef(({className:t,...e},r)=>c.jsx(Jde,{className:He("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));ihe.displayName=Jde.displayName;const MS=j.forwardRef(({className:t,...e},r)=>c.jsxs(O9e,{children:[c.jsx(ihe,{}),c.jsx(Zde,{ref:r,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));MS.displayName=Zde.displayName;const LS=({className:t,...e})=>c.jsx("div",{className:He("flex flex-col space-y-2 text-center sm:text-left",t),...e});LS.displayName="AlertDialogHeader";const IS=({className:t,...e})=>c.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});IS.displayName="AlertDialogFooter";const RS=j.forwardRef(({className:t,...e},r)=>c.jsx(rhe,{ref:r,className:He("text-lg font-semibold",t),...e}));RS.displayName=rhe.displayName;const DS=j.forwardRef(({className:t,...e},r)=>c.jsx(nhe,{ref:r,className:He("text-sm text-muted-foreground",t),...e}));DS.displayName=nhe.displayName;const Q9=j.forwardRef(({className:t,...e},r)=>c.jsx(ehe,{ref:r,className:He(tw(),t),...e}));Q9.displayName=ehe.displayName;const FS=j.forwardRef(({className:t,...e},r)=>c.jsx(the,{ref:r,className:He(tw({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));FS.displayName=the.displayName;const M9e=({label:t="Select Pages",availablePages:e,selectedPages:r,onChange:n,disabled:i,className:s})=>{e.length>0&&(r.length,e.length);const a=30,o=e.length?Math.min(...e):1,l=e.length?Math.max(...e):0,[u,d]=ue.useState(o);ue.useEffect(()=>{d(o)},[o]);const h=Math.min(u+a-1,l||u),f=u>o,p=h<l,g=e.filter(C=>C>=u&&C<=h),m=g.length>0&&g.every(C=>r.includes(C)),v=C=>{if(C){const N=new Set([...r,...g]);n(Array.from(N).sort((E,P)=>E-P))}else n(r.filter(N=>!g.includes(N)))},x=(C,N)=>{n(N?[...new Set([...r,C])]:r.filter(E=>E!==C))},y=r.length>0?`${r.length} page${r.length>1?"s":""} selected`:"Choose pages",_=(C=>{if(!C||C.length===0)return"None";const N=[...new Set(C)].sort((O,k)=>O-k),E=[];let P=N[0],L=N[0];for(let O=1;O<N.length;O++){const k=N[O];k===L+1?L=k:(E.push(P===L?`${P}`:`${P}-${L}`),P=L=k)}return E.push(P===L?`${P}`:`${P}-${L}`),E.join(", ")})(r),A=[...g].sort((C,N)=>C-N);return c.jsxs(zm,{children:[c.jsx(qm,{asChild:!0,children:c.jsxs(Ge,{type:"button",variant:"outline",disabled:i,className:He("justify-between",s),children:[c.jsx("span",{className:"truncate",children:t}),c.jsx("span",{className:"ml-2 text-muted-foreground",children:y})]})}),c.jsxs(Nf,{align:"start",className:"z-50 bg-background border shadow-md w-72 p-0",children:[c.jsxs("div",{className:"border-b px-3 py-2 text-xs text-muted-foreground",children:[c.jsx("span",{className:"font-medium",children:"Selected:"})," ",_]}),c.jsxs("div",{className:"border-b px-3 py-2 flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(co,{id:"select-all-pages",checked:m,onCheckedChange:C=>v(!!C)}),c.jsx("label",{htmlFor:"select-all-pages",className:"text-sm",children:"Select Window"})]}),c.jsx("div",{className:"text-xs text-muted-foreground",children:e.length?`Pages ${u}${h}`:"No pages"})]}),c.jsx(Wf,{className:"max-h-64",children:c.jsx("div",{className:"grid grid-cols-3 gap-2 p-3",children:A.map(C=>c.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[c.jsx(co,{id:`page-${C}`,checked:r.includes(C),onCheckedChange:N=>x(C,!!N)}),c.jsxs("span",{children:["Page ",C]})]},C))})}),c.jsxs("div",{className:"border-t px-3 py-2 flex items-center justify-between",children:[c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(Math.max(o,u-a)),disabled:!f,"aria-label":"Previous pages",children:"Prev"}),c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",onClick:()=>d(Math.min(Math.max(o,l-a+1),u+a)),disabled:!p,"aria-label":"Next pages",children:"Next"})]})]})]})},mK=({onRefresh:t,editingPaper:e,onPaperCreated:r})=>{var ye,Se,we,We,Ve,ke;const[n,i]=j.useState({title:"",subject_id:"",class_level:"",total_questions:10,time_limit_minutes:60,max_attempts:1,assign_to_all:!0,show_results:!1,difficulty_filter:[],difficulty:"",selected_children:[],selected_questions:[]}),[s,a]=j.useState([]),[o,l]=j.useState([]),[u,d]=j.useState([]),[h,f]=j.useState([]),[p,g]=j.useState([]),[m,v]=j.useState(!1),[x,y]=j.useState(!1),[w,_]=j.useState({}),[A,C]=j.useState({search:"",difficulty:"",topic:"",page_numbers:[],dateRange:{from:void 0,to:void 0}}),[N,E]=j.useState([]),[P,L]=j.useState([]),[O,k]=j.useState("");j.useRef(null),j.useRef(null);const{user:D}=is(),{toast:F}=Kr();ue.useEffect(()=>{z(),U(),D!=null&&D.id&&H()},[D==null?void 0:D.id]),ue.useEffect(()=>{e?(s.length===0&&z(),i(Q=>({...Q,title:e.title||"",subject_id:e.subject_id||"",class_level:e.class_level||"",total_questions:e.total_questions||10,time_limit_minutes:e.time_limit_minutes||60,start_time:e.start_time?new Date(e.start_time):void 0,end_time:e.end_time?new Date(e.end_time):void 0,max_attempts:e.max_attempts||1,assign_to_all:e.assign_to_all??!0,show_results:e.show_results||!1,difficulty_filter:e.difficulty_filter&&e.difficulty_filter.length>0?[e.difficulty_filter[0]]:[]})),k(e?"selected":"unselected"),e.id&&X(e.id)):k("unselected")},[e,s.length]),ue.useEffect(()=>{n.subject_id&&n.class_level?ne():E([])},[n.subject_id,n.class_level]),ue.useEffect(()=>{n.subject_id&&n.class_level&&A.difficulty?B():(f([]),g([]))},[n.subject_id,n.class_level,A.difficulty]),ue.useEffect(()=>{var Q;if(P.length>0&&n.subject_id&&n.class_level){const _e=P.filter(Te=>{var rt;return!((rt=n.difficulty_filter)!=null&&rt.length)||n.difficulty_filter.includes(Te.difficulty)}),Ue=_e.map(Te=>Te.id);Ue.length!==((Q=n.selected_questions)==null?void 0:Q.length)&&(L(_e),i(Te=>({...Te,selected_questions:Ue})))}},[n.difficulty_filter]),ue.useEffect(()=>{fe()},[h,A]);const z=async()=>{try{const{data:Q}=await je.auth.getUser();if(!Q.user)return;const{data:_e,error:Ue}=await je.from("subjects_parent").select("*").eq("parent_id",Q.user.id).eq("is_active",!0).order("subject_name");if(Ue)throw Ue;a((_e||[]).map(Te=>({id:Te.id,name:Te.subject_name})))}catch(Q){console.error("Error loading subjects:",Q)}},U=async()=>{try{const{data:Q}=await je.auth.getUser();if(!Q.user)return;const{data:_e,error:Ue}=await je.from("classes_parent").select("*").eq("parent_id",Q.user.id).eq("is_active",!0).order("display_order");if(Ue)throw Ue;l(_e||[])}catch(Q){console.error("Error loading classes:",Q)}},H=async()=>{if(!(D!=null&&D.id)){console.log("No user ID available, skipping children load");return}try{console.log("Loading children for user:",D.id);const{data:Q,error:_e}=await je.from("parent_child_relationships").select("child_id").eq("parent_id",D.id);if(_e)throw _e;if(!Q||Q.length===0){d([]);return}const Ue=Q.map(rt=>rt.child_id),{data:Te,error:qe}=await je.from("profiles").select("id, user_id, full_name, email").in("user_id",Ue);if(qe)throw qe;d(Te||[])}catch(Q){console.error("Error loading children:",Q)}},B=async()=>{var Q;if(!(!n.subject_id||!n.class_level||!A.difficulty)){y(!0);try{let _e=je.from("questions").select("*").eq("subject_parent_id",n.subject_id).eq("class_parent_id",n.class_level).eq("is_deleted",!1).order("created_at",{ascending:!1});A.difficulty!=="all"&&(_e=_e.eq("difficulty",A.difficulty));const{data:Ue,error:Te}=await _e;if(Te)throw Te;let qe=Ue||[];A.difficulty==="all"&&((Q=n.difficulty_filter)!=null&&Q.length)&&(qe=qe.filter(rt=>n.difficulty_filter.includes(rt.difficulty))),f(qe)}catch(_e){console.error("Error loading questions:",_e),F({title:"Error",description:"Failed to load questions",variant:"destructive"})}finally{y(!1)}}},X=async Q=>{try{const{data:_e,error:Ue}=await je.from("question_paper_questions").select(`
          questions (
            id,
            question_text,
            option_a,
            option_b,
            option_c,
            option_d,
            correct_answer,
            difficulty,
            topic,
            page_number,
            created_at
          )
        `).eq("question_paper_id",Q);if(Ue)throw Ue;const Te=(_e==null?void 0:_e.map(qe=>qe.questions).filter(Boolean))||[];L(Te),i(qe=>({...qe,selected_questions:Te.map(rt=>rt.id)}))}catch(_e){console.error("Error loading selected questions:",_e)}},ne=async()=>{if(!(!n.subject_id||!n.class_level))try{const{data:Q,error:_e}=await je.from("questions").select("page_number").eq("subject_parent_id",n.subject_id).eq("class_parent_id",n.class_level).eq("is_deleted",!1).not("page_number","is",null).order("page_number");if(_e)throw _e;const Ue=[...new Set((Q==null?void 0:Q.map(Te=>Te.page_number).filter(Boolean))||[])];E(Ue.sort((Te,qe)=>Te-qe))}catch(Q){console.error("Error loading available pages:",Q),E([])}},fe=()=>{let Q=[...h];A.search&&(Q=Q.filter(_e=>{var Ue;return _e.question_text.toLowerCase().includes(A.search.toLowerCase())||((Ue=_e.topic)==null?void 0:Ue.toLowerCase().includes(A.search.toLowerCase()))||_e.option_a.toLowerCase().includes(A.search.toLowerCase())||_e.option_b.toLowerCase().includes(A.search.toLowerCase())||_e.option_c.toLowerCase().includes(A.search.toLowerCase())||_e.option_d.toLowerCase().includes(A.search.toLowerCase())})),A.page_numbers.length>0&&(Q=Q.filter(_e=>_e.page_number&&A.page_numbers.includes(_e.page_number))),(A.dateRange.from||A.dateRange.to)&&(Q=Q.filter(_e=>{const Ue=new Date(_e.created_at),Te=!A.dateRange.from||Ue>=A.dateRange.from,qe=!A.dateRange.to||Ue<=A.dateRange.to;return Te&&qe})),g(Q)},I=()=>{const Q={};return n.title.trim()||(Q.title="Title is required"),n.subject_id||(Q.subject_id="Subject is required"),n.class_level||(Q.class_level="Class level is required"),n.start_time&&n.end_time&&n.start_time>=n.end_time&&(Q.end_time="End time must be after start time"),_(Q),Object.keys(Q).length===0},q=async Q=>{var _e,Ue;if(Q.preventDefault(),!!I()){v(!0);try{const Te={title:n.title,subject_id:n.subject_id,class_level:n.class_level,total_questions:n.total_questions,time_limit_minutes:n.time_limit_minutes,user_id:D==null?void 0:D.id,start_time:((_e=n.start_time)==null?void 0:_e.toISOString())||null,end_time:((Ue=n.end_time)==null?void 0:Ue.toISOString())||null,max_attempts:n.max_attempts,assign_to_all:n.assign_to_all,show_results:n.show_results,difficulty_filter:n.difficulty_filter||[]};let qe;if(e){const{error:rt}=await je.from("question_papers").update(Te).eq("id",e.id);if(rt)throw rt;qe=e.id,await je.from("paper_assignments").delete().eq("paper_id",qe)}else{const{data:rt,error:ct}=await je.from("question_papers").insert(Te).select().single();if(ct)throw ct;qe=rt.id}if(n.selected_questions&&n.selected_questions.length>0){if(e){const{error:$e}=await je.from("question_paper_questions").delete().eq("question_paper_id",qe);if($e)throw $e}const rt=n.selected_questions.map(($e,At)=>({question_paper_id:qe,question_id:$e,question_order:At+1})),{error:ct}=await je.from("question_paper_questions").insert(rt);if(ct)throw ct}if(!n.assign_to_all&&n.selected_children&&n.selected_children.length>0){const rt=n.selected_children.map($e=>({paper_id:qe,assigned_to_user_id:$e})),{error:ct}=await je.from("paper_assignments").insert(rt);if(ct)throw ct}F({title:"Success",description:e?"Paper updated successfully!":"Paper created successfully!",variant:"default"}),e||i({title:"",subject_id:"",class_level:"",total_questions:10,time_limit_minutes:60,max_attempts:1,assign_to_all:!0,show_results:!1,difficulty_filter:[],selected_children:[],selected_questions:[]}),r==null||r()}catch(Te){console.error("Error saving paper:",Te),F({title:"Error",description:e?"Failed to update paper":"Failed to create paper",variant:"destructive"})}finally{v(!1)}}},{paginatedData:V,...K}=e9({data:p,itemsPerPage:10}),Y=()=>{var Ue;const Q=Math.min(V.length,n.total_questions-(((Ue=n.selected_questions)==null?void 0:Ue.length)||0));if(Q===0){F({title:"Selection Limit",description:`You can only select ${n.total_questions} questions total`,variant:"destructive"});return}const _e=V.slice(0,Q).filter(Te=>{var qe;return!((qe=n.selected_questions)!=null&&qe.includes(Te.id))}).map(Te=>Te.id);i(Te=>({...Te,selected_questions:[...Te.selected_questions||[],..._e]}))},ae=(Q,_e)=>{var Ue;if(_e){if((((Ue=n.selected_questions)==null?void 0:Ue.length)||0)>=n.total_questions){F({title:"Selection Limit",description:`You can only select ${n.total_questions} questions`,variant:"destructive"});return}const Te=p.find(qe=>qe.id===Q);Te&&L(qe=>[...qe,Te]),i(qe=>({...qe,selected_questions:[...qe.selected_questions||[],Q]}))}else L(Te=>Te.filter(qe=>qe.id!==Q)),i(Te=>{var qe;return{...Te,selected_questions:((qe=Te.selected_questions)==null?void 0:qe.filter(rt=>rt!==Q))||[]}})},pe=Q=>{L(_e=>_e.filter(Ue=>Ue.id!==Q)),i(_e=>{var Ue;return{..._e,selected_questions:((Ue=_e.selected_questions)==null?void 0:Ue.filter(Te=>Te!==Q))||[]}})},le=Q=>{switch(Q){case"easy":return"secondary";case"medium":return"default";case"difficult":return"destructive";default:return"outline"}};return c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(sa,{className:"w-5 h-5 mr-2"}),e?"Edit Question Paper":"Create Question Paper"]}),c.jsx(Xt,{children:e?"Update your existing question paper configuration":"Create a new question paper with all configuration options"})]}),c.jsx(Ie,{children:c.jsxs("form",{onSubmit:q,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{htmlFor:"title",children:"Paper Title *"}),c.jsx(pr,{id:"title",value:n.title,onChange:Q=>i(_e=>({..._e,title:Q.target.value})),placeholder:"Enter paper title",className:He(w.title&&"border-destructive")}),w.title&&c.jsxs("p",{className:"text-sm text-destructive flex items-center",children:[c.jsx(za,{className:"w-3 h-3 mr-1"}),w.title]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Subject *"}),c.jsxs(Ur,{value:n.subject_id,onValueChange:Q=>i(_e=>({..._e,subject_id:Q})),disabled:!!e,children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select subject"})}),c.jsx(Dr,{children:s.map(Q=>c.jsx(pt,{value:Q.id,children:Q.name},Q.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Class Level *"}),c.jsxs(Ur,{value:n.class_level,onValueChange:Q=>i(_e=>({..._e,class_level:Q})),disabled:!!e,children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select class"})}),c.jsx(Dr,{children:o.map(Q=>c.jsx(pt,{value:Q.id,children:Q.class_name},Q.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Total Questions"}),c.jsx(pr,{type:"number",value:n.total_questions,onChange:Q=>i(_e=>({..._e,total_questions:parseInt(Q.target.value)||10})),min:"1",max:"100"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Time Limit (Minutes)"}),c.jsx(pr,{type:"number",value:n.time_limit_minutes,onChange:Q=>i(_e=>({..._e,time_limit_minutes:parseInt(Q.target.value)||60})),min:"5",max:"600"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Max Attempts"}),c.jsx(pr,{type:"number",value:n.max_attempts,onChange:Q=>i(_e=>({..._e,max_attempts:parseInt(Q.target.value)||1})),min:"1",max:"10"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Difficulty Level"}),c.jsxs(Ur,{value:((ye=n.difficulty_filter)==null?void 0:ye[0])||"",onValueChange:Q=>i(_e=>({..._e,difficulty_filter:Q?[Q]:[]})),disabled:!!e,children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select difficulty"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"easy",children:"Easy"}),c.jsx(pt,{value:"medium",children:"Medium"}),c.jsx(pt,{value:"difficult",children:"Difficult"})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-medium",children:"Test Scheduling (Optional)"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Start Time"}),c.jsxs(zm,{children:[c.jsx(qm,{asChild:!0,children:c.jsxs(Ge,{variant:"outline",className:"w-full justify-start",children:[c.jsx(ia,{className:"mr-2 h-4 w-4"}),n.start_time?ai(n.start_time,"PPP"):"Pick date"]})}),c.jsx(Nf,{className:"w-auto p-0",children:c.jsx(f1,{mode:"single",selected:n.start_time,onSelect:Q=>{i(_e=>({..._e,start_time:Q})),setTimeout(()=>{if(document.querySelector("[data-radix-popper-content-wrapper]")){const Ue=new KeyboardEvent("keydown",{key:"Escape"});document.dispatchEvent(Ue)}},100)}})})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"End Time"}),c.jsxs(zm,{children:[c.jsx(qm,{asChild:!0,children:c.jsxs(Ge,{variant:"outline",className:"w-full justify-start",children:[c.jsx(ia,{className:"mr-2 h-4 w-4"}),n.end_time?ai(n.end_time,"PPP"):"Pick date"]})}),c.jsx(Nf,{className:"w-auto p-0",children:c.jsx(f1,{mode:"single",selected:n.end_time,onSelect:Q=>{i(_e=>({..._e,end_time:Q})),setTimeout(()=>{if(document.querySelector("[data-radix-popper-content-wrapper]")){const Ue=new KeyboardEvent("keydown",{key:"Escape"});document.dispatchEvent(Ue)}},100)}})})]})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("h3",{className:"font-medium",children:"Assignment & Results Settings"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(La,{checked:n.assign_to_all,onCheckedChange:Q=>i(_e=>({..._e,assign_to_all:Q,selected_children:Q?[]:_e.selected_children}))}),c.jsx(ft,{children:"Assign to All Children"})]}),!n.assign_to_all&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs(ft,{className:"flex items-center",children:[c.jsx(ns,{className:"w-4 h-4 mr-2"}),"Select Children to Assign"]}),u.length===0?c.jsx("p",{className:"text-sm text-muted-foreground",children:"No children found. Add children to your account first."}):c.jsx("div",{className:"grid grid-cols-1 gap-2 max-h-48 overflow-y-auto",children:u.map(Q=>{var _e;return c.jsxs("div",{className:"flex items-center space-x-2 p-2 border rounded",children:[c.jsx(co,{id:Q.id,checked:((_e=n.selected_children)==null?void 0:_e.includes(Q.user_id))||!1,onCheckedChange:Ue=>{i(Ue?Te=>({...Te,selected_children:[...Te.selected_children||[],Q.user_id]}):Te=>{var qe;return{...Te,selected_children:((qe=Te.selected_children)==null?void 0:qe.filter(rt=>rt!==Q.user_id))||[]}})}}),c.jsx(ft,{htmlFor:Q.id,className:"text-sm",children:Q.full_name||Q.email})]},Q.id)})})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(La,{checked:n.show_results,onCheckedChange:Q=>i(_e=>({..._e,show_results:Q}))}),c.jsx(ft,{children:"Auto-approve Results"})]})]})]})]}),c.jsxs("div",{className:"space-y-4 p-4 border rounded-lg",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("h3",{className:"font-medium flex items-center",children:[c.jsx(pA,{className:"w-4 h-4 mr-2"}),"Select Questions"]})}),c.jsxs(ua,{value:O,onValueChange:k,className:"w-full",children:[c.jsxs(xo,{className:"grid w-full grid-cols-2",children:[c.jsxs(Cr,{value:"selected",className:"flex items-center gap-2",children:["Selected Questions",P.length>0&&c.jsx(Pt,{variant:"secondary",className:"ml-1",children:P.length})]}),c.jsx(Cr,{value:"unselected",className:"flex items-center gap-2",children:"Unselected Questions"})]}),c.jsx(Kt,{value:"selected",className:"space-y-4",children:P.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:'No questions selected yet. Go to "Unselected Questions" tab to add questions.'})}):c.jsxs("div",{className:"border rounded-lg",children:[c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{className:"w-12",children:"Remove"}),c.jsx(qt,{children:"Question"}),c.jsx(qt,{className:"w-24",children:"Difficulty"}),c.jsx(qt,{className:"w-32",children:"Topic"}),c.jsx(qt,{className:"w-20",children:"Page"})]})}),c.jsx(Zo,{children:P.map(Q=>{var Te;const Ue=!((Te=n.difficulty_filter)!=null&&Te.length)||n.difficulty_filter.includes(Q.difficulty);return c.jsxs(Ln,{className:He(!Ue&&"opacity-50 bg-muted/50"),children:[c.jsx(Wt,{children:c.jsx(Ge,{type:"button",variant:"ghost",size:"sm",onClick:()=>pe(Q.id),className:"h-8 w-8 p-0",children:c.jsx(rh,{className:"h-4 w-4"})})}),c.jsxs(Wt,{className:"max-w-md",children:[c.jsx("div",{className:"truncate",title:Q.question_text,children:Q.question_text}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-1 grid grid-cols-2 gap-1",children:[c.jsxs("div",{children:["A) ",Q.option_a]}),c.jsxs("div",{children:["B) ",Q.option_b]}),c.jsxs("div",{children:["C) ",Q.option_c]}),c.jsxs("div",{children:["D) ",Q.option_d]})]})]}),c.jsx(Wt,{children:c.jsx(Pt,{variant:le(Q.difficulty),children:Q.difficulty})}),c.jsx(Wt,{children:c.jsx("span",{className:"text-sm",children:Q.topic||"N/A"})}),c.jsx(Wt,{children:c.jsx("span",{className:"text-sm",children:Q.page_number||"-"})})]},Q.id)})})]}),P.some(Q=>{var Ue;return!(!((Ue=n.difficulty_filter)!=null&&Ue.length)||n.difficulty_filter.includes(Q.difficulty))})&&c.jsxs("div",{className:"p-3 bg-amber-50 border-amber-200 border rounded text-sm text-amber-800",children:[c.jsx(za,{className:"w-4 h-4 inline mr-2"}),"Some selected questions don't match current difficulty criteria and will be excluded from the paper."]})]})}),c.jsxs(Kt,{value:"unselected",className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Search Questions"}),c.jsx(pr,{placeholder:"Search by question text, options, or topic...",value:A.search,onChange:Q=>C(_e=>({..._e,search:Q.target.value}))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Difficulty Filter"}),c.jsxs(Ur,{value:A.difficulty,onValueChange:Q=>C(_e=>({..._e,difficulty:Q})),children:[c.jsx(Rr,{children:c.jsx(zr,{placeholder:"Select difficulty"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"Select All"}),(Se=n.difficulty_filter)==null?void 0:Se.map(Q=>c.jsx(pt,{value:Q,children:Q.charAt(0).toUpperCase()+Q.slice(1)},Q))]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Filter by Pages"}),c.jsx(M9e,{label:"Select Pages",availablePages:N,selectedPages:A.page_numbers,onChange:Q=>C(_e=>({..._e,page_numbers:Q})),disabled:N.length===0,className:"w-full"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(ft,{children:"Date Range"}),c.jsxs(zm,{children:[c.jsx(qm,{asChild:!0,children:c.jsxs(Ge,{variant:"outline",className:He("w-full justify-start text-left font-normal",!A.dateRange.from&&"text-muted-foreground"),children:[c.jsx(ia,{className:"mr-2 h-4 w-4"}),(we=A.dateRange)!=null&&we.from?A.dateRange.to?c.jsxs(c.Fragment,{children:[ai(A.dateRange.from,"LLL dd, y")," -"," ",ai(A.dateRange.to,"LLL dd, y")]}):ai(A.dateRange.from,"LLL dd, y"):c.jsx("span",{children:"Pick date range"})]})}),c.jsx(Nf,{className:"w-auto p-0",align:"start",children:c.jsx(f1,{initialFocus:!0,mode:"range",defaultMonth:(We=A.dateRange)==null?void 0:We.from,selected:{from:A.dateRange.from,to:A.dateRange.to},onSelect:Q=>C(_e=>({..._e,dateRange:{from:Q==null?void 0:Q.from,to:Q==null?void 0:Q.to}})),numberOfMonths:2,className:He("p-3 pointer-events-auto")})})]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Ge,{type:"button",variant:"outline",onClick:()=>C(Q=>({...Q,search:"",page_numbers:[],difficulty:"",dateRange:{from:void 0,to:void 0}})),children:"Clear Filters"}),c.jsx(Ge,{type:"button",variant:"outline",size:"sm",onClick:Y,disabled:V.length===0||(((Ve=n.selected_questions)==null?void 0:Ve.length)||0)>=n.total_questions,children:"Select All Visible"})]}),!n.subject_id||!n.class_level||!((ke=n.difficulty_filter)!=null&&ke.length)?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:"Please select Subject, Class Level, and at least one Difficulty level to view questions."})}):A.difficulty?x?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:"Loading questions..."})}):p.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:"No questions found for the selected criteria."})}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{className:"w-12",children:"Select"}),c.jsx(qt,{children:"Question"}),c.jsx(qt,{className:"w-24",children:"Difficulty"}),c.jsx(qt,{className:"w-32",children:"Topic"}),c.jsx(qt,{className:"w-20",children:"Page"})]})}),c.jsx(Zo,{children:V.map(Q=>{var _e,Ue,Te;return c.jsxs(Ln,{children:[c.jsx(Wt,{children:c.jsx(co,{checked:((_e=n.selected_questions)==null?void 0:_e.includes(Q.id))||!1,onCheckedChange:qe=>ae(Q.id,!!qe),disabled:(((Ue=n.selected_questions)==null?void 0:Ue.length)||0)>=n.total_questions&&!((Te=n.selected_questions)!=null&&Te.includes(Q.id))})}),c.jsxs(Wt,{className:"max-w-md",children:[c.jsx("div",{className:"truncate",title:Q.question_text,children:Q.question_text}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-1 grid grid-cols-2 gap-1",children:[c.jsxs("div",{children:["A) ",Q.option_a]}),c.jsxs("div",{children:["B) ",Q.option_b]}),c.jsxs("div",{children:["C) ",Q.option_c]}),c.jsxs("div",{children:["D) ",Q.option_d]})]})]}),c.jsx(Wt,{children:c.jsx(Pt,{variant:le(Q.difficulty),children:Q.difficulty})}),c.jsx(Wt,{children:c.jsx("span",{className:"text-sm",children:Q.topic||"N/A"})}),c.jsx(Wt,{children:c.jsx("span",{className:"text-sm",children:Q.page_number||"-"})})]},Q.id)})})]})}),K.totalPages>1&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",K.startItem," to ",K.endItem," of ",K.totalItems," questions"]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Ge,{variant:"outline",size:"sm",onClick:K.previousPage,disabled:!K.canGoPrevious,children:[c.jsx(x3,{className:"w-4 h-4"}),"Previous"]}),c.jsxs("span",{className:"text-sm",children:["Page ",K.currentPage," of ",K.totalPages]}),c.jsxs(Ge,{variant:"outline",size:"sm",onClick:K.nextPage,disabled:!K.canGoNext,children:["Next",c.jsx(eN,{className:"w-4 h-4"})]})]})]})]}):c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:"Please select a Difficulty filter to view questions."})})]})]})]}),c.jsxs("div",{className:"flex justify-end space-x-4",children:[c.jsx(Ge,{type:"button",variant:"outline",children:"Cancel"}),c.jsx(Ge,{type:"submit",disabled:m,children:m?c.jsx(c.Fragment,{children:e?"Updating...":"Creating..."}):c.jsxs(c.Fragment,{children:[c.jsx(tN,{className:"w-4 h-4 mr-2"}),e?"Update Paper":"Create Paper"]})})]})]})})]})},L9e=()=>{const{tab:t,subtab:e}=dh(),r=ec(),[n,i]=ue.useState(0),[s,a]=ue.useState([]),[o,l]=ue.useState([]),[u,d]=ue.useState(null),[h,f]=ue.useState([]),{toast:p}=Kr(),g=e||"prepare",m=e==="edit"?"edit":g;j.useEffect(()=>{t==="papers"&&!e&&r("/parent/papers/prepare",{replace:!0})},[t,e,r]);const v=L=>{r(`/parent/papers/${L}`)};ue.useEffect(()=>{x()},[n]);const x=async()=>{const{data:L}=await je.auth.getUser();if(!L.user)return;const{data:O}=await je.from("question_papers").select(`
        *,
        subjects_parent!subject_parent_id(subject_name),
        classes_parent!class_parent_id(class_name)
      `).eq("user_id",L.user.id).eq("is_deleted",!1).order("created_at",{ascending:!1});a(O||[]);const k=(O==null?void 0:O.filter(F=>F.start_time&&F.end_time))||[];l(k);const{data:D}=await je.from("question_papers").select(`
        *,
        subjects_parent!subject_parent_id(subject_name),
        classes_parent!class_parent_id(class_name)
      `).eq("user_id",L.user.id).eq("is_deleted",!0).gte("deleted_at",new Date(Date.now()-24*60*60*1e3).toISOString()).order("deleted_at",{ascending:!1});f(D||[])},y=()=>i(L=>L+1),w=L=>{d(L),r("/parent/papers/edit")},_=()=>{d(null),r("/parent/papers/previous"),y()},A=()=>{d(null),r("/parent/papers/previous"),y()},C=async(L,O)=>{try{const{error:k}=await je.from("question_papers").update({is_deleted:!0,deleted_at:new Date().toISOString()}).eq("id",L);if(k)throw k;p({title:"Paper deleted",description:`"${O}" has been deleted. You can undo this action within 24 hours.`}),y()}catch(k){p({title:"Delete failed",description:k.message,variant:"destructive"})}},N=async(L,O)=>{try{const{error:k}=await je.from("question_papers").update({is_deleted:!1,deleted_at:null}).eq("id",L);if(k)throw k;p({title:"Paper restored",description:`"${O}" has been restored successfully.`}),y()}catch(k){p({title:"Restore failed",description:k.message,variant:"destructive"})}},E=L=>new Date(L).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),P=()=>m==="edit"&&u?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[c.jsx("h2",{className:"text-lg font-semibold",children:u.title}),c.jsxs(Ge,{variant:"ghost",size:"sm",onClick:_,className:"flex items-center gap-2",children:[c.jsx(v3,{className:"h-4 w-4"}),"Back"]})]}),c.jsx(mK,{editingPaper:u,onPaperCreated:A})]}):m==="previous"||g==="previous"?c.jsxs("div",{className:"space-y-6",children:[h.length>0&&c.jsxs(Oe,{className:"border-amber-200 bg-amber-50",children:[c.jsxs(tt,{className:"pb-4",children:[c.jsxs(it,{className:"flex items-center gap-2 text-amber-800",children:[c.jsx(iW,{className:"h-4 w-4"}),"Recently Deleted Papers"]}),c.jsx(Xt,{className:"text-amber-700",children:"These papers were deleted within the last 24 hours. You can restore them."})]}),c.jsx(Ie,{children:c.jsx("div",{className:"space-y-3",children:h.map(L=>{var O,k;return c.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded border border-amber-200",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-sm text-amber-900",children:L.title}),c.jsxs("p",{className:"text-xs text-amber-700",children:[((O=L.subjects_parent)==null?void 0:O.subject_name)||"Unknown"," - ",((k=L.classes_parent)==null?void 0:k.class_name)||"Unknown","  Deleted ",E(L.deleted_at)]})]}),c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>N(L.id,L.title),className:"text-amber-800 border-amber-300 hover:bg-amber-100",children:[c.jsx(iW,{className:"h-3 w-3 mr-1"}),"Restore"]})]},L.id)})})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(sa,{className:"h-5 w-5"}),"Previous Papers"]}),c.jsx(Xt,{children:"View and manage your previously created papers"})]}),c.jsx(Ie,{children:c.jsxs("div",{className:"space-y-4",children:[s.map(L=>{var O,k;return c.jsxs("div",{className:"border rounded-lg p-6 space-y-4 hover:shadow-sm transition-shadow",children:[c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex-1 min-w-0 space-y-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-base mb-2 truncate",children:L.title}),c.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-3",children:[c.jsx("span",{className:"font-medium",children:((O=L.subjects_parent)==null?void 0:O.subject_name)||"Unknown"}),c.jsx("span",{children:((k=L.classes_parent)==null?void 0:k.class_name)||"Unknown"}),c.jsxs("span",{children:[L.total_questions," questions"]}),c.jsxs("span",{children:[L.time_limit_minutes||60,"m duration"]}),c.jsxs("span",{children:["Max ",L.max_attempts," attempts"]})]}),c.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(ns,{className:"h-4 w-4"}),c.jsx("span",{children:L.assign_to_all?"All children":"Selected children"})]}),c.jsx("span",{children:L.show_results?"Auto-approve results":"Manual approval required"})]})]}),L.start_time&&L.end_time&&c.jsx("div",{className:"p-3 bg-muted/30 rounded-md",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(ia,{className:"h-4 w-4"}),c.jsx("span",{className:"font-medium",children:"Scheduled:"}),c.jsxs("span",{children:[E(L.start_time)," - ",E(L.end_time)]})]})})]})}),c.jsxs("div",{className:"flex items-center gap-2 pt-3 border-t",children:[c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>w(L),className:"flex items-center gap-2",children:[c.jsx(nN,{className:"h-4 w-4"}),"Edit"]}),c.jsxs(aP,{children:[c.jsx(k9e,{asChild:!0,children:c.jsxs(Ge,{variant:"outline",size:"sm",className:"flex items-center gap-2 text-destructive hover:text-destructive",children:[c.jsx(qw,{className:"h-4 w-4"}),"Delete"]})}),c.jsxs(MS,{children:[c.jsxs(LS,{children:[c.jsx(RS,{children:"Delete Paper"}),c.jsxs(DS,{children:['Are you sure you want to delete "',L.title,'"? You can undo this action within 24 hours.']})]}),c.jsxs(IS,{children:[c.jsx(FS,{children:"Cancel"}),c.jsx(Q9,{onClick:()=>C(L.id,L.title),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})]})]},L.id)}),s.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground text-center py-8",children:'No papers created yet. Create your first paper in the "Prepare Paper" tab.'})]})})]})]}):c.jsx(mK,{onPaperCreated:A});return c.jsx("div",{className:"space-y-6",children:m==="edit"?P():c.jsxs(ua,{value:g,onValueChange:v,className:"w-full",children:[c.jsxs(xo,{className:"grid w-full grid-cols-2",children:[c.jsxs(Cr,{value:"prepare",className:"flex items-center gap-2",children:[c.jsx(Sye,{className:"h-4 w-4"}),"Prepare Paper"]}),c.jsxs(Cr,{value:"previous",className:"flex items-center gap-2",children:[c.jsx(sa,{className:"h-4 w-4"}),"Previous Papers"]})]}),c.jsx(Kt,{value:"prepare",className:"space-y-6",children:P()}),c.jsx(Kt,{value:"previous",className:"space-y-6",children:P()})]})})},I9e=()=>{const{tab:t,subtab:e}=dh(),r=ec(),{profile:n,signOut:i}=is(),s=[{value:"children",label:"Children",icon:ns},{value:"content",label:"Content",icon:$d},{value:"questions",label:"Questions",icon:sa},{value:"papers",label:"Papers & Tests",icon:sa},{value:"approval",label:"Approval",icon:qu},{value:"analytics",label:"Analytics",icon:zu},{value:"reports",label:"Reports",icon:sa},{value:"ai-settings",label:"AI Settings",icon:Xm},{value:"communications",label:"Communications",icon:Gv},{value:"profile",label:"Profile",icon:Kd}],a=t||"children";s.find(l=>l.value===a),j.useEffect(()=>{t?e&&!["content","papers","reports","communications"].includes(t)&&r(`/parent/${t}`,{replace:!0}):r("/parent/children",{replace:!0})},[t,e,r]);const o=l=>{r(`/parent/${l}`)};return c.jsx(Z3,{children:c.jsxs(Ii,{children:[c.jsx(OB,{currentRole:(n==null?void 0:n.role)||null,onRoleChange:()=>i()}),c.jsxs("div",{className:"flex w-full pt-[57px] md:pt-[64px]",children:[c.jsx(eO,{collapsible:"icon",className:"fixed left-0 top-16 h-[calc(100vh-4rem)] z-40",children:c.jsx(rO,{className:"h-full overflow-y-auto",children:c.jsx(nO,{children:c.jsx(iO,{children:c.jsx(sO,{children:s.map(l=>c.jsx(aO,{children:c.jsxs(oO,{isActive:a===l.value,onClick:()=>o(l.value),tooltip:l.label,children:[c.jsx(l.icon,{className:"w-4 h-4"}),c.jsx("span",{children:l.label})]})},l.value))})})})})}),c.jsxs(tO,{children:[c.jsx("div",{className:"md:hidden bg-card border-b p-4 flex items-center space-x-3",children:a&&(()=>{const l=s.find(u=>u.value===a);return l?c.jsxs(c.Fragment,{children:[c.jsx(l.icon,{className:"w-5 h-5 text-muted-foreground"}),c.jsx("span",{className:"text-lg font-medium text-foreground",children:l.label})]}):null})()}),c.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:c.jsx("div",{className:"p-3 sm:p-4 md:p-6",children:c.jsxs(ua,{value:a,onValueChange:o,className:"space-y-6",children:[c.jsx(Kt,{value:"children",children:c.jsx(Ii,{children:c.jsx(KCe,{})})}),c.jsx(Kt,{value:"content",children:c.jsx(Ii,{children:c.jsx(ZPe,{})})}),c.jsx(Kt,{value:"questions",children:c.jsx(Ii,{children:c.jsx(L4e,{})})}),c.jsx(Kt,{value:"papers",children:c.jsx(Ii,{children:c.jsx(L9e,{})})}),c.jsx(Kt,{value:"ai-settings",children:c.jsx(Ii,{children:c.jsx(y9e,{})})}),c.jsx(Kt,{value:"communications",children:c.jsx(Ii,{children:c.jsx(x9e,{})})}),c.jsx(Kt,{value:"approval",children:c.jsx(Ii,{children:c.jsx(u9e,{})})}),c.jsx(Kt,{value:"analytics",children:c.jsx(Ii,{children:c.jsx(H4e,{})})}),c.jsx(Kt,{value:"reports",children:c.jsx(Ii,{children:c.jsx(c9e,{})})}),c.jsx(Kt,{value:"profile",children:c.jsxs(Ii,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Profile Management"}),c.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:"Manage your account settings and personal information"})]}),c.jsx(X9,{})]})})]})})})]})]})]})})},R9e=({variant:t="spinner",size:e="md",text:r="Loading...",className:n})=>{const i={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8"};return t==="spinner"?c.jsx("div",{className:He("flex items-center justify-center py-8",n),children:c.jsxs("div",{className:"flex flex-col items-center gap-3",children:[c.jsx(zw,{className:He("animate-spin text-primary",i[e])}),c.jsx("p",{className:"text-sm text-muted-foreground",children:r})]})}):t==="skeleton"?c.jsxs("div",{className:He("space-y-4",n),children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Wy,{className:"h-4 w-3/4"}),c.jsx(Wy,{className:"h-4 w-1/2"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Wy,{className:"h-4 w-full"}),c.jsx(Wy,{className:"h-4 w-4/5"})]})]}):c.jsxs("div",{className:He("animate-pulse space-y-4",n),children:[c.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),c.jsx("div",{className:"h-4 bg-muted rounded w-1/2"}),c.jsx("div",{className:"h-4 bg-muted rounded w-full"})]})},D9e={network:{icon:F$,title:"Connection Error",suggestions:["Check your internet connection","Verify the server is running","Try refreshing the page"]},auth:{icon:_te,title:"Authentication Error",suggestions:["Please sign in again","Check your credentials","Contact support if issue persists"]},permission:{icon:za,title:"Permission Denied",suggestions:["You don't have permission for this action","Contact your administrator","Try signing in with a different account"]},notfound:{icon:jye,title:"Not Found",suggestions:["The requested resource was not found","Check the URL or try searching","Go back to the previous page"]},generic:{icon:Bi,title:"Something went wrong",suggestions:["An unexpected error occurred","Try refreshing the page","Contact support if the problem persists"]}},F9e=({error:t,type:e="generic",onRetry:r,onGoHome:n,onConfigure:i,isRetrying:s=!1,className:a,showActions:o=!0})=>{const l=D9e[e],u=l.icon,d=t instanceof Error?t.message:t;return c.jsxs(Oe,{className:He("border-destructive",a),children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center text-destructive",children:[c.jsx(u,{className:"w-5 h-5 mr-2"}),l.title]}),c.jsx(Xt,{children:l.suggestions[0]})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs(Ko,{variant:"destructive",children:[c.jsx(Bi,{className:"h-4 w-4"}),c.jsxs(Yo,{children:[c.jsx("strong",{children:"Error:"})," ",d]})]}),c.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[c.jsx("h4",{className:"font-medium text-foreground",children:"Possible solutions:"}),c.jsx("ul",{className:"list-disc list-inside space-y-1",children:l.suggestions.map((h,f)=>c.jsx("li",{children:h},f))})]}),o&&c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[r&&c.jsx(Ge,{onClick:r,disabled:s,className:"flex-1",children:s?c.jsxs(c.Fragment,{children:[c.jsx(fA,{className:"w-4 h-4 mr-2 animate-spin"}),"Retrying..."]}):c.jsxs(c.Fragment,{children:[c.jsx(fA,{className:"w-4 h-4 mr-2"}),"Try Again"]})}),i&&(e==="auth"||e==="permission")&&c.jsxs(Ge,{variant:"outline",onClick:i,className:"flex-1",children:[c.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Settings"]}),n&&c.jsxs(Ge,{variant:"outline",onClick:n,className:"flex-1",children:[c.jsx(yte,{className:"w-4 h-4 mr-2"}),"Go Home"]})]})]})]})},$9e=(t={})=>{const[e,r]=j.useState(null),[n,i]=j.useState(!1),{toast:s}=Kr(),{showToast:a=!0,toastTitle:o="Error",onError:l}=t,u=j.useCallback(p=>{const g=p instanceof Error?p.message:"An unexpected error occurred";r(g),a&&s({title:o,description:g,variant:"destructive"}),l&&p instanceof Error&&l(p),console.error("Error handled:",p)},[s,a,o,l]),d=j.useCallback(()=>{r(null)},[]),h=j.useCallback(async p=>{i(!0),d();try{await p()}catch(g){u(g)}finally{i(!1)}},[u,d]),f=j.useCallback(p=>async(...g)=>{try{return d(),await p(...g)}catch(m){u(m);return}},[u,d]);return{error:e,isRetrying:n,handleError:u,clearError:d,retry:h,withErrorHandling:f}},B9e=(t={})=>{const[e,r]=j.useState(!1),[n,i]=j.useState(null),{error:s,handleError:a,clearError:o}=$9e({showToast:t.showToast,onError:t.onError}),l=j.useCallback(async d=>{r(!0),o();try{const h=await d();return i(h),t.onSuccess&&t.onSuccess(h),h}catch(h){a(h);return}finally{r(!1)}},[a,o,t]),u=j.useCallback(()=>{r(!1),i(null),o()},[o]);return{loading:e,error:s,data:n,execute:l,reset:u}},U9e=({testAttemptId:t,enabled:e,onAutoSubmit:r,maxViolations:n=3})=>{const[i,s]=j.useState([]),[a,o]=j.useState(!1),[l,u]=j.useState(0),[d,h]=j.useState(!1),[f,p]=j.useState(null),[g,m]=j.useState(!1),{toast:v}=Kr(),x=j.useRef(0),y=j.useRef(null),w=j.useCallback(async U=>{if(t)try{const{data:H,error:B}=await je.functions.invoke("log-paper-violation",{body:{paperAttemptId:t,violationType:U.type,severity:U.severity,details:U.details,timestamp:U.timestamp.toISOString()}});B&&console.error("Failed to log violation:",B)}catch(H){console.error("Error logging violation:",H)}},[t]),_=j.useCallback(async()=>{if(t)try{const{data:U,error:H}=await je.functions.invoke("detect-multiple-sessions",{body:{testAttemptId:t}});if(H)throw H;U!=null&&U.hasMultiple&&(v({title:" Multiple Sessions Detected",description:"This test is being accessed from another location. Test will be terminated.",variant:"destructive"}),r("Multiple active sessions detected"))}catch(U){console.error("Failed to check sessions:",U)}},[t,r,v]),A=j.useCallback(U=>{if(s(H=>[...H,U]),x.current+=1,y.current=U.timestamp,w(U),(U.severity==="high"||U.severity==="critical")&&_(),x.current===1)v({title:"Security Warning #1",description:"Suspicious activity detected. Please follow test guidelines.",variant:"destructive"});else if(x.current===2)v({title:" Final Warning #2",description:"One more violation will automatically submit your test!",variant:"destructive"});else if(x.current>=n){v({title:" Test Terminated",description:"Too many security violations. Auto-submitting test now.",variant:"destructive"});const H=`Security violations exceeded (${x.current}/${n})`;r(H)}},[w,n,r,v,_]),C=j.useCallback(()=>{!e||!d||document.hidden&&(u(U=>U+1),A({type:"tab_switch",severity:"medium",details:{count:l+1,timestamp:new Date().toISOString(),userAgent:navigator.userAgent},timestamp:new Date}))},[e,d,l,A]),N=j.useCallback(()=>{e&&o(!!document.fullscreenElement)},[e]),E=j.useCallback(U=>{if(!e)return;(U.ctrlKey&&["c","v","x","a","s","z","y","p"].includes(U.key.toLowerCase())||U.key==="F12"||U.ctrlKey&&U.shiftKey&&["I","J","C"].includes(U.key)||U.altKey&&U.key==="Tab"||U.key==="PrintScreen")&&(U.preventDefault(),U.stopPropagation(),A({type:"copy_paste",severity:"medium",details:{key:U.key,ctrlKey:U.ctrlKey,shiftKey:U.shiftKey,altKey:U.altKey,timestamp:new Date().toISOString()},timestamp:new Date}),v({title:"Action Blocked",description:"This keyboard shortcut is not allowed during the test",variant:"destructive"}))},[e,A,v]),P=j.useCallback(U=>{e&&(U.preventDefault(),A({type:"copy_paste",severity:"low",details:{action:"right_click",timestamp:new Date().toISOString()},timestamp:new Date}),v({title:"Action Blocked",description:"Right-click is disabled during the test",variant:"destructive"}))},[e,A,v]),L=j.useCallback(U=>{!e||!d||(U.preventDefault(),U.returnValue="Are you sure you want to leave? Your test progress may be lost.",A({type:"navigation",severity:"high",details:{action:"attempted_navigation",timestamp:new Date().toISOString()},timestamp:new Date}))},[e,d,A]),O=j.useCallback(async()=>{if(!(!t||g||f)){m(!0);try{const{data:U,error:H}=await je.from("paper_sessions").select("id").eq("paper_attempt_id",t).eq("is_active",!0).limit(1);if(H)throw H;if(U&&U.length>0){p(U[0].id),console.log("Using existing session:",U[0].id);return}const{data:B,error:X}=await je.from("paper_sessions").insert({paper_attempt_id:t,ip_address:"0.0.0.0",user_agent:navigator.userAgent,is_active:!0}).select().single();if(X)throw X;p(B.id),console.log("Created new session:",B.id)}catch(U){console.error("Failed to create session:",U)}finally{m(!1)}}},[t,g,f]),k=j.useCallback(async()=>{if(!(!f||!d))try{await je.from("paper_sessions").update({last_ping:new Date().toISOString()}).eq("id",f)}catch(U){console.error("Failed to update session:",U)}},[f,d]),D=j.useCallback(async()=>!0,[]),F=j.useCallback(()=>{if(!e||d||g)return;h(!0),f||O(),document.addEventListener("visibilitychange",C),document.addEventListener("fullscreenchange",N),document.addEventListener("keydown",E),document.addEventListener("contextmenu",P),window.addEventListener("beforeunload",L);const U=setInterval(k,18e4);return()=>{clearInterval(U)}},[e,d,g,f,O,C,N,E,P,L,k,_]),z=j.useCallback(()=>{h(!1),document.removeEventListener("visibilitychange",C),document.removeEventListener("fullscreenchange",N),document.removeEventListener("keydown",E),document.removeEventListener("contextmenu",P),window.removeEventListener("beforeunload",L),f&&je.from("paper_sessions").update({is_active:!1}).eq("id",f),document.exitFullscreen&&document.fullscreenElement&&document.exitFullscreen()},[f]);return j.useEffect(()=>()=>{h(!1),document.removeEventListener("visibilitychange",C),document.removeEventListener("fullscreenchange",N),document.removeEventListener("keydown",E),document.removeEventListener("contextmenu",P),window.removeEventListener("beforeunload",L),f&&je.from("paper_sessions").update({is_active:!1}).eq("id",f)},[]),{violations:i,violationCount:x.current,tabSwitchCount:l,isFullscreen:a,isSecurityActive:d,activateSecurity:F,deactivateSecurity:z,enableFullscreen:D,addViolation:A}},z9e=({test:t,onComplete:e,displayMode:r="single"})=>{var Ht;const[n,i]=j.useState([]),[s,a]=j.useState(0),[o,l]=j.useState({}),[u,d]=j.useState(new Set),[h,f]=j.useState(()=>{var Lt,Ot;const et=t.time_limit_hours||Math.floor((((Lt=t.question_papers)==null?void 0:Lt.time_limit_minutes)||60)/60),Xe=t.time_limit_minutes||(((Ot=t.question_papers)==null?void 0:Ot.time_limit_minutes)||60)%60;return(et*60+Xe)*60}),[p,g]=j.useState(!1),[m,v]=j.useState(!1),[x,y]=j.useState(!1),[w,_]=j.useState([]),[A,C]=j.useState(null);j.useState(!1);const[N,E]=j.useState(!1),[P,L]=j.useState(!1),[O,k]=j.useState(""),[D,F]=j.useState(!1),[z,U]=j.useState(null),[H,B]=j.useState(navigator.onLine),X=j.useRef(null);is();const{toast:ne}=Kr(),fe=j.useCallback(async et=>{await _e("force",et,!0)},[]),{violations:I,violationCount:q,isFullscreen:V,isSecurityActive:K,activateSecurity:Y,deactivateSecurity:ae,enableFullscreen:pe,addViolation:le}=U9e({testAttemptId:A,enabled:!0,onAutoSubmit:fe,maxViolations:3}),ye=j.useCallback(async et=>{var Jt;const Xe=new Date,Lt=new Date(t.end_time),Ot=new Date(et.started_at),vr=(((Jt=t.question_papers)==null?void 0:Jt.time_limit_minutes)||(t.time_limit_hours||1)*60+(t.time_limit_minutes||0))*6e4,lr=new Date(Ot.getTime()+vr);if(Xe>Lt)return ne({title:"Test Expired",description:"The test window has closed. You can no longer continue this test.",variant:"destructive"}),e(),!1;if(Xe>lr)return ne({title:"Attempt Time Expired",description:"Your individual attempt time has expired. The test will be auto-submitted.",variant:"destructive"}),await _e("auto","Individual attempt time limit exceeded",!0),!1;const Gn=lr.getTime()-Xe.getTime(),xt=Math.max(0,Math.floor(Gn/1e3));return f(xt),!0},[t,e,ne]);j.useEffect(()=>{const et=()=>{B(!0),ne({title:"Connection Restored",description:"Your progress will now be saved automatically"})},Xe=()=>{B(!1),ne({title:"Connection Lost",description:"Your progress will be saved when connection is restored",variant:"destructive"})};return window.addEventListener("online",et),window.addEventListener("offline",Xe),()=>{window.removeEventListener("online",et),window.removeEventListener("offline",Xe)}},[]),j.useEffect(()=>(We(),()=>{X.current&&clearTimeout(X.current)}),[]),j.useEffect(()=>{A&&!K&&!P&&(Y(),E(!0))},[A,K,P,Y]),j.useEffect(()=>{const et=()=>{!!!document.fullscreenElement&&K&&(le({type:"fullscreen_exit",severity:"high",details:{timestamp:new Date().toISOString(),reason:"User exited fullscreen mode during test"},timestamp:new Date}),ne({title:" Fullscreen Exit Detected",description:"You exited fullscreen mode. This has been recorded as a security violation.",variant:"destructive"}))};return document.addEventListener("fullscreenchange",et),()=>document.removeEventListener("fullscreenchange",et)},[K,le,ne]);const Se=j.useCallback(async(et=!1,Xe=!1)=>{if(!A||p&&!Xe)return;const Lt={paperAttemptId:A,answers:o,currentQuestionIndex:s,progressPercentage:Math.round(Object.keys(o).length/n.length*100),timeRemaining:Math.max(0,h),flaggedQuestions:Array.from(u),paperId:t.id};if(!(!H&&!et&&!Xe)){if(X.current&&clearTimeout(X.current),et||Xe){await we(Lt);return}X.current=setTimeout(()=>{we(Lt)},3e4)}},[A,o,s,h,u,n.length,t.id,H,p]),we=async et=>{var Xe,Lt,Ot,hr,vr;F(!0);try{const lr=Date.now(),{data:Gn,error:xt}=await je.functions.invoke("save-paper-progress",{body:et}),Jt=Date.now()-lr;if(xt){if((Xe=xt.message)!=null&&Xe.includes("time expired")||(Lt=xt.message)!=null&&Lt.includes("completed")){ne({title:"Test Time Expired",description:"Your test has been automatically submitted.",variant:"destructive"}),e();return}throw xt}if(Gn!=null&&Gn.autoSubmitted){ne({title:"Test Auto-Submitted",description:Gn.message,variant:"destructive"}),e();return}U(new Date),Jt>1e4&&h<=60&&ne({title:"Save Delay Warning",description:"Saves are taking longer than usual. Consider submitting soon.",variant:"destructive"})}catch(lr){console.error("Save failed:",lr);const Gn=((Ot=lr.message)==null?void 0:Ot.includes("fetch"))||((hr=lr.message)==null?void 0:hr.includes("network")),xt=(vr=lr.message)==null?void 0:vr.includes("timeout");H&&ne({title:"Save Failed",description:Gn?"Network error during save. Your progress may be lost.":xt?"Save timeout. Your connection may be unstable.":"Your progress couldn't be saved. Please check your connection.",variant:"destructive"})}finally{F(!1)}};j.useEffect(()=>{const et=setInterval(()=>{f(Xe=>{const Lt=Xe-1;return Lt===300?(ne({title:" 5 Minutes Remaining",description:"Ensure all answers are complete. Auto-save in progress...",variant:"destructive"}),Se(!0,!0)):Lt===60?(ne({title:" FINAL WARNING: 1 Minute Left",description:"Test will auto-submit in 1 minute! Complete remaining questions now.",variant:"destructive"}),Se(!0,!0)):Lt===10&&ne({title:" 10 SECONDS REMAINING",description:"Auto-submitting now...",variant:"destructive"}),Lt<=0?(Ue(),0):Lt})},1e3);return()=>clearInterval(et)},[]);const We=async()=>{var et;try{const{data:{user:Xe}}=await je.auth.getUser();if(!Xe)throw new Error("User not authenticated");const{data:Lt,error:Ot}=await je.from("paper_attempts").select("*").eq("paper_id",t.id).eq("user_id",Xe.id).is("completed_at",null).order("started_at",{ascending:!1}).limit(1);if(Ot)throw Ot;let hr;if(Lt&&Lt.length>0){if(hr=Lt[0],!await ye(hr))return;if(C(hr.id),a(hr.current_question_index||0),hr.answers&&hr.answers.encrypted)try{const Jt=JSON.parse(atob(hr.answers.encrypted));l(Jt),console.log("Restored answers:",Jt)}catch(Jt){console.error("Error decrypting answers:",Jt),hr.answers&&typeof hr.answers=="object"&&(l(hr.answers),console.log("Restored answers from fallback:",hr.answers))}else hr.answers&&typeof hr.answers=="object"&&(l(hr.answers),console.log("Restored answers from direct format:",hr.answers));if(hr.answers&&hr.answers.flagged)try{const Jt=JSON.parse(atob(hr.answers.flagged));d(new Set(Jt))}catch(Jt){console.error("Error decrypting flagged questions:",Jt)}ne({title:"Test Resumed",description:"Continuing your previous attempt",variant:"default"})}else{const xt=(((et=t.test_attempts)==null?void 0:et.length)||0)+1,Jt=new Date,Zt=new Date(t.end_time);if(Jt>Zt){ne({title:"Test Expired",description:"The test window has closed. You can no longer start this test.",variant:"destructive"}),e();return}const{data:Rn,error:Kn}=await je.from("paper_attempts").insert({paper_id:t.id,user_id:Xe.id,attempt_number:xt,started_at:Jt.toISOString(),current_question_index:0,progress_percentage:0,time_remaining:(t.time_limit_minutes||60)*60}).select().single();if(Kn)throw Kn;hr=Rn,C(hr.id),ne({title:"Test Started",description:"Your test attempt has begun",variant:"default"})}const{data:vr,error:lr}=await je.from("question_paper_questions").select(`
          question_order,
          questions (
            id,
            question_text,
            option_a,
            option_b,
            option_c,
            option_d
          )
        `).eq("question_paper_id",t.question_paper_id).order("question_order");if(lr)throw lr;const Gn=vr.map(xt=>({...xt.questions,question_order:xt.question_order}));i(Gn)}catch(Xe){console.error("Error initializing test:",Xe),ne({title:"Error",description:"Failed to start test",variant:"destructive"}),e()}},Ve=(et,Xe)=>{l(Lt=>({...Lt,[et]:Xe}))},ke=et=>{d(Xe=>{const Lt=new Set(Xe);return Lt.has(et)?Lt.delete(et):Lt.add(et),Lt})},Q=et=>{et>=0&&et<n.length&&a(et)},_e=async(et="manual",Xe="",Lt=!1)=>{if(!(!A||p)){if(g(!0),y(!1),v(!1),Lt)try{await Se(!0,!0)}catch(Ot){console.error("Final save failed:",Ot)}try{const{data:Ot,error:hr}=await je.functions.invoke("complete-paper-attempt",{body:{paperAttemptId:A,completionType:et,completionReason:Xe,answers:o,flaggedQuestions:Array.from(u),currentQuestionIndex:s,progressPercentage:Math.round(Object.keys(o).length/n.length*100),timeRemaining:Math.max(0,h),paperId:t.id}});if(hr)throw console.error("Submission error:",hr),new Error(hr.message||"Failed to submit test");if(Ot!=null&&Ot.success)ne({title:Ot.title||"Test Submitted",description:Ot.message||"Test completed successfully!",variant:Ot.success?"default":"destructive"}),e();else throw new Error((Ot==null?void 0:Ot.error)||"Unknown submission error")}catch(Ot){console.error("Error submitting test:",Ot),ne({title:"Submission Error",description:Ot.message||"Failed to submit test. Your progress has been saved. Please try again or contact support.",variant:"destructive"})}finally{g(!1),ae()}}},Ue=async()=>{await _e("auto","Time expired - automatic submission",!0)},Te=async()=>{if(!(!A||p)){g(!0);try{await Se(!0,!1),ne({title:"Test Paused",description:"Your progress has been saved. You can resume this test later.",variant:"default"}),e()}catch(et){console.error("Error pausing test:",et),ne({title:"Pause Error",description:"Failed to save progress while pausing. Please try again.",variant:"destructive"})}finally{g(!1)}}},qe=async()=>{try{await document.documentElement.requestFullscreen(),E(!1),ne({title:"Fullscreen Activated",description:"You are now in fullscreen mode. Do not exit during the test.",variant:"default"})}catch(et){console.error("Fullscreen request failed:",et),ne({title:"Fullscreen Not Available",description:"Fullscreen mode could not be activated. The test will continue with monitoring.",variant:"destructive"}),E(!1)}},rt=()=>{E(!1),ne({title:"Test Started",description:"Test started without fullscreen. Security monitoring is active.",variant:"default"})},ct=et=>{const Xe=Math.floor(et/60),Lt=et%60;return`${Xe}:${Lt.toString().padStart(2,"0")}`},$e=()=>Object.keys(o).length,At=()=>{const et=[];return n.forEach((Xe,Lt)=>{o[Xe.id]||et.push(Lt)}),et},Rt=()=>Array.from(u).filter(et=>!o[n[et].id]),Yt=(et="manual",Xe="")=>{const Lt=At();_(Lt),et==="manual"?v(!0):et==="auto"?(ne({title:"Auto-Submitting",description:Xe||"Time expired - automatically submitting test",variant:"destructive"}),setTimeout(()=>_e(et,Xe,!0),2e3)):_e(et,Xe,!0)},ar=()=>{v(!1),y(!0)},or=n[s];return!or||p?c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{children:p?"Submitting test...":"Loading test..."})]})}):c.jsxs("div",{className:"min-h-screen bg-background p-4 select-none",children:[c.jsx(aP,{open:N,onOpenChange:E,children:c.jsxs(MS,{children:[c.jsxs(LS,{children:[c.jsxs(RS,{className:"flex items-center",children:[c.jsx(Cye,{className:"w-5 h-5 mr-2"}),"Fullscreen Recommended"]}),c.jsxs(DS,{children:["For the best test experience and to prevent distractions, we recommend using fullscreen mode.",c.jsx("br",{}),c.jsx("br",{}),c.jsx("strong",{children:"Note:"})," Exiting fullscreen during the test will be recorded as a security violation."]})]}),c.jsxs(IS,{children:[c.jsx(FS,{onClick:rt,children:"Continue Without Fullscreen"}),c.jsx(Q9,{onClick:qe,children:"Go Fullscreen"})]})]})}),c.jsx("div",{className:"max-w-6xl mx-auto mb-6",children:c.jsx(Oe,{children:c.jsxs(tt,{className:"pb-4",children:[c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx(it,{className:"text-xl",children:t.title}),c.jsx(Xt,{children:t.question_papers.subjects_parent.subject_name})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[D?c.jsxs("div",{className:"flex items-center text-muted-foreground",children:[c.jsx(Jb,{className:"w-4 h-4 mr-1 animate-spin"}),c.jsx("span",{className:"text-sm",children:"Saving..."})]}):z?c.jsxs("div",{className:"flex items-center text-success",children:[c.jsx(Bf,{className:"w-4 h-4 mr-1"}),c.jsxs("span",{className:"text-sm",children:["Saved ",new Date(z).toLocaleTimeString()]})]}):null,H?c.jsx(F$,{className:"w-4 h-4 text-success"}):c.jsxs("div",{className:"flex items-center text-destructive",children:[c.jsx($ye,{className:"w-4 h-4 mr-1"}),c.jsx("span",{className:"text-sm",children:"Offline"})]})]}),q>0&&c.jsxs(Pt,{variant:"destructive",className:"flex items-center",children:[c.jsx(Bi,{className:"w-3 h-3 mr-1"}),"Violations: ",q,"/3"]}),c.jsxs(Pt,{variant:h<=300?"destructive":"default",className:"flex items-center text-lg px-3 py-1",children:[c.jsx(Ui,{className:"w-4 h-4 mr-2"}),ct(h)]})]})]}),c.jsxs("div",{className:"flex justify-between items-center mt-4",children:[c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Question ",s+1," of ",n.length,"  Answered: ",$e(),"/",n.length]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>ke(s),className:u.has(s)?"bg-warning/20":"",children:c.jsx(Zx,{className:`w-4 h-4 ${u.has(s)?"fill-current":""}`})}),c.jsxs(Pt,{variant:K?"default":"destructive",className:"text-xs",children:[K?c.jsx(aa,{className:"w-3 h-3 mr-1"}):c.jsx(Bi,{className:"w-3 h-3 mr-1"}),"Security ",K?"Active":"Inactive"]})]})]}),c.jsx(Rc,{value:$e()/n.length*100,className:"mt-2"})]})})}),c.jsxs("div",{className:"max-w-6xl mx-auto grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsx("div",{className:"lg:col-span-3",children:r==="single"?c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsxs("span",{children:["Question ",s+1]}),u.has(s)&&c.jsxs(Pt,{variant:"outline",className:"bg-warning/20",children:[c.jsx(Zx,{className:"w-3 h-3 mr-1 fill-current"}),"Flagged"]})]})}),c.jsxs(Ie,{className:"space-y-6",children:[c.jsx("div",{className:"text-lg leading-relaxed",children:or.question_text}),c.jsx("div",{className:"space-y-3",children:["A","B","C","D"].map(et=>{const Xe=`option_${et.toLowerCase()}`,Lt=or[Xe],Ot=o[or.id]===et;return c.jsx(Ge,{variant:Ot?"default":"outline",className:`w-full justify-start text-left p-4 h-auto ${Ot?"bg-primary text-primary-foreground":"hover:bg-muted"}`,onClick:()=>Ve(or.id,et),children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 ${Ot?"border-primary-foreground bg-primary-foreground text-primary":"border-muted-foreground"}`,children:et}),c.jsx("div",{className:"text-wrap",children:Lt})]})},et)})}),c.jsxs("div",{className:"flex justify-between items-center pt-4",children:[c.jsxs(Ge,{variant:"outline",onClick:()=>Q(s-1),disabled:s===0,children:[c.jsx(v3,{className:"w-4 h-4 mr-2"}),"Previous"]}),c.jsxs(Ge,{variant:"outline",onClick:()=>Q(s+1),disabled:s===n.length-1,children:["Next",c.jsx(gS,{className:"w-4 h-4 ml-2"})]})]})]})]}):c.jsx("div",{className:"space-y-6 max-h-[calc(100vh-200px)] overflow-y-auto pr-2",children:n.map((et,Xe)=>c.jsxs(Oe,{id:`question-${Xe}`,className:"scroll-mt-4",children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsxs("span",{children:["Question ",Xe+1]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[u.has(Xe)&&c.jsxs(Pt,{variant:"outline",className:"bg-warning/20",children:[c.jsx(Zx,{className:"w-3 h-3 mr-1 fill-current"}),"Flagged"]}),o[et.id]&&c.jsxs(Pt,{variant:"secondary",children:[c.jsx(tN,{className:"w-3 h-3 mr-1"}),"Answered"]}),c.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>ke(Xe),className:u.has(Xe)?"bg-warning/20":"",children:c.jsx(Zx,{className:`w-4 h-4 ${u.has(Xe)?"fill-current":""}`})})]})]})}),c.jsxs(Ie,{className:"space-y-6",children:[c.jsx("div",{className:"text-lg leading-relaxed",children:et.question_text}),c.jsx("div",{className:"space-y-3",children:["A","B","C","D"].map(Lt=>{const Ot=`option_${Lt.toLowerCase()}`,hr=et[Ot],vr=o[et.id]===Lt;return c.jsx(Ge,{variant:vr?"default":"outline",className:`w-full justify-start text-left p-4 h-auto ${vr?"bg-primary text-primary-foreground":"hover:bg-muted"}`,onClick:()=>Ve(et.id,Lt),children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 ${vr?"border-primary-foreground bg-primary-foreground text-primary":"border-muted-foreground"}`,children:Lt}),c.jsx("div",{className:"text-wrap",children:hr})]})},Lt)})})]})]},et.id))})}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsx(it,{className:"text-lg",children:"Question Navigator"})}),c.jsxs(Ie,{children:[c.jsx("div",{className:"grid grid-cols-5 gap-2",children:n.map((et,Xe)=>c.jsxs(Ge,{variant:Xe===s?"default":o[n[Xe].id]?"secondary":"outline",size:"sm",className:`relative ${u.has(Xe)?"ring-2 ring-warning":""}`,onClick:()=>{if(r==="all"){const Lt=document.getElementById(`question-${Xe}`);Lt&&Lt.scrollIntoView({behavior:"smooth",block:"start"})}else Q(Xe)},children:[Xe+1,u.has(Xe)&&c.jsx(Zx,{className:"w-2 h-2 absolute -top-1 -right-1 fill-current text-warning"})]},Xe))}),c.jsxs("div",{className:"mt-4 space-y-2 text-xs",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 bg-primary rounded"}),c.jsx("span",{children:r==="single"?"Current":"Viewing"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 bg-secondary rounded"}),c.jsx("span",{children:"Answered"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 border border-muted-foreground rounded"}),c.jsx("span",{children:"Not Answered"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 border-2 border-warning rounded"}),c.jsx("span",{children:"Flagged"})]})]})]})]}),c.jsx(Oe,{children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx(Ge,{onClick:()=>Yt("manual"),disabled:p||Object.keys(o).length===0,className:"w-full bg-quiz hover:bg-quiz/90",children:p?"Submitting...":"Submit Test"}),c.jsxs(Ge,{onClick:Te,disabled:p,variant:"outline",className:"w-full mt-3",children:[c.jsx(bte,{className:"w-4 h-4 mr-2"}),p?"Pausing...":"Pause Test"]}),c.jsxs("div",{className:"mt-4 text-xs text-muted-foreground text-center space-y-1",children:[c.jsxs("p",{children:["Questions answered: ",$e(),"/",n.length]}),c.jsxs("p",{children:["Questions flagged: ",u.size]}),c.jsx("div",{className:"flex items-center justify-center space-x-2 mt-2",children:D?c.jsxs("div",{className:"flex items-center text-warning",children:[c.jsx(Jb,{className:"w-3 h-3 mr-1 animate-spin"}),c.jsx("span",{children:"Auto-saving..."})]}):z?c.jsxs("div",{className:"flex items-center text-success",children:[c.jsx(Bf,{className:"w-3 h-3 mr-1"}),c.jsx("span",{children:"Auto-saved"})]}):null})]})]})})]})]}),c.jsx(aP,{open:m,onOpenChange:v,children:c.jsxs(MS,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[c.jsxs(LS,{children:[c.jsxs(RS,{className:"flex items-center text-xl",children:[c.jsx(Bi,{className:"w-6 h-6 mr-2 text-warning"}),"Review Your Test Before Submission"]}),c.jsxs(DS,{className:"space-y-4",children:[c.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[c.jsx("h4",{className:"text-center font-semibold mb-2",children:"Test Summary:"}),c.jsxs("div",{className:"md:grid md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:["Questions Answered: ",c.jsxs("strong",{children:[Object.keys(o).length,"/",n.length]})]}),c.jsxs("div",{children:["Questions Flagged: ",c.jsx("strong",{children:Array.from(u).length})]}),c.jsxs("div",{children:["Time Remaining: ",c.jsx("strong",{className:h<=300?"text-destructive":"",children:ct(h)})]})]})]}),w.length>0&&c.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 p-4 rounded-lg",children:[c.jsxs("h4",{className:"font-semibold text-destructive mb-2 flex items-center",children:[c.jsx(Bi,{className:"w-4 h-4 mr-1"}),w.length," Unanswered Questions"]}),c.jsx("p",{className:"text-sm text-destructive mb-3",children:"The following questions haven't been answered yet. You can still submit, but these will be marked as incorrect."}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.slice(0,20).map(et=>c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>{Q(et),v(!1)},className:"h-8 px-2 text-xs border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:["Q",et+1]},et)),w.length>20&&c.jsxs("span",{className:"text-xs text-muted-foreground self-center",children:["...and ",w.length-20," more"]})]})]}),Rt().length>0&&c.jsxs("div",{className:"bg-warning/10 border border-warning/20 p-4 rounded-lg",children:[c.jsxs("h4",{className:"font-semibold text-warning mb-2 flex items-center",children:[c.jsx(Zx,{className:"w-4 h-4 mr-1"}),"Flagged & Unanswered Questions"]}),c.jsx("p",{className:"text-sm mb-3",children:"These questions are flagged for review but haven't been answered:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:Rt().slice(0,10).map(et=>c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>{Q(et),v(!1)},className:"h-8 px-2 text-xs border-warning text-warning hover:bg-warning hover:text-warning-foreground",children:["Q",et+1]},et))})]}),c.jsxs("div",{className:"bg-info/10 border border-info/20 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-semibold mb-2",children:"Important Reminders:"}),c.jsxs("ul",{className:"text-sm space-y-1 list-disc list-inside",children:[c.jsx("li",{children:"Once submitted, you cannot change your answers"}),c.jsx("li",{children:"Unanswered questions will be marked as incorrect"}),c.jsx("li",{children:"Your progress has been automatically saved"}),c.jsxs("li",{children:["You have used ",((Ht=t.test_attempts)==null?void 0:Ht.length)||0," of ",t.max_attempts," allowed attempts"]})]})]})]})]}),c.jsxs(IS,{className:"flex-col sm:flex-row gap-2",children:[c.jsx(FS,{onClick:()=>v(!1),children:"Continue Testing"}),w.length>0&&c.jsx(Ge,{variant:"outline",onClick:()=>{Q(w[0]),v(!1)},children:"Go to First Unanswered"}),c.jsx(Ge,{onClick:ar,className:"bg-quiz hover:bg-quiz/90",children:"Proceed to Submit"})]})]})}),c.jsx(aP,{open:x,onOpenChange:et=>{et||k(""),y(et)},children:c.jsxs(MS,{children:[c.jsxs(LS,{children:[c.jsxs(RS,{className:"flex items-center text-xl text-destructive",children:[c.jsx(Bi,{className:"w-6 h-6 mr-2"}),"Final Confirmation Required"]}),c.jsxs(DS,{className:"space-y-4",children:[c.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 p-4 rounded-lg",children:[c.jsx("p",{className:"font-semibold text-destructive mb-2",children:" This action cannot be undone!"}),c.jsx("p",{className:"text-sm",children:'You are about to finalize your test submission. After clicking "Submit Test", you will not be able to make any changes to your answers.'})]}),c.jsx("div",{className:"text-center space-y-2",children:c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm bg-muted p-3 rounded",children:[c.jsx("div",{className:"text-lg font-semibold",children:"Final Summary:"}),c.jsxs("div",{className:"flex items-center justify-center",children:["Answered: ",c.jsxs("strong",{children:[Object.keys(o).length,"/",n.length]})]})]})}),c.jsx("p",{className:"text-center text-sm text-muted-foreground",children:'Type "SUBMIT" below to confirm your submission:'}),c.jsx("input",{type:"text",placeholder:"Type SUBMIT to confirm",className:"w-full px-3 py-2 border rounded-md text-center",value:O,onChange:et=>k(et.target.value)})]})]}),c.jsxs(IS,{children:[c.jsx(FS,{onClick:()=>{y(!1),k("")},children:"Cancel"}),c.jsx(Ge,{onClick:()=>_e("manual","Manual submission by user",!0),disabled:O.toUpperCase()!=="SUBMIT"||p,className:"bg-destructive hover:bg-destructive/90",children:p?"Submitting...":"Submit Test"})]})]})})]})},q9e=t=>{const[e,r]=j.useState([]),[n,i]=j.useState(!0),[s,a]=j.useState(null);j.useEffect(()=>{o()},[t]);const o=async()=>{try{i(!0),a(null);let u=je.from("paper_violations").select(`
          *,
          paper_attempts!inner (
            user_id,
            paper_id,
            started_at,
            completed_at
          )
        `).order("occurred_at",{ascending:!1});t&&(u=u.eq("paper_attempt_id",t));const{data:d,error:h}=await u;if(h)throw h;const f=await Promise.all((d||[]).map(async p=>{const[g,m]=await Promise.all([je.from("profiles").select("full_name, email").eq("user_id",p.paper_attempts.user_id).single(),je.from("question_papers").select("title").eq("id",p.paper_attempts.paper_id).single()]);return{...p,paper_attempts:{...p.paper_attempts,profiles:g.data,question_papers:m.data}}}));r(f)}catch(u){console.error("Error fetching violations:",u),a(u instanceof Error?u.message:"Failed to fetch violations")}finally{i(!1)}};return{violations:e,loading:n,error:s,refetch:o,stats:(()=>{const u={total:e.length,critical:e.filter(d=>d.severity==="critical").length,high:e.filter(d=>d.severity==="high").length,medium:e.filter(d=>d.severity==="medium").length,low:e.filter(d=>d.severity==="low").length,byType:{}};return e.forEach(d=>{u.byType[d.violation_type]=(u.byType[d.violation_type]||0)+1}),u})()}},W9e=t=>{switch(t){case"critical":return"destructive";case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"default"}},H9e=t=>{switch(t){case"critical":return c.jsx(wte,{className:"h-4 w-4"});case"high":return c.jsx(Bi,{className:"h-4 w-4"});case"medium":return c.jsx(za,{className:"h-4 w-4"});case"low":return c.jsx(hA,{className:"h-4 w-4"});default:return c.jsx(hA,{className:"h-4 w-4"})}},V9e=t=>({tab_switch:"Tab Switch",fullscreen_exit:"Fullscreen Exit",copy_paste:"Copy/Paste Attempt",navigation:"Navigation Attempt",multiple_sessions:"Multiple Sessions",suspicious_activity:"Suspicious Activity"})[t]||t,gK=({violation:t})=>{var e,r;return c.jsxs(Oe,{className:"mb-3",children:[c.jsxs(tt,{className:"pb-3",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[H9e(t.severity),c.jsx(it,{className:"text-base",children:V9e(t.violation_type)})]}),c.jsx(Pt,{variant:W9e(t.severity),children:t.severity.toUpperCase()})]}),c.jsx(Xt,{className:"text-sm",children:ai(new Date(t.occurred_at),"PPpp")})]}),c.jsxs(Ie,{children:[t.paper_attempts&&c.jsxs("div",{className:"mb-3 space-y-1 text-sm",children:[c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Student:"})," ",(e=t.paper_attempts.profiles)==null?void 0:e.full_name]}),c.jsxs("p",{children:[c.jsx("span",{className:"font-medium",children:"Test:"})," ",(r=t.paper_attempts.question_papers)==null?void 0:r.title]})]}),t.details&&Object.keys(t.details).length>0&&c.jsxs("div",{className:"rounded-md bg-muted p-3",children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"Details:"}),c.jsx("pre",{className:"text-xs overflow-auto",children:JSON.stringify(t.details,null,2)})]})]})]})},G9e=({attemptId:t})=>{const{violations:e,loading:r,error:n,stats:i}=q9e(t);return r?c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center text-muted-foreground",children:"Loading violations..."})})}):n?c.jsxs(Ko,{variant:"destructive",children:[c.jsx(Bi,{className:"h-4 w-4"}),c.jsxs(Yo,{children:["Error loading violations: ",n]})]}):e.length===0?c.jsxs(Ko,{children:[c.jsx(hA,{className:"h-4 w-4"}),c.jsx(Yo,{children:"No violations recorded for this test."})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[c.jsx(Oe,{children:c.jsxs(tt,{className:"pb-2",children:[c.jsx(Xt,{children:"Total Violations"}),c.jsx(it,{className:"text-3xl",children:i.total})]})}),c.jsx(Oe,{children:c.jsxs(tt,{className:"pb-2",children:[c.jsx(Xt,{children:"Critical"}),c.jsx(it,{className:"text-3xl text-destructive",children:i.critical})]})}),c.jsx(Oe,{children:c.jsxs(tt,{className:"pb-2",children:[c.jsx(Xt,{children:"High"}),c.jsx(it,{className:"text-3xl text-destructive",children:i.high})]})}),c.jsx(Oe,{children:c.jsxs(tt,{className:"pb-2",children:[c.jsx(Xt,{children:"Medium/Low"}),c.jsx(it,{className:"text-3xl",children:i.medium+i.low})]})})]}),c.jsxs(ua,{defaultValue:"all",className:"w-full",children:[c.jsxs(xo,{className:"grid w-full grid-cols-5",children:[c.jsxs(Cr,{value:"all",children:["All (",i.total,")"]}),c.jsxs(Cr,{value:"critical",children:["Critical (",i.critical,")"]}),c.jsxs(Cr,{value:"high",children:["High (",i.high,")"]}),c.jsxs(Cr,{value:"medium",children:["Medium (",i.medium,")"]}),c.jsxs(Cr,{value:"low",children:["Low (",i.low,")"]})]}),c.jsx(Kt,{value:"all",className:"mt-4",children:c.jsx(Wf,{className:"h-[600px] pr-4",children:e.map(s=>c.jsx(gK,{violation:s},s.id))})}),["critical","high","medium","low"].map(s=>c.jsx(Kt,{value:s,className:"mt-4",children:c.jsx(Wf,{className:"h-[600px] pr-4",children:e.filter(a=>a.severity===s).map(a=>c.jsx(gK,{violation:a},a.id))})},s))]})]})},K9e=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(null),[i,s]=j.useState([]),[a,o]=j.useState(!0),[l,u]=j.useState(!1),{user:d,profile:h}=is(),{toast:f}=Kr();j.useEffect(()=>{d!=null&&d.id&&p()},[d==null?void 0:d.id]);const p=async()=>{if(!(d!=null&&d.id)){console.log("User not available, skipping test results load"),o(!1);return}try{const{data:w,error:_}=await je.from("paper_attempts").select(`
          id,
          score,
          total_questions,
          completed_at,
          answers,
          show_results,
          question_papers!inner (
            id,
            title,
            subjects_parent (subject_name)
          )
        `).eq("user_id",d.id).not("completed_at","is",null).order("completed_at",{ascending:!1});if(_)throw _;e((w==null?void 0:w.map(A=>({...A,answers:A.answers||{}})))||[])}catch(w){console.error("Error loading test results:",w),f({title:"Error",description:"Failed to load test results",variant:"destructive"})}finally{o(!1)}},g=async(w,_)=>{var A;try{const C=t.find(O=>O.id===w);if(!C){f({title:"Error",description:"Test attempt not found",variant:"destructive"});return}const N=(A=C.question_papers)==null?void 0:A.id;if(!N){f({title:"Error",description:"Question paper not found for this test",variant:"destructive"});return}const[E]=await Promise.all([je.from("question_paper_questions").select(`
            questions (
              id,
              question_text,
              option_a,
              option_b,
              option_c,
              option_d,
              correct_answer
            )
          `).eq("question_paper_id",N).order("question_order")]);if(E.error)throw console.error("Database error:",E.error),E.error;if(!E.data||E.data.length===0){f({title:"Error",description:"No questions found for this test",variant:"destructive"});return}let P=_;if(typeof _=="string")try{P=JSON.parse(_)}catch{console.warn("Failed to parse answers as JSON, using as-is")}console.log("Parsed answers:",P);const L=E.data.map(O=>{const k=O.questions,D=P.userAnswers[k.id]||"",F=D&&D.toLowerCase()===k.correct_answer.toLowerCase();return console.log(`Question ${k.id}: user=${D}, correct=${k.correct_answer}, match=${F}`),{question_id:k.id,question_text:k.question_text,option_a:k.option_a,option_b:k.option_b,option_c:k.option_c,option_d:k.option_d,correct_answer:k.correct_answer,user_answer:D||"",is_correct:F}});s(L),u(!0)}catch(C){console.error("Error loading question breakdown:",C),f({title:"Error",description:"Failed to load question details",variant:"destructive"})}},m=w=>w>=90?"text-green-600":w>=70?"text-blue-600":w>=50?"text-yellow-600":"text-red-600",v=w=>w>=90?"A+":w>=85?"A":w>=80?"B+":w>=75?"B":w>=70?"C+":w>=65?"C":w>=60?"D+":w>=55?"D":"F",x=()=>{const w=t.filter(_=>_.show_results);return w.length===0?0:Math.round(w.reduce((_,A)=>_+A.score,0)/w.length)},y=()=>{const w=t.filter(E=>E.show_results);if(w.length<2)return null;const _=w.slice(0,3).reverse(),A=w.slice(3,6).reverse();if(A.length===0)return null;const C=_.reduce((E,P)=>E+P.score,0)/_.length,N=A.reduce((E,P)=>E+P.score,0)/A.length;return C>N?"improving":C<N?"declining":"stable"};return a?c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"animate-pulse space-y-4",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(w=>c.jsx("div",{className:"h-32 bg-muted rounded"},w))})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Average Score"}),c.jsx(b3,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t.filter(w=>w.show_results).length>0?`${x()}%`:"N/A"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:t.filter(w=>w.show_results).length>0?`Grade: ${v(x())}`:"No approved results"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Tests Completed"}),c.jsx(ia,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t.length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total attempts"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Performance Trend"}),y()==="improving"?c.jsx(zc,{className:"h-4 w-4 text-green-600"}):y()==="declining"?c.jsx(y3,{className:"h-4 w-4 text-red-600"}):c.jsx(zu,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold capitalize",children:y()||"N/A"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Recent performance"})]})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsx("span",{children:l?"Test Results Breakdown":"Test Results"}),l&&c.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>{u(!1),n(null)},children:" Back to Results"})]}),!l&&c.jsx(Xt,{children:"View your test performance and detailed breakdowns"})]}),c.jsx(Ie,{children:l?r&&c.jsxs(ua,{defaultValue:"breakdown",className:"w-full",children:[c.jsxs(xo,{className:"grid w-full grid-cols-2",children:[c.jsx(Cr,{value:"breakdown",children:"Test Breakdown"}),c.jsxs(Cr,{value:"violations",children:[c.jsx(wte,{className:"h-4 w-4 mr-2"}),"Security Violations"]})]}),c.jsx(Kt,{value:"breakdown",className:"mt-4",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold",children:r.question_papers.title}),c.jsxs("p",{className:"text-muted-foreground",children:["Score: ",r.score,"% (",Math.round(r.score/100*r.total_questions),"/",r.total_questions," correct)"]})]}),c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{className:"w-12",children:"#"}),c.jsx(qt,{children:"Question"}),c.jsx(qt,{className:"whitespace-nowrap w-24",children:"Your Answer"}),(r==null?void 0:r.show_results)&&c.jsx(qt,{className:"whitespace-nowrap w-24",children:"Correct Answer"})]})}),c.jsx(Zo,{children:i.map((w,_)=>c.jsxs(Ln,{children:[c.jsx(Wt,{className:"font-medium",children:_+1}),c.jsx(Wt,{className:"max-w-md",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm",children:w.question_text}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[c.jsxs("div",{children:["A. ",w.option_a]}),c.jsxs("div",{children:["B. ",w.option_b]}),c.jsxs("div",{children:["C. ",w.option_c]}),c.jsxs("div",{children:["D. ",w.option_d]})]})]})}),c.jsx(Wt,{children:c.jsx(Pt,{variant:r!=null&&r.show_results&&w.user_answer?w.is_correct?"success":"destructive":"secondary",className:"whitespace-nowrap",children:w.user_answer?w.user_answer.toUpperCase():"No Answer"})}),(r==null?void 0:r.show_results)&&c.jsx(Wt,{children:c.jsx(Pt,{variant:"outline",children:w.correct_answer})})]},w.question_id))})]})})]})}),c.jsx(Kt,{value:"violations",className:"mt-4",children:c.jsx(G9e,{attemptId:r.id})})]}):c.jsxs("div",{className:"space-y-4",children:[t.map(w=>c.jsx(Oe,{className:`${w.show_results?"cursor-pointer hover:bg-muted/50":""} transition-colors`,onClick:()=>{w.show_results&&(n(w),g(w.id,w.answers))},children:c.jsxs(Ie,{className:"pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("h4",{className:"font-semibold",children:w.question_papers.title}),c.jsx("p",{className:"text-sm text-muted-foreground",children:w.question_papers.subjects_parent.subject_name}),c.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[c.jsx(Ui,{className:"w-3 h-3 mr-1"}),new Date(w.completed_at).toLocaleDateString()]})]}),c.jsx("div",{className:"text-right space-y-2",children:w.show_results?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`text-2xl font-bold ${m(w.score)}`,children:[w.score,"%"]}),c.jsx(Pt,{variant:w.score>=70?"default":"destructive",children:v(w.score)}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[Math.round(w.score/100*w.total_questions),"/",w.total_questions," correct"]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center text-muted-foreground",children:[c.jsx(rN,{className:"w-4 h-4 mr-1"}),c.jsx("span",{className:"text-sm",children:"Pending Approval"})]}),c.jsx(Pt,{variant:"secondary",children:"Results Pending"}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:[w.total_questions," questions"]})]})})]}),c.jsx(Rc,{value:w.show_results?w.score:0,className:"mt-4 h-2"})]})},w.id)),t.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(I$,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No Test Results"}),c.jsx("p",{className:"text-muted-foreground",children:"Complete a test to see your results here."})]})]})})]})]})};var Y9e=Array.isArray,il=Y9e,X9e=typeof Da=="object"&&Da&&Da.Object===Object&&Da,she=X9e,Q9e=she,J9e=typeof self=="object"&&self&&self.Object===Object&&self,Z9e=Q9e||J9e||Function("return this")(),ph=Z9e,eUe=ph,tUe=eUe.Symbol,DN=tUe,vK=DN,ahe=Object.prototype,rUe=ahe.hasOwnProperty,nUe=ahe.toString,w_=vK?vK.toStringTag:void 0;function iUe(t){var e=rUe.call(t,w_),r=t[w_];try{t[w_]=void 0;var n=!0}catch{}var i=nUe.call(t);return n&&(e?t[w_]=r:delete t[w_]),i}var sUe=iUe,aUe=Object.prototype,oUe=aUe.toString;function lUe(t){return oUe.call(t)}var cUe=lUe,xK=DN,uUe=sUe,dUe=cUe,hUe="[object Null]",fUe="[object Undefined]",yK=xK?xK.toStringTag:void 0;function pUe(t){return t==null?t===void 0?fUe:hUe:yK&&yK in Object(t)?uUe(t):dUe(t)}var np=pUe;function mUe(t){return t!=null&&typeof t=="object"}var ip=mUe,gUe=np,vUe=ip,xUe="[object Symbol]";function yUe(t){return typeof t=="symbol"||vUe(t)&&gUe(t)==xUe}var s2=yUe,bUe=il,wUe=s2,_Ue=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,SUe=/^\w*$/;function AUe(t,e){if(bUe(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||wUe(t)?!0:SUe.test(t)||!_Ue.test(t)||e!=null&&t in Object(e)}var J9=AUe;function jUe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var j0=jUe;const a2=dn(j0);var NUe=np,EUe=j0,CUe="[object AsyncFunction]",TUe="[object Function]",PUe="[object GeneratorFunction]",kUe="[object Proxy]";function OUe(t){if(!EUe(t))return!1;var e=NUe(t);return e==TUe||e==PUe||e==CUe||e==kUe}var Z9=OUe;const yr=dn(Z9);var MUe=ph,LUe=MUe["__core-js_shared__"],IUe=LUe,JI=IUe,bK=function(){var t=/[^.]+$/.exec(JI&&JI.keys&&JI.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function RUe(t){return!!bK&&bK in t}var DUe=RUe,FUe=Function.prototype,$Ue=FUe.toString;function BUe(t){if(t!=null){try{return $Ue.call(t)}catch{}try{return t+""}catch{}}return""}var ohe=BUe,UUe=Z9,zUe=DUe,qUe=j0,WUe=ohe,HUe=/[\\^$.*+?()[\]{}|]/g,VUe=/^\[object .+?Constructor\]$/,GUe=Function.prototype,KUe=Object.prototype,YUe=GUe.toString,XUe=KUe.hasOwnProperty,QUe=RegExp("^"+YUe.call(XUe).replace(HUe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JUe(t){if(!qUe(t)||zUe(t))return!1;var e=UUe(t)?QUe:VUe;return e.test(WUe(t))}var ZUe=JUe;function eze(t,e){return t==null?void 0:t[e]}var tze=eze,rze=ZUe,nze=tze;function ize(t,e){var r=nze(t,e);return rze(r)?r:void 0}var Ex=ize,sze=Ex,aze=sze(Object,"create"),RO=aze,wK=RO;function oze(){this.__data__=wK?wK(null):{},this.size=0}var lze=oze;function cze(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var uze=cze,dze=RO,hze="__lodash_hash_undefined__",fze=Object.prototype,pze=fze.hasOwnProperty;function mze(t){var e=this.__data__;if(dze){var r=e[t];return r===hze?void 0:r}return pze.call(e,t)?e[t]:void 0}var gze=mze,vze=RO,xze=Object.prototype,yze=xze.hasOwnProperty;function bze(t){var e=this.__data__;return vze?e[t]!==void 0:yze.call(e,t)}var wze=bze,_ze=RO,Sze="__lodash_hash_undefined__";function Aze(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=_ze&&e===void 0?Sze:e,this}var jze=Aze,Nze=lze,Eze=uze,Cze=gze,Tze=wze,Pze=jze;function o2(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}o2.prototype.clear=Nze;o2.prototype.delete=Eze;o2.prototype.get=Cze;o2.prototype.has=Tze;o2.prototype.set=Pze;var kze=o2;function Oze(){this.__data__=[],this.size=0}var Mze=Oze;function Lze(t,e){return t===e||t!==t&&e!==e}var eU=Lze,Ize=eU;function Rze(t,e){for(var r=t.length;r--;)if(Ize(t[r][0],e))return r;return-1}var DO=Rze,Dze=DO,Fze=Array.prototype,$ze=Fze.splice;function Bze(t){var e=this.__data__,r=Dze(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():$ze.call(e,r,1),--this.size,!0}var Uze=Bze,zze=DO;function qze(t){var e=this.__data__,r=zze(e,t);return r<0?void 0:e[r][1]}var Wze=qze,Hze=DO;function Vze(t){return Hze(this.__data__,t)>-1}var Gze=Vze,Kze=DO;function Yze(t,e){var r=this.__data__,n=Kze(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Xze=Yze,Qze=Mze,Jze=Uze,Zze=Wze,eqe=Gze,tqe=Xze;function l2(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}l2.prototype.clear=Qze;l2.prototype.delete=Jze;l2.prototype.get=Zze;l2.prototype.has=eqe;l2.prototype.set=tqe;var FO=l2,rqe=Ex,nqe=ph,iqe=rqe(nqe,"Map"),tU=iqe,_K=kze,sqe=FO,aqe=tU;function oqe(){this.size=0,this.__data__={hash:new _K,map:new(aqe||sqe),string:new _K}}var lqe=oqe;function cqe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var uqe=cqe,dqe=uqe;function hqe(t,e){var r=t.__data__;return dqe(e)?r[typeof e=="string"?"string":"hash"]:r.map}var $O=hqe,fqe=$O;function pqe(t){var e=fqe(this,t).delete(t);return this.size-=e?1:0,e}var mqe=pqe,gqe=$O;function vqe(t){return gqe(this,t).get(t)}var xqe=vqe,yqe=$O;function bqe(t){return yqe(this,t).has(t)}var wqe=bqe,_qe=$O;function Sqe(t,e){var r=_qe(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var Aqe=Sqe,jqe=lqe,Nqe=mqe,Eqe=xqe,Cqe=wqe,Tqe=Aqe;function c2(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}c2.prototype.clear=jqe;c2.prototype.delete=Nqe;c2.prototype.get=Eqe;c2.prototype.has=Cqe;c2.prototype.set=Tqe;var rU=c2,lhe=rU,Pqe="Expected a function";function nU(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Pqe);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var a=t.apply(this,n);return r.cache=s.set(i,a)||s,a};return r.cache=new(nU.Cache||lhe),r}nU.Cache=lhe;var che=nU;const kqe=dn(che);var Oqe=che,Mqe=500;function Lqe(t){var e=Oqe(t,function(n){return r.size===Mqe&&r.clear(),n}),r=e.cache;return e}var Iqe=Lqe,Rqe=Iqe,Dqe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fqe=/\\(\\)?/g,$qe=Rqe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Dqe,function(r,n,i,s){e.push(i?s.replace(Fqe,"$1"):n||r)}),e}),Bqe=$qe;function Uqe(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var iU=Uqe,SK=DN,zqe=iU,qqe=il,Wqe=s2,Hqe=1/0,AK=SK?SK.prototype:void 0,jK=AK?AK.toString:void 0;function uhe(t){if(typeof t=="string")return t;if(qqe(t))return zqe(t,uhe)+"";if(Wqe(t))return jK?jK.call(t):"";var e=t+"";return e=="0"&&1/t==-Hqe?"-0":e}var Vqe=uhe,Gqe=Vqe;function Kqe(t){return t==null?"":Gqe(t)}var dhe=Kqe,Yqe=il,Xqe=J9,Qqe=Bqe,Jqe=dhe;function Zqe(t,e){return Yqe(t)?t:Xqe(t,e)?[t]:Qqe(Jqe(t))}var hhe=Zqe,eWe=s2,tWe=1/0;function rWe(t){if(typeof t=="string"||eWe(t))return t;var e=t+"";return e=="0"&&1/t==-tWe?"-0":e}var BO=rWe,nWe=hhe,iWe=BO;function sWe(t,e){e=nWe(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[iWe(e[r++])];return r&&r==n?t:void 0}var sU=sWe,aWe=sU;function oWe(t,e,r){var n=t==null?void 0:aWe(t,e);return n===void 0?r:n}var fhe=oWe;const Vl=dn(fhe);function lWe(t){return t==null}var cWe=lWe;const Ar=dn(cWe);var uWe=np,dWe=il,hWe=ip,fWe="[object String]";function pWe(t){return typeof t=="string"||!dWe(t)&&hWe(t)&&uWe(t)==fWe}var mWe=pWe;const FN=dn(mWe);var phe={exports:{}},An={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aU=Symbol.for("react.element"),oU=Symbol.for("react.portal"),UO=Symbol.for("react.fragment"),zO=Symbol.for("react.strict_mode"),qO=Symbol.for("react.profiler"),WO=Symbol.for("react.provider"),HO=Symbol.for("react.context"),gWe=Symbol.for("react.server_context"),VO=Symbol.for("react.forward_ref"),GO=Symbol.for("react.suspense"),KO=Symbol.for("react.suspense_list"),YO=Symbol.for("react.memo"),XO=Symbol.for("react.lazy"),vWe=Symbol.for("react.offscreen"),mhe;mhe=Symbol.for("react.module.reference");function Vc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case aU:switch(t=t.type,t){case UO:case qO:case zO:case GO:case KO:return t;default:switch(t=t&&t.$$typeof,t){case gWe:case HO:case VO:case XO:case YO:case WO:return t;default:return e}}case oU:return e}}}An.ContextConsumer=HO;An.ContextProvider=WO;An.Element=aU;An.ForwardRef=VO;An.Fragment=UO;An.Lazy=XO;An.Memo=YO;An.Portal=oU;An.Profiler=qO;An.StrictMode=zO;An.Suspense=GO;An.SuspenseList=KO;An.isAsyncMode=function(){return!1};An.isConcurrentMode=function(){return!1};An.isContextConsumer=function(t){return Vc(t)===HO};An.isContextProvider=function(t){return Vc(t)===WO};An.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===aU};An.isForwardRef=function(t){return Vc(t)===VO};An.isFragment=function(t){return Vc(t)===UO};An.isLazy=function(t){return Vc(t)===XO};An.isMemo=function(t){return Vc(t)===YO};An.isPortal=function(t){return Vc(t)===oU};An.isProfiler=function(t){return Vc(t)===qO};An.isStrictMode=function(t){return Vc(t)===zO};An.isSuspense=function(t){return Vc(t)===GO};An.isSuspenseList=function(t){return Vc(t)===KO};An.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===UO||t===qO||t===zO||t===GO||t===KO||t===vWe||typeof t=="object"&&t!==null&&(t.$$typeof===XO||t.$$typeof===YO||t.$$typeof===WO||t.$$typeof===HO||t.$$typeof===VO||t.$$typeof===mhe||t.getModuleId!==void 0)};An.typeOf=Vc;phe.exports=An;var ghe=phe.exports,xWe=np,yWe=ip,bWe="[object Number]";function wWe(t){return typeof t=="number"||yWe(t)&&xWe(t)==bWe}var vhe=wWe;const _We=dn(vhe);var SWe=vhe;function AWe(t){return SWe(t)&&t!=+t}var jWe=AWe;const $N=dn(jWe);var so=function(e){return e===0?0:e>0?1:-1},bg=function(e){return FN(e)&&e.indexOf("%")===e.length-1},St=function(e){return _We(e)&&!$N(e)},xs=function(e){return St(e)||FN(e)},NWe=0,u2=function(e){var r=++NWe;return"".concat(e||"").concat(r)},ao=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!St(e)&&!FN(e))return n;var s;if(bg(e)){var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return $N(s)&&(s=n),i&&s>r&&(s=r),s},zp=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},EWe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Rl=function(e,r){return St(e)&&St(r)?function(n){return e+n*(r-e)}:function(){return r}};function kk(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Vl(n,e))===r})}function j1(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function n8(t){"@babel/helpers - typeof";return n8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n8(t)}var CWe=["viewBox","children"],TWe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NK=["points","pathLength"],ZI={svg:CWe,polygon:NK,polyline:NK},lU=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Ok=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),!a2(n))return null;var i={};return Object.keys(n).forEach(function(s){lU.includes(s)&&(i[s]=r||function(a){return n[s](n,a)})}),i},PWe=function(e,r,n){return function(i){return e(r,n,i),null}},ax=function(e,r,n){if(!a2(e)||n8(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];lU.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=PWe(a,r,n))}),i},kWe=["children"],OWe=["children"];function EK(t,e){if(t==null)return{};var r=MWe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function i8(t){"@babel/helpers - typeof";return i8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i8(t)}var CK={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Pf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},TK=null,eR=null,cU=function t(e){if(e===TK&&Array.isArray(eR))return eR;var r=[];return j.Children.forEach(e,function(n){Ar(n)||(ghe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),eR=r,TK=e,r};function Gl(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Pf(i)}):n=[Pf(e)],cU(t).forEach(function(i){var s=Vl(i,"type.displayName")||Vl(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Pl(t,e){var r=Gl(t,e);return r&&r[0]}var PK=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!St(n)||n<=0||!St(i)||i<=0)},LWe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],IWe=function(e){return e&&e.type&&FN(e.type)&&LWe.indexOf(e.type)>=0},RWe=function(e){return e&&i8(e)==="object"&&"clipDot"in e},DWe=function(e,r,n,i){var s,a=(s=ZI==null?void 0:ZI[i])!==null&&s!==void 0?s:[];return!yr(e)&&(i&&a.includes(r)||TWe.includes(r))||n&&lU.includes(r)},rr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(j.isValidElement(e)&&(i=e.props),!a2(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;DWe((o=i)===null||o===void 0?void 0:o[a],a,r,n)&&(s[a]=i[a])}),s},s8=function t(e,r){if(e===r)return!0;var n=j.Children.count(e);if(n!==j.Children.count(r))return!1;if(n===0)return!0;if(n===1)return kK(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],a=r[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!kK(s,a))return!1}return!0},kK=function(e,r){if(Ar(e)&&Ar(r))return!0;if(!Ar(e)&&!Ar(r)){var n=e.props||{},i=n.children,s=EK(n,kWe),a=r.props||{},o=a.children,l=EK(a,OWe);return i&&o?j1(s,l)&&s8(i,o):!i&&!o?j1(s,l):!1}return!1},OK=function(e,r){var n=[],i={};return cU(e).forEach(function(s,a){if(IWe(s))n.push(s);else if(s){var o=Pf(s.type),l=r[o]||{},u=l.handler,d=l.once;if(u&&(!d||!i[o])){var h=u(s,o,a);n.push(h),i[o]=!0}}}),n},FWe=function(e){var r=e&&e.type;return r&&CK[r]?CK[r]:null},$We=function(e,r){return cU(r).indexOf(e)},BWe=["children","width","height","viewBox","className","style","title","desc"];function a8(){return a8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a8.apply(this,arguments)}function UWe(t,e){if(t==null)return{};var r=zWe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function o8(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,u=UWe(t,BWe),d=i||{width:r,height:n,x:0,y:0},h=Tr("recharts-surface",s);return ue.createElement("svg",a8({},rr(u,!0,"svg"),{className:h,width:r,height:n,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ue.createElement("title",null,o),ue.createElement("desc",null,l),e)}var qWe=["children","className"];function l8(){return l8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l8.apply(this,arguments)}function WWe(t,e){if(t==null)return{};var r=HWe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function HWe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var nn=ue.forwardRef(function(t,e){var r=t.children,n=t.className,i=WWe(t,qWe),s=Tr("recharts-layer",n);return ue.createElement("g",l8({className:s},rr(i,!0),{ref:e}),r)}),Bu=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function VWe(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(i);++n<i;)s[n]=t[n+e];return s}var GWe=VWe,KWe=GWe;function YWe(t,e,r){var n=t.length;return r=r===void 0?n:r,!e&&r>=n?t:KWe(t,e,r)}var XWe=YWe,QWe="\\ud800-\\udfff",JWe="\\u0300-\\u036f",ZWe="\\ufe20-\\ufe2f",eHe="\\u20d0-\\u20ff",tHe=JWe+ZWe+eHe,rHe="\\ufe0e\\ufe0f",nHe="\\u200d",iHe=RegExp("["+nHe+QWe+tHe+rHe+"]");function sHe(t){return iHe.test(t)}var xhe=sHe;function aHe(t){return t.split("")}var oHe=aHe,yhe="\\ud800-\\udfff",lHe="\\u0300-\\u036f",cHe="\\ufe20-\\ufe2f",uHe="\\u20d0-\\u20ff",dHe=lHe+cHe+uHe,hHe="\\ufe0e\\ufe0f",fHe="["+yhe+"]",c8="["+dHe+"]",u8="\\ud83c[\\udffb-\\udfff]",pHe="(?:"+c8+"|"+u8+")",bhe="[^"+yhe+"]",whe="(?:\\ud83c[\\udde6-\\uddff]){2}",_he="[\\ud800-\\udbff][\\udc00-\\udfff]",mHe="\\u200d",She=pHe+"?",Ahe="["+hHe+"]?",gHe="(?:"+mHe+"(?:"+[bhe,whe,_he].join("|")+")"+Ahe+She+")*",vHe=Ahe+She+gHe,xHe="(?:"+[bhe+c8+"?",c8,whe,_he,fHe].join("|")+")",yHe=RegExp(u8+"(?="+u8+")|"+xHe+vHe,"g");function bHe(t){return t.match(yHe)||[]}var wHe=bHe,_He=oHe,SHe=xhe,AHe=wHe;function jHe(t){return SHe(t)?AHe(t):_He(t)}var NHe=jHe,EHe=XWe,CHe=xhe,THe=NHe,PHe=dhe;function kHe(t){return function(e){e=PHe(e);var r=CHe(e)?THe(e):void 0,n=r?r[0]:e.charAt(0),i=r?EHe(r,1).join(""):e.slice(1);return n[t]()+i}}var OHe=kHe,MHe=OHe,LHe=MHe("toUpperCase"),IHe=LHe;const QO=dn(IHe);function qn(t){return function(){return t}}const jhe=Math.cos,Mk=Math.sin,td=Math.sqrt,Lk=Math.PI,JO=2*Lk,d8=Math.PI,h8=2*d8,ig=1e-6,RHe=h8-ig;function Nhe(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function DHe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Nhe;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class FHe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Nhe:DHe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,u=i-r,d=a-e,h=o-r,f=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(f>ig)if(!(Math.abs(h*l-u*d)>ig)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-a,g=i-o,m=l*l+u*u,v=p*p+g*g,x=Math.sqrt(m),y=Math.sqrt(f),w=s*Math.tan((d8-Math.acos((m+f-v)/(2*x*y)))/2),_=w/y,A=w/x;Math.abs(_-1)>ig&&this._append`L${e+_*d},${r+_*h}`,this._append`A${s},${s},0,0,${+(h*p>d*g)},${this._x1=e+A*l},${this._y1=r+A*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,h=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ig||Math.abs(this._y1-d)>ig)&&this._append`L${u},${d}`,n&&(f<0&&(f=f%h8+h8),f>RHe?this._append`A${n},${n},0,1,${h},${e-o},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:f>ig&&this._append`A${n},${n},0,${+(f>=d8)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function uU(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new FHe(e)}function dU(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Ehe(t){this._context=t}Ehe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ZO(t){return new Ehe(t)}function Che(t){return t[0]}function The(t){return t[1]}function Phe(t,e){var r=qn(!0),n=null,i=ZO,s=null,a=uU(o);t=typeof t=="function"?t:t===void 0?Che:qn(t),e=typeof e=="function"?e:e===void 0?The:qn(e);function o(l){var u,d=(l=dU(l)).length,h,f=!1,p;for(n==null&&(s=i(p=a())),u=0;u<=d;++u)!(u<d&&r(h=l[u],u,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(h,u,l),+e(h,u,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:qn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:qn(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:qn(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function BC(t,e,r){var n=null,i=qn(!0),s=null,a=ZO,o=null,l=uU(u);t=typeof t=="function"?t:t===void 0?Che:qn(+t),e=typeof e=="function"?e:qn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?The:qn(+r);function u(h){var f,p,g,m=(h=dU(h)).length,v,x=!1,y,w=new Array(m),_=new Array(m);for(s==null&&(o=a(y=l())),f=0;f<=m;++f){if(!(f<m&&i(v=h[f],f,h))===x)if(x=!x)p=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=f-1;g>=p;--g)o.point(w[g],_[g]);o.lineEnd(),o.areaEnd()}x&&(w[f]=+t(v,f,h),_[f]=+e(v,f,h),o.point(n?+n(v,f,h):w[f],r?+r(v,f,h):_[f]))}if(y)return o=null,y+""||null}function d(){return Phe().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:qn(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:qn(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:qn(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:qn(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:qn(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:qn(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:qn(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class khe{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function $He(t){return new khe(t,!0)}function BHe(t){return new khe(t,!1)}const hU={draw(t,e){const r=td(e/Lk);t.moveTo(r,0),t.arc(0,0,r,0,JO)}},UHe={draw(t,e){const r=td(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Ohe=td(1/3),zHe=Ohe*2,qHe={draw(t,e){const r=td(e/zHe),n=r*Ohe;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},WHe={draw(t,e){const r=td(e),n=-r/2;t.rect(n,n,r,r)}},HHe=.8908130915292852,Mhe=Mk(Lk/10)/Mk(7*Lk/10),VHe=Mk(JO/10)*Mhe,GHe=-jhe(JO/10)*Mhe,KHe={draw(t,e){const r=td(e*HHe),n=VHe*r,i=GHe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=JO*s/5,o=jhe(a),l=Mk(a);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},tR=td(3),YHe={draw(t,e){const r=-td(e/(tR*3));t.moveTo(0,r*2),t.lineTo(-tR*r,-r),t.lineTo(tR*r,-r),t.closePath()}},hc=-.5,fc=td(3)/2,f8=1/td(12),XHe=(f8/2+1)*3,QHe={draw(t,e){const r=td(e/XHe),n=r/2,i=r*f8,s=n,a=r*f8+r,o=-s,l=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(hc*n-fc*i,fc*n+hc*i),t.lineTo(hc*s-fc*a,fc*s+hc*a),t.lineTo(hc*o-fc*l,fc*o+hc*l),t.lineTo(hc*n+fc*i,hc*i-fc*n),t.lineTo(hc*s+fc*a,hc*a-fc*s),t.lineTo(hc*o+fc*l,hc*l-fc*o),t.closePath()}};function JHe(t,e){let r=null,n=uU(i);t=typeof t=="function"?t:qn(t||hU),e=typeof e=="function"?e:qn(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:qn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:qn(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Ik(){}function Rk(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Lhe(t){this._context=t}Lhe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rk(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ZHe(t){return new Lhe(t)}function Ihe(t){this._context=t}Ihe.prototype={areaStart:Ik,areaEnd:Ik,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Rk(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eVe(t){return new Ihe(t)}function Rhe(t){this._context=t}Rhe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Rk(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tVe(t){return new Rhe(t)}function Dhe(t){this._context=t}Dhe.prototype={areaStart:Ik,areaEnd:Ik,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rVe(t){return new Dhe(t)}function MK(t){return t<0?-1:1}function LK(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(MK(s)+MK(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function IK(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function rR(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function Dk(t){this._context=t}Dk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rR(this,this._t0,IK(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,rR(this,IK(this,r=LK(this,t,e)),r);break;default:rR(this,this._t0,r=LK(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Fhe(t){this._context=new $he(t)}(Fhe.prototype=Object.create(Dk.prototype)).point=function(t,e){Dk.prototype.point.call(this,e,t)};function $he(t){this._context=t}$he.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function nVe(t){return new Dk(t)}function iVe(t){return new Fhe(t)}function Bhe(t){this._context=t}Bhe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=RK(t),i=RK(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function RK(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function sVe(t){return new Bhe(t)}function eM(t,e){this._context=t,this._t=e}eM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function aVe(t){return new eM(t,.5)}function oVe(t){return new eM(t,0)}function lVe(t){return new eM(t,1)}function fw(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function p8(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function cVe(t,e){return t[e]}function uVe(t){const e=[];return e.key=t,e}function dVe(){var t=qn([]),e=p8,r=fw,n=cVe;function i(s){var a=Array.from(t.apply(this,arguments),uVe),o,l=a.length,u=-1,d;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+n(h,a[o].key,u,s)]).data=h;for(o=0,d=dU(e(a));o<l;++o)a[d[o]].index=o;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:qn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:qn(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?p8:typeof s=="function"?s:qn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??fw,i):r},i}function hVe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}fw(t,e)}}function fVe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}fw(t,e)}}function pVe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,u=0;o<a;++o){for(var d=t[e[o]],h=d[n][1]||0,f=d[n-1][1]||0,p=(h-f)/2,g=0;g<o;++g){var m=t[e[g]],v=m[n][1]||0,x=m[n-1][1]||0;p+=v-x}l+=h,u+=p*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,fw(t,e)}}function BA(t){"@babel/helpers - typeof";return BA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BA(t)}var mVe=["type","size","sizeType"];function m8(){return m8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m8.apply(this,arguments)}function DK(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DK(Object(r),!0).forEach(function(n){gVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DK(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gVe(t,e,r){return e=vVe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vVe(t){var e=xVe(t,"string");return BA(e)=="symbol"?e:e+""}function xVe(t,e){if(BA(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(BA(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yVe(t,e){if(t==null)return{};var r=bVe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Uhe={symbolCircle:hU,symbolCross:UHe,symbolDiamond:qHe,symbolSquare:WHe,symbolStar:KHe,symbolTriangle:YHe,symbolWye:QHe},wVe=Math.PI/180,_Ve=function(e){var r="symbol".concat(QO(e));return Uhe[r]||hU},SVe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*wVe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},AVe=function(e,r){Uhe["symbol".concat(QO(e))]=r},fU=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=yVe(e,mVe),u=FK(FK({},l),{},{type:n,size:s,sizeType:o}),d=function(){var v=_Ve(n),x=JHe().type(v).size(SVe(s,o,n));return x()},h=u.className,f=u.cx,p=u.cy,g=rr(u,!0);return f===+f&&p===+p&&s===+s?ue.createElement("path",m8({},g,{className:Tr("recharts-symbols",h),transform:"translate(".concat(f,", ").concat(p,")"),d:d()})):null};fU.registerSymbol=AVe;function pw(t){"@babel/helpers - typeof";return pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pw(t)}function g8(){return g8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g8.apply(this,arguments)}function $K(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jVe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$K(Object(r),!0).forEach(function(n){UA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$K(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EVe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qhe(n.key),n)}}function CVe(t,e,r){return e&&EVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function TVe(t,e,r){return e=Fk(e),PVe(t,zhe()?Reflect.construct(e,r||[],Fk(t).constructor):e.apply(t,r))}function PVe(t,e){if(e&&(pw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kVe(t)}function kVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zhe=function(){return!!t})()}function Fk(t){return Fk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fk(t)}function OVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v8(t,e)}function v8(t,e){return v8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},v8(t,e)}function UA(t,e,r){return e=qhe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qhe(t){var e=MVe(t,"string");return pw(e)=="symbol"?e:e+""}function MVe(t,e){if(pw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(pw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pc=32,pU=function(t){function e(){return NVe(this,e),TVe(this,e,arguments)}return OVe(e,t),CVe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=pc/2,a=pc/6,o=pc/3,l=n.inactive?i:n.color;if(n.type==="plainline")return ue.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:pc,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return ue.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(pc,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return ue.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(pc/8,"h").concat(pc,"v").concat(pc*3/4,"h").concat(-pc,"z"),className:"recharts-legend-icon"});if(ue.isValidElement(n.legendIcon)){var u=jVe({},n);return delete u.legendIcon,ue.cloneElement(n.legendIcon,u)}return ue.createElement(fU,{fill:l,cx:s,cy:s,size:pc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:pc,height:pc},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,g){var m=p.formatter||l,v=Tr(UA(UA({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",p.inactive));if(p.type==="none")return null;var x=yr(p.value)?null:p.value;Bu(!yr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return ue.createElement("li",g8({className:v,style:h,key:"legend-item-".concat(g)},ax(n.props,p,g)),ue.createElement(o8,{width:a,height:a,viewBox:d,style:f},n.renderIcon(p)),ue.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},m?m(x,p,g):x))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,a=n.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return ue.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(j.PureComponent);UA(pU,"displayName","Legend");UA(pU,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var LVe=FO;function IVe(){this.__data__=new LVe,this.size=0}var RVe=IVe;function DVe(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var FVe=DVe;function $Ve(t){return this.__data__.get(t)}var BVe=$Ve;function UVe(t){return this.__data__.has(t)}var zVe=UVe,qVe=FO,WVe=tU,HVe=rU,VVe=200;function GVe(t,e){var r=this.__data__;if(r instanceof qVe){var n=r.__data__;if(!WVe||n.length<VVe-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new HVe(n)}return r.set(t,e),this.size=r.size,this}var KVe=GVe,YVe=FO,XVe=RVe,QVe=FVe,JVe=BVe,ZVe=zVe,eGe=KVe;function d2(t){var e=this.__data__=new YVe(t);this.size=e.size}d2.prototype.clear=XVe;d2.prototype.delete=QVe;d2.prototype.get=JVe;d2.prototype.has=ZVe;d2.prototype.set=eGe;var Whe=d2,tGe="__lodash_hash_undefined__";function rGe(t){return this.__data__.set(t,tGe),this}var nGe=rGe;function iGe(t){return this.__data__.has(t)}var sGe=iGe,aGe=rU,oGe=nGe,lGe=sGe;function $k(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new aGe;++e<r;)this.add(t[e])}$k.prototype.add=$k.prototype.push=oGe;$k.prototype.has=lGe;var Hhe=$k;function cGe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var Vhe=cGe;function uGe(t,e){return t.has(e)}var Ghe=uGe,dGe=Hhe,hGe=Vhe,fGe=Ghe,pGe=1,mGe=2;function gGe(t,e,r,n,i,s){var a=r&pGe,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var u=s.get(t),d=s.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=r&mGe?new dGe:void 0;for(s.set(t,e),s.set(e,t);++h<o;){var g=t[h],m=e[h];if(n)var v=a?n(m,g,h,e,t,s):n(g,m,h,t,e,s);if(v!==void 0){if(v)continue;f=!1;break}if(p){if(!hGe(e,function(x,y){if(!fGe(p,y)&&(g===x||i(g,x,r,n,s)))return p.push(y)})){f=!1;break}}else if(!(g===m||i(g,m,r,n,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var Khe=gGe,vGe=ph,xGe=vGe.Uint8Array,yGe=xGe;function bGe(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var wGe=bGe;function _Ge(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var mU=_Ge,BK=DN,UK=yGe,SGe=eU,AGe=Khe,jGe=wGe,NGe=mU,EGe=1,CGe=2,TGe="[object Boolean]",PGe="[object Date]",kGe="[object Error]",OGe="[object Map]",MGe="[object Number]",LGe="[object RegExp]",IGe="[object Set]",RGe="[object String]",DGe="[object Symbol]",FGe="[object ArrayBuffer]",$Ge="[object DataView]",zK=BK?BK.prototype:void 0,nR=zK?zK.valueOf:void 0;function BGe(t,e,r,n,i,s,a){switch(r){case $Ge:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case FGe:return!(t.byteLength!=e.byteLength||!s(new UK(t),new UK(e)));case TGe:case PGe:case MGe:return SGe(+t,+e);case kGe:return t.name==e.name&&t.message==e.message;case LGe:case RGe:return t==e+"";case OGe:var o=jGe;case IGe:var l=n&EGe;if(o||(o=NGe),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;n|=CGe,a.set(t,e);var d=AGe(o(t),o(e),n,i,s,a);return a.delete(t),d;case DGe:if(nR)return nR.call(t)==nR.call(e)}return!1}var UGe=BGe;function zGe(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var Yhe=zGe,qGe=Yhe,WGe=il;function HGe(t,e,r){var n=e(t);return WGe(t)?n:qGe(n,r(t))}var VGe=HGe;function GGe(t,e){for(var r=-1,n=t==null?0:t.length,i=0,s=[];++r<n;){var a=t[r];e(a,r,t)&&(s[i++]=a)}return s}var KGe=GGe;function YGe(){return[]}var XGe=YGe,QGe=KGe,JGe=XGe,ZGe=Object.prototype,eKe=ZGe.propertyIsEnumerable,qK=Object.getOwnPropertySymbols,tKe=qK?function(t){return t==null?[]:(t=Object(t),QGe(qK(t),function(e){return eKe.call(t,e)}))}:JGe,rKe=tKe;function nKe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var iKe=nKe,sKe=np,aKe=ip,oKe="[object Arguments]";function lKe(t){return aKe(t)&&sKe(t)==oKe}var cKe=lKe,WK=cKe,uKe=ip,Xhe=Object.prototype,dKe=Xhe.hasOwnProperty,hKe=Xhe.propertyIsEnumerable,fKe=WK(function(){return arguments}())?WK:function(t){return uKe(t)&&dKe.call(t,"callee")&&!hKe.call(t,"callee")},gU=fKe,Bk={exports:{}};function pKe(){return!1}var mKe=pKe;Bk.exports;(function(t,e){var r=ph,n=mKe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||n;t.exports=u})(Bk,Bk.exports);var Qhe=Bk.exports,gKe=9007199254740991,vKe=/^(?:0|[1-9]\d*)$/;function xKe(t,e){var r=typeof t;return e=e??gKe,!!e&&(r=="number"||r!="symbol"&&vKe.test(t))&&t>-1&&t%1==0&&t<e}var vU=xKe,yKe=9007199254740991;function bKe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yKe}var xU=bKe,wKe=np,_Ke=xU,SKe=ip,AKe="[object Arguments]",jKe="[object Array]",NKe="[object Boolean]",EKe="[object Date]",CKe="[object Error]",TKe="[object Function]",PKe="[object Map]",kKe="[object Number]",OKe="[object Object]",MKe="[object RegExp]",LKe="[object Set]",IKe="[object String]",RKe="[object WeakMap]",DKe="[object ArrayBuffer]",FKe="[object DataView]",$Ke="[object Float32Array]",BKe="[object Float64Array]",UKe="[object Int8Array]",zKe="[object Int16Array]",qKe="[object Int32Array]",WKe="[object Uint8Array]",HKe="[object Uint8ClampedArray]",VKe="[object Uint16Array]",GKe="[object Uint32Array]",Jn={};Jn[$Ke]=Jn[BKe]=Jn[UKe]=Jn[zKe]=Jn[qKe]=Jn[WKe]=Jn[HKe]=Jn[VKe]=Jn[GKe]=!0;Jn[AKe]=Jn[jKe]=Jn[DKe]=Jn[NKe]=Jn[FKe]=Jn[EKe]=Jn[CKe]=Jn[TKe]=Jn[PKe]=Jn[kKe]=Jn[OKe]=Jn[MKe]=Jn[LKe]=Jn[IKe]=Jn[RKe]=!1;function KKe(t){return SKe(t)&&_Ke(t.length)&&!!Jn[wKe(t)]}var YKe=KKe;function XKe(t){return function(e){return t(e)}}var Jhe=XKe,Uk={exports:{}};Uk.exports;(function(t,e){var r=she,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(Uk,Uk.exports);var QKe=Uk.exports,JKe=YKe,ZKe=Jhe,HK=QKe,VK=HK&&HK.isTypedArray,eYe=VK?ZKe(VK):JKe,Zhe=eYe,tYe=iKe,rYe=gU,nYe=il,iYe=Qhe,sYe=vU,aYe=Zhe,oYe=Object.prototype,lYe=oYe.hasOwnProperty;function cYe(t,e){var r=nYe(t),n=!r&&rYe(t),i=!r&&!n&&iYe(t),s=!r&&!n&&!i&&aYe(t),a=r||n||i||s,o=a?tYe(t.length,String):[],l=o.length;for(var u in t)(e||lYe.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||sYe(u,l)))&&o.push(u);return o}var uYe=cYe,dYe=Object.prototype;function hYe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||dYe;return t===r}var fYe=hYe;function pYe(t,e){return function(r){return t(e(r))}}var efe=pYe,mYe=efe,gYe=mYe(Object.keys,Object),vYe=gYe,xYe=fYe,yYe=vYe,bYe=Object.prototype,wYe=bYe.hasOwnProperty;function _Ye(t){if(!xYe(t))return yYe(t);var e=[];for(var r in Object(t))wYe.call(t,r)&&r!="constructor"&&e.push(r);return e}var SYe=_Ye,AYe=Z9,jYe=xU;function NYe(t){return t!=null&&jYe(t.length)&&!AYe(t)}var BN=NYe,EYe=uYe,CYe=SYe,TYe=BN;function PYe(t){return TYe(t)?EYe(t):CYe(t)}var tM=PYe,kYe=VGe,OYe=rKe,MYe=tM;function LYe(t){return kYe(t,MYe,OYe)}var IYe=LYe,GK=IYe,RYe=1,DYe=Object.prototype,FYe=DYe.hasOwnProperty;function $Ye(t,e,r,n,i,s){var a=r&RYe,o=GK(t),l=o.length,u=GK(e),d=u.length;if(l!=d&&!a)return!1;for(var h=l;h--;){var f=o[h];if(!(a?f in e:FYe.call(e,f)))return!1}var p=s.get(t),g=s.get(e);if(p&&g)return p==e&&g==t;var m=!0;s.set(t,e),s.set(e,t);for(var v=a;++h<l;){f=o[h];var x=t[f],y=e[f];if(n)var w=a?n(y,x,f,e,t,s):n(x,y,f,t,e,s);if(!(w===void 0?x===y||i(x,y,r,n,s):w)){m=!1;break}v||(v=f=="constructor")}if(m&&!v){var _=t.constructor,A=e.constructor;_!=A&&"constructor"in t&&"constructor"in e&&!(typeof _=="function"&&_ instanceof _&&typeof A=="function"&&A instanceof A)&&(m=!1)}return s.delete(t),s.delete(e),m}var BYe=$Ye,UYe=Ex,zYe=ph,qYe=UYe(zYe,"DataView"),WYe=qYe,HYe=Ex,VYe=ph,GYe=HYe(VYe,"Promise"),KYe=GYe,YYe=Ex,XYe=ph,QYe=YYe(XYe,"Set"),tfe=QYe,JYe=Ex,ZYe=ph,eXe=JYe(ZYe,"WeakMap"),tXe=eXe,x8=WYe,y8=tU,b8=KYe,w8=tfe,_8=tXe,rfe=np,h2=ohe,KK="[object Map]",rXe="[object Object]",YK="[object Promise]",XK="[object Set]",QK="[object WeakMap]",JK="[object DataView]",nXe=h2(x8),iXe=h2(y8),sXe=h2(b8),aXe=h2(w8),oXe=h2(_8),sg=rfe;(x8&&sg(new x8(new ArrayBuffer(1)))!=JK||y8&&sg(new y8)!=KK||b8&&sg(b8.resolve())!=YK||w8&&sg(new w8)!=XK||_8&&sg(new _8)!=QK)&&(sg=function(t){var e=rfe(t),r=e==rXe?t.constructor:void 0,n=r?h2(r):"";if(n)switch(n){case nXe:return JK;case iXe:return KK;case sXe:return YK;case aXe:return XK;case oXe:return QK}return e});var lXe=sg,iR=Whe,cXe=Khe,uXe=UGe,dXe=BYe,ZK=lXe,eY=il,tY=Qhe,hXe=Zhe,fXe=1,rY="[object Arguments]",nY="[object Array]",UC="[object Object]",pXe=Object.prototype,iY=pXe.hasOwnProperty;function mXe(t,e,r,n,i,s){var a=eY(t),o=eY(e),l=a?nY:ZK(t),u=o?nY:ZK(e);l=l==rY?UC:l,u=u==rY?UC:u;var d=l==UC,h=u==UC,f=l==u;if(f&&tY(t)){if(!tY(e))return!1;a=!0,d=!1}if(f&&!d)return s||(s=new iR),a||hXe(t)?cXe(t,e,r,n,i,s):uXe(t,e,l,r,n,i,s);if(!(r&fXe)){var p=d&&iY.call(t,"__wrapped__"),g=h&&iY.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,v=g?e.value():e;return s||(s=new iR),i(m,v,r,n,s)}}return f?(s||(s=new iR),dXe(t,e,r,n,i,s)):!1}var gXe=mXe,vXe=gXe,sY=ip;function nfe(t,e,r,n,i){return t===e?!0:t==null||e==null||!sY(t)&&!sY(e)?t!==t&&e!==e:vXe(t,e,r,n,nfe,i)}var yU=nfe,xXe=Whe,yXe=yU,bXe=1,wXe=2;function _Xe(t,e,r,n){var i=r.length,s=i,a=!n;if(t==null)return!s;for(t=Object(t);i--;){var o=r[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=r[i];var l=o[0],u=t[l],d=o[1];if(a&&o[2]){if(u===void 0&&!(l in t))return!1}else{var h=new xXe;if(n)var f=n(u,d,l,t,e,h);if(!(f===void 0?yXe(d,u,bXe|wXe,n,h):f))return!1}}return!0}var SXe=_Xe,AXe=j0;function jXe(t){return t===t&&!AXe(t)}var ife=jXe,NXe=ife,EXe=tM;function CXe(t){for(var e=EXe(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,NXe(i)]}return e}var TXe=CXe;function PXe(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var sfe=PXe,kXe=SXe,OXe=TXe,MXe=sfe;function LXe(t){var e=OXe(t);return e.length==1&&e[0][2]?MXe(e[0][0],e[0][1]):function(r){return r===t||kXe(r,t,e)}}var IXe=LXe;function RXe(t,e){return t!=null&&e in Object(t)}var DXe=RXe,FXe=hhe,$Xe=gU,BXe=il,UXe=vU,zXe=xU,qXe=BO;function WXe(t,e,r){e=FXe(e,t);for(var n=-1,i=e.length,s=!1;++n<i;){var a=qXe(e[n]);if(!(s=t!=null&&r(t,a)))break;t=t[a]}return s||++n!=i?s:(i=t==null?0:t.length,!!i&&zXe(i)&&UXe(a,i)&&(BXe(t)||$Xe(t)))}var HXe=WXe,VXe=DXe,GXe=HXe;function KXe(t,e){return t!=null&&GXe(t,e,VXe)}var YXe=KXe,XXe=yU,QXe=fhe,JXe=YXe,ZXe=J9,eQe=ife,tQe=sfe,rQe=BO,nQe=1,iQe=2;function sQe(t,e){return ZXe(t)&&eQe(e)?tQe(rQe(t),e):function(r){var n=QXe(r,t);return n===void 0&&n===e?JXe(r,t):XXe(e,n,nQe|iQe)}}var aQe=sQe;function oQe(t){return t}var f2=oQe;function lQe(t){return function(e){return e==null?void 0:e[t]}}var cQe=lQe,uQe=sU;function dQe(t){return function(e){return uQe(e,t)}}var hQe=dQe,fQe=cQe,pQe=hQe,mQe=J9,gQe=BO;function vQe(t){return mQe(t)?fQe(gQe(t)):pQe(t)}var xQe=vQe,yQe=IXe,bQe=aQe,wQe=f2,_Qe=il,SQe=xQe;function AQe(t){return typeof t=="function"?t:t==null?wQe:typeof t=="object"?_Qe(t)?bQe(t[0],t[1]):yQe(t):SQe(t)}var mh=AQe;function jQe(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var afe=jQe;function NQe(t){return t!==t}var EQe=NQe;function CQe(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var TQe=CQe,PQe=afe,kQe=EQe,OQe=TQe;function MQe(t,e,r){return e===e?OQe(t,e,r):PQe(t,kQe,r)}var LQe=MQe,IQe=LQe;function RQe(t,e){var r=t==null?0:t.length;return!!r&&IQe(t,e,0)>-1}var DQe=RQe;function FQe(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var $Qe=FQe;function BQe(){}var UQe=BQe,sR=tfe,zQe=UQe,qQe=mU,WQe=1/0,HQe=sR&&1/qQe(new sR([,-0]))[1]==WQe?function(t){return new sR(t)}:zQe,VQe=HQe,GQe=Hhe,KQe=DQe,YQe=$Qe,XQe=Ghe,QQe=VQe,JQe=mU,ZQe=200;function eJe(t,e,r){var n=-1,i=KQe,s=t.length,a=!0,o=[],l=o;if(r)a=!1,i=YQe;else if(s>=ZQe){var u=e?null:QQe(t);if(u)return JQe(u);a=!1,i=XQe,l=new GQe}else l=e?[]:o;e:for(;++n<s;){var d=t[n],h=e?e(d):d;if(d=r||d!==0?d:0,a&&h===h){for(var f=l.length;f--;)if(l[f]===h)continue e;e&&l.push(h),o.push(d)}else i(l,h,r)||(l!==o&&l.push(h),o.push(d))}return o}var tJe=eJe,rJe=mh,nJe=tJe;function iJe(t,e){return t&&t.length?nJe(t,rJe(e)):[]}var sJe=iJe;const aY=dn(sJe);function ofe(t,e,r){return e===!0?aY(t,r):yr(e)?aY(t,e):t}function mw(t){"@babel/helpers - typeof";return mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mw(t)}var aJe=["ref"];function oY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oY(Object(r),!0).forEach(function(n){rM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cfe(n.key),n)}}function lJe(t,e,r){return e&&lY(t.prototype,e),r&&lY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cJe(t,e,r){return e=zk(e),uJe(t,lfe()?Reflect.construct(e,r||[],zk(t).constructor):e.apply(t,r))}function uJe(t,e){if(e&&(mw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dJe(t)}function dJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lfe=function(){return!!t})()}function zk(t){return zk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zk(t)}function hJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S8(t,e)}function S8(t,e){return S8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},S8(t,e)}function rM(t,e,r){return e=cfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cfe(t){var e=fJe(t,"string");return mw(e)=="symbol"?e:e+""}function fJe(t,e){if(mw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(mw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pJe(t,e){if(t==null)return{};var r=mJe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mJe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function gJe(t){return t.value}function vJe(t,e){if(ue.isValidElement(t))return ue.cloneElement(t,e);if(typeof t=="function")return ue.createElement(t,e);e.ref;var r=pJe(e,aJe);return ue.createElement(pU,r)}var cY=1,N1=function(t){function e(){var r;oJe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=cJe(this,e,[].concat(i)),rM(r,"lastBoundingBox",{width:-1,height:-1}),r}return hJe(e,t),lJe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>cY||Math.abs(i.height-this.lastBoundingBox.height)>cY)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?kh({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,u=i.chartWidth,d=i.chartHeight,h,f;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();h={left:((u||0)-p.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();f={top:((d||0)-g.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return kh(kh({},h),f)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=kh(kh({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ue.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(p){n.wrapperNode=p}},vJe(s,kh(kh({},this.props),{},{payload:ofe(d,u,gJe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=kh(kh({},this.defaultProps),n.props),a=s.layout;return a==="vertical"&&St(n.props.height)?{height:n.props.height}:a==="horizontal"?{width:n.props.width||i}:null}}])}(j.PureComponent);rM(N1,"displayName","Legend");rM(N1,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var uY=DN,xJe=gU,yJe=il,dY=uY?uY.isConcatSpreadable:void 0;function bJe(t){return yJe(t)||xJe(t)||!!(dY&&t&&t[dY])}var wJe=bJe,_Je=Yhe,SJe=wJe;function ufe(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=SJe),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?ufe(o,e-1,r,n,i):_Je(i,o):n||(i[i.length]=o)}return i}var dfe=ufe;function AJe(t){return function(e,r,n){for(var i=-1,s=Object(e),a=n(e),o=a.length;o--;){var l=a[t?o:++i];if(r(s[l],l,s)===!1)break}return e}}var jJe=AJe,NJe=jJe,EJe=NJe(),CJe=EJe,TJe=CJe,PJe=tM;function kJe(t,e){return t&&TJe(t,e,PJe)}var hfe=kJe,OJe=BN;function MJe(t,e){return function(r,n){if(r==null)return r;if(!OJe(r))return t(r,n);for(var i=r.length,s=e?i:-1,a=Object(r);(e?s--:++s<i)&&n(a[s],s,a)!==!1;);return r}}var LJe=MJe,IJe=hfe,RJe=LJe,DJe=RJe(IJe),bU=DJe,FJe=bU,$Je=BN;function BJe(t,e){var r=-1,n=$Je(t)?Array(t.length):[];return FJe(t,function(i,s,a){n[++r]=e(i,s,a)}),n}var ffe=BJe;function UJe(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}var zJe=UJe,hY=s2;function qJe(t,e){if(t!==e){var r=t!==void 0,n=t===null,i=t===t,s=hY(t),a=e!==void 0,o=e===null,l=e===e,u=hY(e);if(!o&&!u&&!s&&t>e||s&&a&&l&&!o&&!u||n&&a&&l||!r&&l||!i)return 1;if(!n&&!s&&!u&&t<e||u&&r&&i&&!n&&!s||o&&r&&i||!a&&i||!l)return-1}return 0}var WJe=qJe,HJe=WJe;function VJe(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,a=i.length,o=r.length;++n<a;){var l=HJe(i[n],s[n]);if(l){if(n>=o)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return t.index-e.index}var GJe=VJe,aR=iU,KJe=sU,YJe=mh,XJe=ffe,QJe=zJe,JJe=Jhe,ZJe=GJe,eZe=f2,tZe=il;function rZe(t,e,r){e.length?e=aR(e,function(s){return tZe(s)?function(a){return KJe(a,s.length===1?s[0]:s)}:s}):e=[eZe];var n=-1;e=aR(e,JJe(YJe));var i=XJe(t,function(s,a,o){var l=aR(e,function(u){return u(s)});return{criteria:l,index:++n,value:s}});return QJe(i,function(s,a){return ZJe(s,a,r)})}var nZe=rZe;function iZe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var sZe=iZe,aZe=sZe,fY=Math.max;function oZe(t,e,r){return e=fY(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=fY(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),aZe(t,this,o)}}var lZe=oZe;function cZe(t){return function(){return t}}var uZe=cZe,dZe=Ex,hZe=function(){try{var t=dZe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),pfe=hZe,fZe=uZe,pY=pfe,pZe=f2,mZe=pY?function(t,e){return pY(t,"toString",{configurable:!0,enumerable:!1,value:fZe(e),writable:!0})}:pZe,gZe=mZe,vZe=800,xZe=16,yZe=Date.now;function bZe(t){var e=0,r=0;return function(){var n=yZe(),i=xZe-(n-r);if(r=n,i>0){if(++e>=vZe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var wZe=bZe,_Ze=gZe,SZe=wZe,AZe=SZe(_Ze),jZe=AZe,NZe=f2,EZe=lZe,CZe=jZe;function TZe(t,e){return CZe(EZe(t,e,NZe),t+"")}var PZe=TZe,kZe=eU,OZe=BN,MZe=vU,LZe=j0;function IZe(t,e,r){if(!LZe(r))return!1;var n=typeof e;return(n=="number"?OZe(r)&&MZe(e,r.length):n=="string"&&e in r)?kZe(r[e],t):!1}var nM=IZe,RZe=dfe,DZe=nZe,FZe=PZe,mY=nM,$Ze=FZe(function(t,e){if(t==null)return[];var r=e.length;return r>1&&mY(t,e[0],e[1])?e=[]:r>2&&mY(e[0],e[1],e[2])&&(e=[e[0]]),DZe(t,RZe(e,1),[])}),BZe=$Ze;const wU=dn(BZe);function zA(t){"@babel/helpers - typeof";return zA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zA(t)}function A8(){return A8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A8.apply(this,arguments)}function UZe(t,e){return HZe(t)||WZe(t,e)||qZe(t,e)||zZe()}function zZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qZe(t,e){if(t){if(typeof t=="string")return gY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gY(t,e)}}function gY(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function WZe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function HZe(t){if(Array.isArray(t))return t}function vY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vY(Object(r),!0).forEach(function(n){VZe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VZe(t,e,r){return e=GZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GZe(t){var e=KZe(t,"string");return zA(e)=="symbol"?e:e+""}function KZe(t,e){if(zA(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zA(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YZe(t){return Array.isArray(t)&&xs(t[0])&&xs(t[1])?t.join(" ~ "):t}var XZe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,d=e.payload,h=e.formatter,f=e.itemSorter,p=e.wrapperClassName,g=e.labelClassName,m=e.label,v=e.labelFormatter,x=e.accessibilityLayer,y=x===void 0?!1:x,w=function(){if(d&&d.length){var k={padding:0,margin:0},D=(f?wU(d,f):d).map(function(F,z){if(F.type==="none")return null;var U=oR({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},o),H=F.formatter||h||YZe,B=F.value,X=F.name,ne=B,fe=X;if(H&&ne!=null&&fe!=null){var I=H(B,X,F,z,d);if(Array.isArray(I)){var q=UZe(I,2);ne=q[0],fe=q[1]}else ne=I}return ue.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:U},xs(fe)?ue.createElement("span",{className:"recharts-tooltip-item-name"},fe):null,xs(fe)?ue.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ue.createElement("span",{className:"recharts-tooltip-item-value"},ne),ue.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return ue.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},_=oR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),A=oR({margin:0},u),C=!Ar(m),N=C?m:"",E=Tr("recharts-default-tooltip",p),P=Tr("recharts-tooltip-label",g);C&&v&&d!==void 0&&d!==null&&(N=v(m,d));var L=y?{role:"status","aria-live":"assertive"}:{};return ue.createElement("div",A8({className:E,style:_},L),ue.createElement("p",{className:P,style:A},ue.isValidElement(N)?N:"".concat(N)),w())};function qA(t){"@babel/helpers - typeof";return qA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qA(t)}function zC(t,e,r){return e=QZe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QZe(t){var e=JZe(t,"string");return qA(e)=="symbol"?e:e+""}function JZe(t,e){if(qA(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(qA(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var __="recharts-tooltip-wrapper",ZZe={visibility:"hidden"};function eet(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Tr(__,zC(zC(zC(zC({},"".concat(__,"-right"),St(r)&&e&&St(e.x)&&r>=e.x),"".concat(__,"-left"),St(r)&&e&&St(e.x)&&r<e.x),"".concat(__,"-bottom"),St(n)&&e&&St(e.y)&&n>=e.y),"".concat(__,"-top"),St(n)&&e&&St(e.y)&&n<e.y))}function xY(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(s&&St(s[n]))return s[n];var d=r[n]-o-i,h=r[n]+i;if(e[n])return a[n]?d:h;if(a[n]){var f=d,p=l[n];return f<p?Math.max(h,l[n]):Math.max(d,l[n])}var g=h+o,m=l[n]+u;return g>m?Math.max(d,l[n]):Math.max(h,l[n])}function tet(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ret(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,u,d,h;return a.height>0&&a.width>0&&r?(d=xY({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=xY({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=tet({translateX:d,translateY:h,useTranslate3d:o})):u=ZZe,{cssProperties:u,cssClasses:eet({translateX:d,translateY:h,coordinate:r})}}function gw(t){"@babel/helpers - typeof";return gw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gw(t)}function yY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yY(Object(r),!0).forEach(function(n){N8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function net(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iet(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gfe(n.key),n)}}function set(t,e,r){return e&&iet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aet(t,e,r){return e=qk(e),oet(t,mfe()?Reflect.construct(e,r||[],qk(t).constructor):e.apply(t,r))}function oet(t,e){if(e&&(gw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cet(t)}function cet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mfe=function(){return!!t})()}function qk(t){return qk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qk(t)}function uet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j8(t,e)}function j8(t,e){return j8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j8(t,e)}function N8(t,e,r){return e=gfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gfe(t){var e=det(t,"string");return gw(e)=="symbol"?e:e+""}function det(t,e){if(gw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(gw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wY=1,het=function(t){function e(){var r;net(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=aet(this,e,[].concat(i)),N8(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),N8(r,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return uet(e,t),set(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>wY||Math.abs(n.height-this.state.lastBoundingBox.height)>wY)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,f=i.isAnimationActive,p=i.offset,g=i.position,m=i.reverseDirection,v=i.useTranslate3d,x=i.viewBox,y=i.wrapperStyle,w=ret({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:p,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:x}),_=w.cssClasses,A=w.cssProperties,C=bY(bY({transition:f&&s?"transform ".concat(o,"ms ").concat(l):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},y);return ue.createElement("div",{tabIndex:-1,className:_,style:C,ref:function(E){n.wrapperNode=E}},u)}}])}(j.PureComponent),fet=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Qd={isSsr:fet(),get:function(e){return Qd[e]},set:function(e,r){if(typeof e=="string")Qd[e]=r;else{var n=Object.keys(e);n&&n.length&&n.forEach(function(i){Qd[i]=e[i]})}}};function vw(t){"@babel/helpers - typeof";return vw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vw(t)}function _Y(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_Y(Object(r),!0).forEach(function(n){_U(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_Y(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function met(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,xfe(n.key),n)}}function get(t,e,r){return e&&met(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vet(t,e,r){return e=Wk(e),xet(t,vfe()?Reflect.construct(e,r||[],Wk(t).constructor):e.apply(t,r))}function xet(t,e){if(e&&(vw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yet(t)}function yet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vfe=function(){return!!t})()}function Wk(t){return Wk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wk(t)}function bet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E8(t,e)}function E8(t,e){return E8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},E8(t,e)}function _U(t,e,r){return e=xfe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xfe(t){var e=wet(t,"string");return vw(e)=="symbol"?e:e+""}function wet(t,e){if(vw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(vw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _et(t){return t.dataKey}function Aet(t,e){return ue.isValidElement(t)?ue.cloneElement(t,e):typeof t=="function"?ue.createElement(t,e):ue.createElement(XZe,e)}var Io=function(t){function e(){return pet(this,e),vet(this,e,arguments)}return bet(e,t),get(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,f=i.isAnimationActive,p=i.offset,g=i.payload,m=i.payloadUniqBy,v=i.position,x=i.reverseDirection,y=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,A=g??[];h&&A.length&&(A=ofe(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),m,_et));var C=A.length>0;return ue.createElement(het,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:f,active:s,coordinate:d,hasPayload:C,offset:p,position:v,reverseDirection:x,useTranslate3d:y,viewBox:w,wrapperStyle:_},Aet(u,SY(SY({},this.props),{},{payload:A})))}}])}(j.PureComponent);_U(Io,"displayName","Tooltip");_U(Io,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Qd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jet=ph,Net=function(){return jet.Date.now()},Eet=Net,Cet=/\s/;function Tet(t){for(var e=t.length;e--&&Cet.test(t.charAt(e)););return e}var Pet=Tet,ket=Pet,Oet=/^\s+/;function Met(t){return t&&t.slice(0,ket(t)+1).replace(Oet,"")}var Let=Met,Iet=Let,AY=j0,Ret=s2,jY=NaN,Det=/^[-+]0x[0-9a-f]+$/i,Fet=/^0b[01]+$/i,$et=/^0o[0-7]+$/i,Bet=parseInt;function Uet(t){if(typeof t=="number")return t;if(Ret(t))return jY;if(AY(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=AY(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Iet(t);var r=Fet.test(t);return r||$et.test(t)?Bet(t.slice(2),r?2:8):Det.test(t)?jY:+t}var yfe=Uet,zet=j0,lR=Eet,NY=yfe,qet="Expected a function",Wet=Math.max,Het=Math.min;function Vet(t,e,r){var n,i,s,a,o,l,u=0,d=!1,h=!1,f=!0;if(typeof t!="function")throw new TypeError(qet);e=NY(e)||0,zet(r)&&(d=!!r.leading,h="maxWait"in r,s=h?Wet(NY(r.maxWait)||0,e):s,f="trailing"in r?!!r.trailing:f);function p(C){var N=n,E=i;return n=i=void 0,u=C,a=t.apply(E,N),a}function g(C){return u=C,o=setTimeout(x,e),d?p(C):a}function m(C){var N=C-l,E=C-u,P=e-N;return h?Het(P,s-E):P}function v(C){var N=C-l,E=C-u;return l===void 0||N>=e||N<0||h&&E>=s}function x(){var C=lR();if(v(C))return y(C);o=setTimeout(x,m(C))}function y(C){return o=void 0,f&&n?p(C):(n=i=void 0,a)}function w(){o!==void 0&&clearTimeout(o),u=0,n=l=i=o=void 0}function _(){return o===void 0?a:y(lR())}function A(){var C=lR(),N=v(C);if(n=arguments,i=this,l=C,N){if(o===void 0)return g(l);if(h)return clearTimeout(o),o=setTimeout(x,e),p(l)}return o===void 0&&(o=setTimeout(x,e)),a}return A.cancel=w,A.flush=_,A}var Get=Vet,Ket=Get,Yet=j0,Xet="Expected a function";function Qet(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Xet);return Yet(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Ket(t,e,{leading:n,maxWait:e,trailing:i})}var Jet=Qet;const bfe=dn(Jet);function WA(t){"@babel/helpers - typeof";return WA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WA(t)}function EY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EY(Object(r),!0).forEach(function(n){Zet(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zet(t,e,r){return e=ett(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ett(t){var e=ttt(t,"string");return WA(e)=="symbol"?e:e+""}function ttt(t,e){if(WA(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(WA(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rtt(t,e){return att(t)||stt(t,e)||itt(t,e)||ntt()}function ntt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function itt(t,e){if(t){if(typeof t=="string")return CY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CY(t,e)}}function CY(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function stt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function att(t){if(Array.isArray(t))return t}var wg=j.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,f=t.maxHeight,p=t.children,g=t.debounce,m=g===void 0?0:g,v=t.id,x=t.className,y=t.onResize,w=t.style,_=w===void 0?{}:w,A=j.useRef(null),C=j.useRef();C.current=y,j.useImperativeHandle(e,function(){return Object.defineProperty(A.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),A.current},configurable:!0})});var N=j.useState({containerWidth:i.width,containerHeight:i.height}),E=rtt(N,2),P=E[0],L=E[1],O=j.useCallback(function(D,F){L(function(z){var U=Math.round(D),H=Math.round(F);return z.containerWidth===U&&z.containerHeight===H?z:{containerWidth:U,containerHeight:H}})},[]);j.useEffect(function(){var D=function(X){var ne,fe=X[0].contentRect,I=fe.width,q=fe.height;O(I,q),(ne=C.current)===null||ne===void 0||ne.call(C,I,q)};m>0&&(D=bfe(D,m,{trailing:!0,leading:!1}));var F=new ResizeObserver(D),z=A.current.getBoundingClientRect(),U=z.width,H=z.height;return O(U,H),F.observe(A.current),function(){F.disconnect()}},[O,m]);var k=j.useMemo(function(){var D=P.containerWidth,F=P.containerHeight;if(D<0||F<0)return null;Bu(bg(a)||bg(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Bu(!r||r>0,"The aspect(%s) must be greater than zero.",r);var z=bg(a)?D:a,U=bg(l)?F:l;r&&r>0&&(z?U=z/r:U&&(z=U*r),f&&U>f&&(U=f)),Bu(z>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,U,a,l,d,h,r);var H=!Array.isArray(p)&&Pf(p.type).endsWith("Chart");return ue.Children.map(p,function(B){return ghe.isElement(B)?j.cloneElement(B,qC({width:z,height:U},H?{style:qC({height:"100%",width:"100%",maxHeight:U,maxWidth:z},B.props.style)}:{})):B})},[r,p,l,f,h,d,P,a]);return ue.createElement("div",{id:v?"".concat(v):void 0,className:Tr("recharts-responsive-container",x),style:qC(qC({},_),{},{width:a,height:l,minWidth:d,minHeight:h,maxHeight:f}),ref:A},k)}),iM=function(e){return null};iM.displayName="Cell";function HA(t){"@babel/helpers - typeof";return HA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HA(t)}function TY(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function C8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TY(Object(r),!0).forEach(function(n){ott(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TY(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ott(t,e,r){return e=ltt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ltt(t){var e=ctt(t,"string");return HA(e)=="symbol"?e:e+""}function ctt(t,e){if(HA(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(HA(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var my={widthCache:{},cacheCount:0},utt=2e3,dtt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},PY="recharts_measurement_span";function htt(t){var e=C8({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var $S=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Qd.isSsr)return{width:0,height:0};var n=htt(r),i=JSON.stringify({text:e,copyStyle:n});if(my.widthCache[i])return my.widthCache[i];try{var s=document.getElementById(PY);s||(s=document.createElement("span"),s.setAttribute("id",PY),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=C8(C8({},dtt),n);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return my.widthCache[i]=l,++my.cacheCount>utt&&(my.cacheCount=0,my.widthCache={}),l}catch{return{width:0,height:0}}},ftt=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function VA(t){"@babel/helpers - typeof";return VA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VA(t)}function Hk(t,e){return vtt(t)||gtt(t,e)||mtt(t,e)||ptt()}function ptt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mtt(t,e){if(t){if(typeof t=="string")return kY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kY(t,e)}}function kY(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gtt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function vtt(t){if(Array.isArray(t))return t}function xtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OY(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,btt(n.key),n)}}function ytt(t,e,r){return e&&OY(t.prototype,e),r&&OY(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function btt(t){var e=wtt(t,"string");return VA(e)=="symbol"?e:e+""}function wtt(t,e){if(VA(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(VA(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MY=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LY=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_tt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Stt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,wfe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Att=Object.keys(wfe),Ky="NaN";function jtt(t,e){return t*wfe[e]}var WC=function(){function t(e,r){xtt(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!_tt.test(r)&&(this.num=NaN,this.unit=""),Att.includes(r)&&(this.num=jtt(e,r),this.unit="px")}return ytt(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=Stt.exec(r))!==null&&n!==void 0?n:[],s=Hk(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function _fe(t){if(t.includes(Ky))return Ky;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=MY.exec(e))!==null&&r!==void 0?r:[],i=Hk(n,4),s=i[1],a=i[2],o=i[3],l=WC.parse(s??""),u=WC.parse(o??""),d=a==="*"?l.multiply(u):l.divide(u);if(d.isNaN())return Ky;e=e.replace(MY,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,f=(h=LY.exec(e))!==null&&h!==void 0?h:[],p=Hk(f,4),g=p[1],m=p[2],v=p[3],x=WC.parse(g??""),y=WC.parse(v??""),w=m==="+"?x.add(y):x.subtract(y);if(w.isNaN())return Ky;e=e.replace(LY,w.toString())}return e}var IY=/\(([^()]*)\)/;function Ntt(t){for(var e=t;e.includes("(");){var r=IY.exec(e),n=Hk(r,2),i=n[1];e=e.replace(IY,_fe(i))}return e}function Ett(t){var e=t.replace(/\s+/g,"");return e=Ntt(e),e=_fe(e),e}function Ctt(t){try{return Ett(t)}catch{return Ky}}function cR(t){var e=Ctt(t.slice(5,-1));return e===Ky?"":e}var Ttt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ptt=["dx","dy","angle","className","breakAll"];function T8(){return T8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T8.apply(this,arguments)}function RY(t,e){if(t==null)return{};var r=ktt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ktt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function DY(t,e){return Itt(t)||Ltt(t,e)||Mtt(t,e)||Ott()}function Ott(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mtt(t,e){if(t){if(typeof t=="string")return FY(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FY(t,e)}}function FY(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ltt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Itt(t){if(Array.isArray(t))return t}var Sfe=/[ \f\n\r\t\v\u2028\u2029]+/,Afe=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];Ar(r)||(n?s=r.toString().split(""):s=r.toString().split(Sfe));var a=s.map(function(l){return{word:l,width:$S(l,i).width}}),o=n?0:$S("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Rtt=function(e,r,n,i,s){var a=e.maxLines,o=e.children,l=e.style,u=e.breakAll,d=St(a),h=o,f=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(U,H){var B=H.word,X=H.width,ne=U[U.length-1];if(ne&&(i==null||s||ne.width+X+n<Number(i)))ne.words.push(B),ne.width+=X+n;else{var fe={words:[B],width:X};U.push(fe)}return U},[])},p=f(r),g=function(z){return z.reduce(function(U,H){return U.width>H.width?U:H})};if(!d)return p;for(var m="",v=function(z){var U=h.slice(0,z),H=Afe({breakAll:u,style:l,children:U+m}).wordsWithComputedWidth,B=f(H),X=B.length>a||g(B).width>Number(i);return[X,B]},x=0,y=h.length-1,w=0,_;x<=y&&w<=h.length-1;){var A=Math.floor((x+y)/2),C=A-1,N=v(C),E=DY(N,2),P=E[0],L=E[1],O=v(A),k=DY(O,1),D=k[0];if(!P&&!D&&(x=A+1),P&&D&&(y=A-1),!P&&D){_=L;break}w++}return _||p},$Y=function(e){var r=Ar(e)?[]:e.toString().split(Sfe);return[{words:r}]},Dtt=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((r||n)&&!Qd.isSsr){var l,u,d=Afe({breakAll:a,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,f=d.spaceWidth;l=h,u=f}else return $Y(i);return Rtt({breakAll:a,children:i,maxLines:o,style:s},l,u,r,n)}return $Y(i)},BY="#808080",ox=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,f=e.textAnchor,p=f===void 0?"start":f,g=e.verticalAnchor,m=g===void 0?"end":g,v=e.fill,x=v===void 0?BY:v,y=RY(e,Ttt),w=j.useMemo(function(){return Dtt({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:h,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,h,y.style,y.width]),_=y.dx,A=y.dy,C=y.angle,N=y.className,E=y.breakAll,P=RY(y,Ptt);if(!xs(n)||!xs(s))return null;var L=n+(St(_)?_:0),O=s+(St(A)?A:0),k;switch(m){case"start":k=cR("calc(".concat(u,")"));break;case"middle":k=cR("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(u," / 2))"));break;default:k=cR("calc(".concat(w.length-1," * -").concat(o,")"));break}var D=[];if(h){var F=w[0].width,z=y.width;D.push("scale(".concat((St(z)?z/F:1)/F,")"))}return C&&D.push("rotate(".concat(C,", ").concat(L,", ").concat(O,")")),D.length&&(P.transform=D.join(" ")),ue.createElement("text",T8({},rr(P,!0),{x:L,y:O,className:Tr("recharts-text",N),textAnchor:p,fill:x.includes("url")?BY:x}),w.map(function(U,H){var B=U.words.join(E?"":" ");return ue.createElement("tspan",{x:L,dy:H===0?k:o,key:"".concat(B,"-").concat(H)},B)}))};function Gm(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ftt(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function SU(t){let e,r,n;t.length!==2?(e=Gm,r=(o,l)=>Gm(t(o),l),n=(o,l)=>t(o)-l):(e=t===Gm||t===Ftt?t:$tt,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;r(o[h],l)<0?u=h+1:d=h}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const h=u+d>>>1;r(o[h],l)<=0?u=h+1:d=h}while(u<d)}return u}function a(o,l,u=0,d=o.length){const h=i(o,l,u,d-1);return h>u&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function $tt(){return 0}function jfe(t){return t===null?NaN:+t}function*Btt(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const Utt=SU(Gm),UN=Utt.right;SU(jfe).center;class UY extends Map{constructor(e,r=Wtt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(zY(this,e))}has(e){return super.has(zY(this,e))}set(e,r){return super.set(ztt(this,e),r)}delete(e){return super.delete(qtt(this,e))}}function zY({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function ztt({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function qtt({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Wtt(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Htt(t=Gm){if(t===Gm)return Nfe;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Nfe(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Vtt=Math.sqrt(50),Gtt=Math.sqrt(10),Ktt=Math.sqrt(2);function Vk(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=Vtt?10:s>=Gtt?5:s>=Ktt?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?Vk(t,e,r*2):[o,l,u]}function P8(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?Vk(e,t,r):Vk(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function k8(t,e,r){return e=+e,t=+t,r=+r,Vk(t,e,r)[2]}function O8(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?k8(e,t,r):k8(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function qY(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function WY(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Efe(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Nfe:Htt(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),h=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*h*(l-h)/l)*(u-l/2<0?-1:1),p=Math.max(r,Math.floor(e-u*h/l+f)),g=Math.min(n,Math.floor(e+(l-u)*h/l+f));Efe(t,e,p,g,i)}const s=t[e];let a=r,o=n;for(S_(t,r,e),i(t[n],s)>0&&S_(t,r,n);a<o;){for(S_(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?S_(t,r,o):(++o,S_(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function S_(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Ytt(t,e,r){if(t=Float64Array.from(Btt(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return WY(t);if(e>=1)return qY(t);var n,i=(n-1)*e,s=Math.floor(i),a=qY(Efe(t,s).subarray(0,s+1)),o=WY(t.subarray(s+1));return a+(o-a)*(i-s)}}function Xtt(t,e,r=jfe){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Qtt(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Gc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function sp(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const M8=Symbol("implicit");function AU(){var t=new UY,e=[],r=[],n=M8;function i(s){let a=t.get(s);if(a===void 0){if(n!==M8)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new UY;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return AU(e,r).unknown(n)},Gc.apply(i,arguments),i}function GA(){var t=AU().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete t.unknown;function h(){var f=e().length,p=i<n,g=p?i:n,m=p?n:i;s=(m-g)/Math.max(1,f-l+u*2),o&&(s=Math.floor(s)),g+=(m-g-s*(f-l))*d,a=s*(1-l),o&&(g=Math.round(g),a=Math.round(a));var v=Qtt(f).map(function(x){return g+s*x});return r(p?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),h()):e()},t.range=function(f){return arguments.length?([n,i]=f,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(f){return[n,i]=f,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,h()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,u=+f),h()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),h()):l},t.paddingOuter=function(f){return arguments.length?(u=+f,h()):u},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),h()):d},t.copy=function(){return GA(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},Gc.apply(h(),arguments)}function Cfe(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Cfe(e())},t}function BS(){return Cfe(GA.apply(null,arguments).paddingInner(1))}function jU(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Tfe(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function zN(){}var KA=.7,Gk=1/KA,E1="\\s*([+-]?\\d+)\\s*",YA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Jd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jtt=/^#([0-9a-f]{3,8})$/,Ztt=new RegExp(`^rgb\\(${E1},${E1},${E1}\\)$`),ert=new RegExp(`^rgb\\(${Jd},${Jd},${Jd}\\)$`),trt=new RegExp(`^rgba\\(${E1},${E1},${E1},${YA}\\)$`),rrt=new RegExp(`^rgba\\(${Jd},${Jd},${Jd},${YA}\\)$`),nrt=new RegExp(`^hsl\\(${YA},${Jd},${Jd}\\)$`),irt=new RegExp(`^hsla\\(${YA},${Jd},${Jd},${YA}\\)$`),HY={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jU(zN,XA,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:VY,formatHex:VY,formatHex8:srt,formatHsl:art,formatRgb:GY,toString:GY});function VY(){return this.rgb().formatHex()}function srt(){return this.rgb().formatHex8()}function art(){return Pfe(this).formatHsl()}function GY(){return this.rgb().formatRgb()}function XA(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Jtt.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?KY(e):r===3?new Uo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?HC(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?HC(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ztt.exec(t))?new Uo(e[1],e[2],e[3],1):(e=ert.exec(t))?new Uo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=trt.exec(t))?HC(e[1],e[2],e[3],e[4]):(e=rrt.exec(t))?HC(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nrt.exec(t))?QY(e[1],e[2]/100,e[3]/100,1):(e=irt.exec(t))?QY(e[1],e[2]/100,e[3]/100,e[4]):HY.hasOwnProperty(t)?KY(HY[t]):t==="transparent"?new Uo(NaN,NaN,NaN,0):null}function KY(t){return new Uo(t>>16&255,t>>8&255,t&255,1)}function HC(t,e,r,n){return n<=0&&(t=e=r=NaN),new Uo(t,e,r,n)}function ort(t){return t instanceof zN||(t=XA(t)),t?(t=t.rgb(),new Uo(t.r,t.g,t.b,t.opacity)):new Uo}function L8(t,e,r,n){return arguments.length===1?ort(t):new Uo(t,e,r,n??1)}function Uo(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}jU(Uo,L8,Tfe(zN,{brighter(t){return t=t==null?Gk:Math.pow(Gk,t),new Uo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?KA:Math.pow(KA,t),new Uo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Uo(Bv(this.r),Bv(this.g),Bv(this.b),Kk(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:YY,formatHex:YY,formatHex8:lrt,formatRgb:XY,toString:XY}));function YY(){return`#${_g(this.r)}${_g(this.g)}${_g(this.b)}`}function lrt(){return`#${_g(this.r)}${_g(this.g)}${_g(this.b)}${_g((isNaN(this.opacity)?1:this.opacity)*255)}`}function XY(){const t=Kk(this.opacity);return`${t===1?"rgb(":"rgba("}${Bv(this.r)}, ${Bv(this.g)}, ${Bv(this.b)}${t===1?")":`, ${t})`}`}function Kk(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Bv(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _g(t){return t=Bv(t),(t<16?"0":"")+t.toString(16)}function QY(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Lu(t,e,r,n)}function Pfe(t){if(t instanceof Lu)return new Lu(t.h,t.s,t.l,t.opacity);if(t instanceof zN||(t=XA(t)),!t)return new Lu;if(t instanceof Lu)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Lu(a,o,l,t.opacity)}function crt(t,e,r,n){return arguments.length===1?Pfe(t):new Lu(t,e,r,n??1)}function Lu(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}jU(Lu,crt,Tfe(zN,{brighter(t){return t=t==null?Gk:Math.pow(Gk,t),new Lu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?KA:Math.pow(KA,t),new Lu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Uo(uR(t>=240?t-240:t+120,i,n),uR(t,i,n),uR(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Lu(JY(this.h),VC(this.s),VC(this.l),Kk(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kk(this.opacity);return`${t===1?"hsl(":"hsla("}${JY(this.h)}, ${VC(this.s)*100}%, ${VC(this.l)*100}%${t===1?")":`, ${t})`}`}}));function JY(t){return t=(t||0)%360,t<0?t+360:t}function VC(t){return Math.max(0,Math.min(1,t||0))}function uR(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const NU=t=>()=>t;function urt(t,e){return function(r){return t+r*e}}function drt(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function hrt(t){return(t=+t)==1?kfe:function(e,r){return r-e?drt(e,r,t):NU(isNaN(e)?r:e)}}function kfe(t,e){var r=e-t;return r?urt(t,r):NU(isNaN(t)?e:t)}const ZY=function t(e){var r=hrt(e);function n(i,s){var a=r((i=L8(i)).r,(s=L8(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),u=kfe(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function frt(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function prt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function mrt(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=p2(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function grt(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Yk(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function vrt(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=p2(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var I8=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dR=new RegExp(I8.source,"g");function xrt(t){return function(){return t}}function yrt(t){return function(e){return t(e)+""}}function brt(t,e){var r=I8.lastIndex=dR.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=I8.exec(t))&&(i=dR.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Yk(n,i)})),r=dR.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?yrt(l[0].x):xrt(e):(e=l.length,function(u){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(u);return o.join("")})}function p2(t,e){var r=typeof e,n;return e==null||r==="boolean"?NU(e):(r==="number"?Yk:r==="string"?(n=XA(e))?(e=n,ZY):brt:e instanceof XA?ZY:e instanceof Date?grt:prt(e)?frt:Array.isArray(e)?mrt:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?vrt:Yk)(t,e)}function EU(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function wrt(t,e){e===void 0&&(e=t,t=p2);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function _rt(t){return function(){return t}}function Xk(t){return+t}var eX=[0,1];function oo(t){return t}function R8(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:_rt(isNaN(e)?NaN:.5)}function Srt(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Art(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=R8(i,n),s=r(a,s)):(n=R8(n,i),s=r(s,a)),function(o){return s(n(o))}}function jrt(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=R8(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=UN(t,o,1,n)-1;return s[l](i[l](o))}}function qN(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function sM(){var t=eX,e=eX,r=p2,n,i,s,a=oo,o,l,u;function d(){var f=Math.min(t.length,e.length);return a!==oo&&(a=Srt(t[0],t[f-1])),o=f>2?jrt:Art,l=u=null,h}function h(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(n),e,r)))(n(a(f)))}return h.invert=function(f){return a(i((u||(u=o(e,t.map(n),Yk)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,Xk),d()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),r=EU,d()},h.clamp=function(f){return arguments.length?(a=f?!0:oo,d()):a!==oo},h.interpolate=function(f){return arguments.length?(r=f,d()):r},h.unknown=function(f){return arguments.length?(s=f,h):s},function(f,p){return n=f,i=p,d()}}function CU(){return sM()(oo,oo)}function Nrt(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qk(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function xw(t){return t=Qk(Math.abs(t)),t?t[1]:NaN}function Ert(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Crt(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var Trt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function QA(t){if(!(e=Trt.exec(t)))throw new Error("invalid format: "+t);var e;return new TU({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}QA.prototype=TU.prototype;function TU(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}TU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Prt(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Ofe;function krt(t,e){var r=Qk(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(Ofe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Qk(t,Math.max(0,e+s-1))[0]}function tX(t,e){var r=Qk(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const rX={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Nrt,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>tX(t*100,e),r:tX,s:krt,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function nX(t){return t}var iX=Array.prototype.map,sX=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ort(t){var e=t.grouping===void 0||t.thousands===void 0?nX:Ert(iX.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?nX:Crt(iX.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=QA(h);var f=h.fill,p=h.align,g=h.sign,m=h.symbol,v=h.zero,x=h.width,y=h.comma,w=h.precision,_=h.trim,A=h.type;A==="n"?(y=!0,A="g"):rX[A]||(w===void 0&&(w=12),_=!0,A="g"),(v||f==="0"&&p==="=")&&(v=!0,f="0",p="=");var C=m==="$"?r:m==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",N=m==="$"?n:/[%p]/.test(A)?a:"",E=rX[A],P=/[defgprs%]/.test(A);w=w===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(O){var k=C,D=N,F,z,U;if(A==="c")D=E(O)+D,O="";else{O=+O;var H=O<0||1/O<0;if(O=isNaN(O)?l:E(Math.abs(O),w),_&&(O=Prt(O)),H&&+O==0&&g!=="+"&&(H=!1),k=(H?g==="("?g:o:g==="-"||g==="("?"":g)+k,D=(A==="s"?sX[8+Ofe/3]:"")+D+(H&&g==="("?")":""),P){for(F=-1,z=O.length;++F<z;)if(U=O.charCodeAt(F),48>U||U>57){D=(U===46?i+O.slice(F+1):O.slice(F))+D,O=O.slice(0,F);break}}}y&&!v&&(O=e(O,1/0));var B=k.length+O.length+D.length,X=B<x?new Array(x-B+1).join(f):"";switch(y&&v&&(O=e(X+O,X.length?x-D.length:1/0),X=""),p){case"<":O=k+O+D+X;break;case"=":O=k+X+O+D;break;case"^":O=X.slice(0,B=X.length>>1)+k+O+D+X.slice(B);break;default:O=X+k+O+D;break}return s(O)}return L.toString=function(){return h+""},L}function d(h,f){var p=u((h=QA(h),h.type="f",h)),g=Math.max(-8,Math.min(8,Math.floor(xw(f)/3)))*3,m=Math.pow(10,-g),v=sX[8+g/3];return function(x){return p(m*x)+v}}return{format:u,formatPrefix:d}}var GC,PU,Mfe;Mrt({thousands:",",grouping:[3],currency:["$",""]});function Mrt(t){return GC=Ort(t),PU=GC.format,Mfe=GC.formatPrefix,GC}function Lrt(t){return Math.max(0,-xw(Math.abs(t)))}function Irt(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xw(e)/3)))*3-xw(Math.abs(t)))}function Rrt(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xw(e)-xw(t))+1}function Lfe(t,e,r,n){var i=O8(t,e,r),s;switch(n=QA(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=Irt(i,a))&&(n.precision=s),Mfe(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Rrt(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Lrt(i))&&(n.precision=s-(n.type==="%")*2);break}}return PU(n)}function N0(t){var e=t.domain;return t.ticks=function(r){var n=e();return P8(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Lfe(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=k8(a,o,r),u===l)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Jk(){var t=CU();return t.copy=function(){return qN(t,Jk())},Gc.apply(t,arguments),N0(t)}function Ife(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Xk),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Ife(t).unknown(e)},t=arguments.length?Array.from(t,Xk):[0,1],N0(r)}function Rfe(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function aX(t){return Math.log(t)}function oX(t){return Math.exp(t)}function Drt(t){return-Math.log(-t)}function Frt(t){return-Math.exp(-t)}function $rt(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Brt(t){return t===10?$rt:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Urt(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function lX(t){return(e,r)=>-t(-e,r)}function kU(t){const e=t(aX,oX),r=e.domain;let n=10,i,s;function a(){return i=Urt(n),s=Brt(n),r()[0]<0?(i=lX(i),s=lX(s),t(Drt,Frt)):t(aX,oX),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const h=d<u;h&&([u,d]=[d,u]);let f=i(u),p=i(d),g,m;const v=o==null?10:+o;let x=[];if(!(n%1)&&p-f<v){if(f=Math.floor(f),p=Math.ceil(p),u>0){for(;f<=p;++f)for(g=1;g<n;++g)if(m=f<0?g/s(-f):g*s(f),!(m<u)){if(m>d)break;x.push(m)}}else for(;f<=p;++f)for(g=n-1;g>=1;--g)if(m=f>0?g/s(-f):g*s(f),!(m<u)){if(m>d)break;x.push(m)}x.length*2<v&&(x=P8(u,d,v))}else x=P8(f,p,Math.min(p-f,v)).map(s);return h?x.reverse():x},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=QA(l)).precision==null&&(l.trim=!0),l=PU(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?l(d):""}},e.nice=()=>r(Rfe(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Dfe(){const t=kU(sM()).domain([1,10]);return t.copy=()=>qN(t,Dfe()).base(t.base()),Gc.apply(t,arguments),t}function cX(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function uX(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OU(t){var e=1,r=t(cX(e),uX(e));return r.constant=function(n){return arguments.length?t(cX(e=+n),uX(e)):e},N0(r)}function Ffe(){var t=OU(sM());return t.copy=function(){return qN(t,Ffe()).constant(t.constant())},Gc.apply(t,arguments)}function dX(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function zrt(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function qrt(t){return t<0?-t*t:t*t}function MU(t){var e=t(oo,oo),r=1;function n(){return r===1?t(oo,oo):r===.5?t(zrt,qrt):t(dX(r),dX(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},N0(e)}function LU(){var t=MU(sM());return t.copy=function(){return qN(t,LU()).exponent(t.exponent())},Gc.apply(t,arguments),t}function Wrt(){return LU.apply(null,arguments).exponent(.5)}function hX(t){return Math.sign(t)*t*t}function Hrt(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function $fe(){var t=CU(),e=[0,1],r=!1,n;function i(s){var a=Hrt(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(hX(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Xk)).map(hX)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return $fe(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Gc.apply(i,arguments),N0(i)}function Bfe(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=Xtt(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[UN(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Gm),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Bfe().domain(t).range(e).unknown(n)},Gc.apply(s,arguments)}function Ufe(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[UN(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return Ufe().domain([t,e]).range(i).unknown(s)},Gc.apply(N0(a),arguments)}function zfe(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[UN(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return zfe().domain(t).range(e).unknown(r)},Gc.apply(i,arguments)}const hR=new Date,fR=new Date;function _s(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>_s(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(hR.setTime(+s),fR.setTime(+a),t(hR),t(fR),Math.floor(r(hR,fR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Zk=_s(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Zk.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?_s(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Zk);Zk.range;const _f=1e3,Oc=_f*60,Sf=Oc*60,Yf=Sf*24,IU=Yf*7,fX=Yf*30,pR=Yf*365,Sg=_s(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*_f)},(t,e)=>(e-t)/_f,t=>t.getUTCSeconds());Sg.range;const RU=_s(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_f)},(t,e)=>{t.setTime(+t+e*Oc)},(t,e)=>(e-t)/Oc,t=>t.getMinutes());RU.range;const DU=_s(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Oc)},(t,e)=>(e-t)/Oc,t=>t.getUTCMinutes());DU.range;const FU=_s(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*_f-t.getMinutes()*Oc)},(t,e)=>{t.setTime(+t+e*Sf)},(t,e)=>(e-t)/Sf,t=>t.getHours());FU.range;const $U=_s(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Sf)},(t,e)=>(e-t)/Sf,t=>t.getUTCHours());$U.range;const WN=_s(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Oc)/Yf,t=>t.getDate()-1);WN.range;const aM=_s(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yf,t=>t.getUTCDate()-1);aM.range;const qfe=_s(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Yf,t=>Math.floor(t/Yf));qfe.range;function Cx(t){return _s(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Oc)/IU)}const oM=Cx(0),e4=Cx(1),Vrt=Cx(2),Grt=Cx(3),yw=Cx(4),Krt=Cx(5),Yrt=Cx(6);oM.range;e4.range;Vrt.range;Grt.range;yw.range;Krt.range;Yrt.range;function Tx(t){return _s(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/IU)}const lM=Tx(0),t4=Tx(1),Xrt=Tx(2),Qrt=Tx(3),bw=Tx(4),Jrt=Tx(5),Zrt=Tx(6);lM.range;t4.range;Xrt.range;Qrt.range;bw.range;Jrt.range;Zrt.range;const BU=_s(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());BU.range;const UU=_s(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());UU.range;const Xf=_s(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Xf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_s(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Xf.range;const Qf=_s(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Qf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:_s(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Qf.range;function Wfe(t,e,r,n,i,s){const a=[[Sg,1,_f],[Sg,5,5*_f],[Sg,15,15*_f],[Sg,30,30*_f],[s,1,Oc],[s,5,5*Oc],[s,15,15*Oc],[s,30,30*Oc],[i,1,Sf],[i,3,3*Sf],[i,6,6*Sf],[i,12,12*Sf],[n,1,Yf],[n,2,2*Yf],[r,1,IU],[e,1,fX],[e,3,3*fX],[t,1,pR]];function o(u,d,h){const f=d<u;f&&([u,d]=[d,u]);const p=h&&typeof h.range=="function"?h:l(u,d,h),g=p?p.range(u,+d+1):[];return f?g.reverse():g}function l(u,d,h){const f=Math.abs(d-u)/h,p=SU(([,,v])=>v).right(a,f);if(p===a.length)return t.every(O8(u/pR,d/pR,h));if(p===0)return Zk.every(Math.max(O8(u,d,h),1));const[g,m]=a[f/a[p-1][2]<a[p][2]/f?p-1:p];return g.every(m)}return[o,l]}const[ent,tnt]=Wfe(Qf,UU,lM,qfe,$U,DU),[rnt,nnt]=Wfe(Xf,BU,oM,WN,FU,RU);function mR(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function A_(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function int(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=j_(i),d=N_(i),h=j_(s),f=N_(s),p=j_(a),g=N_(a),m=j_(o),v=N_(o),x=j_(l),y=N_(l),w={a:H,A:B,b:X,B:ne,c:null,d:yX,e:yX,f:Ent,g:Dnt,G:$nt,H:Ant,I:jnt,j:Nnt,L:Hfe,m:Cnt,M:Tnt,p:fe,q:I,Q:_X,s:SX,S:Pnt,u:knt,U:Ont,V:Mnt,w:Lnt,W:Int,x:null,X:null,y:Rnt,Y:Fnt,Z:Bnt,"%":wX},_={a:q,A:V,b:K,B:Y,c:null,d:bX,e:bX,f:Wnt,g:eit,G:rit,H:Unt,I:znt,j:qnt,L:Gfe,m:Hnt,M:Vnt,p:ae,q:pe,Q:_X,s:SX,S:Gnt,u:Knt,U:Ynt,V:Xnt,w:Qnt,W:Jnt,x:null,X:null,y:Znt,Y:tit,Z:nit,"%":wX},A={a:L,A:O,b:k,B:D,c:F,d:vX,e:vX,f:bnt,g:gX,G:mX,H:xX,I:xX,j:gnt,L:ynt,m:mnt,M:vnt,p:P,q:pnt,Q:_nt,s:Snt,S:xnt,u:cnt,U:unt,V:dnt,w:lnt,W:hnt,x:z,X:U,y:gX,Y:mX,Z:fnt,"%":wnt};w.x=C(r,w),w.X=C(n,w),w.c=C(e,w),_.x=C(r,_),_.X=C(n,_),_.c=C(e,_);function C(le,ye){return function(Se){var we=[],We=-1,Ve=0,ke=le.length,Q,_e,Ue;for(Se instanceof Date||(Se=new Date(+Se));++We<ke;)le.charCodeAt(We)===37&&(we.push(le.slice(Ve,We)),(_e=pX[Q=le.charAt(++We)])!=null?Q=le.charAt(++We):_e=Q==="e"?" ":"0",(Ue=ye[Q])&&(Q=Ue(Se,_e)),we.push(Q),Ve=We+1);return we.push(le.slice(Ve,We)),we.join("")}}function N(le,ye){return function(Se){var we=A_(1900,void 0,1),We=E(we,le,Se+="",0),Ve,ke;if(We!=Se.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(ye&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(Ve=gR(A_(we.y,0,1)),ke=Ve.getUTCDay(),Ve=ke>4||ke===0?t4.ceil(Ve):t4(Ve),Ve=aM.offset(Ve,(we.V-1)*7),we.y=Ve.getUTCFullYear(),we.m=Ve.getUTCMonth(),we.d=Ve.getUTCDate()+(we.w+6)%7):(Ve=mR(A_(we.y,0,1)),ke=Ve.getDay(),Ve=ke>4||ke===0?e4.ceil(Ve):e4(Ve),Ve=WN.offset(Ve,(we.V-1)*7),we.y=Ve.getFullYear(),we.m=Ve.getMonth(),we.d=Ve.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),ke="Z"in we?gR(A_(we.y,0,1)).getUTCDay():mR(A_(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(ke+5)%7:we.w+we.U*7-(ke+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,gR(we)):mR(we)}}function E(le,ye,Se,we){for(var We=0,Ve=ye.length,ke=Se.length,Q,_e;We<Ve;){if(we>=ke)return-1;if(Q=ye.charCodeAt(We++),Q===37){if(Q=ye.charAt(We++),_e=A[Q in pX?ye.charAt(We++):Q],!_e||(we=_e(le,Se,we))<0)return-1}else if(Q!=Se.charCodeAt(we++))return-1}return we}function P(le,ye,Se){var we=u.exec(ye.slice(Se));return we?(le.p=d.get(we[0].toLowerCase()),Se+we[0].length):-1}function L(le,ye,Se){var we=p.exec(ye.slice(Se));return we?(le.w=g.get(we[0].toLowerCase()),Se+we[0].length):-1}function O(le,ye,Se){var we=h.exec(ye.slice(Se));return we?(le.w=f.get(we[0].toLowerCase()),Se+we[0].length):-1}function k(le,ye,Se){var we=x.exec(ye.slice(Se));return we?(le.m=y.get(we[0].toLowerCase()),Se+we[0].length):-1}function D(le,ye,Se){var we=m.exec(ye.slice(Se));return we?(le.m=v.get(we[0].toLowerCase()),Se+we[0].length):-1}function F(le,ye,Se){return E(le,e,ye,Se)}function z(le,ye,Se){return E(le,r,ye,Se)}function U(le,ye,Se){return E(le,n,ye,Se)}function H(le){return a[le.getDay()]}function B(le){return s[le.getDay()]}function X(le){return l[le.getMonth()]}function ne(le){return o[le.getMonth()]}function fe(le){return i[+(le.getHours()>=12)]}function I(le){return 1+~~(le.getMonth()/3)}function q(le){return a[le.getUTCDay()]}function V(le){return s[le.getUTCDay()]}function K(le){return l[le.getUTCMonth()]}function Y(le){return o[le.getUTCMonth()]}function ae(le){return i[+(le.getUTCHours()>=12)]}function pe(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var ye=C(le+="",w);return ye.toString=function(){return le},ye},parse:function(le){var ye=N(le+="",!1);return ye.toString=function(){return le},ye},utcFormat:function(le){var ye=C(le+="",_);return ye.toString=function(){return le},ye},utcParse:function(le){var ye=N(le+="",!0);return ye.toString=function(){return le},ye}}}var pX={"-":"",_:" ",0:"0"},zs=/^\s*\d+/,snt=/^%/,ant=/[\\^$*+?|[\]().{}]/g;function an(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function ont(t){return t.replace(ant,"\\$&")}function j_(t){return new RegExp("^(?:"+t.map(ont).join("|")+")","i")}function N_(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function lnt(t,e,r){var n=zs.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function cnt(t,e,r){var n=zs.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function unt(t,e,r){var n=zs.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function dnt(t,e,r){var n=zs.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function hnt(t,e,r){var n=zs.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function mX(t,e,r){var n=zs.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function gX(t,e,r){var n=zs.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function fnt(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pnt(t,e,r){var n=zs.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function mnt(t,e,r){var n=zs.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function vX(t,e,r){var n=zs.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function gnt(t,e,r){var n=zs.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function xX(t,e,r){var n=zs.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function vnt(t,e,r){var n=zs.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function xnt(t,e,r){var n=zs.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function ynt(t,e,r){var n=zs.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function bnt(t,e,r){var n=zs.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wnt(t,e,r){var n=snt.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function _nt(t,e,r){var n=zs.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Snt(t,e,r){var n=zs.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function yX(t,e){return an(t.getDate(),e,2)}function Ant(t,e){return an(t.getHours(),e,2)}function jnt(t,e){return an(t.getHours()%12||12,e,2)}function Nnt(t,e){return an(1+WN.count(Xf(t),t),e,3)}function Hfe(t,e){return an(t.getMilliseconds(),e,3)}function Ent(t,e){return Hfe(t,e)+"000"}function Cnt(t,e){return an(t.getMonth()+1,e,2)}function Tnt(t,e){return an(t.getMinutes(),e,2)}function Pnt(t,e){return an(t.getSeconds(),e,2)}function knt(t){var e=t.getDay();return e===0?7:e}function Ont(t,e){return an(oM.count(Xf(t)-1,t),e,2)}function Vfe(t){var e=t.getDay();return e>=4||e===0?yw(t):yw.ceil(t)}function Mnt(t,e){return t=Vfe(t),an(yw.count(Xf(t),t)+(Xf(t).getDay()===4),e,2)}function Lnt(t){return t.getDay()}function Int(t,e){return an(e4.count(Xf(t)-1,t),e,2)}function Rnt(t,e){return an(t.getFullYear()%100,e,2)}function Dnt(t,e){return t=Vfe(t),an(t.getFullYear()%100,e,2)}function Fnt(t,e){return an(t.getFullYear()%1e4,e,4)}function $nt(t,e){var r=t.getDay();return t=r>=4||r===0?yw(t):yw.ceil(t),an(t.getFullYear()%1e4,e,4)}function Bnt(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+an(e/60|0,"0",2)+an(e%60,"0",2)}function bX(t,e){return an(t.getUTCDate(),e,2)}function Unt(t,e){return an(t.getUTCHours(),e,2)}function znt(t,e){return an(t.getUTCHours()%12||12,e,2)}function qnt(t,e){return an(1+aM.count(Qf(t),t),e,3)}function Gfe(t,e){return an(t.getUTCMilliseconds(),e,3)}function Wnt(t,e){return Gfe(t,e)+"000"}function Hnt(t,e){return an(t.getUTCMonth()+1,e,2)}function Vnt(t,e){return an(t.getUTCMinutes(),e,2)}function Gnt(t,e){return an(t.getUTCSeconds(),e,2)}function Knt(t){var e=t.getUTCDay();return e===0?7:e}function Ynt(t,e){return an(lM.count(Qf(t)-1,t),e,2)}function Kfe(t){var e=t.getUTCDay();return e>=4||e===0?bw(t):bw.ceil(t)}function Xnt(t,e){return t=Kfe(t),an(bw.count(Qf(t),t)+(Qf(t).getUTCDay()===4),e,2)}function Qnt(t){return t.getUTCDay()}function Jnt(t,e){return an(t4.count(Qf(t)-1,t),e,2)}function Znt(t,e){return an(t.getUTCFullYear()%100,e,2)}function eit(t,e){return t=Kfe(t),an(t.getUTCFullYear()%100,e,2)}function tit(t,e){return an(t.getUTCFullYear()%1e4,e,4)}function rit(t,e){var r=t.getUTCDay();return t=r>=4||r===0?bw(t):bw.ceil(t),an(t.getUTCFullYear()%1e4,e,4)}function nit(){return"+0000"}function wX(){return"%"}function _X(t){return+t}function SX(t){return Math.floor(+t/1e3)}var gy,Yfe,Xfe;iit({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iit(t){return gy=int(t),Yfe=gy.format,gy.parse,Xfe=gy.utcFormat,gy.utcParse,gy}function sit(t){return new Date(t)}function ait(t){return t instanceof Date?+t:+new Date(+t)}function zU(t,e,r,n,i,s,a,o,l,u){var d=CU(),h=d.invert,f=d.domain,p=u(".%L"),g=u(":%S"),m=u("%I:%M"),v=u("%I %p"),x=u("%a %d"),y=u("%b %d"),w=u("%B"),_=u("%Y");function A(C){return(l(C)<C?p:o(C)<C?g:a(C)<C?m:s(C)<C?v:n(C)<C?i(C)<C?x:y:r(C)<C?w:_)(C)}return d.invert=function(C){return new Date(h(C))},d.domain=function(C){return arguments.length?f(Array.from(C,ait)):f().map(sit)},d.ticks=function(C){var N=f();return t(N[0],N[N.length-1],C??10)},d.tickFormat=function(C,N){return N==null?A:u(N)},d.nice=function(C){var N=f();return(!C||typeof C.range!="function")&&(C=e(N[0],N[N.length-1],C??10)),C?f(Rfe(N,C)):d},d.copy=function(){return qN(d,zU(t,e,r,n,i,s,a,o,l,u))},d}function oit(){return Gc.apply(zU(rnt,nnt,Xf,BU,oM,WN,FU,RU,Sg,Yfe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function lit(){return Gc.apply(zU(ent,tnt,Qf,UU,lM,aM,$U,DU,Sg,Xfe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function cM(){var t=0,e=1,r,n,i,s,a=oo,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function d(h){return function(f){var p,g;return arguments.length?([p,g]=f,a=h(p,g),u):[a(0),a(1)]}}return u.range=d(p2),u.rangeRound=d(EU),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function E0(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Qfe(){var t=N0(cM()(oo));return t.copy=function(){return E0(t,Qfe())},sp.apply(t,arguments)}function Jfe(){var t=kU(cM()).domain([1,10]);return t.copy=function(){return E0(t,Jfe()).base(t.base())},sp.apply(t,arguments)}function Zfe(){var t=OU(cM());return t.copy=function(){return E0(t,Zfe()).constant(t.constant())},sp.apply(t,arguments)}function qU(){var t=MU(cM());return t.copy=function(){return E0(t,qU()).exponent(t.exponent())},sp.apply(t,arguments)}function cit(){return qU.apply(null,arguments).exponent(.5)}function epe(){var t=[],e=oo;function r(n){if(n!=null&&!isNaN(n=+n))return e((UN(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gm),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Ytt(t,s/n))},r.copy=function(){return epe(e).domain(t)},sp.apply(r,arguments)}function uM(){var t=0,e=.5,r=1,n=1,i,s,a,o,l,u=oo,d,h=!1,f;function p(m){return isNaN(m=+m)?f:(m=.5+((m=+d(m))-s)*(n*m<n*s?o:l),u(h?Math.max(0,Math.min(1,m)):m))}p.domain=function(m){return arguments.length?([t,e,r]=m,i=d(t=+t),s=d(e=+e),a=d(r=+r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,p):[t,e,r]},p.clamp=function(m){return arguments.length?(h=!!m,p):h},p.interpolator=function(m){return arguments.length?(u=m,p):u};function g(m){return function(v){var x,y,w;return arguments.length?([x,y,w]=v,u=wrt(m,[x,y,w]),p):[u(0),u(.5),u(1)]}}return p.range=g(p2),p.rangeRound=g(EU),p.unknown=function(m){return arguments.length?(f=m,p):f},function(m){return d=m,i=m(t),s=m(e),a=m(r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,p}}function tpe(){var t=N0(uM()(oo));return t.copy=function(){return E0(t,tpe())},sp.apply(t,arguments)}function rpe(){var t=kU(uM()).domain([.1,1,10]);return t.copy=function(){return E0(t,rpe()).base(t.base())},sp.apply(t,arguments)}function npe(){var t=OU(uM());return t.copy=function(){return E0(t,npe()).constant(t.constant())},sp.apply(t,arguments)}function WU(){var t=MU(uM());return t.copy=function(){return E0(t,WU()).exponent(t.exponent())},sp.apply(t,arguments)}function uit(){return WU.apply(null,arguments).exponent(.5)}const AX=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:GA,scaleDiverging:tpe,scaleDivergingLog:rpe,scaleDivergingPow:WU,scaleDivergingSqrt:uit,scaleDivergingSymlog:npe,scaleIdentity:Ife,scaleImplicit:M8,scaleLinear:Jk,scaleLog:Dfe,scaleOrdinal:AU,scalePoint:BS,scalePow:LU,scaleQuantile:Bfe,scaleQuantize:Ufe,scaleRadial:$fe,scaleSequential:Qfe,scaleSequentialLog:Jfe,scaleSequentialPow:qU,scaleSequentialQuantile:epe,scaleSequentialSqrt:cit,scaleSequentialSymlog:Zfe,scaleSqrt:Wrt,scaleSymlog:Ffe,scaleThreshold:zfe,scaleTime:oit,scaleUtc:lit,tickFormat:Lfe},Symbol.toStringTag,{value:"Module"}));var dit=s2;function hit(t,e,r){for(var n=-1,i=t.length;++n<i;){var s=t[n],a=e(s);if(a!=null&&(o===void 0?a===a&&!dit(a):r(a,o)))var o=a,l=s}return l}var dM=hit;function fit(t,e){return t>e}var ipe=fit,pit=dM,mit=ipe,git=f2;function vit(t){return t&&t.length?pit(t,git,mit):void 0}var xit=vit;const hM=dn(xit);function yit(t,e){return t<e}var spe=yit,bit=dM,wit=spe,_it=f2;function Sit(t){return t&&t.length?bit(t,_it,wit):void 0}var Ait=Sit;const fM=dn(Ait);var jit=iU,Nit=mh,Eit=ffe,Cit=il;function Tit(t,e){var r=Cit(t)?jit:Eit;return r(t,Nit(e))}var Pit=Tit,kit=dfe,Oit=Pit;function Mit(t,e){return kit(Oit(t,e),1)}var Lit=Mit;const Iit=dn(Lit);var Rit=yU;function Dit(t,e){return Rit(t,e)}var Fit=Dit;const HN=dn(Fit);var m2=1e9,$it={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VU,ci=!0,qc="[DecimalError] ",Uv=qc+"Invalid argument: ",HU=qc+"Exponent out of range: ",g2=Math.floor,ag=Math.pow,Bit=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,$l,Ls=1e7,Zn=7,ape=9007199254740991,r4=g2(ape/Zn),$t={};$t.absoluteValue=$t.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$t.comparedTo=$t.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};$t.decimalPlaces=$t.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Zn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};$t.dividedBy=$t.div=function(t){return kf(this,new this.constructor(t))};$t.dividedToIntegerBy=$t.idiv=function(t){var e=this,r=e.constructor;return In(kf(e,new r(t),0,1),r.precision)};$t.equals=$t.eq=function(t){return!this.cmp(t)};$t.exponent=function(){return ts(this)};$t.greaterThan=$t.gt=function(t){return this.cmp(t)>0};$t.greaterThanOrEqualTo=$t.gte=function(t){return this.cmp(t)>=0};$t.isInteger=$t.isint=function(){return this.e>this.d.length-2};$t.isNegative=$t.isneg=function(){return this.s<0};$t.isPositive=$t.ispos=function(){return this.s>0};$t.isZero=function(){return this.s===0};$t.lessThan=$t.lt=function(t){return this.cmp(t)<0};$t.lessThanOrEqualTo=$t.lte=function(t){return this.cmp(t)<1};$t.logarithm=$t.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq($l))throw Error(qc+"NaN");if(r.s<1)throw Error(qc+(r.s?"NaN":"-Infinity"));return r.eq($l)?new n(0):(ci=!1,e=kf(JA(r,s),JA(t,s),s),ci=!0,In(e,i))};$t.minus=$t.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?cpe(e,t):ope(e,(t.s=-t.s,t))};$t.modulo=$t.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(qc+"NaN");return r.s?(ci=!1,e=kf(r,t,0,1).times(t),ci=!0,r.minus(e)):In(new n(r),i)};$t.naturalExponential=$t.exp=function(){return lpe(this)};$t.naturalLogarithm=$t.ln=function(){return JA(this)};$t.negated=$t.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$t.plus=$t.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ope(e,t):cpe(e,(t.s=-t.s,t))};$t.precision=$t.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Uv+t);if(e=ts(i)+1,n=i.d.length-1,r=n*Zn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};$t.squareRoot=$t.sqrt=function(){var t,e,r,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(qc+"NaN")}for(t=ts(o),ci=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Wd(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=g2((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(s=n,n=s.plus(kf(o,s,a+2)).times(.5),Wd(s.d).slice(0,a)===(e=Wd(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(In(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return ci=!0,In(n,r)};$t.times=$t.mul=function(t){var e,r,n,i,s,a,o,l,u,d=this,h=d.constructor,f=d.d,p=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,l=f.length,u=p.length,l<u&&(s=f,f=p,p=s,a=l,l=u,u=a),s=[],a=l+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+p[n]*f[i-n-1]+e,s[i--]=o%Ls|0,e=o/Ls|0;s[i]=(s[i]+e)%Ls|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ci?In(t,h.precision):t};$t.toDecimalPlaces=$t.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(oh(t,0,m2),e===void 0?e=n.rounding:oh(e,0,8),In(r,t+ts(r)+1,e))};$t.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=lx(n,!0):(oh(t,0,m2),e===void 0?e=i.rounding:oh(e,0,8),n=In(new i(n),t+1,e),r=lx(n,!0,t+1)),r};$t.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?lx(i):(oh(t,0,m2),e===void 0?e=s.rounding:oh(e,0,8),n=In(new s(i),t+ts(i)+1,e),r=lx(n.abs(),!1,t+ts(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};$t.toInteger=$t.toint=function(){var t=this,e=t.constructor;return In(new e(t),ts(t)+1,e.rounding)};$t.toNumber=function(){return+this};$t.toPower=$t.pow=function(t){var e,r,n,i,s,a,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l($l);if(o=new l(o),!o.s){if(t.s<1)throw Error(qc+"Infinity");return o}if(o.eq($l))return o;if(n=l.precision,t.eq($l))return In(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=d<0?-d:d)<=ape){for(i=new l($l),e=Math.ceil(n/Zn+4),ci=!1;r%2&&(i=i.times(o),NX(i.d,e)),r=g2(r/2),r!==0;)o=o.times(o),NX(o.d,e);return ci=!0,t.s<0?new l($l).div(i):In(i,n)}}else if(s<0)throw Error(qc+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ci=!1,i=t.times(JA(o,n+u)),ci=!0,i=lpe(i),i.s=s,i};$t.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=ts(i),n=lx(i,r<=s.toExpNeg||r>=s.toExpPos)):(oh(t,1,m2),e===void 0?e=s.rounding:oh(e,0,8),i=In(new s(i),t,e),r=ts(i),n=lx(i,t<=r||r<=s.toExpNeg,t)),n};$t.toSignificantDigits=$t.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(oh(t,1,m2),e===void 0?e=n.rounding:oh(e,0,8)),In(new n(r),t,e)};$t.toString=$t.valueOf=$t.val=$t.toJSON=$t[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ts(t),r=t.constructor;return lx(t,e<=r.toExpNeg||e>=r.toExpPos)};function ope(t,e){var r,n,i,s,a,o,l,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ci?In(e,h):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=u.length):(n=u,i=a,o=l.length),a=Math.ceil(h/Zn),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/Ls|0,l[s]%=Ls;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ci?In(e,h):e}function oh(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Uv+t)}function Wd(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=Zn-n.length,r&&(s+=Dp(r)),s+=n;a=t[e],n=a+"",r=Zn-n.length,r&&(s+=Dp(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var kf=function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%Ls|0,a=s/Ls|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Ls+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,u,d,h,f,p,g,m,v,x,y,w,_,A,C,N,E,P=n.constructor,L=n.s==i.s?1:-1,O=n.d,k=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(qc+"Division by zero");for(l=n.e-i.e,N=k.length,A=O.length,p=new P(L),g=p.d=[],u=0;k[u]==(O[u]||0);)++u;if(k[u]>(O[u]||0)&&--l,s==null?y=s=P.precision:a?y=s+(ts(n)-ts(i))+1:y=s,y<0)return new P(0);if(y=y/Zn+2|0,u=0,N==1)for(d=0,k=k[0],y++;(u<A||d)&&y--;u++)w=d*Ls+(O[u]||0),g[u]=w/k|0,d=w%k|0;else{for(d=Ls/(k[0]+1)|0,d>1&&(k=t(k,d),O=t(O,d),N=k.length,A=O.length),_=N,m=O.slice(0,N),v=m.length;v<N;)m[v++]=0;E=k.slice(),E.unshift(0),C=k[0],k[1]>=Ls/2&&++C;do d=0,o=e(k,m,N,v),o<0?(x=m[0],N!=v&&(x=x*Ls+(m[1]||0)),d=x/C|0,d>1?(d>=Ls&&(d=Ls-1),h=t(k,d),f=h.length,v=m.length,o=e(h,m,f,v),o==1&&(d--,r(h,N<f?E:k,f))):(d==0&&(o=d=1),h=k.slice()),f=h.length,f<v&&h.unshift(0),r(m,h,v),o==-1&&(v=m.length,o=e(k,m,N,v),o<1&&(d++,r(m,N<v?E:k,v))),v=m.length):o===0&&(d++,m=[0]),g[u++]=d,o&&m[0]?m[v++]=O[_]||0:(m=[O[_]],v=1);while((_++<A||m[0]!==void 0)&&y--)}return g[0]||g.shift(),p.e=l,In(p,a?s+ts(p)+1:s)}}();function lpe(t,e){var r,n,i,s,a,o,l=0,u=0,d=t.constructor,h=d.precision;if(ts(t)>16)throw Error(HU+ts(t));if(!t.s)return new d($l);for(e==null?(ci=!1,o=h):o=e,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(ag(2,u))/Math.LN10*2+5|0,o+=n,r=i=s=new d($l),d.precision=o;;){if(i=In(i.times(t),o),r=r.times(++l),a=s.plus(kf(i,r,o)),Wd(a.d).slice(0,o)===Wd(s.d).slice(0,o)){for(;u--;)s=In(s.times(s),o);return d.precision=h,e==null?(ci=!0,In(s,h)):s}s=a}}function ts(t){for(var e=t.e*Zn,r=t.d[0];r>=10;r/=10)e++;return e}function vR(t,e,r){if(e>t.LN10.sd())throw ci=!0,r&&(t.precision=r),Error(qc+"LN10 precision limit exceeded");return In(new t(t.LN10),e)}function Dp(t){for(var e="";t--;)e+="0";return e}function JA(t,e){var r,n,i,s,a,o,l,u,d,h=1,f=10,p=t,g=p.d,m=p.constructor,v=m.precision;if(p.s<1)throw Error(qc+(p.s?"NaN":"-Infinity"));if(p.eq($l))return new m(0);if(e==null?(ci=!1,u=v):u=e,p.eq(10))return e==null&&(ci=!0),vR(m,u);if(u+=f,m.precision=u,r=Wd(g),n=r.charAt(0),s=ts(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Wd(p.d),n=r.charAt(0),h++;s=ts(p),n>1?(p=new m("0."+r),s++):p=new m(n+"."+r.slice(1))}else return l=vR(m,u+2,v).times(s+""),p=JA(new m(n+"."+r.slice(1)),u-f).plus(l),m.precision=v,e==null?(ci=!0,In(p,v)):p;for(o=a=p=kf(p.minus($l),p.plus($l),u),d=In(p.times(p),u),i=3;;){if(a=In(a.times(d),u),l=o.plus(kf(a,new m(i),u)),Wd(l.d).slice(0,u)===Wd(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(vR(m,u+2,v).times(s+""))),o=kf(o,new m(h),u),m.precision=v,e==null?(ci=!0,In(o,v)):o;o=l,i+=2}}function jX(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=g2(r/Zn),t.d=[],n=(r+1)%Zn,r<0&&(n+=Zn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Zn;n<i;)t.d.push(+e.slice(n,n+=Zn));e=e.slice(n),n=Zn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ci&&(t.e>r4||t.e<-r4))throw Error(HU+r)}else t.s=0,t.e=0,t.d=[0];return t}function In(t,e,r){var n,i,s,a,o,l,u,d,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=Zn,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Zn),s=h.length,d>=s)return t;for(u=s=h[d],a=1;s>=10;s/=10)a++;n%=Zn,i=n-Zn+a}if(r!==void 0&&(s=ag(10,a-i-1),o=u/s%10|0,l=e<0||h[d+1]!==void 0||u%s,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/ag(10,a-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return l?(s=ts(t),h.length=1,e=e-s-1,h[0]=ag(10,(Zn-e%Zn)%Zn),t.e=g2(-e/Zn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,s=1,d--):(h.length=d+1,s=ag(10,Zn-n),h[d]=i>0?(u/ag(10,a-i)%ag(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==Ls&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=Ls)break;h[d--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(ci&&(t.e>r4||t.e<-r4))throw Error(HU+ts(t));return t}function cpe(t,e){var r,n,i,s,a,o,l,u,d,h,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),ci?In(e,p):e;if(l=t.d,h=e.d,n=e.e,u=t.e,l=l.slice(),a=u-n,a){for(d=a<0,d?(r=l,a=-a,o=h.length):(r=h,n=u,o=l.length),i=Math.max(Math.ceil(p/Zn),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(r=l,l=h,h=r,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=Ls-1;--l[s],l[i]+=Ls}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ci?In(e,p):e):new f(0)}function lx(t,e,r){var n,i=ts(t),s=Wd(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Dp(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Dp(-i-1)+s,r&&(n=r-a)>0&&(s+=Dp(n))):i>=a?(s+=Dp(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Dp(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Dp(n))),t.s<0?"-"+s:s}function NX(t,e){if(t.length>e)return t.length=e,!0}function upe(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Uv+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return jX(a,s.toString())}else if(typeof s!="string")throw Error(Uv+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Bit.test(s))jX(a,s);else throw Error(Uv+s)}if(i.prototype=$t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=upe,i.config=i.set=Uit,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Uit(t){if(!t||typeof t!="object")throw Error(qc+"Object expected");var e,r,n,i=["precision",1,m2,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(g2(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Uv+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Uv+r+": "+n);return this}var VU=upe($it);$l=new VU(1);const Cn=VU;function zit(t){return Vit(t)||Hit(t)||Wit(t)||qit()}function qit(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wit(t,e){if(t){if(typeof t=="string")return D8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D8(t,e)}}function Hit(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Vit(t){if(Array.isArray(t))return D8(t)}function D8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Git=function(e){return e},dpe={"@@functional/placeholder":!0},hpe=function(e){return e===dpe},EX=function(e){return function r(){return arguments.length===0||arguments.length===1&&hpe(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},Kit=function t(e,r){return e===1?r:EX(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==dpe}).length;return a>=e?r.apply(void 0,i):t(e-a,EX(function(){for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];var d=i.map(function(h){return hpe(h)?l.shift():h});return r.apply(void 0,zit(d).concat(l))}))})},pM=function(e){return Kit(e.length,e)},F8=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},Yit=pM(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),Xit=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return Git;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},$8=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},fpe=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return r&&s.every(function(o,l){return o===r[l]})||(r=s,n=e.apply(void 0,s)),n}};function Qit(t){var e;return t===0?e=1:e=Math.floor(new Cn(t).abs().log(10).toNumber())+1,e}function Jit(t,e,r){for(var n=new Cn(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Zit=pM(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),est=pM(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),tst=pM(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const mM={rangeStep:Jit,getDigitCount:Qit,interpolateNumber:Zit,uninterpolateNumber:est,uninterpolateTruncation:tst};function B8(t){return ist(t)||nst(t)||ppe(t)||rst()}function rst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nst(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function ist(t){if(Array.isArray(t))return U8(t)}function ZA(t,e){return ost(t)||ast(t,e)||ppe(t,e)||sst()}function sst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ppe(t,e){if(t){if(typeof t=="string")return U8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return U8(t,e)}}function U8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ast(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(r.push(o.value),!(e&&r.length===e));n=!0);}catch(l){i=!0,s=l}finally{try{!n&&a.return!=null&&a.return()}finally{if(i)throw s}}return r}}function ost(t){if(Array.isArray(t))return t}function mpe(t){var e=ZA(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function gpe(t,e,r){if(t.lte(0))return new Cn(0);var n=mM.getDigitCount(t.toNumber()),i=new Cn(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new Cn(Math.ceil(s.div(a).toNumber())).add(r).mul(a),l=o.mul(i);return e?l:new Cn(Math.ceil(l))}function lst(t,e,r){var n=1,i=new Cn(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Cn(10).pow(mM.getDigitCount(t)-1),i=new Cn(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Cn(Math.floor(t)))}else t===0?i=new Cn(Math.floor((e-1)/2)):r||(i=new Cn(Math.floor(t)));var a=Math.floor((e-1)/2),o=Xit(Yit(function(l){return i.add(new Cn(l-a).mul(n)).toNumber()}),F8);return o(0,e)}function vpe(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Cn(0),tickMin:new Cn(0),tickMax:new Cn(0)};var s=gpe(new Cn(e).sub(t).div(r-1),n,i),a;t<=0&&e>=0?a=new Cn(0):(a=new Cn(t).add(e).div(2),a=a.sub(new Cn(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Cn(e).sub(a).div(s).toNumber()),u=o+l+1;return u>r?vpe(t,e,r,n,i+1):(u<r&&(l=e>0?l+(r-u):l,o=e>0?o:o+(r-u)),{step:s,tickMin:a.sub(new Cn(o).mul(s)),tickMax:a.add(new Cn(l).mul(s))})}function cst(t){var e=ZA(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=mpe([r,n]),l=ZA(o,2),u=l[0],d=l[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(B8(F8(0,i-1).map(function(){return 1/0}))):[].concat(B8(F8(0,i-1).map(function(){return-1/0})),[d]);return r>n?$8(h):h}if(u===d)return lst(u,i,s);var f=vpe(u,d,a,s),p=f.step,g=f.tickMin,m=f.tickMax,v=mM.rangeStep(g,m.add(new Cn(.1).mul(p)),p);return r>n?$8(v):v}function ust(t,e){var r=ZA(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=mpe([n,i]),o=ZA(a,2),l=o[0],u=o[1];if(l===-1/0||u===1/0)return[n,i];if(l===u)return[l];var d=Math.max(e,2),h=gpe(new Cn(u).sub(l).div(d-1),s,0),f=[].concat(B8(mM.rangeStep(new Cn(l),new Cn(u).sub(new Cn(.99).mul(h)),h)),[u]);return n>i?$8(f):f}var dst=fpe(cst),hst=fpe(ust),fst="Invariant failed";function cx(t,e){throw new Error(fst)}var pst=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ww(t){"@babel/helpers - typeof";return ww=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ww(t)}function n4(){return n4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n4.apply(this,arguments)}function mst(t,e){return yst(t)||xst(t,e)||vst(t,e)||gst()}function gst(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vst(t,e){if(t){if(typeof t=="string")return CX(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CX(t,e)}}function CX(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xst(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function yst(t){if(Array.isArray(t))return t}function bst(t,e){if(t==null)return{};var r=wst(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wst(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _st(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sst(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bpe(n.key),n)}}function Ast(t,e,r){return e&&Sst(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jst(t,e,r){return e=i4(e),Nst(t,xpe()?Reflect.construct(e,r||[],i4(t).constructor):e.apply(t,r))}function Nst(t,e){if(e&&(ww(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Est(t)}function Est(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xpe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xpe=function(){return!!t})()}function i4(t){return i4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i4(t)}function Cst(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z8(t,e)}function z8(t,e){return z8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},z8(t,e)}function ype(t,e,r){return e=bpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bpe(t){var e=Tst(t,"string");return ww(e)=="symbol"?e:e+""}function Tst(t,e){if(ww(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ww(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VN=function(t){function e(){return _st(this,e),jst(this,e,arguments)}return Cst(e,t),Ast(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,a=n.width,o=n.dataKey,l=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,f=bst(n,pst),p=rr(f,!1);this.props.direction==="x"&&d.type!=="number"&&cx();var g=l.map(function(m){var v=u(m,o),x=v.x,y=v.y,w=v.value,_=v.errorVal;if(!_)return null;var A=[],C,N;if(Array.isArray(_)){var E=mst(_,2);C=E[0],N=E[1]}else C=N=_;if(s==="vertical"){var P=d.scale,L=y+i,O=L+a,k=L-a,D=P(w-C),F=P(w+N);A.push({x1:F,y1:O,x2:F,y2:k}),A.push({x1:D,y1:L,x2:F,y2:L}),A.push({x1:D,y1:O,x2:D,y2:k})}else if(s==="horizontal"){var z=h.scale,U=x+i,H=U-a,B=U+a,X=z(w-C),ne=z(w+N);A.push({x1:H,y1:ne,x2:B,y2:ne}),A.push({x1:U,y1:X,x2:U,y2:ne}),A.push({x1:H,y1:X,x2:B,y2:X})}return ue.createElement(nn,n4({className:"recharts-errorBar",key:"bar-".concat(A.map(function(fe){return"".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))},p),A.map(function(fe){return ue.createElement("line",n4({},fe,{key:"line-".concat(fe.x1,"-").concat(fe.x2,"-").concat(fe.y1,"-").concat(fe.y2)}))}))});return ue.createElement(nn,{className:"recharts-errorBars"},g)}}])}(ue.Component);ype(VN,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ype(VN,"displayName","ErrorBar");function e5(t){"@babel/helpers - typeof";return e5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e5(t)}function TX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function W0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TX(Object(r),!0).forEach(function(n){Pst(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pst(t,e,r){return e=kst(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kst(t){var e=Ost(t,"string");return e5(e)=="symbol"?e:e+""}function Ost(t,e){if(e5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(e5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wpe=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Pl(r,N1);if(!a)return null;var o=N1.defaultProps,l=o!==void 0?W0(W0({},o),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:s==="children"?u=(n||[]).reduce(function(d,h){var f=h.item,p=h.props,g=p.sectors||p.data||[];return d.concat(g.map(function(m){return{type:a.props.iconType||f.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):u=(n||[]).map(function(d){var h=d.item,f=h.type.defaultProps,p=f!==void 0?W0(W0({},f),h.props):{},g=p.dataKey,m=p.name,v=p.legendType,x=p.hide;return{inactive:x,dataKey:g,type:l.iconType||v||"square",color:GU(h),value:m||g,payload:p}}),W0(W0(W0({},l),N1.getWithHeight(a,i)),{},{payload:u,item:a})};function t5(t){"@babel/helpers - typeof";return t5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t5(t)}function PX(t){return Rst(t)||Ist(t)||Lst(t)||Mst()}function Mst(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lst(t,e){if(t){if(typeof t=="string")return q8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q8(t,e)}}function Ist(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rst(t){if(Array.isArray(t))return q8(t)}function q8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kX(Object(r),!0).forEach(function(n){C1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C1(t,e,r){return e=Dst(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dst(t){var e=Fst(t,"string");return t5(e)=="symbol"?e:e+""}function Fst(t,e){if(t5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(t5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ms(t,e,r){return Ar(t)||Ar(e)?r:xs(e)?Vl(t,e,r):yr(e)?e(t):r}function US(t,e,r,n){var i=Iit(t,function(o){return ms(o,e)});if(r==="number"){var s=i.filter(function(o){return St(o)||parseFloat(o)});return s.length?[fM(s),hM(s)]:[1/0,-1/0]}var a=n?i.filter(function(o){return!Ar(o)}):i;return a.map(function(o){return xs(o)||o instanceof Date?o:""})}var $st=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,u=0;u<o;u++){var d=u>0?i[u-1].coordinate:i[o-1].coordinate,h=i[u].coordinate,f=u>=o-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(so(h-d)!==so(f-h)){var g=[];if(so(f-h)===so(l[1]-l[0])){p=f;var m=h+l[1]-l[0];g[0]=Math.min(m,(m+d)/2),g[1]=Math.max(m,(m+d)/2)}else{p=d;var v=f+l[1]-l[0];g[0]=Math.min(h,(v+h)/2),g[1]=Math.max(h,(v+h)/2)}var x=[Math.min(h,(p+h)/2),Math.max(h,(p+h)/2)];if(e>x[0]&&e<=x[1]||e>=g[0]&&e<=g[1]){a=i[u].index;break}}else{var y=Math.min(d,f),w=Math.max(d,f);if(e>(y+h)/2&&e<=(w+h)/2){a=i[u].index;break}}}else for(var _=0;_<o;_++)if(_===0&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2&&e<=(n[_].coordinate+n[_+1].coordinate)/2||_===o-1&&e>(n[_].coordinate+n[_-1].coordinate)/2){a=n[_].index;break}return a},GU=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Ni(Ni({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},Bst=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,u=o.length;l<u;l++)for(var d=s[o[l]].stackGroups,h=Object.keys(d),f=0,p=h.length;f<p;f++){var g=d[h[f]],m=g.items,v=g.cateAxisId,x=m.filter(function(N){return Pf(N.type).indexOf("Bar")>=0});if(x&&x.length){var y=x[0].type.defaultProps,w=y!==void 0?Ni(Ni({},y),x[0].props):x[0].props,_=w.barSize,A=w[v];a[A]||(a[A]=[]);var C=Ar(_)?r:_;a[A].push({item:x[0],stackList:x.slice(1),barSize:Ar(C)?void 0:ao(C,n,0)})}}return a},Ust=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var u=ao(r,i,0,!0),d,h=[];if(a[0].barSize===+a[0].barSize){var f=!1,p=i/l,g=a.reduce(function(_,A){return _+A.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&p>0&&(f=!0,p*=.9,g=l*p);var m=(i-g)/2>>0,v={offset:m-u,size:0};d=a.reduce(function(_,A){var C={item:A.item,position:{offset:v.offset+v.size+u,size:f?p:A.barSize}},N=[].concat(PX(_),[C]);return v=N[N.length-1].position,A.stackList&&A.stackList.length&&A.stackList.forEach(function(E){N.push({item:E,position:v})}),N},h)}else{var x=ao(n,i,0,!0);i-2*x-(l-1)*u<=0&&(u=0);var y=(i-2*x-(l-1)*u)/l;y>1&&(y>>=0);var w=o===+o?Math.min(y,o):y;d=a.reduce(function(_,A,C){var N=[].concat(PX(_),[{item:A.item,position:{offset:x+(y+u)*C+(y-w)/2,size:w}}]);return A.stackList&&A.stackList.length&&A.stackList.forEach(function(E){N.push({item:E,position:N[N.length-1].position})}),N},h)}return d},zst=function(e,r,n,i){var s=n.children,a=n.width,o=n.margin,l=a-(o.left||0)-(o.right||0),u=wpe({children:s,legendWidth:l});if(u){var d=i||{},h=d.width,f=d.height,p=u.align,g=u.verticalAlign,m=u.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&p!=="center"&&St(e[p]))return Ni(Ni({},e),{},C1({},p,e[p]+(h||0)));if((m==="horizontal"||m==="vertical"&&p==="center")&&g!=="middle"&&St(e[g]))return Ni(Ni({},e),{},C1({},g,e[g]+(f||0)))}return e},qst=function(e,r,n){return Ar(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},_pe=function(e,r,n,i,s){var a=r.props.children,o=Gl(a,VN).filter(function(u){return qst(i,s,u.props.direction)});if(o&&o.length){var l=o.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=ms(d,n);if(Ar(h))return u;var f=Array.isArray(h)?[fM(h),hM(h)]:[h,h],p=l.reduce(function(g,m){var v=ms(d,m,0),x=f[0]-Math.abs(Array.isArray(v)?v[0]:v),y=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(x,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Wst=function(e,r,n,i,s){var a=r.map(function(o){return _pe(e,o,n,s,i)}).filter(function(o){return!Ar(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Spe=function(e,r,n,i,s){var a=r.map(function(l){var u=l.props.dataKey;return n==="number"&&u&&_pe(e,l,u,i)||US(e,u,n,s)});if(n==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,u){for(var d=0,h=u.length;d<h;d++)o[u[d]]||(o[u[d]]=!0,l.push(u[d]));return l},[])},Ape=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},jpe=function(e,r,n,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===r&&(s=!0),l.coordinate===n&&(a=!0),l.coordinate});return s||o.push(r),a||o.push(n),o},Af=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?so(o[0]-o[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var f=s?s.indexOf(h):h;return{coordinate:i(f)+u,value:h,offset:u}});return d.filter(function(h){return!$N(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,f){return{coordinate:i(h)+u,value:h,index:f,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,f){return{coordinate:i(h)+u,value:s?s[h]:h,index:f,offset:u}})},xR=new WeakMap,KC=function(e,r){if(typeof r!="function")return e;xR.has(e)||xR.set(e,new WeakMap);var n=xR.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},Npe=function(e,r,n){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:GA(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Jk(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:BS(),realScaleType:"point"}:s==="category"?{scale:GA(),realScaleType:"band"}:{scale:Jk(),realScaleType:"linear"};if(FN(i)){var l="scale".concat(QO(i));return{scale:(AX[l]||BS)(),realScaleType:AX[l]?l:"point"}}return yr(i)?{scale:i}:{scale:BS(),realScaleType:"point"}},OX=1e-4,Epe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-OX,a=Math.max(i[0],i[1])+OX,o=e(r[0]),l=e(r[n-1]);(o<s||o>a||l<s||l>a)&&e.domain([r[0],r[n-1]])}},Hst=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},Vst=function(e,r){if(!r||r.length!==2||!St(r[0])||!St(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!St(e[0])||e[0]<n)&&(s[0]=n),(!St(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},Gst=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0,o=0;o<r;++o){var l=$N(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1])}},Kst=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,a=0;a<r;++a){var o=$N(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=s,e[a][n][1]=s+o,s=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}},Yst={sign:Gst,expand:hVe,none:fw,silhouette:fVe,wiggle:pVe,positive:Kst},Xst=function(e,r,n){var i=r.map(function(o){return o.props.dataKey}),s=Yst[n],a=dVe().keys(i).value(function(o,l){return+ms(o,l,0)}).order(p8).offset(s);return a(e)},Qst=function(e,r,n,i,s,a){if(!e)return null;var o=a?r.reverse():r,l={},u=o.reduce(function(h,f){var p,g=(p=f.type)!==null&&p!==void 0&&p.defaultProps?Ni(Ni({},f.type.defaultProps),f.props):f.props,m=g.stackId,v=g.hide;if(v)return h;var x=g[n],y=h[x]||{hasStack:!1,stackGroups:{}};if(xs(m)){var w=y.stackGroups[m]||{numericAxisId:n,cateAxisId:i,items:[]};w.items.push(f),y.hasStack=!0,y.stackGroups[m]=w}else y.stackGroups[u2("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[f]};return Ni(Ni({},h),{},C1({},x,y))},l),d={};return Object.keys(u).reduce(function(h,f){var p=u[f];if(p.hasStack){var g={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(m,v){var x=p.stackGroups[v];return Ni(Ni({},m),{},C1({},v,{numericAxisId:n,cateAxisId:i,items:x.items,stackedData:Xst(e,x.items,s)}))},g)}return Ni(Ni({},h),{},C1({},f,p))},d)},Cpe=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,a=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=dst(u,s,o);return e.domain([fM(d),hM(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),f=hst(h,s,o);return{niceTicks:f}}return null};function MX(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ar(i[e.dataKey])){var o=kk(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=ms(i,Ar(a)?e.dataKey:a);return Ar(l)?null:e.scale(l)}var LX=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(r.type==="category")return n[o]?n[o].coordinate+i:null;var l=ms(a,r.dataKey,r.domain[o]);return Ar(l)?null:r.scale(l)-s/2+i},Jst=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},Zst=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Ni(Ni({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(xs(s)){var a=r[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},eat=function(e){return e.reduce(function(r,n){return[fM(n.concat([r[0]]).filter(St)),hM(n.concat([r[1]]).filter(St))]},[1/0,-1/0])},Tpe=function(e,r,n){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(u,d){var h=eat(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},IX=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RX=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,W8=function(e,r,n){if(yr(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(St(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(IX.test(e[0])){var s=+IX.exec(e[0])[1];i[0]=r[0]-s}else yr(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(St(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(RX.test(e[1])){var a=+RX.exec(e[1])[1];i[1]=r[1]+a}else yr(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},s4=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=wU(r,function(h){return h.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var u=s[o],d=s[o-1];a=Math.min((u.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},DX=function(e,r,n){return!e||!e.length||HN(e,Vl(n,"type.defaultProps.domain"))?r:e},Ppe=function(e,r){var n=e.type.defaultProps?Ni(Ni({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,a=n.unit,o=n.formatter,l=n.tooltipType,u=n.chartType,d=n.hide;return Ni(Ni({},rr(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:GU(e),value:ms(r,i),type:l,payload:r,chartType:u,hide:d})};function r5(t){"@babel/helpers - typeof";return r5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r5(t)}function FX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FX(Object(r),!0).forEach(function(n){kpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kpe(t,e,r){return e=tat(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tat(t){var e=rat(t,"string");return r5(e)=="symbol"?e:e+""}function rat(t,e){if(r5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(r5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nat(t,e){return oat(t)||aat(t,e)||sat(t,e)||iat()}function iat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sat(t,e){if(t){if(typeof t=="string")return $X(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $X(t,e)}}function $X(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aat(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function oat(t){if(Array.isArray(t))return t}var a4=Math.PI/180,lat=function(e){return e*180/Math.PI},Hn=function(e,r,n,i){return{x:e+Math.cos(-a4*i)*n,y:r+Math.sin(-a4*i)*n}},Ope=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},cat=function(e,r,n,i,s){var a=e.width,o=e.height,l=e.startAngle,u=e.endAngle,d=ao(e.cx,a,a/2),h=ao(e.cy,o,o/2),f=Ope(a,o,n),p=ao(e.innerRadius,f,0),g=ao(e.outerRadius,f,f*.8),m=Object.keys(r);return m.reduce(function(v,x){var y=r[x],w=y.domain,_=y.reversed,A;if(Ar(y.range))i==="angleAxis"?A=[l,u]:i==="radiusAxis"&&(A=[p,g]),_&&(A=[A[1],A[0]]);else{A=y.range;var C=A,N=nat(C,2);l=N[0],u=N[1]}var E=Npe(y,s),P=E.realScaleType,L=E.scale;L.domain(w).range(A),Epe(L);var O=Cpe(L,Uh(Uh({},y),{},{realScaleType:P})),k=Uh(Uh(Uh({},y),O),{},{range:A,radius:g,realScaleType:P,scale:L,cx:d,cy:h,innerRadius:p,outerRadius:g,startAngle:l,endAngle:u});return Uh(Uh({},v),{},kpe({},x,k))},{})},uat=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-a,2))},dat=function(e,r){var n=e.x,i=e.y,s=r.cx,a=r.cy,o=uat({x:n,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(n-s)/o,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:o,angle:lat(u),angleInRadian:u}},hat=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return{startAngle:r-a*360,endAngle:n-a*360}},fat=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},BX=function(e,r){var n=e.x,i=e.y,s=dat({x:n,y:i},r),a=s.radius,o=s.angle,l=r.innerRadius,u=r.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var d=hat(r),h=d.startAngle,f=d.endAngle,p=o,g;if(h<=f){for(;p>f;)p-=360;for(;p<h;)p+=360;g=p>=h&&p<=f}else{for(;p>h;)p-=360;for(;p<f;)p+=360;g=p>=f&&p<=h}return g?Uh(Uh({},r),{},{radius:a,angle:fat(p,r)}):null},Mpe=function(e){return!j.isValidElement(e)&&!yr(e)&&typeof e!="boolean"?e.className:""};function n5(t){"@babel/helpers - typeof";return n5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n5(t)}var pat=["offset"];function mat(t){return yat(t)||xat(t)||vat(t)||gat()}function gat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vat(t,e){if(t){if(typeof t=="string")return H8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H8(t,e)}}function xat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yat(t){if(Array.isArray(t))return H8(t)}function H8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bat(t,e){if(t==null)return{};var r=wat(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wat(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function UX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UX(Object(r),!0).forEach(function(n){_at(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _at(t,e,r){return e=Sat(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sat(t){var e=Aat(t,"string");return n5(e)=="symbol"?e:e+""}function Aat(t,e){if(n5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(n5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i5(){return i5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},i5.apply(this,arguments)}var jat=function(e){var r=e.value,n=e.formatter,i=Ar(e.children)?r:e.children;return yr(n)?n(i):i},Nat=function(e,r){var n=so(r-e),i=Math.min(Math.abs(r-e),360);return n*i},Eat=function(e,r,n){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,u=l.cx,d=l.cy,h=l.innerRadius,f=l.outerRadius,p=l.startAngle,g=l.endAngle,m=l.clockWise,v=(h+f)/2,x=Nat(p,g),y=x>=0?1:-1,w,_;i==="insideStart"?(w=p+y*a,_=m):i==="insideEnd"?(w=g-y*a,_=!m):i==="end"&&(w=g+y*a,_=m),_=x<=0?_:!_;var A=Hn(u,d,v,w),C=Hn(u,d,v,w+(_?1:-1)*359),N="M".concat(A.x,",").concat(A.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(C.x,",").concat(C.y),E=Ar(e.id)?u2("recharts-radial-line-"):e.id;return ue.createElement("text",i5({},n,{dominantBaseline:"central",className:Tr("recharts-radial-bar-label",o)}),ue.createElement("defs",null,ue.createElement("path",{id:E,d:N})),ue.createElement("textPath",{xlinkHref:"#".concat(E)},r))},Cat=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,a=s.cx,o=s.cy,l=s.innerRadius,u=s.outerRadius,d=s.startAngle,h=s.endAngle,f=(d+h)/2;if(i==="outside"){var p=Hn(a,o,u+n,f),g=p.x,m=p.y;return{x:g,y:m,textAnchor:g>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+u)/2,x=Hn(a,o,v,f),y=x.x,w=x.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Tat=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,a=r,o=a.x,l=a.y,u=a.width,d=a.height,h=d>=0?1:-1,f=h*i,p=h>0?"end":"start",g=h>0?"start":"end",m=u>=0?1:-1,v=m*i,x=m>0?"end":"start",y=m>0?"start":"end";if(s==="top"){var w={x:o+u/2,y:l-h*i,textAnchor:"middle",verticalAnchor:p};return cs(cs({},w),n?{height:Math.max(l-n.y,0),width:u}:{})}if(s==="bottom"){var _={x:o+u/2,y:l+d+f,textAnchor:"middle",verticalAnchor:g};return cs(cs({},_),n?{height:Math.max(n.y+n.height-(l+d),0),width:u}:{})}if(s==="left"){var A={x:o-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return cs(cs({},A),n?{width:Math.max(A.x-n.x,0),height:d}:{})}if(s==="right"){var C={x:o+u+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"};return cs(cs({},C),n?{width:Math.max(n.x+n.width-C.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return s==="insideLeft"?cs({x:o+v,y:l+d/2,textAnchor:y,verticalAnchor:"middle"},N):s==="insideRight"?cs({x:o+u-v,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},N):s==="insideTop"?cs({x:o+u/2,y:l+f,textAnchor:"middle",verticalAnchor:g},N):s==="insideBottom"?cs({x:o+u/2,y:l+d-f,textAnchor:"middle",verticalAnchor:p},N):s==="insideTopLeft"?cs({x:o+v,y:l+f,textAnchor:y,verticalAnchor:g},N):s==="insideTopRight"?cs({x:o+u-v,y:l+f,textAnchor:x,verticalAnchor:g},N):s==="insideBottomLeft"?cs({x:o+v,y:l+d-f,textAnchor:y,verticalAnchor:p},N):s==="insideBottomRight"?cs({x:o+u-v,y:l+d-f,textAnchor:x,verticalAnchor:p},N):a2(s)&&(St(s.x)||bg(s.x))&&(St(s.y)||bg(s.y))?cs({x:o+ao(s.x,u),y:l+ao(s.y,d),textAnchor:"end",verticalAnchor:"end"},N):cs({x:o+u/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},Pat=function(e){return"cx"in e&&St(e.cx)};function Ds(t){var e=t.offset,r=e===void 0?5:e,n=bat(t,pat),i=cs({offset:r},n),s=i.viewBox,a=i.position,o=i.value,l=i.children,u=i.content,d=i.className,h=d===void 0?"":d,f=i.textBreakAll;if(!s||Ar(o)&&Ar(l)&&!j.isValidElement(u)&&!yr(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var p;if(yr(u)){if(p=j.createElement(u,i),j.isValidElement(p))return p}else p=jat(i);var g=Pat(s),m=rr(i,!0);if(g&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Eat(i,p,m);var v=g?Cat(i):Tat(i);return ue.createElement(ox,i5({className:Tr("recharts-label",h)},m,v,{breakAll:f}),p)}Ds.displayName="Label";var Lpe=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,f=e.y,p=e.top,g=e.left,m=e.width,v=e.height,x=e.clockWise,y=e.labelViewBox;if(y)return y;if(St(m)&&St(v)){if(St(h)&&St(f))return{x:h,y:f,width:m,height:v};if(St(p)&&St(g))return{x:p,y:g,width:m,height:v}}return St(h)&&St(f)?{x:h,y:f,width:0,height:0}:St(r)&&St(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:d||l||o||0,clockWise:x}:e.viewBox?e.viewBox:{}},kat=function(e,r){return e?e===!0?ue.createElement(Ds,{key:"label-implicit",viewBox:r}):xs(e)?ue.createElement(Ds,{key:"label-implicit",viewBox:r,value:e}):j.isValidElement(e)?e.type===Ds?j.cloneElement(e,{key:"label-implicit",viewBox:r}):ue.createElement(Ds,{key:"label-implicit",content:e,viewBox:r}):yr(e)?ue.createElement(Ds,{key:"label-implicit",content:e,viewBox:r}):a2(e)?ue.createElement(Ds,i5({viewBox:r},e,{key:"label-implicit"})):null:null},Oat=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=Lpe(e),a=Gl(i,Ds).map(function(l,u){return j.cloneElement(l,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return a;var o=kat(e.label,r||s);return[o].concat(mat(a))};Ds.parseViewBox=Lpe;Ds.renderCallByParent=Oat;function Mat(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Lat=Mat;const Iat=dn(Lat);function s5(t){"@babel/helpers - typeof";return s5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s5(t)}var Rat=["valueAccessor"],Dat=["data","dataKey","clockWise","id","textBreakAll"];function Fat(t){return zat(t)||Uat(t)||Bat(t)||$at()}function $at(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bat(t,e){if(t){if(typeof t=="string")return V8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V8(t,e)}}function Uat(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zat(t){if(Array.isArray(t))return V8(t)}function V8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o4(){return o4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o4.apply(this,arguments)}function zX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zX(Object(r),!0).forEach(function(n){qat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qat(t,e,r){return e=Wat(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wat(t){var e=Hat(t,"string");return s5(e)=="symbol"?e:e+""}function Hat(t,e){if(s5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(s5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WX(t,e){if(t==null)return{};var r=Vat(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Vat(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Gat=function(e){return Array.isArray(e.value)?Iat(e.value):e.value};function Of(t){var e=t.valueAccessor,r=e===void 0?Gat:e,n=WX(t,Rat),i=n.data,s=n.dataKey,a=n.clockWise,o=n.id,l=n.textBreakAll,u=WX(n,Dat);return!i||!i.length?null:ue.createElement(nn,{className:"recharts-label-list"},i.map(function(d,h){var f=Ar(s)?r(d,h):ms(d&&d.payload,s),p=Ar(o)?{}:{id:"".concat(o,"-").concat(h)};return ue.createElement(Ds,o4({},rr(d,!0),u,p,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:Ds.parseViewBox(Ar(a)?d:qX(qX({},d),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}Of.displayName="LabelList";function Kat(t,e){return t?t===!0?ue.createElement(Of,{key:"labelList-implicit",data:e}):ue.isValidElement(t)||yr(t)?ue.createElement(Of,{key:"labelList-implicit",data:e,content:t}):a2(t)?ue.createElement(Of,o4({data:e},t,{key:"labelList-implicit"})):null:null}function Yat(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Gl(n,Of).map(function(a,o){return j.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!r)return i;var s=Kat(t.label,e);return[s].concat(Fat(i))}Of.renderCallByParent=Yat;function a5(t){"@babel/helpers - typeof";return a5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a5(t)}function G8(){return G8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G8.apply(this,arguments)}function HX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HX(Object(r),!0).forEach(function(n){Xat(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xat(t,e,r){return e=Qat(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qat(t){var e=Jat(t,"string");return a5(e)=="symbol"?e:e+""}function Jat(t,e){if(a5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(a5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zat=function(e,r){var n=so(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},YC=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,d=l*(o?1:-1)+i,h=Math.asin(l/d)/a4,f=u?s:s+a*h,p=Hn(r,n,d,f),g=Hn(r,n,i,f),m=u?s-a*h:s,v=Hn(r,n,d*Math.cos(h*a4),m);return{center:p,circleTangency:g,lineTangency:v,theta:h}},Ipe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Zat(a,o),u=a+l,d=Hn(r,n,s,a),h=Hn(r,n,s,u),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var p=Hn(r,n,i,a),g=Hn(r,n,i,u);f+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else f+="L ".concat(r,",").concat(n," Z");return f},eot=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=so(d-u),f=YC({cx:r,cy:n,radius:s,angle:u,sign:h,cornerRadius:a,cornerIsExternal:l}),p=f.circleTangency,g=f.lineTangency,m=f.theta,v=YC({cx:r,cy:n,radius:s,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),x=v.circleTangency,y=v.lineTangency,w=v.theta,_=l?Math.abs(u-d):Math.abs(u-d)-m-w;if(_<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Ipe({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var A="M ".concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(_>180),",").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var C=YC({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=C.circleTangency,E=C.lineTangency,P=C.theta,L=YC({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=L.circleTangency,k=L.lineTangency,D=L.theta,F=l?Math.abs(u-d):Math.abs(u-d)-P-D;if(F<0&&a===0)return"".concat(A,"L").concat(r,",").concat(n,"Z");A+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,"Z")}else A+="L".concat(r,",").concat(n,"Z");return A},tot={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Rpe=function(e){var r=VX(VX({},tot),e),n=r.cx,i=r.cy,s=r.innerRadius,a=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,f=r.className;if(a<s||d===h)return null;var p=Tr("recharts-sector",f),g=a-s,m=ao(o,g,0,!0),v;return m>0&&Math.abs(d-h)<360?v=eot({cx:n,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:d,endAngle:h}):v=Ipe({cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:h}),ue.createElement("path",G8({},rr(r,!0),{className:p,d:v,role:"img"}))};function o5(t){"@babel/helpers - typeof";return o5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o5(t)}function K8(){return K8=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K8.apply(this,arguments)}function GX(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function KX(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GX(Object(r),!0).forEach(function(n){rot(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GX(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rot(t,e,r){return e=not(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function not(t){var e=iot(t,"string");return o5(e)=="symbol"?e:e+""}function iot(t,e){if(o5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(o5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YX={curveBasisClosed:eVe,curveBasisOpen:tVe,curveBasis:ZHe,curveBumpX:$He,curveBumpY:BHe,curveLinearClosed:rVe,curveLinear:ZO,curveMonotoneX:nVe,curveMonotoneY:iVe,curveNatural:sVe,curveStep:aVe,curveStepAfter:lVe,curveStepBefore:oVe},XC=function(e){return e.x===+e.x&&e.y===+e.y},E_=function(e){return e.x},C_=function(e){return e.y},sot=function(e,r){if(yr(e))return e;var n="curve".concat(QO(e));return(n==="curveMonotone"||n==="curveBump")&&r?YX["".concat(n).concat(r==="vertical"?"Y":"X")]:YX[n]||ZO},aot=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,u=l===void 0?!1:l,d=sot(n,o),h=u?s.filter(function(m){return XC(m)}):s,f;if(Array.isArray(a)){var p=u?a.filter(function(m){return XC(m)}):a,g=h.map(function(m,v){return KX(KX({},m),{},{base:p[v]})});return o==="vertical"?f=BC().y(C_).x1(E_).x0(function(m){return m.base.x}):f=BC().x(E_).y1(C_).y0(function(m){return m.base.y}),f.defined(XC).curve(d),f(g)}return o==="vertical"&&St(a)?f=BC().y(C_).x1(E_).x0(a):St(a)?f=BC().x(E_).y1(C_).y0(a):f=Phe().x(E_).y(C_),f.defined(XC).curve(d),f(h)},l4=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var a=n&&n.length?aot(e):i;return ue.createElement("path",K8({},rr(e,!1),Ok(e),{className:Tr("recharts-curve",r),d:a,ref:s}))},Dpe={exports:{}},oot="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lot=oot,cot=lot;function Fpe(){}function $pe(){}$pe.resetWarningCache=Fpe;var uot=function(){function t(n,i,s,a,o,l){if(l!==cot){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:$pe,resetWarningCache:Fpe};return r.PropTypes=r,r};Dpe.exports=uot();var dot=Dpe.exports;const kr=dn(dot);var hot=Object.getOwnPropertyNames,fot=Object.getOwnPropertySymbols,pot=Object.prototype.hasOwnProperty;function XX(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function QC(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,a=s.get(r),o=s.get(n);if(a&&o)return a===n&&o===r;s.set(r,n),s.set(n,r);var l=t(r,n,i);return s.delete(r),s.delete(n),l}}function QX(t){return hot(t).concat(fot(t))}var Bpe=Object.hasOwn||function(t,e){return pot.call(t,e)};function v2(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var Upe="_owner",JX=Object.getOwnPropertyDescriptor,ZX=Object.keys;function mot(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function got(t,e){return v2(t.getTime(),e.getTime())}function eQ(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.entries(),s=0,a,o;(a=i.next())&&!a.done;){for(var l=e.entries(),u=!1,d=0;(o=l.next())&&!o.done;){var h=a.value,f=h[0],p=h[1],g=o.value,m=g[0],v=g[1];!u&&!n[d]&&(u=r.equals(f,m,s,d,t,e,r)&&r.equals(p,v,f,m,t,e,r))&&(n[d]=!0),d++}if(!u)return!1;s++}return!0}function vot(t,e,r){var n=ZX(t),i=n.length;if(ZX(e).length!==i)return!1;for(var s;i-- >0;)if(s=n[i],s===Upe&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Bpe(e,s)||!r.equals(t[s],e[s],s,s,t,e,r))return!1;return!0}function T_(t,e,r){var n=QX(t),i=n.length;if(QX(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=n[i],s===Upe&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!Bpe(e,s)||!r.equals(t[s],e[s],s,s,t,e,r)||(a=JX(t,s),o=JX(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function xot(t,e){return v2(t.valueOf(),e.valueOf())}function yot(t,e){return t.source===e.source&&t.flags===e.flags}function tQ(t,e,r){if(t.size!==e.size)return!1;for(var n={},i=t.values(),s,a;(s=i.next())&&!s.done;){for(var o=e.values(),l=!1,u=0;(a=o.next())&&!a.done;)!l&&!n[u]&&(l=r.equals(s.value,a.value,s.value,a.value,t,e,r))&&(n[u]=!0),u++;if(!l)return!1}return!0}function bot(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}var wot="[object Arguments]",_ot="[object Boolean]",Sot="[object Date]",Aot="[object Map]",jot="[object Number]",Not="[object Object]",Eot="[object RegExp]",Cot="[object Set]",Tot="[object String]",Pot=Array.isArray,rQ=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,nQ=Object.assign,kot=Object.prototype.toString.call.bind(Object.prototype.toString);function Oot(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areMapsEqual,i=t.areObjectsEqual,s=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,o=t.areSetsEqual,l=t.areTypedArraysEqual;return function(d,h,f){if(d===h)return!0;if(d==null||h==null||typeof d!="object"||typeof h!="object")return d!==d&&h!==h;var p=d.constructor;if(p!==h.constructor)return!1;if(p===Object)return i(d,h,f);if(Pot(d))return e(d,h,f);if(rQ!=null&&rQ(d))return l(d,h,f);if(p===Date)return r(d,h,f);if(p===RegExp)return a(d,h,f);if(p===Map)return n(d,h,f);if(p===Set)return o(d,h,f);var g=kot(d);return g===Sot?r(d,h,f):g===Eot?a(d,h,f):g===Aot?n(d,h,f):g===Cot?o(d,h,f):g===Not?typeof d.then!="function"&&typeof h.then!="function"&&i(d,h,f):g===wot?i(d,h,f):g===_ot||g===jot||g===Tot?s(d,h,f):!1}}function Mot(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?T_:mot,areDatesEqual:got,areMapsEqual:n?XX(eQ,T_):eQ,areObjectsEqual:n?T_:vot,arePrimitiveWrappersEqual:xot,areRegExpsEqual:yot,areSetsEqual:n?XX(tQ,T_):tQ,areTypedArraysEqual:n?T_:bot};if(r&&(i=nQ({},i,r(i))),e){var s=QC(i.areArraysEqual),a=QC(i.areMapsEqual),o=QC(i.areObjectsEqual),l=QC(i.areSetsEqual);i=nQ({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function Lot(t){return function(e,r,n,i,s,a,o){return t(e,r,o)}}function Iot(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(l,u){var d=n(),h=d.cache,f=h===void 0?e?new WeakMap:void 0:h,p=d.meta;return r(l,u,{cache:f,equals:i,meta:p,strict:s})};if(e)return function(l,u){return r(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,u){return r(l,u,a)}}var Rot=C0();C0({strict:!0});C0({circular:!0});C0({circular:!0,strict:!0});C0({createInternalComparator:function(){return v2}});C0({strict:!0,createInternalComparator:function(){return v2}});C0({circular:!0,createInternalComparator:function(){return v2}});C0({circular:!0,createInternalComparator:function(){return v2},strict:!0});function C0(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=Mot(t),l=Oot(o),u=n?n(l):Lot(l);return Iot({circular:r,comparator:l,createState:i,equals:u,strict:a})}function Dot(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function iQ(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):Dot(i)};requestAnimationFrame(n)}function Y8(t){"@babel/helpers - typeof";return Y8=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Y8(t)}function Fot(t){return zot(t)||Uot(t)||Bot(t)||$ot()}function $ot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bot(t,e){if(t){if(typeof t=="string")return sQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sQ(t,e)}}function sQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zot(t){if(Array.isArray(t))return t}function qot(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var a=s,o=Fot(a),l=o[0],u=o.slice(1);if(typeof l=="number"){iQ(i.bind(null,u),l);return}i(l),iQ(i.bind(null,u));return}Y8(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function l5(t){"@babel/helpers - typeof";return l5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l5(t)}function aQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aQ(Object(r),!0).forEach(function(n){zpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zpe(t,e,r){return e=Wot(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wot(t){var e=Hot(t,"string");return l5(e)==="symbol"?e:String(e)}function Hot(t,e){if(l5(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(l5(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vot=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},Got=function(e){return e},Kot=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},zS=function(e,r){return Object.keys(r).reduce(function(n,i){return oQ(oQ({},n),{},zpe({},i,e(i,r[i])))},{})},lQ=function(e,r,n){return e.map(function(i){return"".concat(Kot(i)," ").concat(r,"ms ").concat(n)}).join(",")};function Yot(t,e){return Jot(t)||Qot(t,e)||qpe(t,e)||Xot()}function Xot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qot(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Jot(t){if(Array.isArray(t))return t}function Zot(t){return rlt(t)||tlt(t)||qpe(t)||elt()}function elt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qpe(t,e){if(t){if(typeof t=="string")return X8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X8(t,e)}}function tlt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rlt(t){if(Array.isArray(t))return X8(t)}function X8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var c4=1e-4,Wpe=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Hpe=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},cQ=function(e,r){return function(n){var i=Wpe(e,r);return Hpe(i,n)}},nlt=function(e,r){return function(n){var i=Wpe(e,r),s=[].concat(Zot(i.map(function(a,o){return a*o}).slice(1)),[0]);return Hpe(s,n)}},uQ=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],a=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),d=Yot(u,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var h=cQ(i,a),f=cQ(s,o),p=nlt(i,a),g=function(x){return x>1?1:x<0?0:x},m=function(x){for(var y=x>1?1:x,w=y,_=0;_<8;++_){var A=h(w)-y,C=p(w);if(Math.abs(A-y)<c4||C<c4)return f(w);w=g(w-A/C)}return f(w)};return m.isStepper=!1,m},ilt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(d,h,f){var p=-(d-h)*n,g=f*s,m=f+(p-g)*o/1e3,v=f*o/1e3+d;return Math.abs(v-h)<c4&&Math.abs(m)<c4?[h,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},slt=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uQ(i);case"spring":return ilt();default:if(i.split("(")[0]==="cubic-bezier")return uQ(i)}return typeof i=="function"?i:null};function c5(t){"@babel/helpers - typeof";return c5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c5(t)}function dQ(t){return llt(t)||olt(t)||Vpe(t)||alt()}function alt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function olt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function llt(t){if(Array.isArray(t))return J8(t)}function hQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hQ(Object(r),!0).forEach(function(n){Q8(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q8(t,e,r){return e=clt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function clt(t){var e=ult(t,"string");return c5(e)==="symbol"?e:String(e)}function ult(t,e){if(c5(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(c5(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dlt(t,e){return plt(t)||flt(t,e)||Vpe(t,e)||hlt()}function hlt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vpe(t,e){if(t){if(typeof t=="string")return J8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J8(t,e)}}function J8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function flt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function plt(t){if(Array.isArray(t))return t}var u4=function(e,r,n){return e+(r-e)*n},Z8=function(e){var r=e.from,n=e.to;return r!==n},mlt=function t(e,r,n){var i=zS(function(s,a){if(Z8(a)){var o=e(a.from,a.to,a.velocity),l=dlt(o,2),u=l[0],d=l[1];return Qs(Qs({},a),{},{from:u,velocity:d})}return a},r);return n<1?zS(function(s,a){return Z8(a)?Qs(Qs({},a),{},{velocity:u4(a.velocity,i[s].velocity,n),from:u4(a.from,i[s].from,n)}):a},r):t(e,i,n-1)};const glt=function(t,e,r,n,i){var s=Vot(t,e),a=s.reduce(function(v,x){return Qs(Qs({},v),{},Q8({},x,[t[x],e[x]]))},{}),o=s.reduce(function(v,x){return Qs(Qs({},v),{},Q8({},x,{from:t[x],velocity:0,to:e[x]}))},{}),l=-1,u,d,h=function(){return null},f=function(){return zS(function(x,y){return y.from},o)},p=function(){return!Object.values(o).filter(Z8).length},g=function(x){u||(u=x);var y=x-u,w=y/r.dt;o=mlt(r,o,w),i(Qs(Qs(Qs({},t),e),f())),u=x,p()||(l=requestAnimationFrame(h))},m=function(x){d||(d=x);var y=(x-d)/n,w=zS(function(A,C){return u4.apply(void 0,dQ(C).concat([r(y)]))},a);if(i(Qs(Qs(Qs({},t),e),w)),y<1)l=requestAnimationFrame(h);else{var _=zS(function(A,C){return u4.apply(void 0,dQ(C).concat([r(1)]))},a);i(Qs(Qs(Qs({},t),e),_))}};return h=r.isStepper?g:m,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}};function _w(t){"@babel/helpers - typeof";return _w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_w(t)}var vlt=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function xlt(t,e){if(t==null)return{};var r=ylt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ylt(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function yR(t){return Slt(t)||_lt(t)||wlt(t)||blt()}function blt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wlt(t,e){if(t){if(typeof t=="string")return e7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return e7(t,e)}}function _lt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Slt(t){if(Array.isArray(t))return e7(t)}function e7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function au(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fQ(Object(r),!0).forEach(function(n){sS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sS(t,e,r){return e=Gpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Alt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jlt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gpe(n.key),n)}}function Nlt(t,e,r){return e&&jlt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gpe(t){var e=Elt(t,"string");return _w(e)==="symbol"?e:String(e)}function Elt(t,e){if(_w(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(_w(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Clt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&t7(t,e)}function t7(t,e){return t7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},t7(t,e)}function Tlt(t){var e=Plt();return function(){var n=d4(t),i;if(e){var s=d4(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return r7(this,i)}}function r7(t,e){if(e&&(_w(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n7(t)}function n7(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Plt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d4(t){return d4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d4(t)}var lh=function(t){Clt(r,t);var e=Tlt(r);function r(n,i){var s;Alt(this,r),s=e.call(this,n,i);var a=s.props,o=a.isActive,l=a.attributeName,u=a.from,d=a.to,h=a.steps,f=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(n7(s)),s.changeStyle=s.changeStyle.bind(n7(s)),!o||p<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),r7(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof f=="function")return s.state={style:u},r7(s);s.state={style:l?sS({},l,u):u}}else s.state={style:{}};return s}return Nlt(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,u=s.shouldReAnimate,d=s.to,h=s.from,f=this.state.style;if(o){if(!a){var p={style:l?sS({},l,d):d};this.state&&f&&(l&&f[l]!==d||!l&&f!==d)&&this.setState(p);return}if(!(Rot(i.to,d)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||u?h:i.to;if(this.state&&f){var v={style:l?sS({},l,m):m};(l&&f[l]!==m||!l&&f!==m)&&this.setState(v)}this.runAnimation(au(au({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,f=i.onAnimationStart,p=glt(a,o,slt(u),l,this.changeStyle),g=function(){s.stopJSAnimation=p()};this.manager.start([f,d,g,l,h])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,u=a[0],d=u.style,h=u.duration,f=h===void 0?0:h,p=function(m,v,x){if(x===0)return m;var y=v.duration,w=v.easing,_=w===void 0?"ease":w,A=v.style,C=v.properties,N=v.onAnimationEnd,E=x>0?a[x-1]:v,P=C||Object.keys(A);if(typeof _=="function"||_==="spring")return[].concat(yR(m),[s.runJSAnimation.bind(s,{from:E.style,to:A,duration:y,easing:_}),y]);var L=lQ(P,y,_),O=au(au(au({},E.style),A),{},{transition:L});return[].concat(yR(m),[O,y,N]).filter(Got)};return this.manager.start([l].concat(yR(a.reduce(p,[d,Math.max(f,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=qot());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,f=i.steps,p=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var m=o?sS({},o,l):l,v=lQ(Object.keys(m),a,u);g.start([d,s,au(au({},m),{},{transition:v}),a,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=xlt(i,vlt),u=j.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||u===0||a<=0)return s;var h=function(p){var g=p.props,m=g.style,v=m===void 0?{}:m,x=g.className,y=j.cloneElement(p,au(au({},l),{},{style:au(au({},v),d),className:x}));return y};return u===1?h(j.Children.only(s)):ue.createElement("div",null,j.Children.map(s,function(f){return h(f)}))}}]),r}(j.PureComponent);lh.displayName="Animate";lh.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};lh.propTypes={from:kr.oneOfType([kr.object,kr.string]),to:kr.oneOfType([kr.object,kr.string]),attributeName:kr.string,duration:kr.number,begin:kr.number,easing:kr.oneOfType([kr.string,kr.func]),steps:kr.arrayOf(kr.shape({duration:kr.number.isRequired,style:kr.object.isRequired,easing:kr.oneOfType([kr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),kr.func]),properties:kr.arrayOf("string"),onAnimationEnd:kr.func})),children:kr.oneOfType([kr.node,kr.func]),isActive:kr.bool,canBegin:kr.bool,onAnimationEnd:kr.func,shouldReAnimate:kr.bool,onAnimationStart:kr.func,onAnimationReStart:kr.func};kr.object,kr.object,kr.object,kr.element;kr.object,kr.object,kr.object,kr.oneOfType([kr.array,kr.element]),kr.any;function u5(t){"@babel/helpers - typeof";return u5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u5(t)}function h4(){return h4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},h4.apply(this,arguments)}function klt(t,e){return Ilt(t)||Llt(t,e)||Mlt(t,e)||Olt()}function Olt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mlt(t,e){if(t){if(typeof t=="string")return pQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pQ(t,e)}}function pQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Llt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Ilt(t){if(Array.isArray(t))return t}function mQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mQ(Object(r),!0).forEach(function(n){Rlt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rlt(t,e,r){return e=Dlt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dlt(t){var e=Flt(t,"string");return u5(e)=="symbol"?e:e+""}function Flt(t,e){if(u5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(u5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vQ=function(e,r,n,i,s){var a=Math.min(Math.abs(n)/2,Math.abs(i)/2),o=i>=0?1:-1,l=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(a>0&&s instanceof Array){for(var h=[0,0,0,0],f=0,p=4;f<p;f++)h[f]=s[f]>a?a:s[f];d="M".concat(e,",").concat(r+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+l*h[0],",").concat(r)),d+="L ".concat(e+n-l*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+o*h[1])),d+="L ".concat(e+n,",").concat(r+i-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-l*h[2],",").concat(r+i)),d+="L ".concat(e+l*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-o*h[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var g=Math.min(a,s);d="M ".concat(e,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(r,`
            L `).concat(e+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n,",").concat(r+o*g,`
            L `).concat(e+n,",").concat(r+i-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+n-l*g,",").concat(r+i,`
            L `).concat(e+l*g,",").concat(r+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(r+i-o*g," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},$lt=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,a=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var u=Math.min(s,s+o),d=Math.max(s,s+o),h=Math.min(a,a+l),f=Math.max(a,a+l);return n>=u&&n<=d&&i>=h&&i<=f}return!1},Blt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KU=function(e){var r=gQ(gQ({},Blt),e),n=j.useRef(),i=j.useState(-1),s=klt(i,2),a=s[0],o=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,u=r.y,d=r.width,h=r.height,f=r.radius,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isAnimationActive,y=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var w=Tr("recharts-rectangle",p);return y?ue.createElement(lh,{canBegin:a>0,from:{width:d,height:h,x:l,y:u},to:{width:d,height:h,x:l,y:u},duration:m,animationEasing:g,isActive:y},function(_){var A=_.width,C=_.height,N=_.x,E=_.y;return ue.createElement(lh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:x,easing:g},ue.createElement("path",h4({},rr(r,!0),{className:w,d:vQ(N,E,A,C,f),ref:n})))}):ue.createElement("path",h4({},rr(r,!0),{className:w,d:vQ(l,u,d,h,f)}))},Ult=["points","className","baseLinePoints","connectNulls"];function Yy(){return Yy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yy.apply(this,arguments)}function zlt(t,e){if(t==null)return{};var r=qlt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qlt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xQ(t){return Glt(t)||Vlt(t)||Hlt(t)||Wlt()}function Wlt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hlt(t,e){if(t){if(typeof t=="string")return i7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i7(t,e)}}function Vlt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Glt(t){if(Array.isArray(t))return i7(t)}function i7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var yQ=function(e){return e&&e.x===+e.x&&e.y===+e.y},Klt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){yQ(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),yQ(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},qS=function(e,r){var n=Klt(e);r&&(n=[n.reduce(function(s,a){return[].concat(xQ(s),xQ(a))},[])]);var i=n.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return n.length===1?"".concat(i,"Z"):i},Ylt=function(e,r,n){var i=qS(e,n);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(qS(r.reverse(),n).slice(1))},Xlt=function(e){var r=e.points,n=e.className,i=e.baseLinePoints,s=e.connectNulls,a=zlt(e,Ult);if(!r||!r.length)return null;var o=Tr("recharts-polygon",n);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=Ylt(r,i,s);return ue.createElement("g",{className:o},ue.createElement("path",Yy({},rr(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?ue.createElement("path",Yy({},rr(a,!0),{fill:"none",d:qS(r,s)})):null,l?ue.createElement("path",Yy({},rr(a,!0),{fill:"none",d:qS(i,s)})):null)}var d=qS(r,s);return ue.createElement("path",Yy({},rr(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function s7(){return s7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},s7.apply(this,arguments)}var gM=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,a=Tr("recharts-dot",s);return r===+r&&n===+n&&i===+i?ue.createElement("circle",s7({},rr(e,!1),Ok(e),{className:a,cx:r,cy:n,r:i})):null};function d5(t){"@babel/helpers - typeof";return d5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d5(t)}var Qlt=["x","y","top","left","width","height","className"];function a7(){return a7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a7.apply(this,arguments)}function bQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jlt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bQ(Object(r),!0).forEach(function(n){Zlt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zlt(t,e,r){return e=ect(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ect(t){var e=tct(t,"string");return d5(e)=="symbol"?e:e+""}function tct(t,e){if(d5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(d5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rct(t,e){if(t==null)return{};var r=nct(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nct(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var ict=function(e,r,n,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(r,"h").concat(n)},sct=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,u=l===void 0?0:l,d=e.width,h=d===void 0?0:d,f=e.height,p=f===void 0?0:f,g=e.className,m=rct(e,Qlt),v=Jlt({x:n,y:s,top:o,left:u,width:h,height:p},m);return!St(n)||!St(s)||!St(h)||!St(p)||!St(o)||!St(u)?null:ue.createElement("path",a7({},rr(v,!0),{className:Tr("recharts-cross",g),d:ict(n,s,h,p,o,u)}))},act=dM,oct=ipe,lct=mh;function cct(t,e){return t&&t.length?act(t,lct(e),oct):void 0}var uct=cct;const dct=dn(uct);var hct=dM,fct=mh,pct=spe;function mct(t,e){return t&&t.length?hct(t,fct(e),pct):void 0}var gct=mct;const vct=dn(gct);var xct=["cx","cy","angle","ticks","axisLine"],yct=["ticks","tick","angle","tickFormatter","stroke"];function Sw(t){"@babel/helpers - typeof";return Sw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sw(t)}function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WS.apply(this,arguments)}function wQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wQ(Object(r),!0).forEach(function(n){vM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Q(t,e){if(t==null)return{};var r=bct(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bct(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ype(n.key),n)}}function _ct(t,e,r){return e&&SQ(t.prototype,e),r&&SQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sct(t,e,r){return e=f4(e),Act(t,Kpe()?Reflect.construct(e,r||[],f4(t).constructor):e.apply(t,r))}function Act(t,e){if(e&&(Sw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jct(t)}function jct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kpe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kpe=function(){return!!t})()}function f4(t){return f4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f4(t)}function Nct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o7(t,e)}function o7(t,e){return o7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o7(t,e)}function vM(t,e,r){return e=Ype(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ype(t){var e=Ect(t,"string");return Sw(e)=="symbol"?e:e+""}function Ect(t,e){if(Sw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Sw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xM=function(t){function e(){return wct(this,e),Sct(this,e,arguments)}return Nct(e,t),_ct(e,[{key:"getTickValueCoord",value:function(n){var i=n.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return Hn(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,i;switch(n){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,l=dct(o,function(d){return d.coordinate||0}),u=vct(o,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.angle,o=n.ticks,l=n.axisLine,u=_Q(n,xct),d=o.reduce(function(g,m){return[Math.min(g[0],m.coordinate),Math.max(g[1],m.coordinate)]},[1/0,-1/0]),h=Hn(i,s,d[0],a),f=Hn(i,s,d[1],a),p=H0(H0(H0({},rr(u,!1)),{},{fill:"none"},rr(l,!1)),{},{x1:h.x,y1:h.y,x2:f.x,y2:f.y});return ue.createElement("line",WS({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,u=i.stroke,d=_Q(i,yct),h=this.getTickTextAnchor(),f=rr(d,!1),p=rr(a,!1),g=s.map(function(m,v){var x=n.getTickValueCoord(m),y=H0(H0(H0(H0({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(x.x,", ").concat(x.y,")")},f),{},{stroke:"none",fill:u},p),{},{index:v},x),{},{payload:m});return ue.createElement(nn,WS({className:Tr("recharts-polar-radius-axis-tick",Mpe(a)),key:"tick-".concat(m.coordinate)},ax(n.props,m,v)),e.renderTickItem(a,y,l?l(m.value,v):m.value))});return ue.createElement(nn,{className:"recharts-polar-radius-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.axisLine,a=n.tick;return!i||!i.length?null:ue.createElement(nn,{className:Tr("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Ds.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return ue.isValidElement(n)?a=ue.cloneElement(n,i):yr(n)?a=n(i):a=ue.createElement(ox,WS({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(j.PureComponent);vM(xM,"displayName","PolarRadiusAxis");vM(xM,"axisType","radiusAxis");vM(xM,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Aw(t){"@babel/helpers - typeof";return Aw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aw(t)}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dg.apply(this,arguments)}function AQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function V0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AQ(Object(r),!0).forEach(function(n){yM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cct(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qpe(n.key),n)}}function Tct(t,e,r){return e&&jQ(t.prototype,e),r&&jQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pct(t,e,r){return e=p4(e),kct(t,Xpe()?Reflect.construct(e,r||[],p4(t).constructor):e.apply(t,r))}function kct(t,e){if(e&&(Aw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oct(t)}function Oct(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xpe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xpe=function(){return!!t})()}function p4(t){return p4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p4(t)}function Mct(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l7(t,e)}function l7(t,e){return l7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},l7(t,e)}function yM(t,e,r){return e=Qpe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qpe(t){var e=Lct(t,"string");return Aw(e)=="symbol"?e:e+""}function Lct(t,e){if(Aw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Aw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ict=Math.PI/180,NQ=1e-5,bM=function(t){function e(){return Cct(this,e),Pct(this,e,arguments)}return Mct(e,t),Tct(e,[{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,u=i.tickSize,d=u||8,h=Hn(s,a,o,n.coordinate),f=Hn(s,a,o+(l==="inner"?-1:1)*d,n.coordinate);return{x1:h.x,y1:h.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(n){var i=this.props.orientation,s=Math.cos(-n.coordinate*Ict),a;return s>NQ?a=i==="outer"?"start":"end":s<-NQ?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.cx,s=n.cy,a=n.radius,o=n.axisLine,l=n.axisLineType,u=V0(V0({},rr(this.props,!1)),{},{fill:"none"},rr(o,!1));if(l==="circle")return ue.createElement(gM,dg({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:a}));var d=this.props.ticks,h=d.map(function(f){return Hn(i,s,a,f.coordinate)});return ue.createElement(Xlt,dg({className:"recharts-polar-angle-axis-line"},u,{points:h}))}},{key:"renderTicks",value:function(){var n=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,u=i.stroke,d=rr(this.props,!1),h=rr(a,!1),f=V0(V0({},d),{},{fill:"none"},rr(o,!1)),p=s.map(function(g,m){var v=n.getTickLineCoord(g),x=n.getTickTextAnchor(g),y=V0(V0(V0({textAnchor:x},d),{},{stroke:"none",fill:u},h),{},{index:m,payload:g,x:v.x2,y:v.y2});return ue.createElement(nn,dg({className:Tr("recharts-polar-angle-axis-tick",Mpe(a)),key:"tick-".concat(g.coordinate)},ax(n.props,g,m)),o&&ue.createElement("line",dg({className:"recharts-polar-angle-axis-tick-line"},f,v)),a&&e.renderTickItem(a,y,l?l(g.value,m):g.value))});return ue.createElement(nn,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,i=n.ticks,s=n.radius,a=n.axisLine;return s<=0||!i||!i.length?null:ue.createElement(nn,{className:Tr("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,i,s){var a;return ue.isValidElement(n)?a=ue.cloneElement(n,i):yr(n)?a=n(i):a=ue.createElement(ox,dg({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(j.PureComponent);yM(bM,"displayName","PolarAngleAxis");yM(bM,"axisType","angleAxis");yM(bM,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Rct=efe,Dct=Rct(Object.getPrototypeOf,Object),Fct=Dct,$ct=np,Bct=Fct,Uct=ip,zct="[object Object]",qct=Function.prototype,Wct=Object.prototype,Jpe=qct.toString,Hct=Wct.hasOwnProperty,Vct=Jpe.call(Object);function Gct(t){if(!Uct(t)||$ct(t)!=zct)return!1;var e=Bct(t);if(e===null)return!0;var r=Hct.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Jpe.call(r)==Vct}var Kct=Gct;const Yct=dn(Kct);var Xct=np,Qct=ip,Jct="[object Boolean]";function Zct(t){return t===!0||t===!1||Qct(t)&&Xct(t)==Jct}var eut=Zct;const tut=dn(eut);function h5(t){"@babel/helpers - typeof";return h5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h5(t)}function m4(){return m4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m4.apply(this,arguments)}function rut(t,e){return aut(t)||sut(t,e)||iut(t,e)||nut()}function nut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iut(t,e){if(t){if(typeof t=="string")return EQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EQ(t,e)}}function EQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sut(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function aut(t){if(Array.isArray(t))return t}function CQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CQ(Object(r),!0).forEach(function(n){out(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function out(t,e,r){return e=lut(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lut(t){var e=cut(t,"string");return h5(e)=="symbol"?e:e+""}function cut(t,e){if(h5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(h5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PQ=function(e,r,n,i,s){var a=n-i,o;return o="M ".concat(e,",").concat(r),o+="L ".concat(e+n,",").concat(r),o+="L ".concat(e+n-a/2,",").concat(r+s),o+="L ".concat(e+n-a/2-i,",").concat(r+s),o+="L ".concat(e,",").concat(r," Z"),o},uut={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dut=function(e){var r=TQ(TQ({},uut),e),n=j.useRef(),i=j.useState(-1),s=rut(i,2),a=s[0],o=s[1];j.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,f=r.height,p=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,x=r.isUpdateAnimationActive;if(l!==+l||u!==+u||d!==+d||h!==+h||f!==+f||d===0&&h===0||f===0)return null;var y=Tr("recharts-trapezoid",p);return x?ue.createElement(lh,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:u},to:{upperWidth:d,lowerWidth:h,height:f,x:l,y:u},duration:m,animationEasing:g,isActive:x},function(w){var _=w.upperWidth,A=w.lowerWidth,C=w.height,N=w.x,E=w.y;return ue.createElement(lh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},ue.createElement("path",m4({},rr(r,!0),{className:y,d:PQ(N,E,_,A,C),ref:n})))}):ue.createElement("g",null,ue.createElement("path",m4({},rr(r,!0),{className:y,d:PQ(l,u,d,h,f)})))},hut=["option","shapeType","propTransformer","activeClassName","isActive"];function f5(t){"@babel/helpers - typeof";return f5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f5(t)}function fut(t,e){if(t==null)return{};var r=put(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function put(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function kQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kQ(Object(r),!0).forEach(function(n){mut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mut(t,e,r){return e=gut(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gut(t){var e=vut(t,"string");return f5(e)=="symbol"?e:e+""}function vut(t,e){if(f5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(f5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xut(t,e){return g4(g4({},e),t)}function yut(t,e){return t==="symbols"}function OQ(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ue.createElement(KU,r);case"trapezoid":return ue.createElement(dut,r);case"sector":return ue.createElement(Rpe,r);case"symbols":if(yut(e))return ue.createElement(fU,r);break;default:return null}}function but(t){return j.isValidElement(t)?t.props:t}function Zpe(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?xut:n,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=fut(t,hut),u;if(j.isValidElement(e))u=j.cloneElement(e,g4(g4({},l),but(e)));else if(yr(e))u=e(l);else if(Yct(e)&&!tut(e)){var d=i(e,l);u=ue.createElement(OQ,{shapeType:r,elementProps:d})}else{var h=l;u=ue.createElement(OQ,{shapeType:r,elementProps:h})}return o?ue.createElement(nn,{className:a},u):u}function wM(t,e){return e!=null&&"trapezoids"in t.props}function _M(t,e){return e!=null&&"sectors"in t.props}function p5(t,e){return e!=null&&"points"in t.props}function wut(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function _ut(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Sut(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Aut(t,e){var r;return wM(t,e)?r=wut:_M(t,e)?r=_ut:p5(t,e)&&(r=Sut),r}function jut(t,e){var r;return wM(t,e)?r="trapezoids":_M(t,e)?r="sectors":p5(t,e)&&(r="points"),r}function Nut(t,e){if(wM(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(_M(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return p5(t,e)?e.payload:{}}function Eut(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=jut(r,e),s=Nut(r,e),a=n.filter(function(l,u){var d=HN(s,l),h=r.props[i].filter(function(g){var m=Aut(r,e);return m(g,e)}),f=r.props[i].indexOf(h[h.length-1]),p=u===f;return d&&p}),o=n.indexOf(a[a.length-1]);return o}var oP;function jw(t){"@babel/helpers - typeof";return jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jw(t)}function Xy(){return Xy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xy.apply(this,arguments)}function MQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MQ(Object(r),!0).forEach(function(n){Ec(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tme(n.key),n)}}function Tut(t,e,r){return e&&LQ(t.prototype,e),r&&LQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Put(t,e,r){return e=v4(e),kut(t,eme()?Reflect.construct(e,r||[],v4(t).constructor):e.apply(t,r))}function kut(t,e){if(e&&(jw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Out(t)}function Out(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eme=function(){return!!t})()}function v4(t){return v4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v4(t)}function Mut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c7(t,e)}function c7(t,e){return c7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},c7(t,e)}function Ec(t,e,r){return e=tme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tme(t){var e=Lut(t,"string");return jw(e)=="symbol"?e:e+""}function Lut(t,e){if(jw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(jw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ap=function(t){function e(r){var n;return Cut(this,e),n=Put(this,e,[r]),Ec(n,"pieRef",null),Ec(n,"sectorRefs",[]),Ec(n,"id",u2("recharts-pie-")),Ec(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),yr(i)&&i()}),Ec(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),yr(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Mut(e,t),Tut(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,u=s.valueKey,d=rr(this.props,!1),h=rr(a,!1),f=rr(o,!1),p=a&&a.offsetRadius||20,g=n.map(function(m,v){var x=(m.startAngle+m.endAngle)/2,y=Hn(m.cx,m.cy,m.outerRadius+p,x),w=Un(Un(Un(Un({},d),m),{},{stroke:"none"},h),{},{index:v,textAnchor:e.getTextAnchor(y.x,m.cx)},y),_=Un(Un(Un(Un({},d),m),{},{fill:"none",stroke:m.fill},f),{},{index:v,points:[Hn(m.cx,m.cy,m.outerRadius,x),y]}),A=l;return Ar(l)&&Ar(u)?A="value":Ar(l)&&(A=u),ue.createElement(nn,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,_,"line"),e.renderLabelItem(a,w,ms(m,A)))});return ue.createElement(nn,{className:"recharts-pie-labels"},g)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return n.map(function(u,d){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var h=i.isActiveIndex(d),f=l&&i.hasActiveIndex()?l:null,p=h?a:f,g=Un(Un({},u),{},{stroke:o?u.fill:u.stroke,tabIndex:-1});return ue.createElement(nn,Xy({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ax(i.props,u,d),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ue.createElement(Zpe,Xy({option:p,isActive:h,shapeType:"sector"},g)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,f=h.prevSectors,p=h.prevIsAnimationActive;return ue.createElement(lh,{begin:o,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(g){var m=g.t,v=[],x=s&&s[0],y=x.startAngle;return s.forEach(function(w,_){var A=f&&f[_],C=_>0?Vl(w,"paddingAngle",0):0;if(A){var N=Rl(A.endAngle-A.startAngle,w.endAngle-w.startAngle),E=Un(Un({},w),{},{startAngle:y+C,endAngle:y+N(m)+C});v.push(E),y=E.endAngle}else{var P=w.endAngle,L=w.startAngle,O=Rl(0,P-L),k=O(m),D=Un(Un({},w),{},{startAngle:y+C,endAngle:y+k+C});v.push(D),y=D.endAngle}}),ue.createElement(nn,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!HN(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,u=i.cx,d=i.cy,h=i.innerRadius,f=i.outerRadius,p=i.isAnimationActive,g=this.state.isAnimationFinished;if(s||!a||!a.length||!St(u)||!St(d)||!St(h)||!St(f))return null;var m=Tr("recharts-pie",o);return ue.createElement(nn,{tabIndex:this.props.rootTabIndex,className:m,ref:function(x){n.pieRef=x}},this.renderSectors(),l&&this.renderLabels(a),Ds.renderCallByParent(this.props,null,!1),(!p||g)&&Of.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(ue.isValidElement(n))return ue.cloneElement(n,i);if(yr(n))return n(i);var a=Tr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ue.createElement(l4,Xy({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(n,i,s){if(ue.isValidElement(n))return ue.cloneElement(n,i);var a=s;if(yr(n)&&(a=n(i),ue.isValidElement(a)))return a;var o=Tr("recharts-pie-label-text",typeof n!="boolean"&&!yr(n)?n.className:"");return ue.createElement(ox,Xy({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(j.PureComponent);oP=ap;Ec(ap,"displayName","Pie");Ec(ap,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Qd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ec(ap,"parseDeltaAngle",function(t,e){var r=so(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ec(ap,"getRealPieData",function(t){var e=t.data,r=t.children,n=rr(t,!1),i=Gl(r,iM);return e&&e.length?e.map(function(s,a){return Un(Un(Un({payload:s},n),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Un(Un({},n),s.props)}):[]});Ec(ap,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,a=Ope(i,s),o=n+ao(t.cx,i,i/2),l=r+ao(t.cy,s,s/2),u=ao(t.innerRadius,a,0),d=ao(t.outerRadius,a,a*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:u,outerRadius:d,maxRadius:h}});Ec(ap,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Un(Un({},e.type.defaultProps),e.props):e.props,i=oP.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,a=n.startAngle,o=n.endAngle,l=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,f=n.tooltipType,p=Math.abs(n.minAngle),g=oP.parseCoordinateOfPie(n,r),m=oP.parseDeltaAngle(a,o),v=Math.abs(m),x=u;Ar(u)&&Ar(h)?(Bu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Ar(u)&&(Bu(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=h);var y=i.filter(function(E){return ms(E,x,0)!==0}).length,w=(v>=360?y:y-1)*l,_=v-y*p-w,A=i.reduce(function(E,P){var L=ms(P,x,0);return E+(St(L)?L:0)},0),C;if(A>0){var N;C=i.map(function(E,P){var L=ms(E,x,0),O=ms(E,d,P),k=(St(L)?L:0)/A,D;P?D=N.endAngle+so(m)*l*(L!==0?1:0):D=a;var F=D+so(m)*((L!==0?p:0)+k*_),z=(D+F)/2,U=(g.innerRadius+g.outerRadius)/2,H=[{name:O,value:L,payload:E,dataKey:x,type:f}],B=Hn(g.cx,g.cy,U,z);return N=Un(Un(Un({percent:k,cornerRadius:s,name:O,tooltipPayload:H,midAngle:z,middleRadius:U,tooltipPosition:B},E),g),{},{value:ms(E,x),startAngle:D,endAngle:F,payload:E,paddingAngle:so(m)*l}),N})}return Un(Un({},g),{},{sectors:C,data:i})});var Iut=Math.ceil,Rut=Math.max;function Dut(t,e,r,n){for(var i=-1,s=Rut(Iut((e-t)/(r||1)),0),a=Array(s);s--;)a[n?s:++i]=t,t+=r;return a}var Fut=Dut,$ut=yfe,IQ=1/0,But=17976931348623157e292;function Uut(t){if(!t)return t===0?t:0;if(t=$ut(t),t===IQ||t===-IQ){var e=t<0?-1:1;return e*But}return t===t?t:0}var rme=Uut,zut=Fut,qut=nM,bR=rme;function Wut(t){return function(e,r,n){return n&&typeof n!="number"&&qut(e,r,n)&&(r=n=void 0),e=bR(e),r===void 0?(r=e,e=0):r=bR(r),n=n===void 0?e<r?1:-1:bR(n),zut(e,r,n,t)}}var Hut=Wut,Vut=Hut,Gut=Vut(),Kut=Gut;const x4=dn(Kut);function m5(t){"@babel/helpers - typeof";return m5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m5(t)}function RQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RQ(Object(r),!0).forEach(function(n){nme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nme(t,e,r){return e=Yut(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yut(t){var e=Xut(t,"string");return m5(e)=="symbol"?e:e+""}function Xut(t,e){if(m5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(m5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qut=["Webkit","Moz","O","ms"],Jut=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Qut.reduce(function(s,a){return DQ(DQ({},s),{},nme({},a+n,r))},{});return i[e]=r,i};function Nw(t){"@babel/helpers - typeof";return Nw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nw(t)}function y4(){return y4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},y4.apply(this,arguments)}function FQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FQ(Object(r),!0).forEach(function(n){hl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $Q(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sme(n.key),n)}}function edt(t,e,r){return e&&$Q(t.prototype,e),r&&$Q(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tdt(t,e,r){return e=b4(e),rdt(t,ime()?Reflect.construct(e,r||[],b4(t).constructor):e.apply(t,r))}function rdt(t,e){if(e&&(Nw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ndt(t)}function ndt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ime(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ime=function(){return!!t})()}function b4(t){return b4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},b4(t)}function idt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u7(t,e)}function u7(t,e){return u7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u7(t,e)}function hl(t,e,r){return e=sme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sme(t){var e=sdt(t,"string");return Nw(e)=="symbol"?e:e+""}function sdt(t,e){if(Nw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Nw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var adt=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!r||!r.length)return{};var l=r.length,u=BS().domain(x4(0,l)).range([s,s+a-o]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},BQ=function(e){return e.changedTouches&&!!e.changedTouches.length},Ew=function(t){function e(r){var n;return Zut(this,e),n=tdt(this,e,[r]),hl(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),hl(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),hl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),n.detachDragEndListener()}),hl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),hl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),hl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),hl(n,"handleSlideDragStart",function(i){var s=BQ(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return idt(e,t),edt(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,a=this.state.scaleValues,o=this.props,l=o.gap,u=o.data,d=u.length-1,h=Math.min(i,s),f=Math.max(i,s),p=e.getIndexInRange(a,h),g=e.getIndexInRange(a,f);return{startIndex:p-p%l,endIndex:g===d?d:g-g%l}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=ms(s[n],o,n);return yr(a)?a(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,u=l.x,d=l.width,h=l.travellerWidth,f=l.startIndex,p=l.endIndex,g=l.onChange,m=n.pageX-s;m>0?m=Math.min(m,u+d-h-o,u+d-h-a):m<0&&(m=Math.max(m,u-a,u-o));var v=this.getIndex({startX:a+m,endX:o+m});(v.startIndex!==f||v.endIndex!==p)&&g&&g(v),this.setState({startX:a+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=BQ(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,u=this.state[a],d=this.props,h=d.x,f=d.width,p=d.travellerWidth,g=d.onChange,m=d.gap,v=d.data,x={startX:this.state.startX,endX:this.state.endX},y=n.pageX-s;y>0?y=Math.min(y,h+f-p-u):y<0&&(y=Math.max(y,h-u)),x[a]=u+y;var w=this.getIndex(x),_=w.startIndex,A=w.endIndex,C=function(){var E=v.length-1;return a==="startX"&&(o>l?_%m===0:A%m===0)||o<l&&A===E||a==="endX"&&(o>l?A%m===0:_%m===0)||o>l&&A===E};this.setState(hl(hl({},a,u+y),"brushMoveStartX",n.pageX),function(){g&&C()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,u=a.endX,d=this.state[i],h=o.indexOf(d);if(h!==-1){var f=h+n;if(!(f===-1||f>=o.length)){var p=o[f];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState(hl({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.fill,u=n.stroke;return ue.createElement("rect",{stroke:u,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.data,u=n.children,d=n.padding,h=j.Children.only(u);return h?ue.cloneElement(h,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,a,o=this,l=this.props,u=l.y,d=l.travellerWidth,h=l.height,f=l.traveller,p=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,x=Math.max(n,this.props.x),y=wR(wR({},rr(this.props,!1)),{},{x,y:u,width:d,height:h}),w=p||"Min value: ".concat((s=g[m])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=g[v])===null||a===void 0?void 0:a.name);return ue.createElement(nn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(A){["ArrowLeft","ArrowRight"].includes(A.key)&&(A.preventDefault(),A.stopPropagation(),o.handleTravellerMoveKeyboard(A.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,y))}},{key:"renderSlide",value:function(n,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return ue.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:h,height:o})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,a=n.y,o=n.height,l=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,f=d.endX,p=5,g={pointerEvents:"none",fill:u};return ue.createElement(nn,{className:"recharts-brush-texts"},ue.createElement(ox,y4({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,f)-p,y:a+o/2},g),this.getTextOfTick(i)),ue.createElement(ox,y4({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,f)+l+p,y:a+o/2},g),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,a=n.children,o=n.x,l=n.y,u=n.width,d=n.height,h=n.alwaysShowText,f=this.state,p=f.startX,g=f.endX,m=f.isTextActive,v=f.isSlideMoving,x=f.isTravellerMoving,y=f.isTravellerFocused;if(!i||!i.length||!St(o)||!St(l)||!St(u)||!St(d)||u<=0||d<=0)return null;var w=Tr("recharts-brush",s),_=ue.Children.count(a)===1,A=Jut("userSelect","none");return ue.createElement(nn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:A},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,g),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||x||y||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,a=n.width,o=n.height,l=n.stroke,u=Math.floor(s+o/2)-1;return ue.createElement(ue.Fragment,null,ue.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),ue.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),ue.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return ue.isValidElement(n)?s=ue.cloneElement(n,i):yr(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,a=n.width,o=n.x,l=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return wR({prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:a},s&&s.length?adt({data:s,width:a,x:o,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var f=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:u,prevX:o,prevWidth:a,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);n[l]>i?o=l:a=l}return i>=n[o]?o:a}}])}(j.PureComponent);hl(Ew,"displayName","Brush");hl(Ew,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var odt=bU;function ldt(t,e){var r;return odt(t,function(n,i,s){return r=e(n,i,s),!r}),!!r}var cdt=ldt,udt=Vhe,ddt=mh,hdt=cdt,fdt=il,pdt=nM;function mdt(t,e,r){var n=fdt(t)?udt:hdt;return r&&pdt(t,e,r)&&(e=void 0),n(t,ddt(e))}var gdt=mdt;const vdt=dn(gdt);var Zd=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},UQ=pfe;function xdt(t,e,r){e=="__proto__"&&UQ?UQ(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var ydt=xdt,bdt=ydt,wdt=hfe,_dt=mh;function Sdt(t,e){var r={};return e=_dt(e),wdt(t,function(n,i,s){bdt(r,i,e(n,i,s))}),r}var Adt=Sdt;const jdt=dn(Adt);function Ndt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}var Edt=Ndt,Cdt=bU;function Tdt(t,e){var r=!0;return Cdt(t,function(n,i,s){return r=!!e(n,i,s),r}),r}var Pdt=Tdt,kdt=Edt,Odt=Pdt,Mdt=mh,Ldt=il,Idt=nM;function Rdt(t,e,r){var n=Ldt(t)?kdt:Odt;return r&&Idt(t,e,r)&&(e=void 0),n(t,Mdt(e))}var Ddt=Rdt;const ame=dn(Ddt);var Fdt=["x","y"];function g5(t){"@babel/helpers - typeof";return g5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g5(t)}function d7(){return d7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d7.apply(this,arguments)}function zQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function P_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zQ(Object(r),!0).forEach(function(n){$dt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $dt(t,e,r){return e=Bdt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bdt(t){var e=Udt(t,"string");return g5(e)=="symbol"?e:e+""}function Udt(t,e){if(g5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(g5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zdt(t,e){if(t==null)return{};var r=qdt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qdt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wdt(t,e){var r=t.x,n=t.y,i=zdt(t,Fdt),s="".concat(r),a=parseInt(s,10),o="".concat(n),l=parseInt(o,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),f=parseInt(h,10);return P_(P_(P_(P_(P_({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function qQ(t){return ue.createElement(Zpe,d7({shapeType:"rectangle",propTransformer:Wdt,activeClassName:"recharts-active-bar"},t))}var Hdt=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=typeof n=="number";return s?e(n,i):(s||cx(),r)}},Vdt=["value","background"],ome;function Cw(t){"@babel/helpers - typeof";return Cw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cw(t)}function Gdt(t,e){if(t==null)return{};var r=Kdt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kdt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function w4(){return w4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w4.apply(this,arguments)}function WQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WQ(Object(r),!0).forEach(function(n){Mm(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ydt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function HQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cme(n.key),n)}}function Xdt(t,e,r){return e&&HQ(t.prototype,e),r&&HQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qdt(t,e,r){return e=_4(e),Jdt(t,lme()?Reflect.construct(e,r||[],_4(t).constructor):e.apply(t,r))}function Jdt(t,e){if(e&&(Cw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zdt(t)}function Zdt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lme=function(){return!!t})()}function _4(t){return _4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_4(t)}function eht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h7(t,e)}function h7(t,e){return h7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},h7(t,e)}function Mm(t,e,r){return e=cme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cme(t){var e=tht(t,"string");return Cw(e)=="symbol"?e:e+""}function tht(t,e){if(Cw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Cw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eh=function(t){function e(){var r;Ydt(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Qdt(this,e,[].concat(i)),Mm(r,"state",{isAnimationFinished:!1}),Mm(r,"id",u2("recharts-bar-")),Mm(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),a&&a()}),Mm(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),a&&a()}),r}return eht(e,t),Xdt(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,u=s.activeBar,d=rr(this.props,!1);return n&&n.map(function(h,f){var p=f===l,g=p?u:a,m=Yi(Yi(Yi({},d),h),{},{isActive:p,option:g,index:f,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ue.createElement(nn,w4({className:"recharts-bar-rectangle"},ax(i.props,h,f),{key:"rectangle-".concat(h==null?void 0:h.x,"-").concat(h==null?void 0:h.y,"-").concat(h==null?void 0:h.value)}),ue.createElement(qQ,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,f=this.state.prevData;return ue.createElement(lh,{begin:l,duration:u,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var g=p.t,m=s.map(function(v,x){var y=f&&f[x];if(y){var w=Rl(y.x,v.x),_=Rl(y.y,v.y),A=Rl(y.width,v.width),C=Rl(y.height,v.height);return Yi(Yi({},v),{},{x:w(g),y:_(g),width:A(g),height:C(g)})}if(a==="horizontal"){var N=Rl(0,v.height),E=N(g);return Yi(Yi({},v),{},{y:v.y+v.height-E,height:E})}var P=Rl(0,v.width),L=P(g);return Yi(Yi({},v),{},{width:L})});return ue.createElement(nn,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!HN(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=rr(this.props.background,!1);return s.map(function(u,d){u.value;var h=u.background,f=Gdt(u,Vdt);if(!h)return null;var p=Yi(Yi(Yi(Yi(Yi({},f),{},{fill:"#eee"},h),l),ax(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return ue.createElement(qQ,w4({key:"background-bar-".concat(d),option:n.props.background,isActive:d===o},p))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,h=Gl(d,VN);if(!h)return null;var f=u==="vertical"?a[0].height/2:a[0].width/2,p=function(v,x){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:ms(v,x)}},g={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ue.createElement(nn,g,h.map(function(m){return ue.cloneElement(m,{key:"error-bar-".concat(i,"-").concat(m.props.dataKey),data:a,xAxis:o,yAxis:l,layout:u,offset:f,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,a=n.className,o=n.xAxis,l=n.yAxis,u=n.left,d=n.top,h=n.width,f=n.height,p=n.isAnimationActive,g=n.background,m=n.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,x=Tr("recharts-bar",a),y=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,_=y||w,A=Ar(m)?this.id:m;return ue.createElement(nn,{className:x},y||w?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(A)},ue.createElement("rect",{x:y?u:u-h/2,y:w?d:d-f/2,width:y?h:h*2,height:w?f:f*2}))):null,ue.createElement(nn,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(A,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,A),(!p||v)&&Of.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(j.PureComponent);ome=eh;Mm(eh,"displayName","Bar");Mm(eh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Qd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Mm(eh,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,f=t.offset,p=Hst(n,r);if(!p)return null;var g=e.layout,m=r.type.defaultProps,v=m!==void 0?Yi(Yi({},m),r.props):r.props,x=v.dataKey,y=v.children,w=v.minPointSize,_=g==="horizontal"?a:s,A=u?_.scale.domain():null,C=Jst({numericAxis:_}),N=Gl(y,iM),E=h.map(function(P,L){var O,k,D,F,z,U;u?O=Vst(u[d+L],A):(O=ms(P,x),Array.isArray(O)||(O=[C,O]));var H=Hdt(w,ome.defaultProps.minPointSize)(O[1],L);if(g==="horizontal"){var B,X=[a.scale(O[0]),a.scale(O[1])],ne=X[0],fe=X[1];k=LX({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:P,index:L}),D=(B=fe??ne)!==null&&B!==void 0?B:void 0,F=p.size;var I=ne-fe;if(z=Number.isNaN(I)?0:I,U={x:k,y:a.y,width:F,height:a.height},Math.abs(H)>0&&Math.abs(z)<Math.abs(H)){var q=so(z||H)*(Math.abs(H)-Math.abs(z));D-=q,z+=q}}else{var V=[s.scale(O[0]),s.scale(O[1])],K=V[0],Y=V[1];if(k=K,D=LX({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:P,index:L}),F=Y-K,z=p.size,U={x:s.x,y:D,width:s.width,height:z},Math.abs(H)>0&&Math.abs(F)<Math.abs(H)){var ae=so(F||H)*(Math.abs(H)-Math.abs(F));F+=ae}}return Yi(Yi(Yi({},P),{},{x:k,y:D,width:F,height:z,value:u?O:O[1],payload:P,background:U},N&&N[L]&&N[L].props),{},{tooltipPayload:[Ppe(r,P)],tooltipPosition:{x:k+F/2,y:D+z/2}})});return Yi({data:E,layout:g},f)});function v5(t){"@babel/helpers - typeof";return v5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v5(t)}function rht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ume(n.key),n)}}function nht(t,e,r){return e&&VQ(t.prototype,e),r&&VQ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function GQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GQ(Object(r),!0).forEach(function(n){SM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SM(t,e,r){return e=ume(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ume(t){var e=iht(t,"string");return v5(e)=="symbol"?e:e+""}function iht(t,e){if(v5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(v5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dme=function(e,r,n,i,s){var a=e.width,o=e.height,l=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},f=!!Pl(u,eh);return d.reduce(function(p,g){var m=r[g],v=m.orientation,x=m.domain,y=m.padding,w=y===void 0?{}:y,_=m.mirror,A=m.reversed,C="".concat(v).concat(_?"Mirror":""),N,E,P,L,O;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=x[1]-x[0],D=1/0,F=m.categoricalDomain.sort();if(F.forEach(function(V,K){K>0&&(D=Math.min((V||0)-(F[K-1]||0),D))}),Number.isFinite(D)){var z=D/k,U=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(N=z*U/2),m.padding==="no-gap"){var H=ao(e.barCategoryGap,z*U),B=z*U/2;N=B-H-(B-H)/U*H}}}i==="xAxis"?E=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:i==="yAxis"?E=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:E=m.range,A&&(E=[E[1],E[0]]);var X=Npe(m,s,f),ne=X.scale,fe=X.realScaleType;ne.domain(x).range(E),Epe(ne);var I=Cpe(ne,Pu(Pu({},m),{},{realScaleType:fe}));i==="xAxis"?(O=v==="top"&&!_||v==="bottom"&&_,P=n.left,L=h[C]-O*m.height):i==="yAxis"&&(O=v==="left"&&!_||v==="right"&&_,P=h[C]-O*m.width,L=n.top);var q=Pu(Pu(Pu({},m),I),{},{realScaleType:fe,x:P,y:L,scale:ne,width:i==="xAxis"?n.width:m.width,height:i==="yAxis"?n.height:m.height});return q.bandSize=s4(q,I),!m.hide&&i==="xAxis"?h[C]+=(O?-1:1)*q.height:m.hide||(h[C]+=(O?-1:1)*q.width),Pu(Pu({},p),{},SM({},g,q))},{})},hme=function(e,r){var n=e.x,i=e.y,s=r.x,a=r.y;return{x:Math.min(n,s),y:Math.min(i,a),width:Math.abs(s-n),height:Math.abs(a-i)}},sht=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return hme({x:r,y:n},{x:i,y:s})},fme=function(){function t(e){rht(this,t),this.scale=e}return nht(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();SM(fme,"EPS",1e-4);var YU=function(e){var r=Object.keys(e).reduce(function(n,i){return Pu(Pu({},n),{},SM({},i,fme.create(e[i])))},{});return Pu(Pu({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return jdt(i,function(l,u){return r[u].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return ame(i,function(s,a){return r[a].isInRange(s)})}})};function aht(t){return(t%180+180)%180}var oht=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=aht(i),a=s*Math.PI/180,o=Math.atan(n/r),l=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},lht=mh,cht=BN,uht=tM;function dht(t){return function(e,r,n){var i=Object(e);if(!cht(e)){var s=lht(r);e=uht(e),r=function(o){return s(i[o],o,i)}}var a=t(e,r,n);return a>-1?i[s?e[a]:a]:void 0}}var hht=dht,fht=rme;function pht(t){var e=fht(t),r=e%1;return e===e?r?e-r:e:0}var mht=pht,ght=afe,vht=mh,xht=mht,yht=Math.max;function bht(t,e,r){var n=t==null?0:t.length;if(!n)return-1;var i=r==null?0:xht(r);return i<0&&(i=yht(n+i,0)),ght(t,vht(e),i)}var wht=bht,_ht=hht,Sht=wht,Aht=_ht(Sht),jht=Aht;const Nht=dn(jht);var Eht=kqe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),XU=j.createContext(void 0),QU=j.createContext(void 0),pme=j.createContext(void 0),mme=j.createContext({}),gme=j.createContext(void 0),vme=j.createContext(0),xme=j.createContext(0),KQ=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,a=e.clipPathId,o=e.children,l=e.width,u=e.height,d=Eht(s);return ue.createElement(XU.Provider,{value:n},ue.createElement(QU.Provider,{value:i},ue.createElement(mme.Provider,{value:s},ue.createElement(pme.Provider,{value:d},ue.createElement(gme.Provider,{value:a},ue.createElement(vme.Provider,{value:u},ue.createElement(xme.Provider,{value:l},o)))))))},Cht=function(){return j.useContext(gme)},yme=function(e){var r=j.useContext(XU);r==null&&cx();var n=r[e];return n==null&&cx(),n},Tht=function(){var e=j.useContext(XU);return zp(e)},Pht=function(){var e=j.useContext(QU),r=Nht(e,function(n){return ame(n.domain,Number.isFinite)});return r||zp(e)},bme=function(e){var r=j.useContext(QU);r==null&&cx();var n=r[e];return n==null&&cx(),n},kht=function(){var e=j.useContext(pme);return e},Oht=function(){return j.useContext(mme)},JU=function(){return j.useContext(xme)},ZU=function(){return j.useContext(vme)};function Tw(t){"@babel/helpers - typeof";return Tw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tw(t)}function Mht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_me(n.key),n)}}function Iht(t,e,r){return e&&Lht(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Rht(t,e,r){return e=S4(e),Dht(t,wme()?Reflect.construct(e,r||[],S4(t).constructor):e.apply(t,r))}function Dht(t,e){if(e&&(Tw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fht(t)}function Fht(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wme=function(){return!!t})()}function S4(t){return S4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S4(t)}function $ht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f7(t,e)}function f7(t,e){return f7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},f7(t,e)}function YQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YQ(Object(r),!0).forEach(function(n){ez(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ez(t,e,r){return e=_me(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _me(t){var e=Bht(t,"string");return Tw(e)=="symbol"?e:e+""}function Bht(t,e){if(Tw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Tw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uht(t,e){return Hht(t)||Wht(t,e)||qht(t,e)||zht()}function zht(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qht(t,e){if(t){if(typeof t=="string")return QQ(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QQ(t,e)}}function QQ(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wht(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Hht(t){if(Array.isArray(t))return t}function p7(){return p7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p7.apply(this,arguments)}var Vht=function(e,r){var n;return ue.isValidElement(e)?n=ue.cloneElement(e,r):yr(e)?n=e(r):n=ue.createElement("line",p7({},r,{className:"recharts-reference-line-line"})),n},Ght=function(e,r,n,i,s,a,o,l,u){var d=s.x,h=s.y,f=s.width,p=s.height;if(n){var g=u.y,m=e.y.apply(g,{position:a});if(Zd(u,"discard")&&!e.y.isInRange(m))return null;var v=[{x:d+f,y:m},{x:d,y:m}];return l==="left"?v.reverse():v}if(r){var x=u.x,y=e.x.apply(x,{position:a});if(Zd(u,"discard")&&!e.x.isInRange(y))return null;var w=[{x:y,y:h+p},{x:y,y:h}];return o==="top"?w.reverse():w}if(i){var _=u.segment,A=_.map(function(C){return e.apply(C,{position:a})});return Zd(u,"discard")&&vdt(A,function(C){return!e.isInRange(C)})?null:A}return null};function Kht(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,u=Cht(),d=yme(i),h=bme(s),f=kht();if(!u||!f)return null;Bu(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=YU({x:d.scale,y:h.scale}),g=xs(e),m=xs(r),v=n&&n.length===2,x=Ght(p,g,m,v,f,t.position,d.orientation,h.orientation,t);if(!x)return null;var y=Uht(x,2),w=y[0],_=w.x,A=w.y,C=y[1],N=C.x,E=C.y,P=Zd(t,"hidden")?"url(#".concat(u,")"):void 0,L=XQ(XQ({clipPath:P},rr(t,!0)),{},{x1:_,y1:A,x2:N,y2:E});return ue.createElement(nn,{className:Tr("recharts-reference-line",o)},Vht(a,L),Ds.renderCallByParent(t,sht({x1:_,y1:A,x2:N,y2:E})))}var tz=function(t){function e(){return Mht(this,e),Rht(this,e,arguments)}return $ht(e,t),Iht(e,[{key:"render",value:function(){return ue.createElement(Kht,this.props)}}])}(ue.Component);ez(tz,"displayName","ReferenceLine");ez(tz,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function m7(){return m7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m7.apply(this,arguments)}function Pw(t){"@babel/helpers - typeof";return Pw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pw(t)}function JQ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ZQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JQ(Object(r),!0).forEach(function(n){AM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JQ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xht(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ame(n.key),n)}}function Qht(t,e,r){return e&&Xht(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jht(t,e,r){return e=A4(e),Zht(t,Sme()?Reflect.construct(e,r||[],A4(t).constructor):e.apply(t,r))}function Zht(t,e){if(e&&(Pw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eft(t)}function eft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sme=function(){return!!t})()}function A4(t){return A4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A4(t)}function tft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g7(t,e)}function g7(t,e){return g7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},g7(t,e)}function AM(t,e,r){return e=Ame(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ame(t){var e=rft(t,"string");return Pw(e)=="symbol"?e:e+""}function rft(t,e){if(Pw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Pw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nft=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,a=YU({x:i.scale,y:s.scale}),o=a.apply({x:r,y:n},{bandAware:!0});return Zd(e,"discard")&&!a.isInRange(o)?null:o},jM=function(t){function e(){return Yht(this,e),Jht(this,e,arguments)}return tft(e,t),Qht(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,a=n.r,o=n.alwaysShow,l=n.clipPathId,u=xs(i),d=xs(s);if(Bu(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=nft(this.props);if(!h)return null;var f=h.x,p=h.y,g=this.props,m=g.shape,v=g.className,x=Zd(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=ZQ(ZQ({clipPath:x},rr(this.props,!0)),{},{cx:f,cy:p});return ue.createElement(nn,{className:Tr("recharts-reference-dot",v)},e.renderDot(m,y),Ds.renderCallByParent(this.props,{x:f-a,y:p-a,width:2*a,height:2*a}))}}])}(ue.Component);AM(jM,"displayName","ReferenceDot");AM(jM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});AM(jM,"renderDot",function(t,e){var r;return ue.isValidElement(t)?r=ue.cloneElement(t,e):yr(t)?r=t(e):r=ue.createElement(gM,m7({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function v7(){return v7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v7.apply(this,arguments)}function kw(t){"@babel/helpers - typeof";return kw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kw(t)}function eJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eJ(Object(r),!0).forEach(function(n){NM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ift(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sft(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nme(n.key),n)}}function aft(t,e,r){return e&&sft(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oft(t,e,r){return e=j4(e),lft(t,jme()?Reflect.construct(e,r||[],j4(t).constructor):e.apply(t,r))}function lft(t,e){if(e&&(kw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cft(t)}function cft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jme=function(){return!!t})()}function j4(t){return j4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j4(t)}function uft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x7(t,e)}function x7(t,e){return x7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},x7(t,e)}function NM(t,e,r){return e=Nme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nme(t){var e=dft(t,"string");return kw(e)=="symbol"?e:e+""}function dft(t,e){if(kw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(kw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hft=function(e,r,n,i,s){var a=s.x1,o=s.x2,l=s.y1,u=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var f=YU({x:d.scale,y:h.scale}),p={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:n?f.y.apply(l,{position:"start"}):f.y.rangeMin},g={x:r?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(u,{position:"end"}):f.y.rangeMax};return Zd(s,"discard")&&(!f.isInRange(p)||!f.isInRange(g))?null:hme(p,g)},EM=function(t){function e(){return ift(this,e),oft(this,e,arguments)}return uft(e,t),aft(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,a=n.y1,o=n.y2,l=n.className,u=n.alwaysShow,d=n.clipPathId;Bu(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=xs(i),f=xs(s),p=xs(a),g=xs(o),m=this.props.shape;if(!h&&!f&&!p&&!g&&!m)return null;var v=hft(h,f,p,g,this.props);if(!v&&!m)return null;var x=Zd(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ue.createElement(nn,{className:Tr("recharts-reference-area",l)},e.renderRect(m,tJ(tJ({clipPath:x},rr(this.props,!0)),v)),Ds.renderCallByParent(this.props,v))}}])}(ue.Component);NM(EM,"displayName","ReferenceArea");NM(EM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});NM(EM,"renderRect",function(t,e){var r;return ue.isValidElement(t)?r=ue.cloneElement(t,e):yr(t)?r=t(e):r=ue.createElement(KU,v7({},e,{className:"recharts-reference-area-rect"})),r});function Eme(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function fft(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return oht(n,r)}function pft(t,e,r){var n=r==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function N4(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function mft(t,e){return Eme(t,e+1)}function gft(t,e,r,n,i){for(var s=(n||[]).slice(),a=e.start,o=e.end,l=0,u=1,d=a,h=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:Eme(n,u)};var m=l,v,x=function(){return v===void 0&&(v=r(g,m)),v},y=g.coordinate,w=l===0||N4(t,y,x,d,o);w||(l=0,d=a,u+=1),w&&(d=y+t*(x()/2+i),l+=u)},f;u<=s.length;)if(f=h(),f)return f.v;return[]}function x5(t){"@babel/helpers - typeof";return x5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x5(t)}function rJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rJ(Object(r),!0).forEach(function(n){vft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vft(t,e,r){return e=xft(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xft(t){var e=yft(t,"string");return x5(e)=="symbol"?e:e+""}function yft(t,e){if(x5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(x5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bft(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,o=e.start,l=e.end,u=function(f){var p=s[f],g,m=function(){return g===void 0&&(g=r(p,f)),g};if(f===a-1){var v=t*(p.coordinate+t*m()/2-l);s[f]=p=Pa(Pa({},p),{},{tickCoord:v>0?p.coordinate-v*t:p.coordinate})}else s[f]=p=Pa(Pa({},p),{},{tickCoord:p.coordinate});var x=N4(t,p.tickCoord,m,o,l);x&&(l=p.tickCoord-t*(m()/2+i),s[f]=Pa(Pa({},p),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function wft(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,l=e.start,u=e.end;if(s){var d=n[o-1],h=r(d,o-1),f=t*(d.coordinate+t*h/2-u);a[o-1]=d=Pa(Pa({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var p=N4(t,d.tickCoord,function(){return h},l,u);p&&(u=d.tickCoord-t*(h/2+i),a[o-1]=Pa(Pa({},d),{},{isShow:!0}))}for(var g=s?o-1:o,m=function(y){var w=a[y],_,A=function(){return _===void 0&&(_=r(w,y)),_};if(y===0){var C=t*(w.coordinate-t*A()/2-l);a[y]=w=Pa(Pa({},w),{},{tickCoord:C<0?w.coordinate-C*t:w.coordinate})}else a[y]=w=Pa(Pa({},w),{},{tickCoord:w.coordinate});var N=N4(t,w.tickCoord,A,l,u);N&&(l=w.tickCoord+t*(A()/2+i),a[y]=Pa(Pa({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return a}function rz(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(St(l)||Qd.isSsr)return mft(i,typeof l=="number"&&St(l)?l:0);var f=[],p=o==="top"||o==="bottom"?"width":"height",g=d&&p==="width"?$S(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},m=function(w,_){var A=yr(u)?u(w.value,_):w.value;return p==="width"?fft($S(A,{fontSize:e,letterSpacing:r}),g,h):$S(A,{fontSize:e,letterSpacing:r})[p]},v=i.length>=2?so(i[1].coordinate-i[0].coordinate):1,x=pft(s,v,p);return l==="equidistantPreserveStart"?gft(v,x,m,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=wft(v,x,m,i,a,l==="preserveStartEnd"):f=bft(v,x,m,i,a),f.filter(function(y){return y.isShow}))}var _ft=["viewBox"],Sft=["viewBox"],Aft=["ticks"];function Ow(t){"@babel/helpers - typeof";return Ow=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ow(t)}function Qy(){return Qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qy.apply(this,arguments)}function nJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ga(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nJ(Object(r),!0).forEach(function(n){nz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _R(t,e){if(t==null)return{};var r=jft(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jft(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Nft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tme(n.key),n)}}function Eft(t,e,r){return e&&iJ(t.prototype,e),r&&iJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Cft(t,e,r){return e=E4(e),Tft(t,Cme()?Reflect.construct(e,r||[],E4(t).constructor):e.apply(t,r))}function Tft(t,e){if(e&&(Ow(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pft(t)}function Pft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cme=function(){return!!t})()}function E4(t){return E4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E4(t)}function kft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y7(t,e)}function y7(t,e){return y7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},y7(t,e)}function nz(t,e,r){return e=Tme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tme(t){var e=Oft(t,"string");return Ow(e)=="symbol"?e:e+""}function Oft(t,e){if(Ow(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Ow(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x2=function(t){function e(r){var n;return Nft(this,e),n=Cft(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return kft(e,t),Eft(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,a=_R(n,_ft),o=this.props,l=o.viewBox,u=_R(o,Sft);return!j1(s,l)||!j1(a,u)||!j1(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,f=i.tickMargin,p,g,m,v,x,y,w=h?-1:1,_=n.tickSize||d,A=St(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=g=n.coordinate,v=a+ +!h*l,m=v-w*_,y=m-w*f,x=A;break;case"left":m=v=n.coordinate,g=s+ +!h*o,p=g-w*_,x=p-w*f,y=A;break;case"right":m=v=n.coordinate,g=s+ +h*o,p=g+w*_,x=p+w*f,y=A;break;default:p=g=n.coordinate,v=a+ +h*l,m=v+w*_,y=m+w*f,x=A;break}return{line:{x1:p,y1:m,x2:g,y2:v},tick:{x,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,a=n.width,o=n.height,l=n.orientation,u=n.mirror,d=n.axisLine,h=Ga(Ga(Ga({},rr(this.props,!1)),rr(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!u||l==="bottom"&&u);h=Ga(Ga({},h),{},{x1:i,y1:s+f*o,x2:i+a,y2:s+f*o})}else{var p=+(l==="left"&&!u||l==="right"&&u);h=Ga(Ga({},h),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return ue.createElement("line",Qy({},h,{className:Tr("recharts-cartesian-axis-line",Vl(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var a=this,o=this.props,l=o.tickLine,u=o.stroke,d=o.tick,h=o.tickFormatter,f=o.unit,p=rz(Ga(Ga({},this.props),{},{ticks:n}),i,s),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=rr(this.props,!1),x=rr(d,!1),y=Ga(Ga({},v),{},{fill:"none"},rr(l,!1)),w=p.map(function(_,A){var C=a.getTickLineCoord(_),N=C.line,E=C.tick,P=Ga(Ga(Ga(Ga({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:u},x),E),{},{index:A,payload:_,visibleTicksCount:p.length,tickFormatter:h});return ue.createElement(nn,Qy({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ax(a.props,_,A)),l&&ue.createElement("line",Qy({},y,N,{className:Tr("recharts-cartesian-axis-tick-line",Vl(l,"className"))})),d&&e.renderTickItem(d,P,"".concat(yr(h)?h(_.value,A):_.value).concat(f||"")))});return ue.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,f=h.ticks,p=_R(h,Aft),g=f;return yr(l)&&(g=f&&f.length>0?l(this.props):l(p)),a<=0||o<=0||!g||!g.length?null:ue.createElement(nn,{className:Tr("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Ds.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var a;return ue.isValidElement(n)?a=ue.cloneElement(n,i):yr(n)?a=n(i):a=ue.createElement(ox,Qy({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(j.Component);nz(x2,"displayName","CartesianAxis");nz(x2,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Mft=["x1","y1","x2","y2","key"],Lft=["offset"];function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function sJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ma(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sJ(Object(r),!0).forEach(function(n){Ift(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ift(t,e,r){return e=Rft(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rft(t){var e=Dft(t,"string");return ux(e)=="symbol"?e:e+""}function Dft(t,e){if(ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ag(){return Ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ag.apply(this,arguments)}function aJ(t,e){if(t==null)return{};var r=Fft(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Fft(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var $ft=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return ue.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Pme(t,e){var r;if(ue.isValidElement(t))r=ue.cloneElement(t,e);else if(yr(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=aJ(e,Mft),u=rr(l,!1);u.offset;var d=aJ(u,Lft);r=ue.createElement("line",Ag({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:o}))}return r}function Bft(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var u=Ma(Ma({},t),{},{x1:e,y1:o,x2:e+r,y2:o,key:"line-".concat(l),index:l});return Pme(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Uft(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var u=Ma(Ma({},t),{},{x1:o,y1:e,x2:o,y2:e+r,key:"line-".concat(l),index:l});return Pme(i,u)});return ue.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function zft(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var d=o.map(function(f){return Math.round(f+i-i)}).sort(function(f,p){return f-p});i!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var g=!d[p+1],m=g?i+a-f:d[p+1]-f;if(m<=0)return null;var v=p%e.length;return ue.createElement("rect",{key:"react-".concat(p),y:f,x:n,height:m,width:s,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function qft(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(f){return Math.round(f+s-s)}).sort(function(f,p){return f-p});s!==d[0]&&d.unshift(0);var h=d.map(function(f,p){var g=!d[p+1],m=g?s+o-f:d[p+1]-f;if(m<=0)return null;var v=p%n.length;return ue.createElement("rect",{key:"react-".concat(p),x:f,y:a,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ue.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Wft=function(e,r){var n=e.xAxis,i=e.width,s=e.height,a=e.offset;return jpe(rz(Ma(Ma(Ma({},x2.defaultProps),n),{},{ticks:Af(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,r)},Hft=function(e,r){var n=e.yAxis,i=e.width,s=e.height,a=e.offset;return jpe(rz(Ma(Ma(Ma({},x2.defaultProps),n),{},{ticks:Af(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,r)},vy={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function T1(t){var e,r,n,i,s,a,o=JU(),l=ZU(),u=Oht(),d=Ma(Ma({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:vy.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:vy.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:vy.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:vy.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:vy.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:vy.verticalFill,x:St(t.x)?t.x:u.left,y:St(t.y)?t.y:u.top,width:St(t.width)?t.width:u.width,height:St(t.height)?t.height:u.height}),h=d.x,f=d.y,p=d.width,g=d.height,m=d.syncWithTicks,v=d.horizontalValues,x=d.verticalValues,y=Tht(),w=Pht();if(!St(p)||p<=0||!St(g)||g<=0||!St(h)||h!==+h||!St(f)||f!==+f)return null;var _=d.verticalCoordinatesGenerator||Wft,A=d.horizontalCoordinatesGenerator||Hft,C=d.horizontalPoints,N=d.verticalPoints;if((!C||!C.length)&&yr(A)){var E=v&&v.length,P=A({yAxis:w?Ma(Ma({},w),{},{ticks:E?v:w.ticks}):void 0,width:o,height:l,offset:u},E?!0:m);Bu(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ux(P),"]")),Array.isArray(P)&&(C=P)}if((!N||!N.length)&&yr(_)){var L=x&&x.length,O=_({xAxis:y?Ma(Ma({},y),{},{ticks:L?x:y.ticks}):void 0,width:o,height:l,offset:u},L?!0:m);Bu(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ux(O),"]")),Array.isArray(O)&&(N=O)}return ue.createElement("g",{className:"recharts-cartesian-grid"},ue.createElement($ft,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ue.createElement(Bft,Ag({},d,{offset:u,horizontalPoints:C,xAxis:y,yAxis:w})),ue.createElement(Uft,Ag({},d,{offset:u,verticalPoints:N,xAxis:y,yAxis:w})),ue.createElement(zft,Ag({},d,{horizontalPoints:C})),ue.createElement(qft,Ag({},d,{verticalPoints:N})))}T1.displayName="CartesianGrid";var Vft=["type","layout","connectNulls","ref"],Gft=["key"];function Mw(t){"@babel/helpers - typeof";return Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mw(t)}function oJ(t,e){if(t==null)return{};var r=Kft(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Kft(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HS(){return HS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HS.apply(this,arguments)}function lJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lJ(Object(r),!0).forEach(function(n){ku(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xy(t){return Jft(t)||Qft(t)||Xft(t)||Yft()}function Yft(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xft(t,e){if(t){if(typeof t=="string")return b7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b7(t,e)}}function Qft(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jft(t){if(Array.isArray(t))return b7(t)}function b7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Zft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cJ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ome(n.key),n)}}function ept(t,e,r){return e&&cJ(t.prototype,e),r&&cJ(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function tpt(t,e,r){return e=C4(e),rpt(t,kme()?Reflect.construct(e,r||[],C4(t).constructor):e.apply(t,r))}function rpt(t,e){if(e&&(Mw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return npt(t)}function npt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kme=function(){return!!t})()}function C4(t){return C4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C4(t)}function ipt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w7(t,e)}function w7(t,e){return w7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},w7(t,e)}function ku(t,e,r){return e=Ome(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ome(t){var e=spt(t,"string");return Mw(e)=="symbol"?e:e+""}function spt(t,e){if(Mw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Mw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y2=function(t){function e(){var r;Zft(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=tpt(this,e,[].concat(i)),ku(r,"state",{isAnimationFinished:!0,totalLength:0}),ku(r,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),ku(r,"getStrokeDasharray",function(a,o,l){var u=l.reduce(function(x,y){return x+y});if(!u)return r.generateSimpleStrokeDasharray(o,a);for(var d=Math.floor(a/u),h=a%u,f=o-a,p=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>h){p=[].concat(xy(l.slice(0,g)),[h-m]);break}var v=p.length%2===0?[0,f]:[f];return[].concat(xy(e.repeat(l,d)),xy(p),v).map(function(x){return"".concat(x,"px")}).join(", ")}),ku(r,"id",u2("recharts-line-")),ku(r,"pathRef",function(a){r.mainCurve=a}),ku(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ku(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return ipt(e,t),ept(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,u=s.layout,d=s.children,h=Gl(d,VN);if(!h)return null;var f=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:ms(m.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ue.createElement(nn,p,h.map(function(g){return ue.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:a,xAxis:o,yAxis:l,layout:u,dataPointFormatter:f})}))}},{key:"renderDots",value:function(n,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,u=o.points,d=o.dataKey,h=rr(this.props,!1),f=rr(l,!0),p=u.map(function(m,v){var x=dl(dl(dl({key:"dot-".concat(v),r:3},h),f),{},{value:m.value,dataKey:d,cx:m.x,cy:m.y,index:v,payload:m.payload});return e.renderDotItem(l,x)}),g={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ue.createElement(nn,HS({className:"recharts-line-dots",key:"dots"},g),p)}},{key:"renderCurveStatically",value:function(n,i,s,a){var o=this.props,l=o.type,u=o.layout,d=o.connectNulls;o.ref;var h=oJ(o,Vft),f=dl(dl(dl({},rr(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},a),{},{type:l,layout:u,connectNulls:d});return ue.createElement(l4,HS({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,u=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,f=a.animationEasing,p=a.animationId,g=a.animateNewValues,m=a.width,v=a.height,x=this.state,y=x.prevPoints,w=x.totalLength;return ue.createElement(lh,{begin:d,duration:h,isActive:u,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var A=_.t;if(y){var C=y.length/o.length,N=o.map(function(k,D){var F=Math.floor(D*C);if(y[F]){var z=y[F],U=Rl(z.x,k.x),H=Rl(z.y,k.y);return dl(dl({},k),{},{x:U(A),y:H(A)})}if(g){var B=Rl(m*2,k.x),X=Rl(v/2,k.y);return dl(dl({},k),{},{x:B(A),y:X(A)})}return dl(dl({},k),{},{x:k.x,y:k.y})});return s.renderCurveStatically(N,n,i)}var E=Rl(0,w),P=E(A),L;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});L=s.getStrokeDasharray(P,w,O)}else L=s.generateSimpleStrokeDasharray(w,P);return s.renderCurveStatically(o,n,i,{strokeDasharray:L})})}},{key:"renderCurve",value:function(n,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,u=l.prevPoints,d=l.totalLength;return o&&a&&a.length&&(!u&&d>0||!HN(u,a))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(a,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,u=i.xAxis,d=i.yAxis,h=i.top,f=i.left,p=i.width,g=i.height,m=i.isAnimationActive,v=i.id;if(s||!o||!o.length)return null;var x=this.state.isAnimationFinished,y=o.length===1,w=Tr("recharts-line",l),_=u&&u.allowDataOverflow,A=d&&d.allowDataOverflow,C=_||A,N=Ar(v)?this.id:v,E=(n=rr(a,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},P=E.r,L=P===void 0?3:P,O=E.strokeWidth,k=O===void 0?2:O,D=RWe(a)?a:{},F=D.clipDot,z=F===void 0?!0:F,U=L*2+k;return ue.createElement(nn,{className:w},_||A?ue.createElement("defs",null,ue.createElement("clipPath",{id:"clipPath-".concat(N)},ue.createElement("rect",{x:_?f:f-p/2,y:A?h:h-g/2,width:_?p:p*2,height:A?g:g*2})),!z&&ue.createElement("clipPath",{id:"clipPath-dots-".concat(N)},ue.createElement("rect",{x:f-U/2,y:h-U/2,width:p+U,height:g+U}))):null,!y&&this.renderCurve(C,N),this.renderErrorBar(C,N),(y||a)&&this.renderDots(C,z,N),(!m||x)&&Of.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(xy(n),[0]):n,a=[],o=0;o<i;++o)a=[].concat(xy(a),xy(s));return a}},{key:"renderDotItem",value:function(n,i){var s;if(ue.isValidElement(n))s=ue.cloneElement(n,i);else if(yr(n))s=n(i);else{var a=i.key,o=oJ(i,Gft),l=Tr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=ue.createElement(gM,HS({key:a},o,{className:l}))}return s}}])}(j.PureComponent);ku(y2,"displayName","Line");ku(y2,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Qd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ku(y2,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,u=t.offset,d=e.layout,h=l.map(function(f,p){var g=ms(f,a);return d==="horizontal"?{x:MX({axis:r,ticks:i,bandSize:o,entry:f,index:p}),y:Ar(g)?null:n.scale(g),value:g,payload:f}:{x:Ar(g)?null:r.scale(g),y:MX({axis:n,ticks:s,bandSize:o,entry:f,index:p}),value:g,payload:f}});return dl({points:h,layout:d},u)});function Lw(t){"@babel/helpers - typeof";return Lw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lw(t)}function apt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function opt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ime(n.key),n)}}function lpt(t,e,r){return e&&opt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cpt(t,e,r){return e=T4(e),upt(t,Mme()?Reflect.construct(e,r||[],T4(t).constructor):e.apply(t,r))}function upt(t,e){if(e&&(Lw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dpt(t)}function dpt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mme=function(){return!!t})()}function T4(t){return T4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},T4(t)}function hpt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_7(t,e)}function _7(t,e){return _7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_7(t,e)}function Lme(t,e,r){return e=Ime(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ime(t){var e=fpt(t,"string");return Lw(e)=="symbol"?e:e+""}function fpt(t,e){if(Lw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Lw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S7(){return S7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S7.apply(this,arguments)}function ppt(t){var e=t.xAxisId,r=JU(),n=ZU(),i=yme(e);return i==null?null:ue.createElement(x2,S7({},i,{className:Tr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(a){return Af(a,!0)}}))}var Mf=function(t){function e(){return apt(this,e),cpt(this,e,arguments)}return hpt(e,t),lpt(e,[{key:"render",value:function(){return ue.createElement(ppt,this.props)}}])}(ue.Component);Lme(Mf,"displayName","XAxis");Lme(Mf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Iw(t){"@babel/helpers - typeof";return Iw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iw(t)}function mpt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gpt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fme(n.key),n)}}function vpt(t,e,r){return e&&gpt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xpt(t,e,r){return e=P4(e),ypt(t,Rme()?Reflect.construct(e,r||[],P4(t).constructor):e.apply(t,r))}function ypt(t,e){if(e&&(Iw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bpt(t)}function bpt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rme=function(){return!!t})()}function P4(t){return P4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P4(t)}function wpt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A7(t,e)}function A7(t,e){return A7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},A7(t,e)}function Dme(t,e,r){return e=Fme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fme(t){var e=_pt(t,"string");return Iw(e)=="symbol"?e:e+""}function _pt(t,e){if(Iw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Iw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j7(){return j7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j7.apply(this,arguments)}var Spt=function(e){var r=e.yAxisId,n=JU(),i=ZU(),s=bme(r);return s==null?null:ue.createElement(x2,j7({},s,{className:Tr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(o){return Af(o,!0)}}))},Hd=function(t){function e(){return mpt(this,e),xpt(this,e,arguments)}return wpt(e,t),vpt(e,[{key:"render",value:function(){return ue.createElement(Spt,this.props)}}])}(ue.Component);Dme(Hd,"displayName","YAxis");Dme(Hd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uJ(t){return Ept(t)||Npt(t)||jpt(t)||Apt()}function Apt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jpt(t,e){if(t){if(typeof t=="string")return N7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N7(t,e)}}function Npt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ept(t){if(Array.isArray(t))return N7(t)}function N7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E7=function(e,r,n,i,s){var a=Gl(e,tz),o=Gl(e,jM),l=[].concat(uJ(a),uJ(o)),u=Gl(e,EM),d="".concat(i,"Id"),h=i[0],f=r;if(l.length&&(f=l.reduce(function(m,v){if(v.props[d]===n&&Zd(v.props,"extendDomain")&&St(v.props[h])){var x=v.props[h];return[Math.min(m[0],x),Math.max(m[1],x)]}return m},f)),u.length){var p="".concat(h,"1"),g="".concat(h,"2");f=u.reduce(function(m,v){if(v.props[d]===n&&Zd(v.props,"extendDomain")&&St(v.props[p])&&St(v.props[g])){var x=v.props[p],y=v.props[g];return[Math.min(m[0],x,y),Math.max(m[1],x,y)]}return m},f)}return s&&s.length&&(f=s.reduce(function(m,v){return St(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},f)),f},$me={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,h,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new i(d,h||l,f),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],p]:l._events[g].push(p):(l._events[g]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,p=h.length,g=new Array(p);f<p;f++)g[f]=h[f].fn;return g},o.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,d,h,f,p,g){var m=r?r+u:u;if(!this._events[m])return!1;var v=this._events[m],x=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,h),!0;case 4:return v.fn.call(v.context,d,h,f),!0;case 5:return v.fn.call(v.context,d,h,f,p),!0;case 6:return v.fn.call(v.context,d,h,f,p,g),!0}for(w=1,y=new Array(x-1);w<x;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var _=v.length,A;for(w=0;w<_;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),x){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,h);break;case 4:v[w].fn.call(v[w].context,d,h,f);break;default:if(!y)for(A=1,y=new Array(x-1);A<x;A++)y[A-1]=arguments[A];v[w].fn.apply(v[w].context,y)}}return!0},o.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},o.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},o.prototype.removeListener=function(u,d,h,f){var p=r?r+u:u;if(!this._events[p])return this;if(!d)return a(this,p),this;var g=this._events[p];if(g.fn)g.fn===d&&(!f||g.once)&&(!h||g.context===h)&&a(this,p);else{for(var m=0,v=[],x=g.length;m<x;m++)(g[m].fn!==d||f&&!g[m].once||h&&g[m].context!==h)&&v.push(g[m]);v.length?this._events[p]=v.length===1?v[0]:v:a(this,p)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})($me);var Cpt=$me.exports;const Tpt=dn(Cpt);var SR=new Tpt,AR="recharts.syncMouseEvents";function y5(t){"@babel/helpers - typeof";return y5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y5(t)}function Ppt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kpt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bme(n.key),n)}}function Opt(t,e,r){return e&&kpt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jR(t,e,r){return e=Bme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bme(t){var e=Mpt(t,"string");return y5(e)=="symbol"?e:e+""}function Mpt(t,e){if(y5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(y5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lpt=function(){function t(){Ppt(this,t),jR(this,"activeIndex",0),jR(this,"coordinateList",[]),jR(this,"layout","horizontal")}return Opt(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,a=r.container,o=a===void 0?null:a,l=r.layout,u=l===void 0?null:l,d=r.offset,h=d===void 0?null:d,f=r.mouseHandlerCallback,p=f===void 0?null:f;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+l+u,f=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:h,pageY:f})}}}])}();function Ipt(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],i=t==null?void 0:t[1];if(n&&i&&St(n)&&St(i))return!0}return!1}function Rpt(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Ume(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,a=Hn(e,r,n,i),o=Hn(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Dpt(t,e,r){var n,i,s,a;if(t==="horizontal")n=e.x,s=n,i=r.top,a=r.top+r.height;else if(t==="vertical")i=e.y,a=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,f=Hn(o,l,u,h),p=Hn(o,l,d,h);n=f.x,i=f.y,s=p.x,a=p.y}else return Ume(e);return[{x:n,y:i},{x:s,y:a}]}function b5(t){"@babel/helpers - typeof";return b5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b5(t)}function dJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function JC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dJ(Object(r),!0).forEach(function(n){Fpt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fpt(t,e,r){return e=$pt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $pt(t){var e=Bpt(t,"string");return b5(e)=="symbol"?e:e+""}function Bpt(t,e){if(b5(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(b5(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Upt(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,f=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!a||f!=="ScatterChart"&&i!=="axis")return null;var g,m=l4;if(f==="ScatterChart")g=a,m=sct;else if(f==="BarChart")g=Rpt(h,a,l,d),m=KU;else if(h==="radial"){var v=Ume(a),x=v.cx,y=v.cy,w=v.radius,_=v.startAngle,A=v.endAngle;g={cx:x,cy:y,startAngle:_,endAngle:A,innerRadius:w,outerRadius:w},m=Rpe}else g={points:Dpt(h,a,l)},m=l4;var C=JC(JC(JC(JC({stroke:"#ccc",pointerEvents:"none"},l),g),rr(p,!1)),{},{payload:o,payloadIndex:u,className:Tr("recharts-tooltip-cursor",p.className)});return j.isValidElement(p)?j.cloneElement(p,C):j.createElement(m,C)}var zpt=["item"],qpt=["children","className","width","height","style","compact","title","desc"];function Rw(t){"@babel/helpers - typeof";return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rw(t)}function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VS.apply(this,arguments)}function hJ(t,e){return Vpt(t)||Hpt(t,e)||qme(t,e)||Wpt()}function Wpt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hpt(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(d){u=!0,i=d}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Vpt(t){if(Array.isArray(t))return t}function fJ(t,e){if(t==null)return{};var r=Gpt(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gpt(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kpt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ypt(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wme(n.key),n)}}function Xpt(t,e,r){return e&&Ypt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qpt(t,e,r){return e=k4(e),Jpt(t,zme()?Reflect.construct(e,r||[],k4(t).constructor):e.apply(t,r))}function Jpt(t,e){if(e&&(Rw(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zpt(t)}function Zpt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zme(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zme=function(){return!!t})()}function k4(t){return k4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k4(t)}function emt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C7(t,e)}function C7(t,e){return C7=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},C7(t,e)}function Dw(t){return nmt(t)||rmt(t)||qme(t)||tmt()}function tmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qme(t,e){if(t){if(typeof t=="string")return T7(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T7(t,e)}}function rmt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nmt(t){if(Array.isArray(t))return T7(t)}function T7(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pJ(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pJ(Object(r),!0).forEach(function(n){ur(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pJ(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ur(t,e,r){return e=Wme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wme(t){var e=imt(t,"string");return Rw(e)=="symbol"?e:e+""}function imt(t,e){if(Rw(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Rw(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var smt={xAxis:["bottom","top"],yAxis:["left","right"]},amt={width:"100%",height:"100%"},Hme={x:0,y:0};function ZC(t){return t}var omt=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},lmt=function(e,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Ze(Ze(Ze({},i),Hn(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,u=i.angle;return Ze(Ze(Ze({},i),Hn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return Hme},CM=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,a=(n??[]).reduce(function(o,l){var u=l.props.data;return u&&u.length?[].concat(Dw(o),Dw(u)):o},[]);return a.length>0?a:e&&e.length&&St(i)&&St(s)?e.slice(i,s+1):[]};function Vme(t){return t==="number"?[0,"auto"]:void 0}var P7=function(e,r,n,i){var s=e.graphicalItems,a=e.tooltipAxis,o=CM(r,e);return n<0||!s||!s.length||n>=o.length?null:s.reduce(function(l,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var p=h===void 0?o:h;f=kk(p,a.dataKey,i)}else f=h&&h[n]||o[n];return f?[].concat(Dw(l),[Ppe(u,f)]):l},[])},mJ=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},a=omt(s,n),o=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,d=$st(a,o,u,l);if(d>=0&&u){var h=u[d]&&u[d].value,f=P7(e,r,d,h),p=lmt(n,o,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:f,activeCoordinate:p}}return null},cmt=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=e.stackOffset,p=Ape(d,s);return n.reduce(function(g,m){var v,x=m.type.defaultProps!==void 0?Ze(Ze({},m.type.defaultProps),m.props):m.props,y=x.type,w=x.dataKey,_=x.allowDataOverflow,A=x.allowDuplicatedCategory,C=x.scale,N=x.ticks,E=x.includeHidden,P=x[a];if(g[P])return g;var L=CM(e.data,{graphicalItems:i.filter(function(I){var q,V=a in I.props?I.props[a]:(q=I.type.defaultProps)===null||q===void 0?void 0:q[a];return V===P}),dataStartIndex:l,dataEndIndex:u}),O=L.length,k,D,F;Ipt(x.domain,_,y)&&(k=W8(x.domain,null,_),p&&(y==="number"||C!=="auto")&&(F=US(L,w,"category")));var z=Vme(y);if(!k||k.length===0){var U,H=(U=x.domain)!==null&&U!==void 0?U:z;if(w){if(k=US(L,w,y),y==="category"&&p){var B=EWe(k);A&&B?(D=k,k=x4(0,O)):A||(k=DX(H,k,m).reduce(function(I,q){return I.indexOf(q)>=0?I:[].concat(Dw(I),[q])},[]))}else if(y==="category")A?k=k.filter(function(I){return I!==""&&!Ar(I)}):k=DX(H,k,m).reduce(function(I,q){return I.indexOf(q)>=0||q===""||Ar(q)?I:[].concat(Dw(I),[q])},[]);else if(y==="number"){var X=Wst(L,i.filter(function(I){var q,V,K=a in I.props?I.props[a]:(q=I.type.defaultProps)===null||q===void 0?void 0:q[a],Y="hide"in I.props?I.props.hide:(V=I.type.defaultProps)===null||V===void 0?void 0:V.hide;return K===P&&(E||!Y)}),w,s,d);X&&(k=X)}p&&(y==="number"||C!=="auto")&&(F=US(L,w,"category"))}else p?k=x4(0,O):o&&o[P]&&o[P].hasStack&&y==="number"?k=f==="expand"?[0,1]:Tpe(o[P].stackGroups,l,u):k=Spe(L,i.filter(function(I){var q=a in I.props?I.props[a]:I.type.defaultProps[a],V="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return q===P&&(E||!V)}),y,d,!0);if(y==="number")k=E7(h,k,P,s,N),H&&(k=W8(H,k,_));else if(y==="category"&&H){var ne=H,fe=k.every(function(I){return ne.indexOf(I)>=0});fe&&(k=ne)}}return Ze(Ze({},g),{},ur({},P,Ze(Ze({},x),{},{axisType:s,domain:k,categoricalDomain:F,duplicateDomain:D,originalDomain:(v=x.domain)!==null&&v!==void 0?v:z,isCategorical:p,layout:d})))},{})},umt=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,a=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,f=CM(e.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:u}),p=f.length,g=Ape(d,s),m=-1;return n.reduce(function(v,x){var y=x.type.defaultProps!==void 0?Ze(Ze({},x.type.defaultProps),x.props):x.props,w=y[a],_=Vme("number");if(!v[w]){m++;var A;return g?A=x4(0,p):o&&o[w]&&o[w].hasStack?(A=Tpe(o[w].stackGroups,l,u),A=E7(h,A,w,s)):(A=W8(_,Spe(f,n.filter(function(C){var N,E,P=a in C.props?C.props[a]:(N=C.type.defaultProps)===null||N===void 0?void 0:N[a],L="hide"in C.props?C.props.hide:(E=C.type.defaultProps)===null||E===void 0?void 0:E.hide;return P===w&&!L}),"number",d),i.defaultProps.allowDataOverflow),A=E7(h,A,w,s)),Ze(Ze({},v),{},ur({},w,Ze(Ze({axisType:s},i.defaultProps),{},{hide:!0,orientation:Vl(smt,"".concat(s,".").concat(m%2),null),domain:A,originalDomain:_,isCategorical:g,layout:d})))}return v},{})},dmt=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,a=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),f=Gl(d,s),p={};return f&&f.length?p=cmt(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=umt(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:u})),p},hmt=function(e){var r=zp(e),n=Af(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:wU(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:s4(r,n)}},gJ=function(e){var r=e.children,n=e.defaultShowTooltip,i=Pl(r,Ew),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!n}},fmt=function(e){return!e||!e.length?!1:e.some(function(r){var n=Pf(r&&r.type);return n&&n.indexOf("Bar")>=0})},vJ=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},pmt=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,u=n.width,d=n.height,h=n.children,f=n.margin||{},p=Pl(h,Ew),g=Pl(h,N1),m=Object.keys(l).reduce(function(A,C){var N=l[C],E=N.orientation;return!N.mirror&&!N.hide?Ze(Ze({},A),{},ur({},E,A[E]+N.width)):A},{left:f.left||0,right:f.right||0}),v=Object.keys(a).reduce(function(A,C){var N=a[C],E=N.orientation;return!N.mirror&&!N.hide?Ze(Ze({},A),{},ur({},E,Vl(A,"".concat(E))+N.height)):A},{top:f.top||0,bottom:f.bottom||0}),x=Ze(Ze({},v),m),y=x.bottom;p&&(x.bottom+=p.props.height||Ew.defaultProps.height),g&&r&&(x=zst(x,i,n,r));var w=u-x.left-x.right,_=d-x.top-x.bottom;return Ze(Ze({brushBottom:y},x),{},{width:Math.max(w,0),height:Math.max(_,0)})},mmt=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},iz=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,f=function(v,x){var y=x.graphicalItems,w=x.stackGroups,_=x.offset,A=x.updateId,C=x.dataStartIndex,N=x.dataEndIndex,E=v.barSize,P=v.layout,L=v.barGap,O=v.barCategoryGap,k=v.maxBarSize,D=vJ(P),F=D.numericAxisName,z=D.cateAxisName,U=fmt(y),H=[];return y.forEach(function(B,X){var ne=CM(v.data,{graphicalItems:[B],dataStartIndex:C,dataEndIndex:N}),fe=B.type.defaultProps!==void 0?Ze(Ze({},B.type.defaultProps),B.props):B.props,I=fe.dataKey,q=fe.maxBarSize,V=fe["".concat(F,"Id")],K=fe["".concat(z,"Id")],Y={},ae=l.reduce(function(qe,rt){var ct=x["".concat(rt.axisType,"Map")],$e=fe["".concat(rt.axisType,"Id")];ct&&ct[$e]||rt.axisType==="zAxis"||cx();var At=ct[$e];return Ze(Ze({},qe),{},ur(ur({},rt.axisType,At),"".concat(rt.axisType,"Ticks"),Af(At)))},Y),pe=ae[z],le=ae["".concat(z,"Ticks")],ye=w&&w[V]&&w[V].hasStack&&Zst(B,w[V].stackGroups),Se=Pf(B.type).indexOf("Bar")>=0,we=s4(pe,le),We=[],Ve=U&&Bst({barSize:E,stackGroups:w,totalSize:mmt(ae,z)});if(Se){var ke,Q,_e=Ar(q)?k:q,Ue=(ke=(Q=s4(pe,le,!0))!==null&&Q!==void 0?Q:_e)!==null&&ke!==void 0?ke:0;We=Ust({barGap:L,barCategoryGap:O,bandSize:Ue!==we?Ue:we,sizeList:Ve[K],maxBarSize:_e}),Ue!==we&&(We=We.map(function(qe){return Ze(Ze({},qe),{},{position:Ze(Ze({},qe.position),{},{offset:qe.position.offset-Ue/2})})}))}var Te=B&&B.type&&B.type.getComposedData;Te&&H.push({props:Ze(Ze({},Te(Ze(Ze({},ae),{},{displayedData:ne,props:v,dataKey:I,item:B,bandSize:we,barPosition:We,offset:_,stackedData:ye,layout:P,dataStartIndex:C,dataEndIndex:N}))),{},ur(ur(ur({key:B.key||"item-".concat(X)},F,ae[F]),z,ae[z]),"animationId",A)),childIndex:$We(B,v.children),item:B})}),H},p=function(v,x){var y=v.props,w=v.dataStartIndex,_=v.dataEndIndex,A=v.updateId;if(!PK({props:y}))return null;var C=y.children,N=y.layout,E=y.stackOffset,P=y.data,L=y.reverseStackOrder,O=vJ(N),k=O.numericAxisName,D=O.cateAxisName,F=Gl(C,n),z=Qst(P,F,"".concat(k,"Id"),"".concat(D,"Id"),E,L),U=l.reduce(function(fe,I){var q="".concat(I.axisType,"Map");return Ze(Ze({},fe),{},ur({},q,dmt(y,Ze(Ze({},I),{},{graphicalItems:F,stackGroups:I.axisType===k&&z,dataStartIndex:w,dataEndIndex:_}))))},{}),H=pmt(Ze(Ze({},U),{},{props:y,graphicalItems:F}),x==null?void 0:x.legendBBox);Object.keys(U).forEach(function(fe){U[fe]=d(y,U[fe],H,fe.replace("Map",""),r)});var B=U["".concat(D,"Map")],X=hmt(B),ne=f(y,Ze(Ze({},U),{},{dataStartIndex:w,dataEndIndex:_,updateId:A,graphicalItems:F,stackGroups:z,offset:H}));return Ze(Ze({formattedGraphicalItems:ne,graphicalItems:F,offset:H,stackGroups:z},X),U)},g=function(m){function v(x){var y,w,_;return Kpt(this,v),_=Qpt(this,v,[x]),ur(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ur(_,"accessibilityManager",new Lpt),ur(_,"handleLegendBBoxUpdate",function(A){if(A){var C=_.state,N=C.dataStartIndex,E=C.dataEndIndex,P=C.updateId;_.setState(Ze({legendBBox:A},p({props:_.props,dataStartIndex:N,dataEndIndex:E,updateId:P},Ze(Ze({},_.state),{},{legendBBox:A}))))}}),ur(_,"handleReceiveSyncEvent",function(A,C,N){if(_.props.syncId===A){if(N===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(C)}}),ur(_,"handleBrushChange",function(A){var C=A.startIndex,N=A.endIndex;if(C!==_.state.dataStartIndex||N!==_.state.dataEndIndex){var E=_.state.updateId;_.setState(function(){return Ze({dataStartIndex:C,dataEndIndex:N},p({props:_.props,dataStartIndex:C,dataEndIndex:N,updateId:E},_.state))}),_.triggerSyncEvent({dataStartIndex:C,dataEndIndex:N})}}),ur(_,"handleMouseEnter",function(A){var C=_.getMouseInfo(A);if(C){var N=Ze(Ze({},C),{},{isTooltipActive:!0});_.setState(N),_.triggerSyncEvent(N);var E=_.props.onMouseEnter;yr(E)&&E(N,A)}}),ur(_,"triggeredAfterMouseMove",function(A){var C=_.getMouseInfo(A),N=C?Ze(Ze({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(N),_.triggerSyncEvent(N);var E=_.props.onMouseMove;yr(E)&&E(N,A)}),ur(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),ur(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),ur(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),ur(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};_.setState(C),_.triggerSyncEvent(C);var N=_.props.onMouseLeave;yr(N)&&N(C,A)}),ur(_,"handleOuterEvent",function(A){var C=FWe(A),N=Vl(_.props,"".concat(C));if(C&&yr(N)){var E,P;/.*touch.*/i.test(C)?P=_.getMouseInfo(A.changedTouches[0]):P=_.getMouseInfo(A),N((E=P)!==null&&E!==void 0?E:{},A)}}),ur(_,"handleClick",function(A){var C=_.getMouseInfo(A);if(C){var N=Ze(Ze({},C),{},{isTooltipActive:!0});_.setState(N),_.triggerSyncEvent(N);var E=_.props.onClick;yr(E)&&E(N,A)}}),ur(_,"handleMouseDown",function(A){var C=_.props.onMouseDown;if(yr(C)){var N=_.getMouseInfo(A);C(N,A)}}),ur(_,"handleMouseUp",function(A){var C=_.props.onMouseUp;if(yr(C)){var N=_.getMouseInfo(A);C(N,A)}}),ur(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),ur(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),ur(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),ur(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&SR.emit(AR,_.props.syncId,A,_.eventEmitterSymbol)}),ur(_,"applySyncEvent",function(A){var C=_.props,N=C.layout,E=C.syncMethod,P=_.state.updateId,L=A.dataStartIndex,O=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(Ze({dataStartIndex:L,dataEndIndex:O},p({props:_.props,dataStartIndex:L,dataEndIndex:O,updateId:P},_.state)));else if(A.activeTooltipIndex!==void 0){var k=A.chartX,D=A.chartY,F=A.activeTooltipIndex,z=_.state,U=z.offset,H=z.tooltipTicks;if(!U)return;if(typeof E=="function")F=E(H,A);else if(E==="value"){F=-1;for(var B=0;B<H.length;B++)if(H[B].value===A.activeLabel){F=B;break}}var X=Ze(Ze({},U),{},{x:U.left,y:U.top}),ne=Math.min(k,X.x+X.width),fe=Math.min(D,X.y+X.height),I=H[F]&&H[F].value,q=P7(_.state,_.props.data,F),V=H[F]?{x:N==="horizontal"?H[F].coordinate:ne,y:N==="horizontal"?fe:H[F].coordinate}:Hme;_.setState(Ze(Ze({},A),{},{activeLabel:I,activeCoordinate:V,activePayload:q,activeTooltipIndex:F}))}else _.setState(A)}),ur(_,"renderCursor",function(A){var C,N=_.state,E=N.isTooltipActive,P=N.activeCoordinate,L=N.activePayload,O=N.offset,k=N.activeTooltipIndex,D=N.tooltipAxisBandSize,F=_.getTooltipEventType(),z=(C=A.props.active)!==null&&C!==void 0?C:E,U=_.props.layout,H=A.key||"_recharts-cursor";return ue.createElement(Upt,{key:H,activeCoordinate:P,activePayload:L,activeTooltipIndex:k,chartName:r,element:A,isActive:z,layout:U,offset:O,tooltipAxisBandSize:D,tooltipEventType:F})}),ur(_,"renderPolarAxis",function(A,C,N){var E=Vl(A,"type.axisType"),P=Vl(_.state,"".concat(E,"Map")),L=A.type.defaultProps,O=L!==void 0?Ze(Ze({},L),A.props):A.props,k=P&&P[O["".concat(E,"Id")]];return j.cloneElement(A,Ze(Ze({},k),{},{className:Tr(E,k.className),key:A.key||"".concat(C,"-").concat(N),ticks:Af(k,!0)}))}),ur(_,"renderPolarGrid",function(A){var C=A.props,N=C.radialLines,E=C.polarAngles,P=C.polarRadius,L=_.state,O=L.radiusAxisMap,k=L.angleAxisMap,D=zp(O),F=zp(k),z=F.cx,U=F.cy,H=F.innerRadius,B=F.outerRadius;return j.cloneElement(A,{polarAngles:Array.isArray(E)?E:Af(F,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(P)?P:Af(D,!0).map(function(X){return X.coordinate}),cx:z,cy:U,innerRadius:H,outerRadius:B,key:A.key||"polar-grid",radialLines:N})}),ur(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,C=_.props,N=C.children,E=C.width,P=C.height,L=_.props.margin||{},O=E-(L.left||0)-(L.right||0),k=wpe({children:N,formattedGraphicalItems:A,legendWidth:O,legendContent:u});if(!k)return null;var D=k.item,F=fJ(k,zpt);return j.cloneElement(D,Ze(Ze({},F),{},{chartWidth:E,chartHeight:P,margin:L,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),ur(_,"renderTooltip",function(){var A,C=_.props,N=C.children,E=C.accessibilityLayer,P=Pl(N,Io);if(!P)return null;var L=_.state,O=L.isTooltipActive,k=L.activeCoordinate,D=L.activePayload,F=L.activeLabel,z=L.offset,U=(A=P.props.active)!==null&&A!==void 0?A:O;return j.cloneElement(P,{viewBox:Ze(Ze({},z),{},{x:z.left,y:z.top}),active:U,label:F,payload:U?D:[],coordinate:k,accessibilityLayer:E})}),ur(_,"renderBrush",function(A){var C=_.props,N=C.margin,E=C.data,P=_.state,L=P.offset,O=P.dataStartIndex,k=P.dataEndIndex,D=P.updateId;return j.cloneElement(A,{key:A.key||"_recharts-brush",onChange:KC(_.handleBrushChange,A.props.onChange),data:E,x:St(A.props.x)?A.props.x:L.left,y:St(A.props.y)?A.props.y:L.top+L.height+L.brushBottom-(N.bottom||0),width:St(A.props.width)?A.props.width:L.width,startIndex:O,endIndex:k,updateId:"brush-".concat(D)})}),ur(_,"renderReferenceElement",function(A,C,N){if(!A)return null;var E=_,P=E.clipPathId,L=_.state,O=L.xAxisMap,k=L.yAxisMap,D=L.offset,F=A.type.defaultProps||{},z=A.props,U=z.xAxisId,H=U===void 0?F.xAxisId:U,B=z.yAxisId,X=B===void 0?F.yAxisId:B;return j.cloneElement(A,{key:A.key||"".concat(C,"-").concat(N),xAxis:O[H],yAxis:k[X],viewBox:{x:D.left,y:D.top,width:D.width,height:D.height},clipPathId:P})}),ur(_,"renderActivePoints",function(A){var C=A.item,N=A.activePoint,E=A.basePoint,P=A.childIndex,L=A.isRange,O=[],k=C.props.key,D=C.item.type.defaultProps!==void 0?Ze(Ze({},C.item.type.defaultProps),C.item.props):C.item.props,F=D.activeDot,z=D.dataKey,U=Ze(Ze({index:P,dataKey:z,cx:N.x,cy:N.y,r:4,fill:GU(C.item),strokeWidth:2,stroke:"#fff",payload:N.payload,value:N.value},rr(F,!1)),Ok(F));return O.push(v.renderActiveDot(F,U,"".concat(k,"-activePoint-").concat(P))),E?O.push(v.renderActiveDot(F,Ze(Ze({},U),{},{cx:E.x,cy:E.y}),"".concat(k,"-basePoint-").concat(P))):L&&O.push(null),O}),ur(_,"renderGraphicChild",function(A,C,N){var E=_.filterFormatItem(A,C,N);if(!E)return null;var P=_.getTooltipEventType(),L=_.state,O=L.isTooltipActive,k=L.tooltipAxis,D=L.activeTooltipIndex,F=L.activeLabel,z=_.props.children,U=Pl(z,Io),H=E.props,B=H.points,X=H.isRange,ne=H.baseLine,fe=E.item.type.defaultProps!==void 0?Ze(Ze({},E.item.type.defaultProps),E.item.props):E.item.props,I=fe.activeDot,q=fe.hide,V=fe.activeBar,K=fe.activeShape,Y=!!(!q&&O&&U&&(I||V||K)),ae={};P!=="axis"&&U&&U.props.trigger==="click"?ae={onClick:KC(_.handleItemMouseEnter,A.props.onClick)}:P!=="axis"&&(ae={onMouseLeave:KC(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:KC(_.handleItemMouseEnter,A.props.onMouseEnter)});var pe=j.cloneElement(A,Ze(Ze({},E.props),ae));function le(rt){return typeof k.dataKey=="function"?k.dataKey(rt.payload):null}if(Y)if(D>=0){var ye,Se;if(k.dataKey&&!k.allowDuplicatedCategory){var we=typeof k.dataKey=="function"?le:"payload.".concat(k.dataKey.toString());ye=kk(B,we,F),Se=X&&ne&&kk(ne,we,F)}else ye=B==null?void 0:B[D],Se=X&&ne&&ne[D];if(K||V){var We=A.props.activeIndex!==void 0?A.props.activeIndex:D;return[j.cloneElement(A,Ze(Ze(Ze({},E.props),ae),{},{activeIndex:We})),null,null]}if(!Ar(ye))return[pe].concat(Dw(_.renderActivePoints({item:E,activePoint:ye,basePoint:Se,childIndex:D,isRange:X})))}else{var Ve,ke=(Ve=_.getItemByXY(_.state.activeCoordinate))!==null&&Ve!==void 0?Ve:{graphicalItem:pe},Q=ke.graphicalItem,_e=Q.item,Ue=_e===void 0?A:_e,Te=Q.childIndex,qe=Ze(Ze(Ze({},E.props),ae),{},{activeIndex:Te});return[j.cloneElement(Ue,qe),null,null]}return X?[pe,null,null]:[pe,null]}),ur(_,"renderCustomized",function(A,C,N){return j.cloneElement(A,Ze(Ze({key:"recharts-customized-".concat(N)},_.props),_.state))}),ur(_,"renderMap",{CartesianGrid:{handler:ZC,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:ZC},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:ZC},YAxis:{handler:ZC},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((y=x.id)!==null&&y!==void 0?y:u2("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=bfe(_.triggeredAfterMouseMove,(w=x.throttleDelay)!==null&&w!==void 0?w:1e3/60),_.state={},_}return emt(v,m),Xpt(v,[{key:"componentDidMount",value:function(){var y,w;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(y=this.props.margin.left)!==null&&y!==void 0?y:0,top:(w=this.props.margin.top)!==null&&w!==void 0?w:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var y=this.props,w=y.children,_=y.data,A=y.height,C=y.layout,N=Pl(w,Io);if(N){var E=N.props.defaultIndex;if(!(typeof E!="number"||E<0||E>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[E]&&this.state.tooltipTicks[E].value,L=P7(this.state,_,E,P),O=this.state.tooltipTicks[E].coordinate,k=(this.state.offset.top+A)/2,D=C==="horizontal",F=D?{x:O,y:k}:{y:O,x:k},z=this.state.formattedGraphicalItems.find(function(H){var B=H.item;return B.type.name==="Scatter"});z&&(F=Ze(Ze({},F),z.props.points[E].tooltipPosition),L=z.props.points[E].tooltipPayload);var U={activeTooltipIndex:E,isTooltipActive:!0,activeLabel:P,activePayload:L,activeCoordinate:F};this.setState(U),this.renderCursor(N),this.accessibilityManager.setIndex(E)}}}},{key:"getSnapshotBeforeUpdate",value:function(y,w){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==w.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==y.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==y.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(y){s8([Pl(y.children,Io)],[Pl(this.props.children,Io)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var y=Pl(this.props.children,Io);if(y&&typeof y.props.shared=="boolean"){var w=y.props.shared?"axis":"item";return o.indexOf(w)>=0?w:s}return s}},{key:"getMouseInfo",value:function(y){if(!this.container)return null;var w=this.container,_=w.getBoundingClientRect(),A=ftt(_),C={chartX:Math.round(y.pageX-A.left),chartY:Math.round(y.pageY-A.top)},N=_.width/w.offsetWidth||1,E=this.inRange(C.chartX,C.chartY,N);if(!E)return null;var P=this.state,L=P.xAxisMap,O=P.yAxisMap,k=this.getTooltipEventType();if(k!=="axis"&&L&&O){var D=zp(L).scale,F=zp(O).scale,z=D&&D.invert?D.invert(C.chartX):null,U=F&&F.invert?F.invert(C.chartY):null;return Ze(Ze({},C),{},{xValue:z,yValue:U})}var H=mJ(this.state,this.props.data,this.props.layout,E);return H?Ze(Ze({},C),H):null}},{key:"inRange",value:function(y,w){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,C=y/_,N=w/_;if(A==="horizontal"||A==="vertical"){var E=this.state.offset,P=C>=E.left&&C<=E.left+E.width&&N>=E.top&&N<=E.top+E.height;return P?{x:C,y:N}:null}var L=this.state,O=L.angleAxisMap,k=L.radiusAxisMap;if(O&&k){var D=zp(O);return BX({x:C,y:N},D)}return null}},{key:"parseEventsOfWrapper",value:function(){var y=this.props.children,w=this.getTooltipEventType(),_=Pl(y,Io),A={};_&&w==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var C=Ok(this.props,this.handleOuterEvent);return Ze(Ze({},C),A)}},{key:"addListener",value:function(){SR.on(AR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){SR.removeListener(AR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(y,w,_){for(var A=this.state.formattedGraphicalItems,C=0,N=A.length;C<N;C++){var E=A[C];if(E.item===y||E.props.key===y.key||w===Pf(E.item.type)&&_===E.childIndex)return E}return null}},{key:"renderClipPath",value:function(){var y=this.clipPathId,w=this.state.offset,_=w.left,A=w.top,C=w.height,N=w.width;return ue.createElement("defs",null,ue.createElement("clipPath",{id:y},ue.createElement("rect",{x:_,y:A,height:C,width:N})))}},{key:"getXScales",value:function(){var y=this.state.xAxisMap;return y?Object.entries(y).reduce(function(w,_){var A=hJ(_,2),C=A[0],N=A[1];return Ze(Ze({},w),{},ur({},C,N.scale))},{}):null}},{key:"getYScales",value:function(){var y=this.state.yAxisMap;return y?Object.entries(y).reduce(function(w,_){var A=hJ(_,2),C=A[0],N=A[1];return Ze(Ze({},w),{},ur({},C,N.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(y){var w;return(w=this.state.xAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getYScaleByAxisId",value:function(y){var w;return(w=this.state.yAxisMap)===null||w===void 0||(w=w[y])===null||w===void 0?void 0:w.scale}},{key:"getItemByXY",value:function(y){var w=this.state,_=w.formattedGraphicalItems,A=w.activeItem;if(_&&_.length)for(var C=0,N=_.length;C<N;C++){var E=_[C],P=E.props,L=E.item,O=L.type.defaultProps!==void 0?Ze(Ze({},L.type.defaultProps),L.props):L.props,k=Pf(L.type);if(k==="Bar"){var D=(P.data||[]).find(function(H){return $lt(y,H)});if(D)return{graphicalItem:E,payload:D}}else if(k==="RadialBar"){var F=(P.data||[]).find(function(H){return BX(y,H)});if(F)return{graphicalItem:E,payload:F}}else if(wM(E,A)||_M(E,A)||p5(E,A)){var z=Eut({graphicalItem:E,activeTooltipItem:A,itemData:O.data}),U=O.activeIndex===void 0?z:O.activeIndex;return{graphicalItem:Ze(Ze({},E),{},{childIndex:U}),payload:p5(E,A)?O.data[z]:E.props.data[z]}}}return null}},{key:"render",value:function(){var y=this;if(!PK(this))return null;var w=this.props,_=w.children,A=w.className,C=w.width,N=w.height,E=w.style,P=w.compact,L=w.title,O=w.desc,k=fJ(w,qpt),D=rr(k,!1);if(P)return ue.createElement(KQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement(o8,VS({},D,{width:C,height:N,title:L,desc:O}),this.renderClipPath(),OK(_,this.renderMap)));if(this.props.accessibilityLayer){var F,z;D.tabIndex=(F=this.props.tabIndex)!==null&&F!==void 0?F:0,D.role=(z=this.props.role)!==null&&z!==void 0?z:"application",D.onKeyDown=function(H){y.accessibilityManager.keyboardEvent(H)},D.onFocus=function(){y.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return ue.createElement(KQ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ue.createElement("div",VS({className:Tr("recharts-wrapper",A),style:Ze({position:"relative",cursor:"default",width:C,height:N},E)},U,{ref:function(B){y.container=B}}),ue.createElement(o8,VS({},D,{width:C,height:N,title:L,desc:O,style:amt}),this.renderClipPath(),OK(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(j.Component);return ur(g,"displayName",r),ur(g,"defaultProps",Ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),ur(g,"getDerivedStateFromProps",function(m,v){var x=m.dataKey,y=m.data,w=m.children,_=m.width,A=m.height,C=m.layout,N=m.stackOffset,E=m.margin,P=v.dataStartIndex,L=v.dataEndIndex;if(v.updateId===void 0){var O=gJ(m);return Ze(Ze(Ze({},O),{},{updateId:0},p(Ze(Ze({props:m},O),{},{updateId:0}),v)),{},{prevDataKey:x,prevData:y,prevWidth:_,prevHeight:A,prevLayout:C,prevStackOffset:N,prevMargin:E,prevChildren:w})}if(x!==v.prevDataKey||y!==v.prevData||_!==v.prevWidth||A!==v.prevHeight||C!==v.prevLayout||N!==v.prevStackOffset||!j1(E,v.prevMargin)){var k=gJ(m),D={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},F=Ze(Ze({},mJ(v,y,C)),{},{updateId:v.updateId+1}),z=Ze(Ze(Ze({},k),D),F);return Ze(Ze(Ze({},z),p(Ze({props:m},z),v)),{},{prevDataKey:x,prevData:y,prevWidth:_,prevHeight:A,prevLayout:C,prevStackOffset:N,prevMargin:E,prevChildren:w})}if(!s8(w,v.prevChildren)){var U,H,B,X,ne=Pl(w,Ew),fe=ne&&(U=(H=ne.props)===null||H===void 0?void 0:H.startIndex)!==null&&U!==void 0?U:P,I=ne&&(B=(X=ne.props)===null||X===void 0?void 0:X.endIndex)!==null&&B!==void 0?B:L,q=fe!==P||I!==L,V=!Ar(y),K=V&&!q?v.updateId:v.updateId+1;return Ze(Ze({updateId:K},p(Ze(Ze({props:m},v),{},{updateId:K,dataStartIndex:fe,dataEndIndex:I}),v)),{},{prevChildren:w,dataStartIndex:fe,dataEndIndex:I})}return null}),ur(g,"renderActiveDot",function(m,v,x){var y;return j.isValidElement(m)?y=j.cloneElement(m,v):yr(m)?y=m(v):y=ue.createElement(gM,v),ue.createElement(nn,{className:"recharts-active-dot",key:x},y)}),function(v){return ue.createElement(g,v)}},Gme=iz({chartName:"LineChart",GraphicalChild:y2,axisComponents:[{axisType:"xAxis",AxisComp:Mf},{axisType:"yAxis",AxisComp:Hd}],formatAxisMap:dme}),k7=iz({chartName:"BarChart",GraphicalChild:eh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mf},{axisType:"yAxis",AxisComp:Hd}],formatAxisMap:dme}),gmt=iz({chartName:"PieChart",GraphicalChild:ap,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:bM},{axisType:"radiusAxis",AxisComp:xM}],formatAxisMap:cat,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const xJ=["#8884d8","#82ca9d","#ffc658","#ff7300","#8dd1e1"],vmt=()=>{const{subtab:t}=dh(),e=ec(),[r,n]=j.useState([]),[i,s]=j.useState([]),[a,o]=j.useState([]),[l,u]=j.useState("3months"),[d,h]=j.useState(!0),[f,p]=j.useState(0),[g,m]=j.useState(0),{user:v}=is(),{toast:x}=Kr(),y=t||"overview";j.useEffect(()=>{const C=window.location.pathname;!t&&C.startsWith("/student/analytics")&&e("/student/analytics/overview",{replace:!0})},[t,e]);const w=C=>{e(`/student/analytics/${C}`)};j.useEffect(()=>{_()},[v,l]);const _=async()=>{if(!(v!=null&&v.id)){h(!1);return}try{h(!0);const C=new Date;switch(l){case"1month":C.setMonth(C.getMonth()-1);break;case"3months":C.setMonth(C.getMonth()-3);break;case"6months":C.setMonth(C.getMonth()-6);break;case"1year":C.setFullYear(C.getFullYear()-1);break}const{data:N,error:E}=await je.from("paper_attempts").select(`
          score,
          completed_at,
          attempt_number,
          show_results,
          question_papers!inner (
            title,
            subjects_parent (subject_name)
          )
        `).eq("user_id",v==null?void 0:v.id).eq("show_results",!0).not("completed_at","is",null).gte("completed_at",C.toISOString()).order("completed_at",{ascending:!0});if(E)throw E;const{data:P,error:L}=await je.from("paper_attempts").select("id, show_results",{count:"exact"}).eq("user_id",v==null?void 0:v.id).not("completed_at","is",null).gte("completed_at",C.toISOString());if(L)throw L;const O=(P==null?void 0:P.length)||0,k=(P==null?void 0:P.filter(B=>!B.show_results).length)||0;p(O),m(k);const D=(N==null?void 0:N.map(B=>({test_name:B.question_papers.title,score:B.score,date:new Date(B.completed_at).toLocaleDateString(),subject:B.question_papers.subjects_parent.subject_name,attempt_number:B.attempt_number})))||[];n(D);const F=new Map;D.forEach(B=>{F.has(B.subject)||F.set(B.subject,{scores:[],count:0}),F.get(B.subject).scores.push(B.score),F.get(B.subject).count++});const z=Array.from(F.entries()).map(([B,X])=>{const ne=X.scores.reduce((K,Y)=>K+Y,0)/X.scores.length,fe=X.scores.slice(0,Math.floor(X.scores.length/2)),I=X.scores.slice(Math.floor(X.scores.length/2)),q=fe.length>0?fe.reduce((K,Y)=>K+Y,0)/fe.length:0,V=I.length>0?I.reduce((K,Y)=>K+Y,0)/I.length:0;return{subject:B,average_score:Math.round(ne),test_count:X.count,improvement:Math.round(V-q)}});s(z);const U=new Map;D.forEach(B=>{const X=new Date(B.date),ne=`${X.getMonth()+1}/${X.getFullYear()}`;U.has(ne)||U.set(ne,{scores:[],count:0}),U.get(ne).scores.push(B.score),U.get(ne).count++});const H=Array.from(U.entries()).map(([B,X])=>({period:B,score:Math.round(X.scores.reduce((ne,fe)=>ne+fe,0)/X.scores.length),tests_taken:X.count}));o(H)}catch(C){console.error("Error loading analytics:",C),x({title:"Error",description:"Failed to load performance analytics",variant:"destructive"})}finally{h(!1)}};return d?c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"animate-pulse space-y-4",children:[c.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[1,2,3,4].map(C=>c.jsx("div",{className:"h-64 bg-muted rounded"},C))})]})}):v?f>0&&r.length===0?c.jsx("div",{className:"space-y-6",children:c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx($d,{className:"h-5 w-5"}),"Results Pending Approval"]})}),c.jsx(Ie,{className:"flex flex-col items-center justify-center py-8",children:c.jsxs("div",{className:"text-center space-y-4",children:[c.jsx("div",{className:"bg-muted rounded-full w-16 h-16 flex items-center justify-center mx-auto",children:c.jsx(ia,{className:"h-8 w-8 text-muted-foreground"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-lg",children:["You've completed ",f," test",f>1?"s":"","!"]}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Results will appear here once your parent reviews and approves them."})]})]})})]})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Performance Analytics"}),c.jsx("p",{className:"text-muted-foreground",children:"Track your progress over time"})]}),c.jsxs(Ur,{value:l,onValueChange:u,children:[c.jsx(Rr,{className:"w-40",children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"1month",children:"Last Month"}),c.jsx(pt,{value:"3months",children:"Last 3 Months"}),c.jsx(pt,{value:"6months",children:"Last 6 Months"}),c.jsx(pt,{value:"1year",children:"Last Year"})]})]})]}),g>0&&c.jsx(Oe,{className:"border-l-4 border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950",children:c.jsxs(Ie,{className:"flex items-center gap-3 py-4",children:[c.jsx(za,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-yellow-900 dark:text-yellow-100",children:[g," test result",g>1?"s":""," pending parent approval"]}),c.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"These results will appear in your analytics once approved by your parent."})]})]})}),c.jsxs(ua,{value:y,onValueChange:w,children:[c.jsxs(xo,{children:[c.jsx(Cr,{value:"overview",children:"Overview"}),c.jsx(Cr,{value:"subjects",children:"By Subject"}),c.jsx(Cr,{value:"timeline",children:"Timeline"})]}),c.jsxs(Kt,{value:"overview",className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Average Score"}),c.jsx(iN,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[r.length>0?Math.round(r.reduce((C,N)=>C+N.score,0)/r.length):0,"%"]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"From approved results"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Tests Taken"}),c.jsx($d,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:f}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All completed tests"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Results Approved"}),c.jsx(tN,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:r.length}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f>0?`${Math.round(r.length/f*100)}% approved`:"No tests yet"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Subjects Covered"}),c.jsx($d,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:i.length}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Different subjects"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Improvement"}),c.jsx(zc,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:i.length>0?`+${Math.round(i.reduce((C,N)=>C+N.improvement,0)/i.length)}%`:"0%"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Average growth"})]})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Score Trend"}),c.jsx(Xt,{children:"Your test scores over time"})]}),c.jsx(Ie,{children:r.length>0?c.jsx(wg,{width:"100%",height:300,children:c.jsxs(Gme,{data:r,children:[c.jsx(T1,{strokeDasharray:"3 3"}),c.jsx(Mf,{dataKey:"date"}),c.jsx(Hd,{domain:[0,100]}),c.jsx(Io,{}),c.jsx(y2,{type:"monotone",dataKey:"score",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{fill:"hsl(var(--primary))"}})]})}):c.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:c.jsxs("div",{className:"text-center",children:[c.jsx($d,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),f>0?c.jsxs(c.Fragment,{children:[c.jsxs("p",{children:["You've completed ",f," test",f>1?"s":"","!"]}),c.jsx("p",{className:"text-sm mt-2",children:"Results will appear here once approved by your parent."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"No test data available for the selected time period."}),c.jsx("p",{className:"text-sm mt-2",children:"Complete some tests to see your progress trend."})]})]})})})]})]}),c.jsx(Kt,{value:"subjects",className:"space-y-6",children:c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Subject Performance"}),c.jsx(Xt,{children:"Average scores by subject"})]}),c.jsx(Ie,{children:i.length>0?c.jsx(wg,{width:"100%",height:300,children:c.jsxs(k7,{data:i,children:[c.jsx(T1,{strokeDasharray:"3 3"}),c.jsx(Mf,{dataKey:"subject"}),c.jsx(Hd,{domain:[0,100]}),c.jsx(Io,{}),c.jsx(eh,{dataKey:"average_score",fill:"hsl(var(--primary))"})]})}):c.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:c.jsxs("div",{className:"text-center",children:[c.jsx($d,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),f>0?c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"Subject performance will appear here"}),c.jsx("p",{className:"text-sm mt-2",children:"once your test results are approved by your parent."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"No subject data available."}),c.jsx("p",{className:"text-sm mt-2",children:"Complete tests in different subjects to see performance breakdown."})]})]})})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Test Distribution"}),c.jsx(Xt,{children:"Tests taken by subject"})]}),c.jsx(Ie,{children:i.length>0?c.jsx(wg,{width:"100%",height:300,children:c.jsxs(gmt,{children:[c.jsx(ap,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({subject:C,test_count:N})=>`${C}: ${N}`,outerRadius:80,fill:"#8884d8",dataKey:"test_count",children:i.map((C,N)=>c.jsx(iM,{fill:xJ[N%xJ.length]},`cell-${N}`))}),c.jsx(Io,{})]})}):c.jsx("div",{className:"flex items-center justify-center h-[300px] text-muted-foreground",children:c.jsxs("div",{className:"text-center",children:[c.jsx($d,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),f>0?c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"Test distribution will appear here"}),c.jsx("p",{className:"text-sm mt-2",children:"once your results are approved."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"No test distribution data available."}),c.jsx("p",{className:"text-sm mt-2",children:"Complete tests to see subject distribution."})]})]})})})]})]})}),c.jsx(Kt,{value:"timeline",className:"space-y-6",children:c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Monthly Performance"}),c.jsx(Xt,{children:"Average scores and test frequency by month"})]}),c.jsx(Ie,{children:a.length>0?c.jsx(wg,{width:"100%",height:400,children:c.jsxs(k7,{data:a,children:[c.jsx(T1,{strokeDasharray:"3 3"}),c.jsx(Mf,{dataKey:"period"}),c.jsx(Hd,{yAxisId:"score",orientation:"left",domain:[0,100]}),c.jsx(Hd,{yAxisId:"count",orientation:"right"}),c.jsx(Io,{}),c.jsx(eh,{yAxisId:"score",dataKey:"score",fill:"hsl(var(--primary))",name:"Average Score"}),c.jsx(eh,{yAxisId:"count",dataKey:"tests_taken",fill:"hsl(var(--secondary))",name:"Tests Taken"})]})}):c.jsx("div",{className:"flex items-center justify-center h-[400px] text-muted-foreground",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ia,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),f>0?c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"Timeline data will appear here"}),c.jsx("p",{className:"text-sm mt-2",children:"once your test results are approved by your parent."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{children:"No timeline data available."}),c.jsx("p",{className:"text-sm mt-2",children:"Complete tests over time to see performance trends."})]})]})})})]})})]})]}):c.jsx("div",{className:"space-y-6",children:c.jsx(Oe,{children:c.jsx(Ie,{className:"flex items-center justify-center py-8",children:c.jsx("p",{className:"text-muted-foreground",children:"Please log in to view analytics."})})})})};var sz="Radio",[xmt,Kme]=vo(sz),[ymt,bmt]=xmt(sz),Yme=j.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:i=!1,required:s,disabled:a,value:o="on",onCheck:l,form:u,...d}=t,[h,f]=j.useState(null),p=br(e,v=>f(v)),g=j.useRef(!1),m=h?u||!!h.closest("form"):!0;return c.jsxs(ymt,{scope:r,checked:i,disabled:a,children:[c.jsx(Ut.button,{type:"button",role:"radio","aria-checked":i,"data-state":Jme(i),"data-disabled":a?"":void 0,disabled:a,value:o,...d,ref:p,onClick:mt(t.onClick,v=>{i||l==null||l(),m&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),m&&c.jsx(wmt,{control:h,bubbles:!g.current,name:n,value:o,checked:i,required:s,disabled:a,form:u,style:{transform:"translateX(-100%)"}})]})});Yme.displayName=sz;var Xme="RadioIndicator",Qme=j.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...i}=t,s=bmt(Xme,r);return c.jsx(ws,{present:n||s.checked,children:c.jsx(Ut.span,{"data-state":Jme(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});Qme.displayName=Xme;var wmt=t=>{const{control:e,checked:r,bubbles:n=!0,...i}=t,s=j.useRef(null),a=uO(r),o=A3(e);return j.useEffect(()=>{const l=s.current,u=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==r&&h){const f=new Event("click",{bubbles:n});h.call(l,r),l.dispatchEvent(f)}},[a,r,n]),c.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:s,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Jme(t){return t?"checked":"unchecked"}var _mt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],az="RadioGroup",[Smt,b0t]=vo(az,[Yw,Kme]),Zme=Yw(),e0e=Kme(),[Amt,jmt]=Smt(az),t0e=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:i,value:s,required:a=!1,disabled:o=!1,orientation:l,dir:u,loop:d=!0,onValueChange:h,...f}=t,p=Zme(r),g=Kw(u),[m,v]=Uc({prop:s,defaultProp:i,onChange:h});return c.jsx(Amt,{scope:r,name:n,required:a,disabled:o,value:m,onValueChange:v,children:c.jsx(J$,{asChild:!0,...p,orientation:l,dir:g,loop:d,children:c.jsx(Ut.div,{role:"radiogroup","aria-required":a,"aria-orientation":l,"data-disabled":o?"":void 0,dir:g,...f,ref:e})})})});t0e.displayName=az;var r0e="RadioGroupItem",n0e=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...i}=t,s=jmt(r0e,r),a=s.disabled||n,o=Zme(r),l=e0e(r),u=j.useRef(null),d=br(e,u),h=s.value===i.value,f=j.useRef(!1);return j.useEffect(()=>{const p=m=>{_mt.includes(m.key)&&(f.current=!0)},g=()=>f.current=!1;return document.addEventListener("keydown",p),document.addEventListener("keyup",g),()=>{document.removeEventListener("keydown",p),document.removeEventListener("keyup",g)}},[]),c.jsx(Z$,{asChild:!0,...o,focusable:!a,active:h,children:c.jsx(Yme,{disabled:a,required:s.required,checked:h,...l,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:mt(p=>{p.key==="Enter"&&p.preventDefault()}),onFocus:mt(i.onFocus,()=>{var p;f.current&&((p=u.current)==null||p.click())})})})});n0e.displayName=r0e;var Nmt="RadioGroupIndicator",i0e=j.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,i=e0e(r);return c.jsx(Qme,{...i,...n,ref:e})});i0e.displayName=Nmt;var s0e=t0e,a0e=n0e,Emt=i0e;const o0e=j.forwardRef(({className:t,...e},r)=>c.jsx(s0e,{className:He("grid gap-2",t),...e,ref:r}));o0e.displayName=s0e.displayName;const O7=j.forwardRef(({className:t,...e},r)=>c.jsx(a0e,{ref:r,className:He("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:c.jsx(Emt,{className:"flex items-center justify-center",children:c.jsx(vte,{className:"h-2.5 w-2.5 fill-current text-current"})})}));O7.displayName=a0e.displayName;const Cmt=({open:t,onClose:e,onProceed:r,test:n})=>{const[i,s]=j.useState(!1),[a,o]=j.useState(!1),[l,u]=j.useState("single"),h=(()=>{var v;if((v=n==null?void 0:n.question_papers)!=null&&v.time_limit_minutes&&n.question_papers.time_limit_minutes>0)return n.question_papers.time_limit_minutes;if(n!=null&&n.time_limit_hours||n!=null&&n.time_limit_minutes){const x=n.time_limit_hours||0,y=n.time_limit_minutes||0;return x*60+y}return 60})(),f=()=>{i&&o(!0)},p=()=>{r(l)},g=()=>{o(!1)},m=()=>{s(!1),o(!1),u("single"),e()};return c.jsx(Hf,{open:t,onOpenChange:m,children:c.jsx(sh,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:a?c.jsxs(c.Fragment,{children:[c.jsxs(Gu,{children:[c.jsxs(Ku,{className:"flex items-start text-xl",children:[c.jsx(Bi,{className:"w-6 h-6 mr-2 text-destructive"}),"Final Confirmation"]}),c.jsx(r0,{className:"text-left",children:"You are about to start the test. This action cannot be undone."})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsx(Oe,{className:"border-destructive/20 bg-destructive/5",children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"text-left space-y-3",children:[c.jsx("div",{className:"text-center text-lg font-semibold",children:"Ready to Start?"}),c.jsxs("div",{className:"md:flex text-sm text-muted-foreground space-y-1",children:[c.jsxs("div",{className:"md:w-1/2",children:[c.jsxs("p",{children:[" Test: ",c.jsx("strong",{children:n.title})]}),c.jsxs("p",{children:[" Questions: ",c.jsx("strong",{children:n.question_papers.total_questions})]})]}),c.jsxs("div",{className:"md:w-1/2",children:[c.jsxs("p",{children:[" Time Limit: ",c.jsxs("strong",{children:[h," minutes"]})]}),c.jsxs("p",{children:[" Display Mode: ",c.jsx("strong",{children:l==="single"?"Single Question View":"All Questions View"})]})]})]})]})})}),c.jsx("div",{className:"bg-warning/10 border border-warning/20 rounded-lg p-4",children:c.jsxs("div",{className:"text-center text-sm",children:[c.jsx("div",{className:"font-semibold text-warning mb-2",children:" Last Chance to Cancel"}),c.jsx("p",{children:'Once you click "Start Test", the timer will begin and you cannot return to this page.'})]})})]}),c.jsxs(l6,{className:"gap-y-2",children:[c.jsx(Ge,{variant:"outline",onClick:g,children:"Go Back"}),c.jsx(Ge,{variant:"outline",onClick:m,children:"Cancel Test"}),c.jsx(Ge,{onClick:p,className:"bg-quiz hover:bg-quiz/90",children:"Start Test Now"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs(Gu,{children:[c.jsxs(Ku,{className:"flex items-center text-xl",children:[c.jsx(Bi,{className:"w-6 h-6 mr-2 text-warning"}),"Test Preparation - ",n.title]}),c.jsx(r0,{children:"Please read the following information carefully before starting your test."})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"grid grid-cols-3 gap-4 items-center",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-primary",children:n.question_papers.total_questions}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Questions"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-primary",children:h}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Minutes"})]}),c.jsx("div",{className:"text-center",children:c.jsx(Pt,{variant:"outline",className:"text-sm px-3 py-1",children:n.question_papers.subjects_parent.subject_name})})]})})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(ft,{className:"text-base font-medium",children:"Question Display Mode"}),c.jsx(o0e,{value:l,onValueChange:v=>u(v),children:c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[c.jsx(O7,{value:"single",id:"single",className:"mt-1"}),c.jsx("div",{className:"flex-1",children:c.jsxs(ft,{htmlFor:"single",className:"flex items-start font-medium cursor-pointer",children:[c.jsx(th,{className:"w-4 h-4 mr-2"}),c.jsxs("div",{children:["Single Question View (Recommended)",c.jsx("br",{}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View one question at a time with navigation controls. Easier to focus and less overwhelming."})]})]})})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-3 border rounded-lg hover:bg-muted/50",children:[c.jsx(O7,{value:"all",id:"all",className:"mt-1"}),c.jsx("div",{className:"flex-1",children:c.jsxs(ft,{htmlFor:"all",className:"flex items-start font-medium cursor-pointer",children:[c.jsx(Eye,{className:"w-4 h-4 mr-2"}),c.jsxs("div",{children:["All Questions View",c.jsx("br",{}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View all questions on a single scrollable page. Good for quick overview and jumping between questions."})]})]})})]})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h3",{className:"font-semibold text-destructive flex items-center",children:[c.jsx(Bi,{className:"w-5 h-5 mr-2"}),"Important Test Rules"]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[c.jsx(Ui,{className:"w-5 h-5 text-destructive mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Time Limit Enforcement"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"The test will automatically submit when time expires. You cannot pause or extend the time limit."})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-warning/10 border border-warning/20 rounded-lg",children:[c.jsx(Pye,{className:"w-5 h-5 text-warning mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Fullscreen Recommended"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"For the best test experience, fullscreen mode is recommended. Exiting fullscreen may trigger security warnings."})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[c.jsx(Bi,{className:"w-5 h-5 text-destructive mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Anti-Cheating Measures"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Tab switching, copy/paste, and right-click are disabled. Three violations will auto-submit your test."})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-warning/10 border border-warning/20 rounded-lg",children:[c.jsx(F$,{className:"w-5 h-5 text-warning mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Stable Internet Required"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:"Ensure you have a stable internet connection. Your progress is saved automatically."})]})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold text-primary",children:"Available Features"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Navigate between questions freely"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Flag questions for review"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Question navigator panel"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),c.jsx("span",{children:"Auto-save progress"})]})]})]}),c.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-muted rounded-lg",children:[c.jsx(co,{id:"understand",checked:i,onCheckedChange:v=>s(v===!0),className:"mt-1"}),c.jsx(ft,{htmlFor:"understand",className:"text-sm cursor-pointer leading-relaxed",children:"I understand and agree to all the test rules and requirements listed above. I acknowledge that this test cannot be paused once started and that violations of the test rules may result in automatic submission."})]})]}),c.jsxs(l6,{className:"gap-y-2",children:[c.jsx(Ge,{variant:"outline",onClick:m,children:"Cancel"}),c.jsx(Ge,{onClick:f,disabled:!i,className:"bg-quiz hover:bg-quiz/90",children:"Continue"})]})]})})})},Tmt=()=>{var K;const{tab:t,subtab:e}=dh(),r=ec(),[n,i]=j.useState([]),[s,a]=j.useState([]),[o,l]=j.useState([]),[u,d]=j.useState(null),[h,f]=j.useState(!1),[p,g]=j.useState(null),[m,v]=j.useState("single"),[x,y]=j.useState(new Date),{user:w,profile:_,signOut:A}=is();Kr();const C=[{value:"tests",label:"Tests",icon:UL},{value:"results",label:"Results",icon:I$},{value:"analytics",label:"Analytics",icon:zu},{value:"profile",label:"Profile",icon:Fa}],N=t||"tests";C.find(Y=>Y.value===N),j.useEffect(()=>{t?e&&!["analytics"].includes(t)&&r(`/student/${t}`,{replace:!0}):r("/student/tests",{replace:!0})},[t,e,r]);const E=Y=>{r(`/student/${Y}`)},{loading:P,error:L,execute:O}=B9e({onError:Y=>console.error("Student dashboard error:",Y)}),[k,D]=j.useState(0),F=5*60*1e3;j.useEffect(()=>{if(w){const Y=Date.now();(Y-k>F||k===0)&&(z(),D(Y))}},[w]),j.useEffect(()=>{if(!w)return;const Y=je.channel("paper_attempts_changes").on("postgres_changes",{event:"*",schema:"public",table:"paper_attempts",filter:`user_id=eq.${w.id}`},ae=>{console.log("Paper attempt changed:",ae),D(0),z()}).subscribe();return()=>{je.removeChannel(Y)}},[w]),j.useEffect(()=>{const Y=setInterval(()=>{y(new Date)},1e3);return()=>clearInterval(Y)},[]);const z=async()=>O(async()=>{console.log("Fetching tests with new schema...");try{const{data:Y}=await je.auth.getUser();if(!Y.user)throw new Error("User not authenticated");const ae=Y.user.id,{data:pe,error:le}=await je.from("question_papers").select(`
            *,
            subjects_parent!inner (
              id,
              subject_name
            )
          `).eq("assign_to_all",!0).not("start_time","is",null).not("end_time","is",null);if(le)throw le;const ye=pe||[],{data:Se,error:we}=await je.from("paper_attempts").select("*").eq("user_id",ae);if(we)throw we;const We={};(Se||[]).forEach(_e=>{We[_e.paper_id]||(We[_e.paper_id]=[]),We[_e.paper_id].push(_e)});const Ve=ye.map(_e=>({id:_e.id,title:_e.title,start_time:_e.start_time,end_time:_e.end_time,max_attempts:_e.max_attempts||1,time_limit_minutes:_e.time_limit_minutes||60,total_questions:_e.total_questions||0,subjects_parent:_e.subjects_parent||{subject_name:"Unknown"},paper_attempts:(We[_e.id]||[]).map(Ue=>({id:Ue.id,attempt_number:Ue.attempt_number,score:Ue.score,completed_at:Ue.completed_at,started_at:Ue.started_at,current_question_index:Ue.current_question_index||0,total_questions:_e.total_questions||0,time_remaining:Ue.time_remaining||0,answers:Ue.answers||{},progress_percentage:Ue.progress_percentage||0}))})),ke=new Date,Q={available:[],completed:[],active:[]};Ve.forEach(_e=>{const Ue=new Date(_e.start_time),Te=new Date(_e.end_time),qe=_e.paper_attempts.filter($e=>!$e.completed_at),rt=_e.paper_attempts.some($e=>$e.completed_at),ct=_e.paper_attempts.length<_e.max_attempts;qe.length>0?Q.active.push(_e):Te<ke||rt&&!ct?Q.completed.push(_e):Q.available.push(_e)}),i(Q.available),a(Q.completed),l(Q.active)}catch(Y){throw console.error("Error in fetchTests:",Y),Y}}),U=Y=>{g(Y),f(!0)},H=Y=>{d(Y)},B=Y=>{v(Y),d(p),f(!1),g(null)},X=()=>{f(!1),g(null)},ne=()=>{d(null),D(0),z()},fe=Y=>{const ae=new Date,pe=new Date(Y.start_time);return new Date(Y.end_time)<ae?"expired":pe>ae?"scheduled":"active"},I=Y=>Y<=10?{variant:"secondary",label:"Easy"}:Y<=20?{variant:"outline",label:"Medium"}:{variant:"destructive",label:"Hard"},q=Y=>{const pe=new Date(Y).getTime()-x.getTime();if(pe<=0)return"Expired";const le=Math.floor(pe/(1e3*60*60*24)),ye=Math.floor(pe%(1e3*60*60*24)/(1e3*60*60)),Se=Math.floor(pe%(1e3*60*60)/(1e3*60));return le>0?`${le}d ${ye}h`:ye>0?`${ye}h ${Se}m`:`${Se}m`},V=Y=>{const pe=new Date(Y).getTime()-x.getTime();if(pe<=0)return null;const le=Math.floor(pe/(1e3*60*60*24)),ye=Math.floor(pe%(1e3*60*60*24)/(1e3*60*60)),Se=Math.floor(pe%(1e3*60*60)/(1e3*60));return le>0?`Starts in ${le}d ${ye}h`:ye>0?`Starts in ${ye}h ${Se}m`:`Starts in ${Se}m`};if(u){const Y={id:u.id,title:u.title,start_time:u.start_time,end_time:u.end_time,max_attempts:u.max_attempts,question_paper_id:u.id,time_limit_minutes:u.time_limit_minutes,question_papers:{id:u.id,title:u.title,total_questions:u.total_questions,time_limit_minutes:u.time_limit_minutes,subjects_parent:u.subjects_parent},test_attempts:((K=u.paper_attempts)==null?void 0:K.map(ae=>({id:ae.id,attempt_number:ae.attempt_number,score:ae.score,completed_at:ae.completed_at,started_at:ae.started_at,current_question_index:ae.current_question_index,total_questions:ae.total_questions,time_remaining:ae.time_remaining,answers:ae.answers,progress_percentage:ae.progress_percentage})))||[]};return c.jsx(z9e,{test:Y,onComplete:ne,displayMode:m})}return L?c.jsx(F9e,{error:L,type:"generic",onRetry:z,onGoHome:()=>window.location.href="/"}):c.jsxs(Z3,{children:[c.jsx(OB,{currentRole:(_==null?void 0:_.role)||null,onRoleChange:()=>A()}),c.jsxs("div",{className:"flex w-full pt-[57px] md:pt-[64px]",children:[c.jsx(eO,{collapsible:"icon",className:"fixed left-0 top-16 h-[calc(100vh-4rem)] z-40",children:c.jsx(rO,{className:"h-full overflow-y-auto",children:c.jsx(nO,{children:c.jsx(iO,{children:c.jsx(sO,{children:C.map(Y=>c.jsx(aO,{children:c.jsxs(oO,{isActive:N===Y.value,onClick:()=>E(Y.value),tooltip:Y.label,children:[c.jsx(Y.icon,{className:"w-4 h-4"}),c.jsx("span",{children:Y.label})]})},Y.value))})})})})}),c.jsxs(tO,{children:[c.jsx("div",{className:"md:hidden bg-card border-b p-4 flex items-center space-x-3",children:N&&(()=>{const Y=C.find(ae=>ae.value===N);return Y?c.jsxs(c.Fragment,{children:[c.jsx(Y.icon,{className:"w-5 h-5 text-muted-foreground"}),c.jsx("span",{className:"text-lg font-medium text-foreground",children:Y.label})]}):null})()}),c.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:c.jsx("div",{className:"p-3 sm:p-4 md:p-6",children:c.jsxs(ua,{value:N,onValueChange:E,className:"space-y-6",children:[c.jsxs(Kt,{value:"tests",className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Tests Available"}),c.jsx(UL,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n.length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to attempt"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Completed"}),c.jsx(tN,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:s.length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Tests taken"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Average Score"}),c.jsx(b3,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:s.length>0?Math.round(s.reduce((Y,ae)=>{const pe=ae.paper_attempts[ae.paper_attempts.length-1];return Y+((pe==null?void 0:pe.score)||0)},0)/s.length)+"%":"N/A"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Overall performance"})]})]})]}),o.length>0&&c.jsxs(Oe,{className:"border-l-4 border-l-quiz",children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(bte,{className:"w-5 h-5 mr-2 text-quiz"}),"Active Tests"]}),c.jsx(Xt,{children:"Tests you have started and can resume"})]}),c.jsx(Ie,{children:c.jsx("div",{className:"space-y-4",children:o.map(Y=>{var we;const ae=Y.paper_attempts.find(We=>!We.completed_at);if(!ae)return null;const pe=0,le=1,ye=Y.total_questions,Se=q(Y.end_time);return c.jsx("div",{className:"p-4 bg-quiz/5 border border-quiz/20 rounded-lg",children:c.jsxs("div",{className:"flex flex-col space-y-3 sm:space-y-0",children:[c.jsxs("div",{className:"flex flex-row gap-2 min-w-0",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium text-quiz mb-1",children:Y.title}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:[(we=Y.subjects_parent)==null?void 0:we.subject_name,"  Question ",le," of ",ye]})]}),c.jsx("div",{className:"flex-shrink-0 w-auto",children:c.jsx(Ge,{onClick:()=>H(Y),className:"w-full sm:w-auto bg-quiz hover:bg-quiz/90",size:"sm",children:"Resume Test"})})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-xs",children:[c.jsx("span",{children:"Progress"}),c.jsxs("span",{children:[pe,"%"]})]}),c.jsx(Rc,{value:pe,className:"h-2"}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[c.jsxs("span",{className:"flex items-center",children:[c.jsx(Rye,{className:"w-3 h-3 mr-1"}),Se]}),c.jsxs("span",{className:"flex items-center",children:[c.jsx(Fa,{className:"w-3 h-3 mr-1"}),"Attempt ",ae.attempt_number]})]})]})]})},Y.id)})})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(UL,{className:"w-5 h-5 mr-2"}),"Available Tests"]}),c.jsx(Xt,{children:"Tests ready for you to attempt"})]}),c.jsx(Ie,{children:P?c.jsx(R9e,{text:"Loading tests..."}):n.length===0?c.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[c.jsx(ia,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),c.jsx("p",{children:"No tests available at the moment"})]}):c.jsx("div",{className:"space-y-4",children:n.map(Y=>{var we,We;const ae=I(Y.total_questions),pe=fe(Y),le=Y.max_attempts-(((we=Y.paper_attempts)==null?void 0:we.length)||0),ye=V(Y.start_time),Se=q(Y.end_time);return c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between p-4 border rounded-lg hover:shadow-md transition-shadow space-y-3 sm:space-y-0",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h4",{className:"font-medium truncate pr-2",children:Y.title}),c.jsxs("p",{className:"text-sm text-muted-foreground truncate",children:[((We=Y.subjects_parent)==null?void 0:We.subject_name)||"No subject","  ",Y.total_questions," questions  ",Y.time_limit_minutes,"m"]}),c.jsxs("div",{className:"flex flex-wrap items-center mt-2 gap-2",children:[c.jsx(Pt,{variant:ae.variant,className:"text-xs",children:ae.label}),pe==="scheduled"&&ye&&c.jsx(Pt,{variant:"outline",className:"text-xs",children:ye}),pe==="active"&&c.jsxs(Pt,{variant:"default",className:"text-xs bg-quiz",children:[Se," remaining"]}),pe==="expired"&&c.jsx(Pt,{variant:"destructive",className:"text-xs",children:"Expired"}),le<Y.max_attempts&&c.jsxs("span",{className:"text-xs text-muted-foreground whitespace-nowrap",children:[le," attempt",le!==1?"s":""," left"]}),Y.paper_attempts.some(Ve=>Ve.completed_at)&&c.jsx(Pt,{variant:"secondary",className:"text-xs bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"Submitted"})]})]}),c.jsx("div",{className:"flex-shrink-0 w-full sm:w-auto",children:c.jsx(Ge,{onClick:()=>U(Y),disabled:pe!=="active"||le===0,className:He("w-full sm:w-auto",pe==="active"?"bg-quiz hover:bg-quiz/90":""),size:"sm",children:pe==="active"?"Start Test":pe==="scheduled"?"Not Available":"Expired"})})]},Y.id)}).filter(Boolean)})})]})]}),c.jsx(Kt,{value:"results",children:c.jsx(K9e,{})}),c.jsx(Kt,{value:"analytics",children:c.jsx(vmt,{})}),c.jsxs(Kt,{value:"profile",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Profile Management"}),c.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:"Manage your account settings and personal information"})]}),c.jsx(X9,{})]})]})})})]}),p&&c.jsx(Cmt,{open:h,onClose:X,onProceed:B,test:{title:p.title,time_limit_minutes:p.time_limit_minutes,question_papers:{total_questions:p.total_questions,time_limit_minutes:p.time_limit_minutes,subjects_parent:p.subjects_parent}}})]})]})},Pmt=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(""),[a,o]=j.useState("all"),[l,u]=j.useState("all"),{toast:d}=Kr();j.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:k,error:D}=await je.from("profiles").select("*").order("created_at",{ascending:!1});if(D)throw D;e(k||[])}catch(k){d({title:"Error fetching users",description:k.message,variant:"destructive"})}finally{n(!1)}},f=async(k,D)=>{try{const{error:F}=await je.from("profiles").update({is_approved:D}).eq("id",k);if(F)throw F;e(t.map(z=>z.id===k?{...z,is_approved:D}:z)),d({title:D?"User approved":"User rejected",description:`User has been ${D?"approved":"rejected"} successfully.`})}catch(F){d({title:"Error updating user status",description:F.message,variant:"destructive"})}},p=async(k,D)=>{try{const{data:F,error:z}=await je.functions.invoke("manage-user-role",{body:{targetUserId:k,newRole:D,reason:"Role change via admin panel"}});if(z)throw z;if(!F.success)throw new Error(F.error);e(t.map(U=>U.id===k?{...U,role:D}:U)),d({title:"Role updated securely",description:`User role has been updated to ${D} with audit logging.`}),h()}catch(F){d({title:"Error updating user role",description:F.message||"Unauthorized role change or admin limit exceeded",variant:"destructive"})}},g=k=>{switch(k){case"admin":return c.jsx(R$,{className:"w-4 h-4"});case"parent":return c.jsx(Fa,{className:"w-4 h-4"});case"child":return c.jsx(qy,{className:"w-4 h-4"});default:return c.jsx(Fa,{className:"w-4 h-4"})}},m=k=>{switch(k){case"admin":return"destructive";case"parent":return"default";case"child":return"secondary";default:return"outline"}},v=t.filter(k=>{var U;const D=k.email.toLowerCase().includes(i.toLowerCase())||((U=k.full_name)==null?void 0:U.toLowerCase().includes(i.toLowerCase())),F=a==="all"||k.role===a,z=l==="all"||l==="approved"&&k.is_approved||l==="pending"&&!k.is_approved;return D&&F&&z}),{currentPage:x,totalPages:y,paginatedData:w,goToPage:_,nextPage:A,previousPage:C,canGoNext:N,canGoPrevious:E,startItem:P,endItem:L,totalItems:O}=e9({data:v,itemsPerPage:15});return r?c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center",children:"Loading users..."})})}):c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(ns,{className:"w-5 h-5 mr-2"}),"User Management"]}),c.jsx(Xt,{children:"Manage user accounts, roles, and approval status"})]}),c.jsxs(Ie,{className:"space-y-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(pA,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(pr,{placeholder:"Search users by email or name...",value:i,onChange:k=>s(k.target.value),className:"pl-9"})]}),c.jsxs(Ur,{value:a,onValueChange:o,children:[c.jsxs(Rr,{className:"w-full sm:w-[180px]",children:[c.jsx(MP,{className:"w-4 h-4 mr-2"}),c.jsx(zr,{placeholder:"Filter by role"})]}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"All Roles"}),c.jsx(pt,{value:"admin",children:"Admin"}),c.jsx(pt,{value:"parent",children:"Parent"}),c.jsx(pt,{value:"child",children:"Child"})]})]}),c.jsxs(Ur,{value:l,onValueChange:u,children:[c.jsx(Rr,{className:"w-full sm:w-[180px]",children:c.jsx(zr,{placeholder:"Filter by status"})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"All Status"}),c.jsx(pt,{value:"approved",children:"Approved"}),c.jsx(pt,{value:"pending",children:"Pending"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(Oe,{children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx("div",{className:"text-2xl font-bold",children:t.length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Users"})]})}),c.jsx(Oe,{children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx("div",{className:"text-2xl font-bold",children:t.filter(k=>k.is_approved).length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Approved"})]})}),c.jsx(Oe,{children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx("div",{className:"text-2xl font-bold",children:t.filter(k=>!k.is_approved).length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Pending"})]})}),c.jsx(Oe,{children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx("div",{className:"text-2xl font-bold",children:t.filter(k=>k.role==="admin").length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Admins"})]})})]}),v.length>0&&c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Nle,{startItem:P,endItem:L,totalItems:O}),y>1&&c.jsx(t9,{children:c.jsxs(r9,{children:[c.jsx(kl,{children:c.jsx(n9,{href:"#",onClick:k=>{k.preventDefault(),C()},className:E?"cursor-pointer":"pointer-events-none opacity-50"})}),Array.from({length:Math.min(y,5)},(k,D)=>{let F;return y<=5||x<=3?F=D+1:x>=y-2?F=y-4+D:F=x-2+D,c.jsx(kl,{children:c.jsx(Vf,{href:"#",onClick:z=>{z.preventDefault(),_(F)},isActive:x===F,className:"cursor-pointer",children:F})},F)}),y>5&&x<y-2&&c.jsxs(c.Fragment,{children:[c.jsx(kl,{children:c.jsx(s9,{})}),c.jsx(kl,{children:c.jsx(Vf,{href:"#",onClick:k=>{k.preventDefault(),_(y)},className:"cursor-pointer",children:y})})]}),c.jsx(kl,{children:c.jsx(i9,{href:"#",onClick:k=>{k.preventDefault(),A()},className:N?"cursor-pointer":"pointer-events-none opacity-50"})})]})})]}),c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{children:"User"}),c.jsx(qt,{children:"Role"}),c.jsx(qt,{children:"Status"}),c.jsx(qt,{children:"Created"}),c.jsx(qt,{className:"text-right",children:"Actions"})]})}),c.jsx(Zo,{children:w.map(k=>{var D,F;return c.jsxs(Ln,{children:[c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:((D=k.full_name)==null?void 0:D[0])||((F=k.email[0])==null?void 0:F.toUpperCase())}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:k.full_name||"Unknown"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:k.email})]})]})}),c.jsx(Wt,{children:c.jsxs(Pt,{variant:m(k.role),className:"flex items-center gap-1 w-fit",children:[g(k.role),k.role]})}),c.jsx(Wt,{children:c.jsx(Pt,{variant:k.is_approved?"default":"secondary",children:k.is_approved?c.jsxs(c.Fragment,{children:[c.jsx(Bf,{className:"w-3 h-3 mr-1"}),"Approved"]}):c.jsxs(c.Fragment,{children:[c.jsx(rh,{className:"w-3 h-3 mr-1"}),"Pending"]})})}),c.jsx(Wt,{children:new Date(k.created_at).toLocaleDateString()}),c.jsx(Wt,{className:"text-right",children:c.jsxs(i6,{children:[c.jsx(s6,{asChild:!0,children:c.jsx(Ge,{variant:"ghost",className:"h-8 w-8 p-0",children:c.jsx(xte,{className:"h-4 w-4"})})}),c.jsxs(KP,{align:"end",children:[!k.is_approved&&c.jsxs(u1,{onClick:()=>f(k.id,!0),children:[c.jsx(Dye,{className:"mr-2 h-4 w-4"}),"Approve User"]}),k.is_approved&&c.jsxs(u1,{onClick:()=>f(k.id,!1),children:[c.jsx(_te,{className:"mr-2 h-4 w-4"}),"Reject User"]}),c.jsxs(u1,{onClick:()=>p(k.id,k.role==="admin"?"parent":"admin"),children:[c.jsx(nN,{className:"mr-2 h-4 w-4"}),"Change to ",k.role==="admin"?"Parent":"Admin"]})]})]})})]},k.id)})})]})}),w.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(ns,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No users found"}),c.jsx("p",{className:"text-muted-foreground",children:"No users match your current filters."})]})]})]})},kmt={light:"",dark:".dark"},l0e=j.createContext(null);function c0e(){const t=j.useContext(l0e);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const M7=j.forwardRef(({id:t,className:e,children:r,config:n,...i},s)=>{const a=j.useId(),o=`chart-${t||a.replace(/:/g,"")}`;return c.jsx(l0e.Provider,{value:{config:n},children:c.jsxs("div",{"data-chart":o,ref:s,className:He("w-full flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[c.jsx(Omt,{id:o,config:n}),c.jsx(wg,{children:r})]})})});M7.displayName="Chart";const Omt=({id:t,config:e})=>{const r=Object.entries(e).filter(([n,i])=>i.theme||i.color);return r.length?c.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(kmt).map(([n,i])=>`
${i} [data-chart=${t}] {
${r.map(([s,a])=>{var l;const o=((l=a.theme)==null?void 0:l[n])||a.color;return o?`  --color-${s}: ${o};`:null}).join(`
`)}
}
`).join(`
`)}}):null},yJ=Io,L7=j.forwardRef(({active:t,payload:e,className:r,indicator:n="dot",hideLabel:i=!1,hideIndicator:s=!1,label:a,labelFormatter:o,labelClassName:l,formatter:u,color:d,nameKey:h,labelKey:f},p)=>{const{config:g}=c0e(),m=j.useMemo(()=>{var A;if(i||!(e!=null&&e.length))return null;const[x]=e,y=`${f||x.dataKey||x.name||"value"}`,w=I7(g,x,y),_=!f&&typeof a=="string"?((A=g[a])==null?void 0:A.label)||a:w==null?void 0:w.label;return o?c.jsx("div",{className:He("font-medium",l),children:o(_,e)}):_?c.jsx("div",{className:He("font-medium",l),children:_}):null},[a,o,e,i,l,g,f]);if(!t||!(e!=null&&e.length))return null;const v=e.length===1&&n!=="dot";return c.jsxs("div",{ref:p,className:He("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",r),children:[v?null:m,c.jsx("div",{className:"grid gap-1.5",children:e.map((x,y)=>{const w=`${h||x.name||x.dataKey||"value"}`,_=I7(g,x,w),A=d||x.payload.fill||x.color;return c.jsx("div",{className:He("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",n==="dot"&&"items-center"),children:u&&(x==null?void 0:x.value)!==void 0&&x.name?u(x.value,x.name,x,y,x.payload):c.jsxs(c.Fragment,{children:[_!=null&&_.icon?c.jsx(_.icon,{}):!s&&c.jsx("div",{className:He("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":n==="dot","w-1":n==="line","w-0 border-[1.5px] border-dashed bg-transparent":n==="dashed","my-0.5":v&&n==="dashed"}),style:{"--color-bg":A,"--color-border":A}}),c.jsxs("div",{className:He("flex flex-1 justify-between leading-none",v?"items-end":"items-center"),children:[c.jsxs("div",{className:"grid gap-1.5",children:[v?m:null,c.jsx("span",{className:"text-muted-foreground",children:(_==null?void 0:_.label)||x.name})]}),x.value&&c.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:x.value.toLocaleString()})]})]})},x.dataKey)})})]})});L7.displayName="ChartTooltip";const Mmt=j.forwardRef(({className:t,hideIcon:e=!1,payload:r,verticalAlign:n="bottom",nameKey:i},s)=>{const{config:a}=c0e();return r!=null&&r.length?c.jsx("div",{ref:s,className:He("flex items-center justify-center gap-4",n==="top"?"pb-3":"pt-3",t),children:r.map(o=>{const l=`${i||o.dataKey||"value"}`,u=I7(a,o,l);return c.jsxs("div",{className:He("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u!=null&&u.icon&&!e?c.jsx(u.icon,{}):c.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:o.color}}),u==null?void 0:u.label]},o.value)})}):null});Mmt.displayName="ChartLegend";function I7(t,e,r){if(typeof e!="object"||e===null)return;const n="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=r;return r in e&&typeof e[r]=="string"?i=e[r]:n&&r in n&&typeof n[r]=="string"&&(i=n[r]),i in t?t[i]:t[r]}const Lmt=()=>{const[t,e]=j.useState(null),[r,n]=j.useState([]),[i,s]=j.useState([]),[a,o]=j.useState(!0),{toast:l}=Kr();j.useEffect(()=>{u()},[]);const u=async()=>{try{const[h,f,p,g,m]=await Promise.all([je.from("profiles").select("*",{count:"exact",head:!0}),je.from("documents").select("*",{count:"exact",head:!0}),je.from("questions").select("*",{count:"exact",head:!0}).eq("is_deleted",!1),je.from("question_papers").select("*",{count:"exact",head:!0}).eq("is_deleted",!1),je.from("question_papers").select("*",{count:"exact",head:!0}).not("start_time","is",null).not("end_time","is",null)]),v=new Date;v.setDate(v.getDate()-7);const{count:x}=await je.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",v.toISOString()),y=new Date;y.setDate(y.getDate()-14);const{count:w}=await je.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",y.toISOString()).lt("created_at",v.toISOString()),_=w&&w>0?Math.round(((x||0)-w)/w*100):x||0,{data:A}=await je.from("paper_attempts").select("score").not("score","is",null).not("completed_at","is",null),C=A&&A.length>0?Math.round(A.reduce((V,K)=>V+(K.score||0),0)/A.length):0,N=new Date;N.setMonth(N.getMonth()-1);const{count:E}=await je.from("question_papers").select("*",{count:"exact",head:!0}).gte("created_at",N.toISOString()).eq("is_deleted",!1),{data:P}=await je.from("paper_attempts").select("started_at, completed_at").not("completed_at","is",null).gte("started_at",new Date(Date.now()-24*60*60*1e3).toISOString()).limit(100);let L=150;if(P&&P.length>0){const V=P.filter(K=>K.started_at&&K.completed_at).map(K=>{const Y=new Date(K.started_at).getTime();return(new Date(K.completed_at).getTime()-Y)/1e3});if(V.length>0){const K=V.reduce((Y,ae)=>Y+ae,0)/V.length;L=Math.min(Math.max(K/100,50),500)}}const{count:O}=await je.from("paper_attempts").select("*",{count:"exact",head:!0}).gte("started_at",new Date(Date.now()-24*60*60*1e3).toISOString()),{count:k}=await je.from("paper_attempts").select("*",{count:"exact",head:!0}).not("completed_at","is",null).gte("started_at",new Date(Date.now()-24*60*60*1e3).toISOString()),D=O&&O>0?Math.round((k||0)/O*100):99,{data:F}=await je.from("questions").select("created_at").gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()).limit(50);let z=2.5;F&&F.length>0&&(z=Math.max(1,Math.min(5,3-F.length/20))),e({totalUsers:h.count||0,totalDocuments:f.count||0,totalQuestions:p.count||0,totalTests:g.count||0,activeTests:m.count||0,weeklyUserGrowth:_,monthlyTestsCreated:E||0,avgTestScore:C,avgResponseTime:Math.round(L),systemUptime:D,avgProcessingTime:Number(z.toFixed(1))});const U=[];for(let V=6;V>=0;V--){const K=new Date;K.setDate(K.getDate()-V);const Y=new Date(K.setHours(0,0,0,0)),ae=new Date(K.setHours(23,59,59,999));U.push(je.from("profiles").select("*",{count:"exact",head:!0}).gte("created_at",Y.toISOString()).lte("created_at",ae.toISOString()))}const H=await Promise.all(U),B=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],X=H.map((V,K)=>{const Y=new Date;return Y.setDate(Y.getDate()-(6-K)),{name:B[Y.getDay()],value:V.count||0}});n(X);const ne=[],fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];for(let V=5;V>=0;V--){const K=new Date;K.setMonth(K.getMonth()-V);const Y=new Date(K.getFullYear(),K.getMonth(),1),ae=new Date(K.getFullYear(),K.getMonth()+1,0,23,59,59);ne.push(je.from("paper_attempts").select("*",{count:"exact",head:!0}).not("completed_at","is",null).gte("completed_at",Y.toISOString()).lte("completed_at",ae.toISOString()))}const q=(await Promise.all(ne)).map((V,K)=>{const Y=new Date;return Y.setMonth(Y.getMonth()-(5-K)),{name:fe[Y.getMonth()],value:V.count||0}});s(q)}catch(h){l({title:"Error fetching analytics",description:h.message,variant:"destructive"})}finally{o(!1)}};if(a)return c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center",children:"Loading analytics..."})})});if(!t)return c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center text-muted-foreground",children:"Failed to load analytics data"})})});const d={users:{label:"Users",color:"hsl(var(--primary))"},tests:{label:"Tests",color:"hsl(var(--secondary))"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Oe,{children:c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(zu,{className:"w-5 h-5 mr-2"}),"System Analytics"]}),c.jsx(Xt,{children:"Monitor system usage, performance, and growth metrics"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Total Users"}),c.jsx(ns,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t.totalUsers}),c.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[c.jsx(zc,{className:"w-3 h-3 mr-1 text-green-500"}),"+",t.weeklyUserGrowth,"% this week"]})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Pages"}),c.jsx(sa,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t.totalDocuments}),c.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[c.jsx(jD,{className:"w-3 h-3 mr-1"}),t.totalQuestions," questions generated"]})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Active Tests"}),c.jsx(a1,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold",children:t.activeTests}),c.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[c.jsx(Ui,{className:"w-3 h-3 mr-1"}),t.totalTests," total scheduled"]})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Avg Test Score"}),c.jsx(Xm,{className:"h-4 w-4 text-muted-foreground"})]}),c.jsxs(Ie,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[t.avgTestScore,"%"]}),c.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[t.avgTestScore>=75?c.jsx(zc,{className:"w-3 h-3 mr-1 text-green-500"}):c.jsx(y3,{className:"w-3 h-3 mr-1 text-red-500"}),"Performance metric"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"User Growth"}),c.jsx(Xt,{children:"Daily new user registrations"})]}),c.jsx(Ie,{children:c.jsx(M7,{config:d,className:"h-[300px]",children:c.jsx(wg,{width:"100%",height:"100%",children:c.jsxs(Gme,{data:r,children:[c.jsx(T1,{strokeDasharray:"3 3"}),c.jsx(Mf,{dataKey:"name"}),c.jsx(Hd,{}),c.jsx(yJ,{content:c.jsx(L7,{})}),c.jsx(y2,{type:"monotone",dataKey:"value",stroke:"hsl(var(--primary))",strokeWidth:2,dot:{r:4}})]})})})})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsx(it,{children:"Test Activity"}),c.jsx(Xt,{children:"Monthly test completion rates"})]}),c.jsx(Ie,{children:c.jsx(M7,{config:d,className:"h-[300px]",children:c.jsx(wg,{width:"100%",height:"100%",children:c.jsxs(k7,{data:i,children:[c.jsx(T1,{strokeDasharray:"3 3"}),c.jsx(Mf,{dataKey:"name"}),c.jsx(Hd,{}),c.jsx(yJ,{content:c.jsx(L7,{})}),c.jsx(eh,{dataKey:"value",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})})]})]}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center",children:[c.jsx(Lye,{className:"w-5 h-5 mr-2"}),"System Health"]})}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Pt,{variant:"default",className:"bg-green-100 text-green-800",children:[c.jsx(a1,{className:"w-3 h-3 mr-1"}),"API Response Time"]}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.avgResponseTime,"ms avg"]})]}),c.jsx(Rc,{value:Math.max(0,Math.min(100,100-t.avgResponseTime/10)),className:"w-[200px]"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Pt,{variant:"default",className:"bg-blue-100 text-blue-800",children:[c.jsx(jD,{className:"w-3 h-3 mr-1"}),"Database Performance"]}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.systemUptime,"% uptime"]})]}),c.jsx(Rc,{value:t.systemUptime,className:"w-[200px]"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs(Pt,{variant:"default",className:"bg-purple-100 text-purple-800",children:[c.jsx(Xm,{className:"w-3 h-3 mr-1"}),"AI Processing"]}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[t.avgProcessingTime,"s avg generation"]})]}),c.jsx(Rc,{value:Math.max(0,Math.min(100,100-(t.avgProcessingTime-1)*20)),className:"w-[200px]"})]})]})]})]})},Imt=()=>{const{subtab:t}=dh(),e=ec(),[r,n]=j.useState([]),[i,s]=j.useState([]),[a,o]=j.useState(!0),[l,u]=j.useState(""),[d,h]=j.useState("all");j.useState(null);const[f,p]=j.useState(""),{toast:g}=Kr(),m=t||"documents";j.useEffect(()=>{const C=window.location.pathname;!t&&C.startsWith("/admin/moderation")&&e("/admin/moderation/documents",{replace:!0})},[t,e]);const v=C=>{e(`/admin/moderation/${C}`)};j.useEffect(()=>{x()},[]);const x=async()=>{try{const{data:C,error:N}=await je.from("documents").select(`
          *,
          profiles(full_name, email)
        `).order("created_at",{ascending:!1});if(N)throw N;const{data:E,error:P}=await je.from("question_papers").select(`
          *,
          profiles(full_name, email)
        `).order("created_at",{ascending:!1});if(P)throw P;n(C||[]),s(E||[])}catch(C){g({title:"Error fetching content",description:C.message,variant:"destructive"})}finally{o(!1)}},y=async(C,N)=>{try{const{error:E}=await je.from("documents").update({processing_status:N}).eq("id",C);if(E)throw E;n(r.map(P=>P.id===C?{...P,processing_status:N}:P)),g({title:"Pages status updated",description:`Pages have been ${N}.`})}catch(E){g({title:"Error updating pages status",description:E.message,variant:"destructive"})}},w=C=>{switch(C){case"completed":return c.jsxs(Pt,{variant:"default",children:[c.jsx(Bf,{className:"w-3 h-3 mr-1"}),"Approved"]});case"failed":return c.jsxs(Pt,{variant:"destructive",children:[c.jsx(rh,{className:"w-3 h-3 mr-1"}),"Rejected"]});case"pending":return c.jsxs(Pt,{variant:"secondary",children:[c.jsx(Ui,{className:"w-3 h-3 mr-1"}),"Pending"]});case"processing":return c.jsxs(Pt,{variant:"outline",children:[c.jsx(Bi,{className:"w-3 h-3 mr-1"}),"Processing"]});default:return c.jsx(Pt,{variant:"outline",children:C})}},_=r.filter(C=>{var P;const N=C.title.toLowerCase().includes(l.toLowerCase())||((P=C.profiles)==null?void 0:P.email.toLowerCase().includes(l.toLowerCase())),E=d==="all"||C.processing_status===d;return N&&E}),A=i.filter(C=>{var E;return C.title.toLowerCase().includes(l.toLowerCase())||((E=C.profiles)==null?void 0:E.email.toLowerCase().includes(l.toLowerCase()))});return a?c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center",children:"Loading content..."})})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(Oe,{children:c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(aa,{className:"w-5 h-5 mr-2"}),"Content Moderation"]}),c.jsx(Xt,{children:"Review and moderate user-generated content including pages and question papers"})]})}),c.jsxs(ua,{value:m,onValueChange:v,children:[c.jsxs(xo,{children:[c.jsxs(Cr,{value:"documents",className:"flex items-center gap-2",children:[c.jsx(sa,{className:"w-4 h-4"}),"Pages (",r.length,")"]}),c.jsxs(Cr,{value:"questions",className:"flex items-center gap-2",children:[c.jsx(Gv,{className:"w-4 h-4"}),"Question Papers (",i.length,")"]})]}),c.jsxs(Kt,{value:"documents",className:"space-y-4",children:[c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"relative flex-1",children:[c.jsx(pA,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(pr,{placeholder:"Search pages...",value:l,onChange:C=>u(C.target.value),className:"pl-9"})]}),c.jsxs(Ur,{value:d,onValueChange:h,children:[c.jsxs(Rr,{className:"w-full sm:w-[180px]",children:[c.jsx(MP,{className:"w-4 h-4 mr-2"}),c.jsx(zr,{placeholder:"Filter by status"})]}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"all",children:"All Status"}),c.jsx(pt,{value:"pending",children:"Pending"}),c.jsx(pt,{value:"processing",children:"Processing"}),c.jsx(pt,{value:"completed",children:"Approved"}),c.jsx(pt,{value:"failed",children:"Rejected"})]})]})]})})}),c.jsx(Oe,{children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{children:"Content"}),c.jsx(qt,{children:"Creator"}),c.jsx(qt,{children:"Status"}),c.jsx(qt,{children:"Created"}),c.jsx(qt,{className:"text-right",children:"Actions"})]})}),c.jsx(Zo,{children:_.map(C=>{var N,E,P,L;return c.jsxs(Ln,{children:[c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:c.jsx(sa,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:C.title}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.total_pages," pages  ",C.class_level]})]})]})}),c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Fa,{className:"w-4 h-4 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:((N=C.profiles)==null?void 0:N.full_name)||"Unknown"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:(E=C.profiles)==null?void 0:E.email})]})]})}),c.jsx(Wt,{children:w(C.processing_status)}),c.jsx(Wt,{children:new Date(C.created_at).toLocaleDateString()}),c.jsx(Wt,{className:"text-right",children:c.jsx("div",{className:"flex gap-2 justify-end",children:c.jsxs(Hf,{children:[c.jsx(MB,{asChild:!0,children:c.jsxs(Ge,{variant:"outline",size:"sm",children:[c.jsx(th,{className:"w-4 h-4 mr-1"}),"Review"]})}),c.jsxs(sh,{className:"max-w-2xl",children:[c.jsxs(Gu,{children:[c.jsx(Ku,{children:"Review Pages"}),c.jsx(r0,{children:"Review and moderate these pages"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Pages Details"}),c.jsxs("div",{className:"text-sm space-y-1",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Title:"})," ",C.title]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Pages:"})," ",C.total_pages]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Class Level:"})," ",C.class_level]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Creator:"})," ",(P=C.profiles)==null?void 0:P.full_name," (",(L=C.profiles)==null?void 0:L.email,")"]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium mb-2",children:"Moderation Notes"}),c.jsx(Xl,{placeholder:"Add moderation notes...",value:f,onChange:O=>p(O.target.value)})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Ge,{onClick:()=>y(C.id,"completed"),className:"flex-1",children:[c.jsx(Bf,{className:"w-4 h-4 mr-1"}),"Approve"]}),c.jsxs(Ge,{variant:"destructive",onClick:()=>y(C.id,"failed"),className:"flex-1",children:[c.jsx(rh,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})]})]})})})]},C.id)})})]})}),_.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(aa,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No pages found"}),c.jsx("p",{className:"text-muted-foreground",children:"No pages match your current filters."})]})]})})]}),c.jsxs(Kt,{value:"questions",className:"space-y-4",children:[c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(pA,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),c.jsx(pr,{placeholder:"Search question papers...",value:l,onChange:C=>u(C.target.value),className:"pl-9"})]})})}),c.jsx(Oe,{children:c.jsxs(Ie,{className:"pt-6",children:[c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{children:"Content"}),c.jsx(qt,{children:"Creator"}),c.jsx(qt,{children:"Created"}),c.jsx(qt,{className:"text-right",children:"Actions"})]})}),c.jsx(Zo,{children:A.map(C=>{var N,E;return c.jsxs(Ln,{children:[c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-secondary/10 rounded-lg",children:c.jsx(Gv,{className:"w-4 h-4"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:C.title}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.total_questions," questions"]})]})]})}),c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Fa,{className:"w-4 h-4 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:((N=C.profiles)==null?void 0:N.full_name)||"Unknown"}),c.jsx("div",{className:"text-sm text-muted-foreground",children:(E=C.profiles)==null?void 0:E.email})]})]})}),c.jsx(Wt,{children:new Date(C.created_at).toLocaleDateString()}),c.jsx(Wt,{className:"text-right",children:c.jsxs(Ge,{variant:"outline",size:"sm",children:[c.jsx(th,{className:"w-4 h-4 mr-1"}),"Review"]})})]},C.id)})})]})}),A.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(aa,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No question papers found"}),c.jsx("p",{className:"text-muted-foreground",children:"No question papers match your current filters."})]})]})})]})]})]})},Rmt=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(!1),[a,o]=j.useState(null),[l,u]=j.useState({name:"",provider_key:"",description:""}),[d,h]=j.useState(!1),{toast:f}=Kr();j.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:_,error:A}=await je.from("ai_providers").select("*").order("name");if(A)throw A;e((_||[]).filter(C=>["gemini","groq"].includes(C.provider_key.toLowerCase())))}catch(_){f({title:"Error fetching AI providers",description:_.message,variant:"destructive"})}finally{n(!1)}},g=()=>{o(null),u({name:"",provider_key:"",description:""}),s(!0)},m=_=>{o(_),u({name:_.name,provider_key:_.provider_key,description:_.description||""}),s(!0)},v=async()=>{if(!l.name.trim()||!l.provider_key.trim()){f({title:"Missing information",description:"Please provide both name and provider key.",variant:"destructive"});return}h(!0);try{if(a){const{error:_}=await je.from("ai_providers").update({name:l.name,provider_key:l.provider_key,description:l.description||null}).eq("id",a.id);if(_)throw _;f({title:"Provider updated",description:`${l.name} has been updated successfully.`})}else{const{error:_}=await je.from("ai_providers").insert({name:l.name,provider_key:l.provider_key,description:l.description||null,is_active:!0});if(_)throw _;f({title:"Provider added",description:`${l.name} has been added successfully.`})}s(!1),u({name:"",provider_key:"",description:""}),o(null),p()}catch(_){f({title:"Failed to save provider",description:_.message,variant:"destructive"})}finally{h(!1)}},x=async(_,A)=>{try{const{error:C}=await je.from("ai_providers").update({is_active:A}).eq("id",_);if(C)throw C;e(t.map(N=>N.id===_?{...N,is_active:A}:N)),f({title:A?"Provider enabled":"Provider disabled",description:`Provider has been ${A?"enabled":"disabled"} successfully.`})}catch(C){f({title:"Error updating provider status",description:C.message,variant:"destructive"})}},y=async(_,A)=>{if(confirm(`Are you sure you want to delete ${A}? This action cannot be undone.`))try{const{error:C}=await je.from("ai_providers").delete().eq("id",_);if(C)throw C;e(t.filter(N=>N.id!==_)),f({title:"Provider deleted",description:`${A} has been deleted successfully.`})}catch(C){f({title:"Failed to delete provider",description:C.message,variant:"destructive"})}},w=_=>{switch(_.toLowerCase()){case"gemini":return c.jsx(Kd,{className:"w-5 h-5"});default:return c.jsx(vg,{className:"w-5 h-5"})}};return r?c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center",children:"Loading AI providers..."})})}):c.jsxs("div",{className:"space-y-6",children:[c.jsx(Oe,{children:c.jsx(tt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(Kd,{className:"w-5 h-5 mr-2"}),"AI Provider Configuration"]}),c.jsx(Xt,{children:"Manage available AI providers for the system. Parents will configure their own API keys for these providers."})]}),c.jsxs(Ge,{onClick:g,children:[c.jsx(Qb,{className:"w-4 h-4 mr-2"}),"Add Provider"]})]})})}),c.jsx("div",{className:"grid gap-4",children:t.map(_=>c.jsx(Oe,{className:"border-2",children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary/10 rounded-lg",children:w(_.provider_key)}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("h3",{className:"font-semibold text-lg",children:_.name}),c.jsx(Pt,{variant:_.is_active?"default":"secondary",children:_.is_active?c.jsxs(c.Fragment,{children:[c.jsx(qu,{className:"w-3 h-3 mr-1"}),"Active"]}):c.jsxs(c.Fragment,{children:[c.jsx(gte,{className:"w-3 h-3 mr-1"}),"Inactive"]})})]}),c.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Provider Key: ",c.jsx("code",{className:"bg-muted px-1 py-0.5 rounded",children:_.provider_key})]}),_.description&&c.jsx("p",{className:"text-sm text-muted-foreground",children:_.description}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Created: ",new Date(_.created_at).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ft,{htmlFor:`active-${_.id}`,className:"text-sm",children:"Active"}),c.jsx(La,{id:`active-${_.id}`,checked:_.is_active,onCheckedChange:A=>x(_.id,A)})]}),c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>m(_),children:[c.jsx(nN,{className:"w-4 h-4 mr-1"}),"Edit"]}),c.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>y(_.id,_.name),className:"text-red-600 hover:text-red-700",children:c.jsx(qw,{className:"w-4 h-4"})})]})]})})},_.id))}),t.length===0&&c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Kd,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No AI providers configured"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:"Add AI providers to enable content generation features for parents."}),c.jsxs(Ge,{onClick:g,children:[c.jsx(Qb,{className:"w-4 h-4 mr-2"}),"Add Your First Provider"]})]})})}),c.jsx(Hf,{open:i,onOpenChange:s,children:c.jsxs(sh,{children:[c.jsxs(Gu,{children:[c.jsx(Ku,{children:a?"Edit AI Provider":"Add AI Provider"}),c.jsx(r0,{children:a?"Update the AI provider configuration":"Configure a new AI provider for the system. Parents will set their own API keys for this provider."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"name",children:"Provider Name"}),c.jsx(pr,{id:"name",value:l.name,onChange:_=>u({...l,name:_.target.value}),placeholder:"e.g., Gemini"})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"provider_key",children:"Provider Key"}),c.jsx(pr,{id:"provider_key",value:l.provider_key,onChange:_=>u({...l,provider_key:_.target.value}),placeholder:"e.g., gemini"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique identifier for this provider (lowercase, no spaces)"})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"description",children:"Description"}),c.jsx(Xl,{id:"description",value:l.description,onChange:_=>u({...l,description:_.target.value}),placeholder:"Describe this AI provider...",rows:3})]}),c.jsxs("div",{className:"flex gap-2 pt-4",children:[c.jsx(Ge,{onClick:v,disabled:d||!l.name.trim()||!l.provider_key.trim(),className:"flex-1",children:d?"Saving...":a?"Update Provider":"Add Provider"}),c.jsx(Ge,{variant:"outline",onClick:()=>{s(!1),u({name:"",provider_key:"",description:""}),o(null)},children:"Cancel"})]})]})]})})]})},Dmt=()=>{const{subtab:t}=dh(),e=ec(),[r,n]=j.useState({appName:"EduTest Platform",appDescription:"AI-powered educational testing platform",allowRegistration:!0,requireEmailVerification:!1,defaultUserRole:"child",maxFileSize:50,maxDocumentPages:100,sessionTimeout:24,enableNotifications:!0,smtpHost:"",smtpPort:"587",smtpUser:"",rateLimitEnabled:!0,rateLimitRequests:100,rateLimitWindow:60}),[i,s]=j.useState(!1),{toast:a}=Kr(),o=t||"general";j.useEffect(()=>{const h=window.location.pathname;!t&&h.startsWith("/admin/settings")&&e("/admin/settings/general",{replace:!0})},[t,e]);const l=h=>{e(`/admin/settings/${h}`)},u=(h,f)=>{n(p=>({...p,[h]:f}))},d=async()=>{s(!0);try{await new Promise(h=>setTimeout(h,1e3)),a({title:"Settings saved",description:"System settings have been updated successfully."})}catch(h){a({title:"Failed to save settings",description:h.message,variant:"destructive"})}finally{s(!1)}};return c.jsxs("div",{className:"space-y-6",children:[c.jsx(Oe,{children:c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(Kd,{className:"w-5 h-5 mr-2"}),"System Settings"]}),c.jsx(Xt,{children:"Configure global system parameters and settings"})]})}),c.jsxs(ua,{value:o,onValueChange:l,className:"space-y-6",children:[c.jsxs(xo,{className:"grid w-full grid-cols-5",children:[c.jsx(Cr,{value:"general",children:"General"}),c.jsx(Cr,{value:"security",children:"Security"}),c.jsx(Cr,{value:"limits",children:"Limits"}),c.jsx(Cr,{value:"email",children:"Email"}),c.jsx(Cr,{value:"api",children:"API"})]}),c.jsx(Kt,{value:"general",className:"space-y-6",children:c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(Nye,{className:"w-5 h-5 mr-2"}),"General Configuration"]}),c.jsx(Xt,{children:"Basic application settings and configuration"})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"appName",children:"Application Name"}),c.jsx(pr,{id:"appName",value:r.appName,onChange:h=>u("appName",h.target.value)})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"defaultUserRole",children:"Default User Role"}),c.jsxs(Ur,{value:r.defaultUserRole,onValueChange:h=>u("defaultUserRole",h),children:[c.jsx(Rr,{children:c.jsx(zr,{})}),c.jsxs(Dr,{children:[c.jsx(pt,{value:"child",children:"Child"}),c.jsx(pt,{value:"parent",children:"Parent"})]})]})]})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"appDescription",children:"Application Description"}),c.jsx(Xl,{id:"appDescription",value:r.appDescription,onChange:h=>u("appDescription",h.target.value),rows:3})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(La,{id:"enableNotifications",checked:r.enableNotifications,onCheckedChange:h=>u("enableNotifications",h)}),c.jsx(ft,{htmlFor:"enableNotifications",children:"Enable System Notifications"})]})]})]})}),c.jsx(Kt,{value:"security",className:"space-y-6",children:c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(aa,{className:"w-5 h-5 mr-2"}),"Security Settings"]}),c.jsx(Xt,{children:"Configure authentication and security policies"})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(La,{id:"allowRegistration",checked:r.allowRegistration,onCheckedChange:h=>u("allowRegistration",h)}),c.jsx(ft,{htmlFor:"allowRegistration",children:"Allow New User Registration"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(La,{id:"requireEmailVerification",checked:r.requireEmailVerification,onCheckedChange:h=>u("requireEmailVerification",h)}),c.jsx(ft,{htmlFor:"requireEmailVerification",children:"Require Email Verification"})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"sessionTimeout",children:"Session Timeout (hours)"}),c.jsx(pr,{id:"sessionTimeout",type:"number",value:r.sessionTimeout,onChange:h=>u("sessionTimeout",parseInt(h.target.value)),className:"w-32"}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"User sessions will expire after this duration"})]})]}),c.jsxs("div",{className:"mt-6 p-4 bg-amber-50 border border-amber-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Bi,{className:"w-4 h-4 text-amber-600 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-amber-800",children:"Security Notice"})]}),c.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Changes to security settings will affect all users. Ensure you understand the implications before saving."})]})]})]})}),c.jsx(Kt,{value:"limits",className:"space-y-6",children:c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(jD,{className:"w-5 h-5 mr-2"}),"System Limits"]}),c.jsx(Xt,{children:"Configure resource limits and quotas"})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"maxFileSize",children:"Max File Size (MB)"}),c.jsx(pr,{id:"maxFileSize",type:"number",value:r.maxFileSize,onChange:h=>u("maxFileSize",parseInt(h.target.value))}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum file size for page uploads"})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"maxDocumentPages",children:"Max Pages"}),c.jsx(pr,{id:"maxDocumentPages",type:"number",value:r.maxDocumentPages,onChange:h=>u("maxDocumentPages",parseInt(h.target.value))}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Maximum pages per upload for processing"})]})]}),c.jsxs("div",{className:"mt-6",children:[c.jsx("h4",{className:"text-sm font-medium mb-3",children:"Current Usage"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(sa,{className:"w-4 h-4 text-muted-foreground mr-2"}),c.jsx("span",{className:"text-sm",children:"Pages"})]}),c.jsx(Pt,{variant:"secondary",children:"45/1000"})]})})}),c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(ns,{className:"w-4 h-4 text-muted-foreground mr-2"}),c.jsx("span",{className:"text-sm",children:"Users"})]}),c.jsx(Pt,{variant:"secondary",children:"23/500"})]})})}),c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Ui,{className:"w-4 h-4 text-muted-foreground mr-2"}),c.jsx("span",{className:"text-sm",children:"Tests/Month"})]}),c.jsx(Pt,{variant:"secondary",children:"156/2000"})]})})})]})]})]})]})}),c.jsx(Kt,{value:"email",className:"space-y-6",children:c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(Uf,{className:"w-5 h-5 mr-2"}),"Email Configuration"]}),c.jsx(Xt,{children:"Configure SMTP settings for email notifications"})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"smtpHost",children:"SMTP Host"}),c.jsx(pr,{id:"smtpHost",value:r.smtpHost,onChange:h=>u("smtpHost",h.target.value),placeholder:"smtp.gmail.com"})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"smtpPort",children:"SMTP Port"}),c.jsx(pr,{id:"smtpPort",value:r.smtpPort,onChange:h=>u("smtpPort",h.target.value),placeholder:"587"})]})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"smtpUser",children:"SMTP Username"}),c.jsx(pr,{id:"smtpUser",value:r.smtpUser,onChange:h=>u("smtpUser",h.target.value),placeholder:"your-email@domain.com"})]}),c.jsx("div",{className:"mt-4",children:c.jsxs(Ge,{variant:"outline",size:"sm",children:[c.jsx(Uf,{className:"w-4 h-4 mr-2"}),"Test Email Configuration"]})})]})]})}),c.jsx(Kt,{value:"api",className:"space-y-6",children:c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(Xm,{className:"w-5 h-5 mr-2"}),"API Settings"]}),c.jsx(Xt,{children:"Configure API rate limiting and access controls"})]}),c.jsxs(Ie,{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(La,{id:"rateLimitEnabled",checked:r.rateLimitEnabled,onCheckedChange:h=>u("rateLimitEnabled",h)}),c.jsx(ft,{htmlFor:"rateLimitEnabled",children:"Enable Rate Limiting"})]}),r.rateLimitEnabled&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"rateLimitRequests",children:"Requests per Window"}),c.jsx(pr,{id:"rateLimitRequests",type:"number",value:r.rateLimitRequests,onChange:h=>u("rateLimitRequests",parseInt(h.target.value))})]}),c.jsxs("div",{children:[c.jsx(ft,{htmlFor:"rateLimitWindow",children:"Window Duration (seconds)"}),c.jsx(pr,{id:"rateLimitWindow",type:"number",value:r.rateLimitWindow,onChange:h=>u("rateLimitWindow",parseInt(h.target.value))})]})]}),c.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xm,{className:"w-4 h-4 text-blue-600 mr-2"}),c.jsx("span",{className:"text-sm font-medium text-blue-800",children:"API Information"})]}),c.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Rate limiting helps protect your system from abuse and ensures fair resource allocation."})]})]})]})})]}),c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"flex justify-end",children:c.jsx(Ge,{onClick:d,disabled:i,children:i?c.jsx(c.Fragment,{children:"Saving..."}):c.jsxs(c.Fragment,{children:[c.jsx(Jb,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})})})})]})},Fmt=()=>{const{user:t}=is(),[e,r]=j.useState(0);j.useEffect(()=>{t&&(n(),i())},[t]);const n=async()=>{if(t)try{const{count:o,error:l}=await je.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("is_read",!1);if(l)throw l;r(o||0)}catch(o){console.error("Error fetching unread count:",o)}},i=()=>{if(!t)return;const o=je.channel("notification_count").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},()=>{n()}).subscribe();return()=>{je.removeChannel(o)}};return{unreadCount:e,createNotification:async(o,l,u,d,h)=>{try{const{error:f}=await je.from("notifications").insert({user_id:o,title:l,message:u,type:d,related_id:h});if(f)throw f;return{success:!0}}catch(f){return console.error("Error creating notification:",f),{success:!1,error:f}}},sendEmailNotification:async(o,l,u,d,h={})=>{try{const f=await je.functions.invoke("send-email-notifications",{body:{recipient_email:o,recipient_id:l,subject:u,template_name:d,template_data:h}});if(f.error)throw f.error;return{success:!0}}catch(f){return console.error("Error sending email notification:",f),{success:!1,error:f}}},fetchUnreadCount:n}},$mt=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[i,s]=j.useState(null),{toast:a}=Kr(),{createNotification:o,sendEmailNotification:l}=Fmt();j.useEffect(()=>{u();const g=je.channel("pending_users").on("postgres_changes",{event:"INSERT",schema:"public",table:"profiles",filter:"is_approved=eq.false"},()=>{u()}).subscribe();return()=>{je.removeChannel(g)}},[]);const u=async()=>{try{const{data:g,error:m}=await je.from("profiles").select("*").eq("is_approved",!1).order("created_at",{ascending:!0});if(m)throw m;e(g||[])}catch{a({title:"Error",description:"Failed to load pending users",variant:"destructive"})}finally{n(!1)}},d=async(g,m)=>{s(g.id);try{const{error:v}=await je.from("profiles").update({is_approved:m,updated_at:new Date().toISOString()}).eq("id",g.id);if(v)throw v;await o(g.user_id,m?"Account Approved":"Account Rejected",m?"Your account has been approved and you now have full access to the system.":"Your account application has been rejected. Please contact support for more information.","announcement"),g.email&&await l(g.email,g.user_id,m?"Account Approved - Knowledge Builder":"Account Status Update - Knowledge Builder",m?"approval_notification":"rejection_notification",{user_name:g.full_name||g.email,approved:m,role:g.role,login_url:window.location.origin}),e(x=>x.filter(y=>y.id!==g.id)),a({title:m?"User Approved":"User Rejected",description:`${g.full_name||g.email} has been ${m?"approved":"rejected"}.`})}catch(v){a({title:"Error",description:v.message,variant:"destructive"})}finally{s(null)}},h=g=>{switch(g){case"admin":return c.jsx(R$,{className:"h-4 w-4"});case"parent":return c.jsx(ns,{className:"h-4 w-4"});case"child":return c.jsx(qy,{className:"h-4 w-4"});default:return c.jsx(Fa,{className:"h-4 w-4"})}},f=g=>{switch(g){case"admin":return"bg-purple-100 text-purple-800 border-purple-200";case"parent":return"bg-blue-100 text-blue-800 border-blue-200";case"child":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},p=g=>{switch(g){case"admin":return"Full system access and user management";case"parent":return"Create question papers and manage children";case"child":return"Take tests and view results";default:return"Standard user access"}};return r?c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center",children:"Loading pending approvals..."})})}):c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center gap-2",children:[c.jsx(Ui,{className:"h-5 w-5"}),"Pending User Approvals"]})}),c.jsx(Ie,{children:t.length===0?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(qu,{className:"h-12 w-12 mx-auto text-green-500 mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"All caught up!"}),c.jsx("p",{className:"text-muted-foreground",children:"No pending user approvals at this time."})]}):c.jsx("div",{className:"space-y-4",children:t.map(g=>{var m,v,x;return c.jsx(Oe,{className:"border-l-4 border-l-orange-500",children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-muted flex items-center justify-center",children:((m=g.full_name)==null?void 0:m[0])||((x=(v=g.email)==null?void 0:v[0])==null?void 0:x.toUpperCase())||"U"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold",children:g.full_name||"Unknown User"}),c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(Uf,{className:"h-3 w-3"}),g.email]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(aa,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Requested Role:"})]}),c.jsxs(Pt,{className:`${f(g.role)} flex items-center gap-1 w-fit`,children:[h(g.role),g.role.charAt(0).toUpperCase()+g.role.slice(1)]}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:p(g.role)})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(ia,{className:"h-4 w-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Registration Date:"})]}),c.jsx("p",{className:"text-sm",children:new Date(g.created_at).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),g.role==="admin"&&c.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 border border-amber-200 rounded-lg mb-4",children:[c.jsx(za,{className:"h-4 w-4 text-amber-600 mt-0.5"}),c.jsxs("div",{className:"text-sm",children:[c.jsx("p",{className:"font-medium text-amber-800",children:"Administrator Access Request"}),c.jsx("p",{className:"text-amber-700",children:"This user is requesting administrator privileges. Ensure you verify their identity before approval."})]})]})]}),c.jsxs("div",{className:"flex gap-2 ml-4",children:[c.jsxs(Ge,{variant:"outline",size:"sm",onClick:()=>d(g,!1),disabled:i===g.id,className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[c.jsx(gte,{className:"h-4 w-4 mr-1"}),"Reject"]}),c.jsxs(Ge,{size:"sm",onClick:()=>d(g,!0),disabled:i===g.id,className:"bg-green-600 hover:bg-green-700 text-white",children:[c.jsx(qu,{className:"h-4 w-4 mr-1"}),"Approve"]})]})]})})},g.id)})})})]})},Bmt=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[i,s]=j.useState(!0),[a,o]=j.useState({totalEvents:0,roleChanges:0,apiKeyUpdates:0,failedLogins:0}),{toast:l}=Kr();j.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:p,error:g}=await je.from("security_events").select("*").order("created_at",{ascending:!1}).limit(50);if(g)throw g;const{data:m,error:v}=await je.from("audit_logs").select("*").order("created_at",{ascending:!1}).limit(50);if(v)throw v;e(p||[]),n(m||[]);const x=p||[];o({totalEvents:x.length,roleChanges:x.filter(y=>y.event_type==="ROLE_CHANGE").length,apiKeyUpdates:x.filter(y=>y.event_type==="API_KEY_UPDATE").length,failedLogins:x.filter(y=>y.event_type==="FAILED_LOGIN").length})}catch(p){l({title:"Error fetching security data",description:p.message,variant:"destructive"})}finally{s(!1)}},d=p=>{switch(p){case"ROLE_CHANGE":return c.jsx(Pt,{variant:"destructive",children:"Role Change"});case"API_KEY_UPDATE":return c.jsx(Pt,{variant:"default",children:"API Key"});case"FAILED_LOGIN":return c.jsx(Pt,{variant:"secondary",children:"Failed Login"});default:return c.jsx(Pt,{variant:"outline",children:p})}},h=p=>{switch(p){case"ROLE_CHANGE":return c.jsx(Pt,{variant:"destructive",children:"Role Change"});case"INSERT":return c.jsx(Pt,{variant:"default",children:"Created"});case"UPDATE":return c.jsx(Pt,{variant:"secondary",children:"Updated"});case"DELETE":return c.jsx(Pt,{variant:"outline",children:"Deleted"});default:return c.jsx(Pt,{variant:"outline",children:p})}},f=p=>p?typeof p=="object"?p.old_role&&p.new_role?`${p.old_role}  ${p.new_role}`:p.provider_name?`Provider: ${p.provider_name}`:JSON.stringify(p).substring(0,100)+"...":p.toString():"N/A";return i?c.jsx("div",{className:"space-y-6",children:c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsx("div",{className:"text-center",children:"Loading security dashboard..."})})})}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{children:[c.jsxs(it,{className:"flex items-center",children:[c.jsx(aa,{className:"w-5 h-5 mr-2"}),"Security Overview"]}),c.jsx(Xt,{children:"Monitor security events and system activity"})]}),c.jsx(Ie,{children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(a1,{className:"w-4 h-4 text-blue-600"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold",children:a.totalEvents}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Total Events"})]})]})})}),c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(ns,{className:"w-4 h-4 text-red-600"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold",children:a.roleChanges}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Role Changes"})]})]})})}),c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(vg,{className:"w-4 h-4 text-green-600"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold",children:a.apiKeyUpdates}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"API Key Updates"})]})]})})}),c.jsx(Oe,{children:c.jsx(Ie,{className:"pt-6",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Bi,{className:"w-4 h-4 text-orange-600"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold",children:a.failedLogins}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Failed Logins"})]})]})})})]})})]}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(Bi,{className:"w-5 h-5 mr-2"}),"Security Alerts"]}),c.jsxs(Ge,{variant:"outline",size:"sm",onClick:u,children:[c.jsx(fA,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})}),c.jsx(Ie,{children:c.jsxs(Ko,{children:[c.jsx(gT,{className:"h-4 w-4"}),c.jsxs(Yo,{children:[c.jsx("strong",{children:"Security Status:"})," Database-level role validation is active. All role changes are audited and admin promotion is limited to 3 accounts."]})]})})]}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center",children:[c.jsx(th,{className:"w-5 h-5 mr-2"}),"Recent Security Events"]})}),c.jsxs(Ie,{children:[c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{children:"Event Type"}),c.jsx(qt,{children:"Details"}),c.jsx(qt,{children:"IP Address"}),c.jsx(qt,{children:"Timestamp"})]})}),c.jsx(Zo,{children:t.map(p=>c.jsxs(Ln,{children:[c.jsx(Wt,{children:d(p.event_type)}),c.jsx(Wt,{className:"max-w-xs",children:c.jsx("div",{className:"text-sm",children:f(p.event_data)})}),c.jsx(Wt,{children:c.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:p.ip_address||"Unknown"})}),c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Ui,{className:"w-3 h-3"}),new Date(p.created_at).toLocaleString()]})})]},p.id))})]})}),t.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(aa,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No security events"}),c.jsx("p",{className:"text-muted-foreground",children:"All security events will appear here."})]})]})]}),c.jsxs(Oe,{children:[c.jsx(tt,{children:c.jsxs(it,{className:"flex items-center",children:[c.jsx(a1,{className:"w-5 h-5 mr-2"}),"Recent Audit Logs"]})}),c.jsxs(Ie,{children:[c.jsx("div",{className:"border rounded-lg",children:c.jsxs(Qo,{children:[c.jsx(Jo,{children:c.jsxs(Ln,{children:[c.jsx(qt,{children:"Action"}),c.jsx(qt,{children:"Resource"}),c.jsx(qt,{children:"Details"}),c.jsx(qt,{children:"Timestamp"})]})}),c.jsx(Zo,{children:r.map(p=>c.jsxs(Ln,{children:[c.jsx(Wt,{children:h(p.action)}),c.jsx(Wt,{children:c.jsx("div",{className:"text-sm font-medium",children:p.resource_type})}),c.jsx(Wt,{className:"max-w-xs",children:c.jsx("div",{className:"text-sm",children:f(p.details)})}),c.jsx(Wt,{children:c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Ui,{className:"w-3 h-3"}),new Date(p.created_at).toLocaleString()]})})]},p.id))})]})}),r.length===0&&c.jsxs("div",{className:"text-center py-8",children:[c.jsx(a1,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-2",children:"No audit logs"}),c.jsx("p",{className:"text-muted-foreground",children:"System audit logs will appear here."})]})]})]})]})},Umt=()=>{const{tab:t,subtab:e}=dh(),r=ec(),{profile:n,signOut:i}=is(),s=[{value:"approvals",label:"Approvals",icon:Ui},{value:"users",label:"Users",icon:ns},{value:"security",label:"Security",icon:aa},{value:"analytics",label:"Analytics",icon:zu},{value:"moderation",label:"Moderation",icon:Bi},{value:"ai-config",label:"AI Config",icon:Xm},{value:"settings",label:"Settings",icon:Kd},{value:"profile",label:"Profile",icon:ns}],a=t||"approvals";s.find(l=>l.value===a),j.useEffect(()=>{t?e&&!["moderation","settings"].includes(t)&&r(`/admin/${t}`,{replace:!0}):r("/admin/approvals",{replace:!0})},[t,e,r]);const o=l=>{r(`/admin/${l}`)};return c.jsx(Z3,{children:c.jsxs(Ii,{children:[c.jsx(OB,{currentRole:(n==null?void 0:n.role)||null,onRoleChange:()=>i()}),c.jsxs("div",{className:"flex w-full pt-[57px] md:pt-[64px]",children:[c.jsx(eO,{collapsible:"icon",className:"fixed left-0 top-16 h-[calc(100vh-4rem)] z-40",children:c.jsx(rO,{className:"h-full overflow-y-auto",children:c.jsx(nO,{children:c.jsx(iO,{children:c.jsx(sO,{children:s.map(l=>c.jsx(aO,{children:c.jsxs(oO,{isActive:a===l.value,onClick:()=>o(l.value),tooltip:l.label,children:[c.jsx(l.icon,{className:"w-4 h-4"}),c.jsx("span",{children:l.label})]})},l.value))})})})})}),c.jsxs(tO,{children:[c.jsx("div",{className:"md:hidden bg-card border-b p-4 flex items-center space-x-3",children:a&&(()=>{const l=s.find(u=>u.value===a);return l?c.jsxs(c.Fragment,{children:[c.jsx(l.icon,{className:"w-5 h-5 text-muted-foreground"}),c.jsx("span",{className:"text-lg font-medium text-foreground",children:l.label})]}):null})()}),c.jsx("div",{className:"min-h-screen bg-gradient-subtle",children:c.jsxs("div",{className:"p-3 sm:p-4 md:p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Pending Approvals"}),c.jsx(Ui,{className:"h-4 w-4 text-amber-500"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold text-amber-600",children:"8"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Users awaiting approval"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"System Health"}),c.jsx(a1,{className:"h-4 w-4 text-green-500"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:"98%"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"All services operational"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"Content Review"}),c.jsx(Bi,{className:"h-4 w-4 text-orange-500"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold text-orange-600",children:"3"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Items need moderation"})]})]}),c.jsxs(Oe,{children:[c.jsxs(tt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[c.jsx(it,{className:"text-sm font-medium",children:"AI Providers"}),c.jsx(qu,{className:"h-4 w-4 text-blue-500"})]}),c.jsxs(Ie,{children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"4"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Active AI services"})]})]})]}),c.jsxs(ua,{value:a,onValueChange:o,className:"space-y-6",children:[c.jsx(Kt,{value:"approvals",children:c.jsx(Ii,{children:c.jsx($mt,{})})}),c.jsx(Kt,{value:"users",children:c.jsx(Ii,{children:c.jsx(Pmt,{})})}),c.jsx(Kt,{value:"security",children:c.jsx(Ii,{children:c.jsx(Bmt,{})})}),c.jsx(Kt,{value:"analytics",children:c.jsx(Ii,{children:c.jsx(Lmt,{})})}),c.jsx(Kt,{value:"moderation",children:c.jsx(Ii,{children:c.jsx(Imt,{})})}),c.jsx(Kt,{value:"ai-config",children:c.jsx(Ii,{children:c.jsx(Rmt,{})})}),c.jsx(Kt,{value:"settings",children:c.jsx(Ii,{children:c.jsx(Dmt,{})})}),c.jsx(Kt,{value:"profile",children:c.jsxs(Ii,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Profile Management"}),c.jsx("p",{className:"text-sm md:text-base text-muted-foreground mt-1",children:"Manage your account settings and personal information"})]}),c.jsx(X9,{})]})})]})]})})]})]})]})})},NR=()=>{const{loading:t,isAuthenticated:e,profile:r}=is();if(t)return c.jsx("div",{className:"min-h-screen bg-gradient-subtle flex items-center justify-center",children:c.jsx(Oe,{className:"w-96",children:c.jsxs(Ie,{className:"pt-6 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),c.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})});if(!e||!(r!=null&&r.role))return c.jsx(TW,{to:"/",replace:!0});switch(r.role){case"admin":return c.jsx(Umt,{});case"parent":return c.jsx(I9e,{});case"child":return c.jsx(Tmt,{});default:return c.jsx(TW,{to:"/",replace:!0})}},zmt=new Kwe,qmt=()=>c.jsx(Xwe,{client:zmt,children:c.jsx(O3,{children:c.jsxs(Ii,{children:[c.jsx(w1e,{}),c.jsx(X1e,{}),c.jsxs(B2e,{children:[c.jsxs(D2e,{children:[c.jsx(Y0,{path:"/",element:c.jsx(q2e,{})}),c.jsx(Y0,{path:"/auth",element:c.jsx(kAe,{})}),c.jsx(Y0,{path:"/parent/:tab?/:subtab?",element:c.jsx(NR,{})}),c.jsx(Y0,{path:"/admin/:tab?/:subtab?",element:c.jsx(NR,{})}),c.jsx(Y0,{path:"/student/:tab?/:subtab?",element:c.jsx(NR,{})}),c.jsx(Y0,{path:"*",element:c.jsx(OAe,{})})]}),c.jsx(z2e,{})]})]})})});qee(document.getElementById("root")).render(c.jsx(qmt,{}));export{bn as _,Da as c,dn as g};
